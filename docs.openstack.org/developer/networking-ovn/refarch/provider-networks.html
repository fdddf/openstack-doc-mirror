<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Provider networks &mdash; networking-ovn 2.0.0.0rc2.dev13 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0.0rc2.dev13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="networking-ovn 2.0.0.0rc2.dev13 documentation" href="../index.html" />
    <link rel="up" title="Reference architecture" href="refarch.html" />
    <link rel="next" title="Self-service networks" href="selfservice-networks.html" />
    <link rel="prev" title="Reference architecture" href="refarch.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="provider-networks">
<span id="refarch-provider-networks"></span><h1>Provider networks<a class="headerlink" href="#provider-networks" title="Permalink to this headline">¶</a></h1>
<p>A provider (external) network bridges instances to physical network
infrastructure that provides layer-3 services. In most cases, provider networks
implement layer-2 segmentation using VLAN IDs. A provider network maps to a
provider bridge on each compute node that supports launching instances on the
provider network. You can create more than one provider bridge, each one
requiring a unique name and underlying physical network interface to prevent
switching loops. Provider networks and bridges can use arbitrary names,
but each mapping must reference valid provider network and bridge names.
Each provider bridge can contain one <code class="docutils literal"><span class="pre">flat</span></code> (untagged) network and up to
the maximum number of <code class="docutils literal"><span class="pre">vlan</span></code> (tagged) networks that the physical network
infrastructure supports, typically around 4000.</p>
<p>Creating a provider network involves several commands at the host, OVS,
and Networking service levels that yield a series of operations at the
OVN level to create the virtual network components. The following example
creates a <code class="docutils literal"><span class="pre">flat</span></code> provider network <code class="docutils literal"><span class="pre">provider</span></code> using the provider bridge
<code class="docutils literal"><span class="pre">br-provider</span></code> and binds a subnet to it.</p>
<div class="section" id="create-a-provider-network">
<h2>Create a provider network<a class="headerlink" href="#create-a-provider-network" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">On each compute node, create the provider bridge, map the provider
network to it, and add the underlying physical or logical (typically
a bond) network interface to it.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> ovs-vsctl --may-exist add-br br-provider -- <span class="nb">set</span> bridge br-provider <span class="se">\</span>
  <span class="nv">protocols</span><span class="o">=</span>OpenFlow13
<span class="gp">#</span> ovs-vsctl <span class="nb">set</span> open . external-ids:ovn-bridge-mappings<span class="o">=</span>provider:br-provider
<span class="gp">#</span> ovs-vsctl --may-exist add-port br-provider INTERFACE_NAME
</pre></div>
</div>
<p>Replace <code class="docutils literal"><span class="pre">INTERFACE_NAME</span></code> with the name of the underlying network
interface.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These commands provide no output if successful.</p>
</div>
</li>
<li><p class="first">On the controller node, source the administrative project credentials.</p>
</li>
<li><p class="first">On the controller node, create the provider network in the Networking
service. In this case, instances and routers in other projects can use
the network.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack network create --external --share <span class="se">\</span>
  --provider-physical-network provider --provider-network-type flat <span class="se">\</span>
  provider
<span class="go">+---------------------------+--------------------------------------+</span>
<span class="go">| Field                     | Value                                |</span>
<span class="go">+---------------------------+--------------------------------------+</span>
<span class="go">| admin_state_up            | UP                                   |</span>
<span class="go">| availability_zone_hints   |                                      |</span>
<span class="go">| availability_zones        | nova                                 |</span>
<span class="go">| created_at                | 2016-06-15 15:50:37+00:00            |</span>
<span class="go">| description               |                                      |</span>
<span class="go">| id                        | 0243277b-4aa8-46d8-9e10-5c9ad5e01521 |</span>
<span class="go">| ipv4_address_scope        | None                                 |</span>
<span class="go">| ipv6_address_scope        | None                                 |</span>
<span class="go">| is_default                | False                                |</span>
<span class="go">| mtu                       | 1500                                 |</span>
<span class="go">| name                      | provider                             |</span>
<span class="go">| project_id                | b1ebf33664df402693f729090cfab861     |</span>
<span class="go">| provider:network_type     | flat                                 |</span>
<span class="go">| provider:physical_network | provider                             |</span>
<span class="go">| provider:segmentation_id  | None                                 |</span>
<span class="go">| qos_policy_id             | None                                 |</span>
<span class="go">| router:external           | External                             |</span>
<span class="go">| shared                    | True                                 |</span>
<span class="go">| status                    | ACTIVE                               |</span>
<span class="go">| subnets                   | 32a61337-c5a3-448a-a1e7-c11d6f062c21 |</span>
<span class="go">| tags                      | []                                   |</span>
<span class="go">| updated_at                | 2016-06-15 15:50:37+00:00            |</span>
<span class="go">+---------------------------+--------------------------------------+</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The value of <code class="docutils literal"><span class="pre">--provider-physical-network</span></code> must refer to the
provider network name in the mapping.</p>
</div>
</li>
</ol>
<div class="section" id="ovn-operations">
<h3>OVN operations<a class="headerlink" href="#ovn-operations" title="Permalink to this headline">¶</a></h3>
<p>The OVN mechanism driver and OVN perform the following operations during
creation of a provider network.</p>
<ol class="arabic">
<li><p class="first">The mechanism driver translates the network into a logical switch
in the OVN northbound database.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go"> _uuid               : 98edf19f-2dbc-4182-af9b-79cafa4794b6</span>
<span class="go"> acls                : []</span>
<span class="go"> external_ids        : {&quot;neutron:network_name&quot;=provider}</span>
<span class="go"> load_balancer       : []</span>
<span class="go"> name                : &quot;neutron-e4abf6df-f8cf-49fd-85d4-3ea399f4d645&quot;</span>
<span class="go"> ports               : [92ee7c2f-cd22-4cac-a9d9-68a374dc7b17]</span>

<span class="go">.. note::</span>

<span class="go">   The ``neutron:network_name`` field in ``external_ids`` contains</span>
<span class="go">   the network name and ``name`` contains the network UUID.</span>
</pre></div>
</div>
</li>
<li><p class="first">In addition, because the provider network is handled by a separate
bridge, the following logical port is created in the OVN northbound
database.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : 92ee7c2f-cd22-4cac-a9d9-68a374dc7b17</span>
<span class="go">addresses           : [unknown]</span>
<span class="go">enabled             : []</span>
<span class="go">external_ids        : {}</span>
<span class="go">name                : &quot;provnet-e4abf6df-f8cf-49fd-85d4-3ea399f4d645&quot;</span>
<span class="go">options             : {network_name=provider}</span>
<span class="go">parent_name         : []</span>
<span class="go">port_security       : []</span>
<span class="go">tag                 : []</span>
<span class="go">type                : localnet</span>
<span class="go">up                  : false</span>
</pre></div>
</div>
</li>
<li><p class="first">The OVN northbound service translates these objects into datapath bindings,
port bindings, and the appropriate multicast groups in the OVN southbound
database.</p>
<ul>
<li><p class="first">Datapath bindings</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : f1f0981f-a206-4fac-b3a1-dc2030c9909f</span>
<span class="go">external_ids        : {logical-switch=&quot;98edf19f-2dbc-4182-af9b-79cafa4794b6&quot;}</span>
<span class="go">tunnel_key          : 109</span>
</pre></div>
</div>
</li>
<li><p class="first">Port bindings</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : 8427506e-46b5-41e5-a71b-a94a6859e773</span>
<span class="go">chassis             : []</span>
<span class="go">datapath            : f1f0981f-a206-4fac-b3a1-dc2030c9909f</span>
<span class="go">logical_port        : &quot;provnet-e4abf6df-f8cf-49fd-85d4-3ea399f4d645&quot;</span>
<span class="go">mac                 : [unknown]</span>
<span class="go">options             : {network_name=provider}</span>
<span class="go">parent_port         : []</span>
<span class="go">tag                 : []</span>
<span class="go">tunnel_key          : 1</span>
<span class="go">type                : localnet</span>
</pre></div>
</div>
</li>
<li><p class="first">Logical flows</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Datapath: f1f0981f-a206-4fac-b3a1-dc2030c9909f  Pipeline: ingress</span>
<span class="go">  table= 0(  ls_in_port_sec_l2), priority=  100, match=(eth.src[40]),</span>
<span class="go">    action=(drop;)</span>
<span class="go">  table= 0(  ls_in_port_sec_l2), priority=  100, match=(vlan.present),</span>
<span class="go">    action=(drop;)</span>
<span class="go">  table= 0(  ls_in_port_sec_l2), priority=   50,</span>
<span class="go">    match=(inport == &quot;provnet-e4abf6df-f8cf-49fd-85d4-3ea399f4d645&quot;),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 1(  ls_in_port_sec_ip), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 2(  ls_in_port_sec_nd), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 3(      ls_in_pre_acl), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 4(       ls_in_pre_lb), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 5( ls_in_pre_stateful), priority=  100, match=(reg0[0] == 1),</span>
<span class="go">    action=(ct_next;)</span>
<span class="go">  table= 5( ls_in_pre_stateful), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 6(          ls_in_acl), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 7(           ls_in_lb), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 8(     ls_in_stateful), priority=  100, match=(reg0[1] == 1),</span>
<span class="go">    action=(ct_commit; next;)</span>
<span class="go">  table= 8(     ls_in_stateful), priority=  100, match=(reg0[2] == 1),</span>
<span class="go">    action=(ct_lb;)</span>
<span class="go">  table= 8(     ls_in_stateful), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 9(      ls_in_arp_rsp), priority=  100,</span>
<span class="go">    match=(inport == &quot;provnet-e4abf6df-f8cf-49fd-85d4-3ea399f4d645&quot;),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 9(      ls_in_arp_rsp), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table=10(      ls_in_l2_lkup), priority=  100, match=(eth.mcast),</span>
<span class="go">    action=(outport = &quot;_MC_flood&quot;; output;)</span>
<span class="go">  table=10(      ls_in_l2_lkup), priority=    0, match=(1),</span>
<span class="go">    action=(outport = &quot;_MC_unknown&quot;; output;)</span>
<span class="go">Datapath: f1f0981f-a206-4fac-b3a1-dc2030c9909f  Pipeline: egress</span>
<span class="go">  table= 0(      ls_out_pre_lb), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 1(     ls_out_pre_acl), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 2(ls_out_pre_stateful), priority=  100, match=(reg0[0] == 1),</span>
<span class="go">    action=(ct_next;)</span>
<span class="go">  table= 2(ls_out_pre_stateful), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 3(          ls_out_lb), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 4(         ls_out_acl), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 5(    ls_out_stateful), priority=  100, match=(reg0[1] == 1),</span>
<span class="go">    action=(ct_commit; next;)</span>
<span class="go">  table= 5(    ls_out_stateful), priority=  100, match=(reg0[2] == 1),</span>
<span class="go">    action=(ct_lb;)</span>
<span class="go">  table= 5(    ls_out_stateful), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 6( ls_out_port_sec_ip), priority=    0, match=(1),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 7( ls_out_port_sec_l2), priority=  100, match=(eth.mcast),</span>
<span class="go">    action=(output;)</span>
<span class="go">  table= 7( ls_out_port_sec_l2), priority=   50,</span>
<span class="go">    match=(outport == &quot;provnet-e4abf6df-f8cf-49fd-85d4-3ea399f4d645&quot;),</span>
<span class="go">    action=(output;)</span>
</pre></div>
</div>
</li>
<li><p class="first">Multicast groups</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : 0102f08d-c658-4d0a-a18a-ec8adcaddf4f</span>
<span class="go">datapath            : f1f0981f-a206-4fac-b3a1-dc2030c9909f</span>
<span class="go">name                : _MC_unknown</span>
<span class="go">ports               : [8427506e-46b5-41e5-a71b-a94a6859e773]</span>
<span class="go">tunnel_key          : 65534</span>

<span class="go">_uuid               : fbc38e51-ac71-4c57-a405-e6066e4c101e</span>
<span class="go">datapath            : f1f0981f-a206-4fac-b3a1-dc2030c9909f</span>
<span class="go">name                : _MC_flood</span>
<span class="go">ports               : [8427506e-46b5-41e5-a71b-a94a6859e773]</span>
<span class="go">tunnel_key          : 65535</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
</div>
</div>
<div class="section" id="create-a-subnet-on-the-provider-network">
<h2>Create a subnet on the provider network<a class="headerlink" href="#create-a-subnet-on-the-provider-network" title="Permalink to this headline">¶</a></h2>
<p>The provider network requires at least one subnet that contains the IP
address allocation available for instances, default gateway IP address,
and metadata such as name resolution.</p>
<ol class="arabic">
<li><p class="first">On the controller node, create a subnet bound to the provider network
<code class="docutils literal"><span class="pre">provider</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack subnet create --network provider --subnet-range <span class="se">\</span>
  <span class="m">203</span>.0.113.0/24 --allocation-pool <span class="nv">start</span><span class="o">=</span><span class="m">203</span>.0.113.101,end<span class="o">=</span><span class="m">203</span>.0.113.250 <span class="se">\</span>
  --dns-nameserver <span class="m">8</span>.8.8.8,8.8.4.4 --gateway <span class="m">203</span>.0.113.1 provider-v4
<span class="go">  +-------------------+--------------------------------------+</span>
<span class="go">  | Field             | Value                                |</span>
<span class="go">  +-------------------+--------------------------------------+</span>
<span class="go">  | allocation_pools  | 203.0.113.101-203.0.113.250          |</span>
<span class="go">  | cidr              | 203.0.113.0/24                       |</span>
<span class="go">  | created_at        | 2016-06-15 15:50:45+00:00            |</span>
<span class="go">  | description       |                                      |</span>
<span class="go">  | dns_nameservers   | 8.8.8.8, 8.8.4.4                     |</span>
<span class="go">  | enable_dhcp       | True                                 |</span>
<span class="go">  | gateway_ip        | 203.0.113.1                          |</span>
<span class="go">  | host_routes       |                                      |</span>
<span class="go">  | id                | 32a61337-c5a3-448a-a1e7-c11d6f062c21 |</span>
<span class="go">  | ip_version        | 4                                    |</span>
<span class="go">  | ipv6_address_mode | None                                 |</span>
<span class="go">  | ipv6_ra_mode      | None                                 |</span>
<span class="go">  | name              | provider-v4                          |</span>
<span class="go">  | network_id        | 0243277b-4aa8-46d8-9e10-5c9ad5e01521 |</span>
<span class="go">  | project_id        | b1ebf33664df402693f729090cfab861     |</span>
<span class="go">  | subnetpool_id     | None                                 |</span>
<span class="go">  | updated_at        | 2016-06-15 15:50:45+00:00            |</span>
<span class="go">  +-------------------+--------------------------------------+</span>
</pre></div>
</div>
</li>
</ol>
<p>If using DHCP to manage instance IP addresses, adding a subnet causes a series
of operations in the Networking service and OVN.</p>
<ul class="simple">
<li>The Networking service schedules the network on appropriate number of DHCP
agents. The example environment contains three DHCP agents.</li>
<li>Each DHCP agent spawns a network namespace with a <code class="docutils literal"><span class="pre">dnsmasq</span></code> process using
an IP address from the subnet allocation.</li>
<li>The OVN mechanism driver creates a logical switch port object in the OVN
northbound database for each <code class="docutils literal"><span class="pre">dnsmasq</span></code> process.</li>
</ul>
<div class="section" id="id1">
<h3>OVN operations<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The OVN mechanism driver and OVN perform the following operations
during creation of a subnet on the provider network.</p>
<ol class="arabic">
<li><p class="first">If the subnet uses DHCP for IP address management, create logical ports
ports for each DHCP agent serving the subnet and bind them to the logical
switch. In this example, the subnet contains two DHCP agents.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : 5e144ab9-3e08-4910-b936-869bbbf254c8</span>
<span class="go">addresses           : [&quot;fa:16:3e:57:f9:ca 203.0.113.101&quot;]</span>
<span class="go">enabled             : true</span>
<span class="go">external_ids        : {&quot;neutron:port_name&quot;=&quot;&quot;}</span>
<span class="go">name                : &quot;6ab052c2-7b75-4463-b34f-fd3426f61787&quot;</span>
<span class="go">options             : {}</span>
<span class="go">parent_name         : []</span>
<span class="go">port_security       : []</span>
<span class="go">tag                 : []</span>
<span class="go">type                : &quot;&quot;</span>
<span class="go">up                  : true</span>

<span class="go">_uuid               : 38cf8b52-47c4-4e93-be8d-06bf71f6a7c9</span>
<span class="go">addresses           : [&quot;fa:16:3e:e0:eb:6d 203.0.113.102&quot;]</span>
<span class="go">enabled             : true</span>
<span class="go">external_ids        : {&quot;neutron:port_name&quot;=&quot;&quot;}</span>
<span class="go">name                : &quot;94aee636-2394-48bc-b407-8224ab6bb1ab&quot;</span>
<span class="go">options             : {}</span>
<span class="go">parent_name         : []</span>
<span class="go">port_security       : []</span>
<span class="go">tag                 : []</span>
<span class="go">type                : &quot;&quot;</span>
<span class="go">up                  : true</span>

<span class="go">_uuid               : 924500c4-8580-4d5f-a7ad-8769f6e58ff5</span>
<span class="go">acls                : []</span>
<span class="go">external_ids        : {&quot;neutron:network_name&quot;=provider}</span>
<span class="go">load_balancer       : []</span>
<span class="go">name                : &quot;neutron-670efade-7cd0-4d87-8a04-27f366eb8941&quot;</span>
<span class="go">ports               : [38cf8b52-47c4-4e93-be8d-06bf71f6a7c9,</span>
<span class="go">                       5e144ab9-3e08-4910-b936-869bbbf254c8,</span>
<span class="go">                       a576b812-9c3e-4cfb-9752-5d8500b3adf9]</span>
</pre></div>
</div>
</li>
<li><p class="first">The OVN northbound service creates port bindings for these logical
ports and adds them to the appropriate multicast group.</p>
<ul>
<li><p class="first">Port bindings</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : 030024f4-61c3-4807-859b-07727447c427</span>
<span class="go">chassis             : fc5ab9e7-bc28-40e8-ad52-2949358cc088</span>
<span class="go">datapath            : bd0ab2b3-4cf4-4289-9529-ef430f6a89e6</span>
<span class="go">logical_port        : &quot;6ab052c2-7b75-4463-b34f-fd3426f61787&quot;</span>
<span class="go">mac                 : [&quot;fa:16:3e:57:f9:ca 203.0.113.101&quot;]</span>
<span class="go">options             : {}</span>
<span class="go">parent_port         : []</span>
<span class="go">tag                 : []</span>
<span class="go">tunnel_key          : 2</span>
<span class="go">type                : &quot;&quot;</span>

<span class="go">_uuid               : cc5bcd19-bcae-4e29-8cee-3ec8a8a75d46</span>
<span class="go">chassis             : 6a9d0619-8818-41e6-abef-2f3d9a597c03</span>
<span class="go">datapath            : bd0ab2b3-4cf4-4289-9529-ef430f6a89e6</span>
<span class="go">logical_port        : &quot;94aee636-2394-48bc-b407-8224ab6bb1ab&quot;</span>
<span class="go">mac                 : [&quot;fa:16:3e:e0:eb:6d 203.0.113.102&quot;]</span>
<span class="go">options             : {}</span>
<span class="go">parent_port         : []</span>
<span class="go">tag                 : []</span>
<span class="go">tunnel_key          : 3</span>
<span class="go">type                : &quot;&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Multicast groups</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : 39b32ccd-fa49-4046-9527-13318842461e</span>
<span class="go">datapath            : bd0ab2b3-4cf4-4289-9529-ef430f6a89e6</span>
<span class="go">name                : _MC_flood</span>
<span class="go">ports               : [030024f4-61c3-4807-859b-07727447c427,</span>
<span class="go">                       904c3108-234d-41c0-b93c-116b7e352a75,</span>
<span class="go">                       cc5bcd19-bcae-4e29-8cee-3ec8a8a75d46]</span>
<span class="go">tunnel_key          : 65535</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">The OVN northbound service translates the logical ports into
additional logical flows in the OVN southbound database.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Datapath: bd0ab2b3-4cf4-4289-9529-ef430f6a89e6  Pipeline: ingress</span>
<span class="go">  table= 0(  ls_in_port_sec_l2), priority=   50,</span>
<span class="go">    match=(inport == &quot;94aee636-2394-48bc-b407-8224ab6bb1ab&quot;),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 0(  ls_in_port_sec_l2), priority=   50,</span>
<span class="go">    match=(inport == &quot;6ab052c2-7b75-4463-b34f-fd3426f61787&quot;),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 9(      ls_in_arp_rsp), priority=   50,</span>
<span class="go">    match=(arp.tpa == 203.0.113.101 &amp;&amp; arp.op == 1),</span>
<span class="go">    action=(eth.dst = eth.src; eth.src = fa:16:3e:57:f9:ca;</span>
<span class="go">            arp.op = 2; /* ARP reply */ arp.tha = arp.sha;</span>
<span class="go">            arp.sha = fa:16:3e:57:f9:ca; arp.tpa = arp.spa;</span>
<span class="go">            arp.spa = 203.0.113.101; outport = inport; inport = &quot;&quot;;</span>
<span class="go">            /* Allow sending out inport. */ output;)</span>
<span class="go">  table= 9(      ls_in_arp_rsp), priority=   50,</span>
<span class="go">    match=(arp.tpa == 203.0.113.102 &amp;&amp; arp.op == 1),</span>
<span class="go">    action=(eth.dst = eth.src; eth.src = fa:16:3e:e0:eb:6d;</span>
<span class="go">            arp.op = 2; /* ARP reply */ arp.tha = arp.sha;</span>
<span class="go">            arp.sha = fa:16:3e:e0:eb:6d; arp.tpa = arp.spa;</span>
<span class="go">            arp.spa = 203.0.113.102; outport = inport;</span>
<span class="go">            inport = &quot;&quot;; /* Allow sending out inport. */ output;)</span>
<span class="go">  table=10(      ls_in_l2_lkup), priority=   50,</span>
<span class="go">    match=(eth.dst == fa:16:3e:57:f9:ca),</span>
<span class="go">    action=(outport = &quot;6ab052c2-7b75-4463-b34f-fd3426f61787&quot;; output;)</span>
<span class="go">  table=10(      ls_in_l2_lkup), priority=   50,</span>
<span class="go">    match=(eth.dst == fa:16:3e:e0:eb:6d),</span>
<span class="go">    action=(outport = &quot;94aee636-2394-48bc-b407-8224ab6bb1ab&quot;; output;)</span>
<span class="go">Datapath: bd0ab2b3-4cf4-4289-9529-ef430f6a89e6  Pipeline: egress</span>
<span class="go">  table= 7( ls_out_port_sec_l2), priority=   50,</span>
<span class="go">    match=(outport == &quot;6ab052c2-7b75-4463-b34f-fd3426f61787&quot;),</span>
<span class="go">    action=(output;)</span>
<span class="go">  table= 7( ls_out_port_sec_l2), priority=   50,</span>
<span class="go">    match=(outport == &quot;94aee636-2394-48bc-b407-8224ab6bb1ab&quot;),</span>
<span class="go">    action=(output;)</span>
</pre></div>
</div>
</li>
<li><p class="first">For each compute node without a DHCP agent on the subnet:</p>
<ul>
<li><p class="first">The OVN controller service translates the logical flows into flows on the
integration bridge <code class="docutils literal"><span class="pre">br-int</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">cookie=0x0, duration=22.303s, table=32, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=22, priority=100,reg7=0xffff,metadata=0x4</span>
<span class="go">    actions=load:0x4-&gt;NXM_NX_TUN_ID[0..23],</span>
<span class="go">        set_field:0xffff/0xffffffff-&gt;tun_metadata0,</span>
<span class="go">        move:NXM_NX_REG6[0..14]-&gt;NXM_NX_TUN_METADATA0[16..30],</span>
<span class="go">        output:5,output:4,resubmit(,33)</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">For each compute node with a DHCP agent on a subnet:</p>
<ul>
<li><p class="first">Creation of a DHCP network namespace adds two virtual switch ports.
The first port connects the DHCP agent with <code class="docutils literal"><span class="pre">dnsmasq</span></code> process to the
integration bridge and the second port patches the integration bridge
to the provider bridge <code class="docutils literal"><span class="pre">br-provider</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> ovs-ofctl show br-int
<span class="go">OFPT_FEATURES_REPLY (xid=0x2): dpid:000022024a1dc045</span>
<span class="go">n_tables:254, n_buffers:256</span>
<span class="go">capabilities: FLOW_STATS TABLE_STATS PORT_STATS QUEUE_STATS ARP_MATCH_IP</span>
<span class="go">actions: output enqueue set_vlan_vid set_vlan_pcp strip_vlan mod_dl_src mod_dl_dst mod_nw_src mod_nw_dst mod_nw_tos mod_tp_src mod_tp_dst</span>
<span class="go"> 7(tap6ab052c2-7b): addr:00:00:00:00:10:7f</span>
<span class="go">     config:     PORT_DOWN</span>
<span class="go">     state:      LINK_DOWN</span>
<span class="go">     speed: 0 Mbps now, 0 Mbps max</span>
<span class="go"> 8(patch-br-int-to): addr:6a:8c:30:3f:d7:dd</span>
<span class="go">    config:     0</span>
<span class="go">    state:      0</span>
<span class="go">    speed: 0 Mbps now, 0 Mbps max</span>

<span class="gp">#</span> ovs-ofctl -O OpenFlow13 show br-provider
<span class="go">OFPT_FEATURES_REPLY (OF1.3) (xid=0x2): dpid:0000080027137c4a</span>
<span class="go">n_tables:254, n_buffers:256</span>
<span class="go">capabilities: FLOW_STATS TABLE_STATS PORT_STATS GROUP_STATS QUEUE_STATS</span>
<span class="go">OFPST_PORT_DESC reply (OF1.3) (xid=0x3):</span>
<span class="go"> 1(patch-provnet-0): addr:fa:42:c5:3f:d7:6f</span>
<span class="go">     config:     0</span>
<span class="go">     state:      0</span>
<span class="go">     speed: 0 Mbps now, 0 Mbps max</span>
</pre></div>
</div>
</li>
<li><p class="first">The OVN controller service translates these logical flows into flows on
the integration bridge.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">cookie=0x0, duration=17.731s, table=0, n_packets=3, n_bytes=258,</span>
<span class="go">    idle_age=16, priority=100,in_port=7</span>
<span class="go">    actions=load:0x2-&gt;NXM_NX_REG5[],load:0x4-&gt;OXM_OF_METADATA[],</span>
<span class="go">        load:0x2-&gt;NXM_NX_REG6[],resubmit(,16)</span>
<span class="go">cookie=0x0, duration=17.730s, table=0, n_packets=15, n_bytes=954,</span>
<span class="go">    idle_age=2, priority=100,in_port=8,vlan_tci=0x0000/0x1000</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG5[],load:0x4-&gt;OXM_OF_METADATA[],</span>
<span class="go">        load:0x1-&gt;NXM_NX_REG6[],resubmit(,16)</span>
<span class="go">cookie=0x0, duration=17.730s, table=0, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=17, priority=100,in_port=8,dl_vlan=0</span>
<span class="go">    actions=strip_vlan,load:0x1-&gt;NXM_NX_REG5[],</span>
<span class="go">        load:0x4-&gt;OXM_OF_METADATA[],load:0x1-&gt;NXM_NX_REG6[],</span>
<span class="go">        resubmit(,16)</span>
<span class="go">cookie=0x0, duration=17.732s, table=16, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=17, priority=100,metadata=0x4,</span>
<span class="go">        dl_src=01:00:00:00:00:00/01:00:00:00:00:00</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=17.732s, table=16, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=17, priority=100,metadata=0x4,vlan_tci=0x1000/0x1000</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=17.732s, table=16, n_packets=3, n_bytes=258,</span>
<span class="go">    idle_age=16, priority=50,reg6=0x2,metadata=0x4 actions=resubmit(,17)</span>
<span class="go">cookie=0x0, duration=17.732s, table=16, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=17, priority=50,reg6=0x3,metadata=0x4 actions=resubmit(,17)</span>
<span class="go">cookie=0x0, duration=17.732s, table=16, n_packets=15, n_bytes=954,</span>
<span class="go">    idle_age=2, priority=50,reg6=0x1,metadata=0x4 actions=resubmit(,17)</span>
<span class="go">cookie=0x0, duration=21.714s, table=17, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,18)</span>
<span class="go">cookie=0x0, duration=21.714s, table=18, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,19)</span>
<span class="go">cookie=0x0, duration=21.714s, table=19, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,20)</span>
<span class="go">cookie=0x0, duration=21.714s, table=20, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,21)</span>
<span class="go">cookie=0x0, duration=21.714s, table=21, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ip,reg0=0x1/0x1,metadata=0x4</span>
<span class="go">    actions=ct(table=22,zone=NXM_NX_REG5[0..15])</span>
<span class="go">cookie=0x0, duration=21.714s, table=21, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ipv6,reg0=0x1/0x1,metadata=0x4</span>
<span class="go">    actions=ct(table=22,zone=NXM_NX_REG5[0..15])</span>
<span class="go">cookie=0x0, duration=21.714s, table=21, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,22)</span>
<span class="go">cookie=0x0, duration=21.714s, table=22, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,23)</span>
<span class="go">cookie=0x0, duration=21.714s, table=23, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,24)</span>
<span class="go">cookie=0x0, duration=21.714s, table=24, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ipv6,reg0=0x4/0x4,metadata=0x4</span>
<span class="go">    actions=ct(table=25,zone=NXM_NX_REG5[0..15],nat)</span>
<span class="go">cookie=0x0, duration=21.714s, table=24, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ip,reg0=0x4/0x4,metadata=0x4</span>
<span class="go">    actions=ct(table=25,zone=NXM_NX_REG5[0..15],nat)</span>
<span class="go">cookie=0x0, duration=21.714s, table=24, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ip,reg0=0x2/0x2,metadata=0x4</span>
<span class="go">    actions=ct(commit,zone=NXM_NX_REG5[0..15]),resubmit(,25)</span>
<span class="go">cookie=0x0, duration=21.714s, table=24, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ipv6,reg0=0x2/0x2,metadata=0x4</span>
<span class="go">    actions=ct(commit,zone=NXM_NX_REG5[0..15]),resubmit(,25)</span>
<span class="go">cookie=0x0, duration=21.714s, table=24, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,25)</span>
<span class="go">cookie=0x0, duration=21.714s, table=25, n_packets=15, n_bytes=954,</span>
<span class="go">    idle_age=6, priority=100,reg6=0x1,metadata=0x4 actions=resubmit(,26)</span>
<span class="go">cookie=0x0, duration=21.714s, table=25, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=50,arp,metadata=0x4,</span>
<span class="go">        arp_tpa=203.0.113.101,arp_op=1</span>
<span class="go">    actions=move:NXM_OF_ETH_SRC[]-&gt;NXM_OF_ETH_DST[],</span>
<span class="go">        mod_dl_src:fa:16:3e:f9:5d:f3,load:0x2-&gt;NXM_OF_ARP_OP[],</span>
<span class="go">        move:NXM_NX_ARP_SHA[]-&gt;NXM_NX_ARP_THA[],</span>
<span class="go">        load:0xfa163ef95df3-&gt;NXM_NX_ARP_SHA[],</span>
<span class="go">        move:NXM_OF_ARP_SPA[]-&gt;NXM_OF_ARP_TPA[],</span>
<span class="go">        load:0xc0a81264-&gt;NXM_OF_ARP_SPA[],</span>
<span class="go">        move:NXM_NX_REG6[]-&gt;NXM_NX_REG7[],</span>
<span class="go">        load:0-&gt;NXM_NX_REG6[],load:0-&gt;NXM_OF_IN_PORT[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=21.714s, table=25, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=50,arp,metadata=0x4,</span>
<span class="go">        arp_tpa=203.0.113.102,arp_op=1</span>
<span class="go">    actions=move:NXM_OF_ETH_SRC[]-&gt;NXM_OF_ETH_DST[],</span>
<span class="go">        mod_dl_src:fa:16:3e:f0:a5:9f,</span>
<span class="go">        load:0x2-&gt;NXM_OF_ARP_OP[],</span>
<span class="go">        move:NXM_NX_ARP_SHA[]-&gt;NXM_NX_ARP_THA[],</span>
<span class="go">        load:0xfa163ef0a59f-&gt;NXM_NX_ARP_SHA[],</span>
<span class="go">        move:NXM_OF_ARP_SPA[]-&gt;NXM_OF_ARP_TPA[],</span>
<span class="go">        load:0xc0a81265-&gt;NXM_OF_ARP_SPA[],</span>
<span class="go">        move:NXM_NX_REG6[]-&gt;NXM_NX_REG7[],</span>
<span class="go">        load:0-&gt;NXM_NX_REG6[],load:0-&gt;NXM_OF_IN_PORT[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=21.714s, table=25, n_packets=3, n_bytes=258,</span>
<span class="go">    idle_age=20, priority=0,metadata=0x4 actions=resubmit(,26)</span>
<span class="go">cookie=0x0, duration=21.714s, table=26, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=100,metadata=0x4,</span>
<span class="go">        dl_dst=01:00:00:00:00:00/01:00:00:00:00:00</span>
<span class="go">    actions=load:0xffff-&gt;NXM_NX_REG7[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=21.714s, table=26, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=50,metadata=0x4,dl_dst=fa:16:3e:f0:a5:9f</span>
<span class="go">    actions=load:0x3-&gt;NXM_NX_REG7[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=21.714s, table=26, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=50,metadata=0x4,dl_dst=fa:16:3e:f9:5d:f3</span>
<span class="go">    actions=load:0x2-&gt;NXM_NX_REG7[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=21.714s, table=26, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=0,metadata=0x4</span>
<span class="go">    actions=load:0xfffe-&gt;NXM_NX_REG7[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=17.731s, table=33, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=17, priority=100,reg7=0x2,metadata=0x4</span>
<span class="go">    actions=load:0x2-&gt;NXM_NX_REG5[],resubmit(,34)</span>
<span class="go">cookie=0x0, duration=118.126s, table=33, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=118, hard_age=17, priority=100,reg7=0xfffe,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG5[],load:0x1-&gt;NXM_NX_REG7[],</span>
<span class="go">        resubmit(,34),load:0xfffe-&gt;NXM_NX_REG7[]</span>
<span class="go">cookie=0x0, duration=118.126s, table=33, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=2, hard_age=17, priority=100,reg7=0xffff,metadata=0x4</span>
<span class="go">    actions=load:0x2-&gt;NXM_NX_REG5[],load:0x2-&gt;NXM_NX_REG7[],</span>
<span class="go">        resubmit(,34),load:0x1-&gt;NXM_NX_REG5[],load:0x1-&gt;NXM_NX_REG7[],</span>
<span class="go">        resubmit(,34),load:0xffff-&gt;NXM_NX_REG7[]</span>
<span class="go">cookie=0x0, duration=17.730s, table=33, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=17, priority=100,reg7=0x1,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG5[],resubmit(,34)</span>
<span class="go">cookie=0x0, duration=17.697s, table=33, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=17, priority=100,reg7=0x3,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG7[],resubmit(,33)</span>
<span class="go">cookie=0x0, duration=17.731s, table=34, n_packets=3, n_bytes=258,</span>
<span class="go">    idle_age=16, priority=100,reg6=0x2,reg7=0x2,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=17.730s, table=34, n_packets=15, n_bytes=954,</span>
<span class="go">    idle_age=2, priority=100,reg6=0x1,reg7=0x1,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=21.714s, table=48, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,49)</span>
<span class="go">cookie=0x0, duration=21.714s, table=49, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,50)</span>
<span class="go">cookie=0x0, duration=21.714s, table=50, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ip,reg0=0x1/0x1,metadata=0x4</span>
<span class="go">    actions=ct(table=51,zone=NXM_NX_REG5[0..15])</span>
<span class="go">cookie=0x0, duration=21.714s, table=50, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ipv6,reg0=0x1/0x1,metadata=0x4</span>
<span class="go">    actions=ct(table=51,zone=NXM_NX_REG5[0..15])</span>
<span class="go">cookie=0x0, duration=21.714s, table=50, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,51)</span>
<span class="go">cookie=0x0, duration=21.714s, table=51, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,52)</span>
<span class="go">cookie=0x0, duration=21.714s, table=52, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,53)</span>
<span class="go">cookie=0x0, duration=21.714s, table=53, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ip,reg0=0x4/0x4,metadata=0x4</span>
<span class="go">    actions=ct(table=54,zone=NXM_NX_REG5[0..15],nat)</span>
<span class="go">cookie=0x0, duration=21.714s, table=53, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ipv6,reg0=0x4/0x4,metadata=0x4</span>
<span class="go">    actions=ct(table=54,zone=NXM_NX_REG5[0..15],nat)</span>
<span class="go">cookie=0x0, duration=21.714s, table=53, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ipv6,reg0=0x2/0x2,metadata=0x4</span>
<span class="go">    actions=ct(commit,zone=NXM_NX_REG5[0..15]),resubmit(,54)</span>
<span class="go">cookie=0x0, duration=21.714s, table=53, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=100,ip,reg0=0x2/0x2,metadata=0x4</span>
<span class="go">    actions=ct(commit,zone=NXM_NX_REG5[0..15]),resubmit(,54)</span>
<span class="go">cookie=0x0, duration=21.714s, table=53, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,54)</span>
<span class="go">cookie=0x0, duration=21.714s, table=54, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=0,metadata=0x4 actions=resubmit(,55)</span>
<span class="go">cookie=0x0, duration=21.714s, table=55, n_packets=18, n_bytes=1212,</span>
<span class="go">    idle_age=6, priority=100,metadata=0x4,</span>
<span class="go">        dl_dst=01:00:00:00:00:00/01:00:00:00:00:00</span>
<span class="go">    actions=resubmit(,64)</span>
<span class="go">cookie=0x0, duration=21.714s, table=55, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=50,reg7=0x3,metadata=0x4</span>
<span class="go">    actions=resubmit(,64)</span>
<span class="go">cookie=0x0, duration=21.714s, table=55, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=50,reg7=0x2,metadata=0x4</span>
<span class="go">    actions=resubmit(,64)</span>
<span class="go">cookie=0x0, duration=21.714s, table=55, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=21, priority=50,reg7=0x1,metadata=0x4</span>
<span class="go">    actions=resubmit(,64)</span>
<span class="go">cookie=0x0, duration=21.712s, table=64, n_packets=15, n_bytes=954,</span>
<span class="go">    idle_age=6, priority=100,reg7=0x3,metadata=0x4 actions=output:7</span>
<span class="go">cookie=0x0, duration=21.711s, table=64, n_packets=3, n_bytes=258,</span>
<span class="go">    idle_age=20, priority=100,reg7=0x1,metadata=0x4 actions=output:8</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Provider networks</a><ul>
<li><a class="reference internal" href="#create-a-provider-network">Create a provider network</a><ul>
<li><a class="reference internal" href="#ovn-operations">OVN operations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-a-subnet-on-the-provider-network">Create a subnet on the provider network</a><ul>
<li><a class="reference internal" href="#id1">OVN operations</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="refarch.html"
                                  title="previous chapter">Reference architecture</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="selfservice-networks.html"
                                  title="next chapter">Self-service networks</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/networking-ovn
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/refarch/provider-networks.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="selfservice-networks.html" title="Self-service networks"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="refarch.html" title="Reference architecture"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">networking-ovn 2.0.0.0rc2.dev13 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="refarch.html" accesskey="U">Reference architecture</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright .
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/networking-ovn");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>