<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Launch an instance on a provider network &mdash; networking-ovn 2.0.0.0rc2.dev13 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0.0rc2.dev13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="networking-ovn 2.0.0.0rc2.dev13 documentation" href="../index.html" />
    <link rel="up" title="Reference architecture" href="refarch.html" />
    <link rel="next" title="Launch an instance on a self-service network" href="launch-instance-selfservice-network.html" />
    <link rel="prev" title="Routers" href="routers.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="launch-an-instance-on-a-provider-network">
<span id="refarch-launch-instance-provider-network"></span><h1>Launch an instance on a provider network<a class="headerlink" href="#launch-an-instance-on-a-provider-network" title="Permalink to this headline">¶</a></h1>
<ol class="arabic">
<li><p class="first">On the controller node, source the credentials for a regular
(non-privileged) project. The following example uses the <code class="docutils literal"><span class="pre">demo</span></code>
project.</p>
</li>
<li><p class="first">On the controller node, launch an instance using the UUID of the
provider network.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack server create --flavor m1.tiny --image cirros <span class="se">\</span>
  --nic net-id<span class="o">=</span>0243277b-4aa8-46d8-9e10-5c9ad5e01521 <span class="se">\</span>
  --security-group default --key-name mykey provider-instance
<span class="go">+--------------------------------------+-----------------------------------------------+</span>
<span class="go">| Property                             | Value                                         |</span>
<span class="go">+--------------------------------------+-----------------------------------------------+</span>
<span class="go">| OS-DCF:diskConfig                    | MANUAL                                        |</span>
<span class="go">| OS-EXT-AZ:availability_zone          | nova                                          |</span>
<span class="go">| OS-EXT-STS:power_state               | 0                                             |</span>
<span class="go">| OS-EXT-STS:task_state                | scheduling                                    |</span>
<span class="go">| OS-EXT-STS:vm_state                  | building                                      |</span>
<span class="go">| OS-SRV-USG:launched_at               | -                                             |</span>
<span class="go">| OS-SRV-USG:terminated_at             | -                                             |</span>
<span class="go">| accessIPv4                           |                                               |</span>
<span class="go">| accessIPv6                           |                                               |</span>
<span class="go">| adminPass                            | hdF4LMQqC5PB                                  |</span>
<span class="go">| config_drive                         |                                               |</span>
<span class="go">| created                              | 2015-09-17T21:58:18Z                          |</span>
<span class="go">| flavor                               | m1.tiny (1)                                   |</span>
<span class="go">| hostId                               |                                               |</span>
<span class="go">| id                                   | 181c52ba-aebc-4c32-a97d-2e8e82e4eaaf          |</span>
<span class="go">| image                                | cirros (38047887-61a7-41ea-9b49-27987d5e8bb9) |</span>
<span class="go">| key_name                             | mykey                                         |</span>
<span class="go">| metadata                             | {}                                            |</span>
<span class="go">| name                                 | provider-instance                             |</span>
<span class="go">| os-extended-volumes:volumes_attached | []                                            |</span>
<span class="go">| progress                             | 0                                             |</span>
<span class="go">| security_groups                      | default                                       |</span>
<span class="go">| status                               | BUILD                                         |</span>
<span class="go">| tenant_id                            | f5b2ccaa75ac413591f12fcaa096aa5c              |</span>
<span class="go">| updated                              | 2015-09-17T21:58:18Z                          |</span>
<span class="go">| user_id                              | 684286a9079845359882afc3aa5011fb              |</span>
<span class="go">+--------------------------------------+-----------------------------------------------+</span>
</pre></div>
</div>
</li>
</ol>
<div class="section" id="ovn-operations">
<h2>OVN operations<a class="headerlink" href="#ovn-operations" title="Permalink to this headline">¶</a></h2>
<p>The OVN mechanism driver and OVN perform the following operations when
launching an instance.</p>
<ol class="arabic">
<li><p class="first">The OVN mechanism driver creates a logical port for the instance.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : cc891503-1259-47a1-9349-1c0293876664</span>
<span class="go">addresses           : [&quot;fa:16:3e:1c:ca:6a 203.0.113.103&quot;]</span>
<span class="go">enabled             : true</span>
<span class="go">external_ids        : {&quot;neutron:port_name&quot;=&quot;&quot;}</span>
<span class="go">name                : &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;</span>
<span class="go">options             : {}</span>
<span class="go">parent_name         : []</span>
<span class="go">port_security       : [&quot;fa:16:3e:1c:ca:6a 203.0.113.103&quot;]</span>
<span class="go">tag                 : []</span>
<span class="go">type                : &quot;&quot;</span>
<span class="go">up                  : true</span>
</pre></div>
</div>
</li>
<li><p class="first">The OVN mechanism driver updates the appropriate Address Set
entry with the address of this instance:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : d0becdea-e1ed-48c4-9afc-e278cdef4629</span>
<span class="go">addresses           : [&quot;203.0.113.103&quot;]</span>
<span class="go">external_ids        : {&quot;neutron:security_group_name&quot;=default}</span>
<span class="go">name                : &quot;as_ip4_90a78a43_b549_4bee_8822_21fcccab58dc&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">The OVN mechanism driver creates ACL entries for this port and
any other ports in the project.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : f8d27bfc-4d74-4e73-8fac-c84585443efd</span>
<span class="go">action              : drop</span>
<span class="go">direction           : from-lport</span>
<span class="go">external_ids        : {&quot;neutron:lport&quot;=&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;}</span>
<span class="go">log                 : false</span>
<span class="go">match               : &quot;inport == \&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205\&quot; &amp;&amp; ip&quot;</span>
<span class="go">priority            : 1001</span>

<span class="go">_uuid               : a61d0068-b1aa-4900-9882-e0671d1fc131</span>
<span class="go">action              : allow</span>
<span class="go">direction           : to-lport</span>
<span class="go">external_ids        : {&quot;neutron:lport&quot;=&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;}</span>
<span class="go">log                 : false</span>
<span class="go">match               : &quot;outport == \&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205\&quot; &amp;&amp; ip4 &amp;&amp; ip4.src == 203.0.113.0/24 &amp;&amp; udp &amp;&amp; udp.src == 67 &amp;&amp; udp.dst == 68&quot;</span>
<span class="go">priority            : 1002</span>

<span class="go">_uuid               : a5a787b8-7040-4b63-a20a-551bd73eb3d1</span>
<span class="go">action              : allow-related</span>
<span class="go">direction           : from-lport</span>
<span class="go">external_ids        : {&quot;neutron:lport&quot;=&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;}</span>
<span class="go">log                 : false</span>
<span class="go">match               : &quot;inport == \&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205\&quot; &amp;&amp; ip6&quot;</span>
<span class="go">priority            : 1002</span>

<span class="go">_uuid               : 7b3f63b8-e69a-476c-ad3d-37de043232b2</span>
<span class="go">action              : allow-related</span>
<span class="go">direction           : to-lport</span>
<span class="go">external_ids        : {&quot;neutron:lport&quot;=&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;}</span>
<span class="go">log                 : false</span>
<span class="go">match               : &quot;outport == \&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205\&quot; &amp;&amp; ip4 &amp;&amp; ip4.src = $as_ip4_90a78a43_b5649_4bee_8822_21fcccab58dc&quot;</span>
<span class="go">priority            : 1002</span>

<span class="go">_uuid               : 36dbb1b1-cd30-4454-a0bf-923646eb7c3f</span>
<span class="go">action              : allow</span>
<span class="go">direction           : from-lport</span>
<span class="go">external_ids        : {&quot;neutron:lport&quot;=&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;}</span>
<span class="go">log                 : false</span>
<span class="go">match               : &quot;inport == \&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205\&quot; &amp;&amp; ip4 &amp;&amp; (ip4.dst == 255.255.255.255 || ip4.dst == 203.0.113.0/24) &amp;&amp; udp &amp;&amp; udp.src == 68 &amp;&amp; udp.dst == 67&quot;</span>
<span class="go">priority            : 1002</span>

<span class="go">_uuid               : 05a92f66-be48-461e-a7f1-b07bfbd3e667</span>
<span class="go">action              : allow-related</span>
<span class="go">direction           : from-lport</span>
<span class="go">external_ids        : {&quot;neutron:lport&quot;=&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;}</span>
<span class="go">log                 : false</span>
<span class="go">match               : &quot;inport == \&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205\&quot; &amp;&amp; ip4&quot;</span>
<span class="go">priority            : 1002</span>

<span class="go">_uuid               : 37f18377-d6c3-4c44-9e4d-2170710e50ff</span>
<span class="go">action              : drop</span>
<span class="go">direction           : to-lport</span>
<span class="go">external_ids        : {&quot;neutron:lport&quot;=&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;}</span>
<span class="go">log                 : false</span>
<span class="go">match               : &quot;outport == \&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205\&quot; &amp;&amp; ip&quot;</span>
<span class="go">priority            : 1001</span>

<span class="go">_uuid               : 6d4db3cf-c1f1-4006-ad66-ae582a6acd21</span>
<span class="go">action              : allow-related</span>
<span class="go">direction           : to-lport</span>
<span class="go">external_ids        : {&quot;neutron:lport&quot;=&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;}</span>
<span class="go">log                 : false</span>
<span class="go">match               : &quot;outport == \&quot;cafd4862-c69c-46e4-b3d2-6141ce06b205\&quot; &amp;&amp; ip6 &amp;&amp; ip6.src = $as_ip6_90a78a43_b5649_4bee_8822_21fcccab58dc&quot;</span>
<span class="go">priority            : 1002</span>
</pre></div>
</div>
</li>
<li><p class="first">The OVN mechanism driver updates the logical switch information with
the UUIDs of these objects.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : 924500c4-8580-4d5f-a7ad-8769f6e58ff5</span>
<span class="go">acls                : [05a92f66-be48-461e-a7f1-b07bfbd3e667,</span>
<span class="go">                       36dbb1b1-cd30-4454-a0bf-923646eb7c3f,</span>
<span class="go">                       37f18377-d6c3-4c44-9e4d-2170710e50ff,</span>
<span class="go">                       7b3f63b8-e69a-476c-ad3d-37de043232b2,</span>
<span class="go">                       a5a787b8-7040-4b63-a20a-551bd73eb3d1,</span>
<span class="go">                       a61d0068-b1aa-4900-9882-e0671d1fc131,</span>
<span class="go">                       f8d27bfc-4d74-4e73-8fac-c84585443efd]</span>
<span class="go">external_ids        : {&quot;neutron:network_name&quot;=provider}</span>
<span class="go">name                : &quot;neutron-670efade-7cd0-4d87-8a04-27f366eb8941&quot;</span>
<span class="go">ports               : [38cf8b52-47c4-4e93-be8d-06bf71f6a7c9,</span>
<span class="go">                       5e144ab9-3e08-4910-b936-869bbbf254c8,</span>
<span class="go">                       a576b812-9c3e-4cfb-9752-5d8500b3adf9,</span>
<span class="go">                       cc891503-1259-47a1-9349-1c0293876664]</span>
</pre></div>
</div>
</li>
<li><p class="first">The OVN northbound service creates port bindings for the logical
ports and adds them to the appropriate multicast group.</p>
<ul>
<li><p class="first">Port bindings</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : e73e3fcd-316a-4418-bbd5-a8a42032b1c3</span>
<span class="go">chassis             : fc5ab9e7-bc28-40e8-ad52-2949358cc088</span>
<span class="go">datapath            : bd0ab2b3-4cf4-4289-9529-ef430f6a89e6</span>
<span class="go">logical_port        : &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;</span>
<span class="go">mac                 : [&quot;fa:16:3e:1c:ca:6a 203.0.113.103&quot;]</span>
<span class="go">options             : {}</span>
<span class="go">parent_port         : []</span>
<span class="go">tag                 : []</span>
<span class="go">tunnel_key          : 4</span>
<span class="go">type                : &quot;&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Multicast groups</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : 39b32ccd-fa49-4046-9527-13318842461e</span>
<span class="go">datapath            : bd0ab2b3-4cf4-4289-9529-ef430f6a89e6</span>
<span class="go">name                : _MC_flood</span>
<span class="go">ports               : [030024f4-61c3-4807-859b-07727447c427,</span>
<span class="go">                       904c3108-234d-41c0-b93c-116b7e352a75,</span>
<span class="go">                       cc5bcd19-bcae-4e29-8cee-3ec8a8a75d46,</span>
<span class="go">                       e73e3fcd-316a-4418-bbd5-a8a42032b1c3]</span>
<span class="go">tunnel_key          : 65535</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">The OVN northbound service translates the Address Set change into
the new Address Set in the OVN southbound database.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">_uuid               : 2addbee3-7084-4fff-8f7b-15b1efebdaff</span>
<span class="go">addresses           : [&quot;203.0.113.103&quot;]</span>
<span class="go">name                : &quot;as_ip4_90a78a43_b549_4bee_8822_21fcccab58dc&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">The OVN northbound service translates the ACL and logical port objects
into logical flows in the OVN southbound database.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Datapath: bd0ab2b3-4cf4-4289-9529-ef430f6a89e6  Pipeline: ingress</span>
<span class="go">  table= 0(  ls_in_port_sec_l2), priority=   50,</span>
<span class="go">    match=(inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           eth.src == {fa:16:3e:1c:ca:6a}),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 1(  ls_in_port_sec_ip), priority=   90,</span>
<span class="go">    match=(inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           eth.src == fa:16:3e:1c:ca:6a &amp;&amp; ip4.src == {203.0.113.103}),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 1(  ls_in_port_sec_ip), priority=   90,</span>
<span class="go">    match=(inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           eth.src == fa:16:3e:1c:ca:6a &amp;&amp; ip4.src == 0.0.0.0 &amp;&amp;</span>
<span class="go">           ip4.dst == 255.255.255.255 &amp;&amp; udp.src == 68 &amp;&amp; udp.dst == 67),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 1(  ls_in_port_sec_ip), priority=   80,</span>
<span class="go">    match=(inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           eth.src == fa:16:3e:1c:ca:6a &amp;&amp; ip),</span>
<span class="go">    action=(drop;)</span>
<span class="go">  table= 2(  ls_in_port_sec_nd), priority=   90,</span>
<span class="go">    match=(inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           eth.src == fa:16:3e:1c:ca:6a &amp;&amp;</span>
<span class="go">           arp.sha == fa:16:3e:1c:ca:6a &amp;&amp; (arp.spa == 203.0.113.103 )),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 2(  ls_in_port_sec_nd), priority=   80,</span>
<span class="go">    match=(inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           (arp || nd)),</span>
<span class="go">    action=(drop;)</span>
<span class="go">  table= 3(      ls_in_pre_acl), priority=  110,</span>
<span class="go">    match=(nd),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 3(      ls_in_pre_acl), priority=  100,</span>
<span class="go">    match=(ip),</span>
<span class="go">    action=(reg0[0] = 1; next;)</span>
<span class="go">  table= 6(          ls_in_acl), priority=65535,</span>
<span class="go">    match=(ct.inv),</span>
<span class="go">    action=(drop;)</span>
<span class="go">  table= 6(          ls_in_acl), priority=65535,</span>
<span class="go">    match=(nd),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 6(          ls_in_acl), priority=65535,</span>
<span class="go">    match=(ct.est &amp;&amp; !ct.rel &amp;&amp; !ct.new &amp;&amp; !ct.inv),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 6(          ls_in_acl), priority=65535,</span>
<span class="go">    match=(!ct.est &amp;&amp; ct.rel &amp;&amp; !ct.new &amp;&amp; !ct.inv),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 6(          ls_in_acl), priority= 2002,</span>
<span class="go">    match=(ct.new &amp;&amp; (inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;</span>
<span class="go">           &amp;&amp; ip6)),</span>
<span class="go">    action=(reg0[1] = 1; next;)</span>
<span class="go">  table= 6(          ls_in_acl), priority= 2002,</span>
<span class="go">    match=(inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp; ip4 &amp;&amp;</span>
<span class="go">           (ip4.dst == 255.255.255.255 || ip4.dst == 203.0.113.0/24) &amp;&amp;</span>
<span class="go">           udp &amp;&amp; udp.src == 68 &amp;&amp; udp.dst == 67),</span>
<span class="go">    action=(reg0[1] = 1; next;)</span>
<span class="go">  table= 6(          ls_in_acl), priority= 2002,</span>
<span class="go">    match=(ct.new &amp;&amp; (inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           ip4)),</span>
<span class="go">    action=(reg0[1] = 1; next;)</span>
<span class="go">  table= 6(          ls_in_acl), priority= 2001,</span>
<span class="go">    match=(inport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp; ip),</span>
<span class="go">    action=(drop;)</span>
<span class="go">  table= 6(          ls_in_acl), priority=    1,</span>
<span class="go">    match=(ip),</span>
<span class="go">    action=(reg0[1] = 1; next;)</span>
<span class="go">  table= 9(      ls_in_arp_rsp), priority=   50,</span>
<span class="go">    match=(arp.tpa == 203.0.113.103 &amp;&amp; arp.op == 1),</span>
<span class="go">    action=(eth.dst = eth.src; eth.src = fa:16:3e:1c:ca:6a;</span>
<span class="go">            arp.op = 2; /* ARP reply */ arp.tha = arp.sha;</span>
<span class="go">            arp.sha = fa:16:3e:1c:ca:6a; arp.tpa = arp.spa;</span>
<span class="go">            arp.spa = 203.0.113.103; outport = inport;</span>
<span class="go">            inport = &quot;&quot;; /* Allow sending out inport. */ output;)</span>
<span class="go">  table=10(      ls_in_l2_lkup), priority=   50,</span>
<span class="go">    match=(eth.dst == fa:16:3e:1c:ca:6a),</span>
<span class="go">    action=(outport = &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot;; output;)</span>
<span class="go">Datapath: bd0ab2b3-4cf4-4289-9529-ef430f6a89e6  Pipeline: egress</span>
<span class="go">  table= 1(     ls_out_pre_acl), priority=  110,</span>
<span class="go">    match=(nd),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 1(     ls_out_pre_acl), priority=  100,</span>
<span class="go">    match=(ip),</span>
<span class="go">    action=(reg0[0] = 1; next;)</span>
<span class="go">  table= 4(         ls_out_acl), priority=65535,</span>
<span class="go">    match=(!ct.est &amp;&amp; ct.rel &amp;&amp; !ct.new &amp;&amp; !ct.inv),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 4(         ls_out_acl), priority=65535,</span>
<span class="go">    match=(ct.est &amp;&amp; !ct.rel &amp;&amp; !ct.new &amp;&amp; !ct.inv),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 4(         ls_out_acl), priority=65535,</span>
<span class="go">    match=(ct.inv),</span>
<span class="go">    action=(drop;)</span>
<span class="go">  table= 4(         ls_out_acl), priority=65535,</span>
<span class="go">    match=(nd),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 4(         ls_out_acl), priority= 2002,</span>
<span class="go">    match=(ct.new &amp;&amp;</span>
<span class="go">           (outport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp; ip6 &amp;&amp;</span>
<span class="go">            ip6.src == $as_ip6_90a78a43_b549_4bee_8822_21fcccab58dc)),</span>
<span class="go">    action=(reg0[1] = 1; next;)</span>
<span class="go">  table= 4(         ls_out_acl), priority= 2002,</span>
<span class="go">    match=(ct.new &amp;&amp;</span>
<span class="go">           (outport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp; ip4 &amp;&amp;</span>
<span class="go">            ip4.src == $as_ip4_90a78a43_b549_4bee_8822_21fcccab58dc)),</span>
<span class="go">    action=(reg0[1] = 1; next;)</span>
<span class="go">  table= 4(         ls_out_acl), priority= 2002,</span>
<span class="go">    match=(outport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp; ip4 &amp;&amp;</span>
<span class="go">           ip4.src == 203.0.113.0/24 &amp;&amp; udp &amp;&amp; udp.src == 67 &amp;&amp;</span>
<span class="go">           udp.dst == 68),</span>
<span class="go">    action=(reg0[1] = 1; next;)</span>
<span class="go">  table= 4(         ls_out_acl), priority= 2001,</span>
<span class="go">    match=(outport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp; ip),</span>
<span class="go">    action=(drop;)</span>
<span class="go">  table= 4(         ls_out_acl), priority=    1,</span>
<span class="go">    match=(ip),</span>
<span class="go">    action=(reg0[1] = 1; next;)</span>
<span class="go">  table= 6( ls_out_port_sec_ip), priority=   90,</span>
<span class="go">    match=(outport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           eth.dst == fa:16:3e:1c:ca:6a &amp;&amp;</span>
<span class="go">           ip4.dst == {255.255.255.255, 224.0.0.0/4, 203.0.113.103}),</span>
<span class="go">    action=(next;)</span>
<span class="go">  table= 6( ls_out_port_sec_ip), priority=   80,</span>
<span class="go">    match=(outport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           eth.dst == fa:16:3e:1c:ca:6a &amp;&amp; ip),</span>
<span class="go">    action=(drop;)</span>
<span class="go">  table= 7( ls_out_port_sec_l2), priority=   50,</span>
<span class="go">    match=(outport == &quot;cafd4862-c69c-46e4-b3d2-6141ce06b205&quot; &amp;&amp;</span>
<span class="go">           eth.dst == {fa:16:3e:1c:ca:6a}),</span>
<span class="go">    action=(output;)</span>
</pre></div>
</div>
</li>
<li><p class="first">The OVN controller service on each compute node translates these objects
into flows on the integration bridge <code class="docutils literal"><span class="pre">br-int</span></code>. Exact flows depend on
whether the compute node containing the instance also contains a DHCP agent
on the subnet.</p>
<ul>
<li><p class="first">On the compute node containing the instance, the Compute service creates
a port that connects the instance to the integration bridge and OVN
creates the following flows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> ovs-ofctl show br-int
<span class="go">OFPT_FEATURES_REPLY (xid=0x2): dpid:000022024a1dc045</span>
<span class="go">n_tables:254, n_buffers:256</span>
<span class="go">capabilities: FLOW_STATS TABLE_STATS PORT_STATS QUEUE_STATS ARP_MATCH_IP</span>
<span class="go">actions: output enqueue set_vlan_vid set_vlan_pcp strip_vlan mod_dl_src mod_dl_dst mod_nw_src mod_nw_dst mod_nw_tos mod_tp_src mod_tp_dst</span>
<span class="go"> 9(tapcafd4862-c6): addr:fe:16:3e:1c:ca:6a</span>
<span class="go">     config:     0</span>
<span class="go">     state:      0</span>
<span class="go">     current:    10MB-FD COPPER</span>
<span class="go">     speed: 10 Mbps now, 0 Mbps max</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">cookie=0x0, duration=184.992s, table=0, n_packets=175, n_bytes=15270,</span>
<span class="go">    idle_age=15, priority=100,in_port=9</span>
<span class="go">    actions=load:0x3-&gt;NXM_NX_REG5[],load:0x4-&gt;OXM_OF_METADATA[],</span>
<span class="go">        load:0x4-&gt;NXM_NX_REG6[],resubmit(,16)</span>
<span class="go">cookie=0x0, duration=191.687s, table=16, n_packets=175, n_bytes=15270,</span>
<span class="go">    idle_age=15, priority=50,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=resubmit(,17)</span>
<span class="go">cookie=0x0, duration=191.687s, table=17, n_packets=2, n_bytes=684,</span>
<span class="go">    idle_age=112, priority=90,udp,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a,nw_src=0.0.0.0,</span>
<span class="go">        nw_dst=255.255.255.255,tp_src=68,tp_dst=67</span>
<span class="go">    actions=resubmit(,18)</span>
<span class="go">cookie=0x0, duration=191.687s, table=17, n_packets=146, n_bytes=12780,</span>
<span class="go">    idle_age=20, priority=90,ip,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a,nw_src=203.0.113.103</span>
<span class="go">    actions=resubmit(,18)</span>
<span class="go">cookie=0x0, duration=191.687s, table=17, n_packets=17, n_bytes=1386,</span>
<span class="go">    idle_age=92, priority=80,ipv6,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=191.687s, table=17, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=191, priority=80,ip,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=191.687s, table=18, n_packets=10, n_bytes=420,</span>
<span class="go">    idle_age=15, priority=90,arp,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a,arp_spa=203.0.113.103,</span>
<span class="go">        arp_sha=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=resubmit(,19)</span>
<span class="go">cookie=0x0, duration=191.687s, table=18, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=191, priority=80,icmp6,reg6=0x4,metadata=0x4,</span>
<span class="go">        icmp_type=136,icmp_code=0</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=191.687s, table=18, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=191, priority=80,icmp6,reg6=0x4,metadata=0x4,</span>
<span class="go">        icmp_type=135,icmp_code=0</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=191.687s, table=18, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=191, priority=80,arp,reg6=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.033s, table=19, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=110,icmp6,metadata=0x4,icmp_type=135,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,20)</span>
<span class="go">cookie=0x0, duration=75.032s, table=19, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=110,icmp6,metadata=0x4,icmp_type=136,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,20)</span>
<span class="go">cookie=0x0, duration=75.032s, table=19, n_packets=34, n_bytes=5170,</span>
<span class="go">    idle_age=49, priority=100,ip,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[0],resubmit(,20)</span>
<span class="go">cookie=0x0, duration=75.032s, table=19, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=100,ipv6,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[0],resubmit(,20)</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=65535,icmp6,metadata=0x4,icmp_type=136,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,23)</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=65535,icmp6,metadata=0x4,icmp_type=135,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,23)</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=13, n_bytes=1118,</span>
<span class="go">    idle_age=49, priority=65535,ct_state=-new+est-rel-inv+trk,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=resubmit(,23)</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=65535,ct_state=-new-est+rel-inv+trk,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=resubmit(,23)</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=65535,ct_state=+inv+trk,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.033s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=2002,ct_state=+new+trk,ipv6,reg6=0x4,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=15, n_bytes=1816,</span>
<span class="go">    idle_age=49, priority=2002,ct_state=+new+trk,ip,reg6=0x4,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=2002,udp,reg6=0x4,metadata=0x4,</span>
<span class="go">        nw_dst=203.0.113.0/24,tp_src=68,tp_dst=67</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=2002,udp,reg6=0x4,metadata=0x4,</span>
<span class="go">        nw_dst=255.255.255.255,tp_src=68,tp_dst=67</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=75.033s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=2001,ip,reg6=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=2001,ipv6,reg6=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=6, n_bytes=2236,</span>
<span class="go">    idle_age=54, priority=1,ip,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=75.032s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=1,ipv6,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=67.064s, table=25, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=67, priority=50,arp,metadata=0x4,arp_tpa=203.0.113.103,</span>
<span class="go">        arp_op=1</span>
<span class="go">    actions=move:NXM_OF_ETH_SRC[]-&gt;NXM_OF_ETH_DST[],</span>
<span class="go">        mod_dl_src:fa:16:3e:1c:ca:6a,load:0x2-&gt;NXM_OF_ARP_OP[],</span>
<span class="go">        move:NXM_NX_ARP_SHA[]-&gt;NXM_NX_ARP_THA[],</span>
<span class="go">        load:0xfa163ed63dca-&gt;NXM_NX_ARP_SHA[],</span>
<span class="go">        move:NXM_OF_ARP_SPA[]-&gt;NXM_OF_ARP_TPA[],</span>
<span class="go">        load:0xc0a81268-&gt;NXM_OF_ARP_SPA[],</span>
<span class="go">        move:NXM_NX_REG6[]-&gt;NXM_NX_REG7[],load:0-&gt;NXM_NX_REG6[],</span>
<span class="go">        load:0-&gt;NXM_OF_IN_PORT[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=75.033s, table=26, n_packets=19, n_bytes=2776,</span>
<span class="go">    idle_age=44, priority=50,metadata=0x4,dl_dst=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=load:0x4-&gt;NXM_NX_REG7[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=221031.310s, table=33, n_packets=72, n_bytes=6292,</span>
<span class="go">    idle_age=20, hard_age=65534, priority=100,reg7=0x3,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG7[],resubmit(,33)</span>
<span class="go">cookie=0x0, duration=184.992s, table=34, n_packets=2, n_bytes=684,</span>
<span class="go">    idle_age=112, priority=100,reg6=0x4,reg7=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.034s, table=49, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=110,icmp6,metadata=0x4,icmp_type=135,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,50)</span>
<span class="go">cookie=0x0, duration=75.033s, table=49, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=110,icmp6,metadata=0x4,icmp_type=136,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,50)</span>
<span class="go">cookie=0x0, duration=75.033s, table=49, n_packets=38, n_bytes=6566,</span>
<span class="go">    idle_age=49, priority=100,ip,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[0],resubmit(,50)</span>
<span class="go">cookie=0x0, duration=75.033s, table=49, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=100,ipv6,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[0],resubmit(,50)</span>
<span class="go">cookie=0x0, duration=75.033s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=65535,ct_state=-new-est+rel-inv+trk,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=resubmit(,53)</span>
<span class="go">cookie=0x0, duration=75.033s, table=52, n_packets=13, n_bytes=1118,</span>
<span class="go">    idle_age=49, priority=65535,ct_state=-new+est-rel-inv+trk,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=resubmit(,53)</span>
<span class="go">cookie=0x0, duration=75.033s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=65535,icmp6,metadata=0x4,icmp_type=135,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,53)</span>
<span class="go">cookie=0x0, duration=75.033s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=65535,icmp6,metadata=0x4,icmp_type=136,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,53)</span>
<span class="go">cookie=0x0, duration=75.033s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=65535,ct_state=+inv+trk,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.034s, table=52, n_packets=4, n_bytes=1538,</span>
<span class="go">    idle_age=54, priority=2002,udp,reg7=0x4,metadata=0x4,</span>
<span class="go">        nw_src=203.0.113.0/24,tp_src=67,tp_dst=68</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=75.033s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=2002,ct_state=+new+trk,ip,reg7=0x4,</span>
<span class="go">        metadata=0x4,nw_src=203.0.113.103</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=2.041s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=2, priority=2002,ct_state=+new+trk,ipv6,reg7=0x4,</span>
<span class="go">        metadata=0x4,ipv6_src=::2/::2</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=75.033s, table=52, n_packets=2, n_bytes=698,</span>
<span class="go">    idle_age=54, priority=2001,ip,reg7=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.033s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=2001,ipv6,reg7=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.034s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=1,ipv6,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=75.033s, table=52, n_packets=19, n_bytes=3212,</span>
<span class="go">    idle_age=49, priority=1,ip,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=75.034s, table=54, n_packets=17, n_bytes=2656,</span>
<span class="go">    idle_age=49, priority=90,ip,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a,nw_dst=203.0.113.103</span>
<span class="go">    actions=resubmit(,55)</span>
<span class="go">cookie=0x0, duration=75.033s, table=54, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=90,ip,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a,nw_dst=255.255.255.255</span>
<span class="go">    actions=resubmit(,55)</span>
<span class="go">cookie=0x0, duration=75.033s, table=54, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=90,ip,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a,nw_dst=224.0.0.0/4</span>
<span class="go">    actions=resubmit(,55)</span>
<span class="go">cookie=0x0, duration=75.033s, table=54, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=80,ip,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.033s, table=54, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=75, priority=80,ipv6,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=75.033s, table=55, n_packets=21, n_bytes=2860,</span>
<span class="go">    idle_age=44, priority=50,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=resubmit(,64)</span>
<span class="go">cookie=0x0, duration=184.992s, table=64, n_packets=166, n_bytes=15088,</span>
<span class="go">    idle_age=15, priority=100,reg7=0x4,metadata=0x4</span>
<span class="go">    actions=output:9</span>
</pre></div>
</div>
</li>
<li><p class="first">For each compute node that only contains a DHCP agent on the subnet, OVN
creates the following flows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">cookie=0x0, duration=189.649s, table=16, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=189, priority=50,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=resubmit(,17)</span>
<span class="go">cookie=0x0, duration=189.650s, table=17, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=189, priority=90,udp,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:14:3e:1c:ca:6a,nw_src=0.0.0.0,</span>
<span class="go">        nw_dst=255.255.255.255,tp_src=68,tp_dst=67</span>
<span class="go">    actions=resubmit(,18)</span>
<span class="go">cookie=0x0, duration=189.649s, table=17, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=189, priority=90,ip,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a,nw_src=203.0.113.103</span>
<span class="go">    actions=resubmit(,18)</span>
<span class="go">cookie=0x0, duration=189.650s, table=17, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=189, priority=80,ipv6,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=189.650s, table=17, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=189, priority=80,ip,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=189.650s, table=18, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=189, priority=90,arp,reg6=0x4,metadata=0x4,</span>
<span class="go">        dl_src=fa:16:3e:1c:ca:6a,arp_spa=203.0.113.103,</span>
<span class="go">        arp_sha=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=resubmit(,19)</span>
<span class="go">cookie=0x0, duration=189.650s, table=18, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=189, priority=80,icmp6,reg6=0x4,metadata=0x4,</span>
<span class="go">        icmp_type=136,icmp_code=0</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=189.650s, table=18, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=189, priority=80,icmp6,reg6=0x4,metadata=0x4,</span>
<span class="go">        icmp_type=135,icmp_code=0</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=189.649s, table=18, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=189, priority=80,arp,reg6=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=79.452s, table=19, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=110,icmp6,metadata=0x4,icmp_type=135,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,20)</span>
<span class="go">cookie=0x0, duration=79.450s, table=19, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=110,icmp6,metadata=0x4,icmp_type=136,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,20)</span>
<span class="go">cookie=0x0, duration=79.452s, table=19, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=100,ipv6,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[0],resubmit(,20)</span>
<span class="go">cookie=0x0, duration=79.450s, table=19, n_packets=18, n_bytes=3164,</span>
<span class="go">    idle_age=57, priority=100,ip,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[0],resubmit(,20)</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=6, n_bytes=510,</span>
<span class="go">    idle_age=57, priority=65535,ct_state=-new+est-rel-inv+trk,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=resubmit(,23)</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=65535,ct_state=-new-est+rel-inv+trk,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=resubmit(,23)</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=65535,icmp6,metadata=0x4,icmp_type=136,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,23)</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=65535,icmp6,metadata=0x4,icmp_type=135,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,23)</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=65535,ct_state=+inv+trk,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=79.453s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2002,ct_state=+new+trk,ipv6,reg6=0x4,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2002,ct_state=+new+trk,ip,reg6=0x4,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2002,udp,reg6=0x4,metadata=0x4,</span>
<span class="go">        nw_dst=203.0.113.0/24,tp_src=68,tp_dst=67</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2002,udp,reg6=0x4,metadata=0x4,</span>
<span class="go">        nw_dst=255.255.255.255,tp_src=68,tp_dst=67</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=79.452s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2001,ip,reg6=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2001,ipv6,reg6=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=1,ipv6,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=79.450s, table=22, n_packets=12, n_bytes=2654,</span>
<span class="go">    idle_age=57, priority=1,ip,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,23)</span>
<span class="go">cookie=0x0, duration=71.483s, table=25, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=71, priority=50,arp,metadata=0x4,arp_tpa=203.0.113.103,</span>
<span class="go">        arp_op=1</span>
<span class="go">    actions=move:NXM_OF_ETH_SRC[]-&gt;NXM_OF_ETH_DST[],</span>
<span class="go">        mod_dl_src:fa:16:3e:1c:ca:6a,load:0x2-&gt;NXM_OF_ARP_OP[],</span>
<span class="go">        move:NXM_NX_ARP_SHA[]-&gt;NXM_NX_ARP_THA[],</span>
<span class="go">        load:0xfa163ed63dca-&gt;NXM_NX_ARP_SHA[],</span>
<span class="go">        move:NXM_OF_ARP_SPA[]-&gt;NXM_OF_ARP_TPA[],</span>
<span class="go">        load:0xc0a81268-&gt;NXM_OF_ARP_SPA[],</span>
<span class="go">        move:NXM_NX_REG6[]-&gt;NXM_NX_REG7[],load:0-&gt;NXM_NX_REG6[],</span>
<span class="go">        load:0-&gt;NXM_OF_IN_PORT[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=79.450s, table=26, n_packets=8, n_bytes=1258,</span>
<span class="go">    idle_age=57, priority=50,metadata=0x4,dl_dst=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=load:0x4-&gt;NXM_NX_REG7[],resubmit(,32)</span>
<span class="go">cookie=0x0, duration=182.952s, table=33, n_packets=74, n_bytes=7040,</span>
<span class="go">    idle_age=18, priority=100,reg7=0x4,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG7[],resubmit(,33)</span>
<span class="go">cookie=0x0, duration=79.451s, table=49, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=110,icmp6,metadata=0x4,icmp_type=135,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,50)</span>
<span class="go">cookie=0x0, duration=79.450s, table=49, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=110,icmp6,metadata=0x4,icmp_type=136,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,50)</span>
<span class="go">cookie=0x0, duration=79.450s, table=49, n_packets=18, n_bytes=3164,</span>
<span class="go">    idle_age=57, priority=100,ip,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[0],resubmit(,50)</span>
<span class="go">cookie=0x0, duration=79.450s, table=49, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=100,ipv6,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[0],resubmit(,50)</span>
<span class="go">cookie=0x0, duration=79.450s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=65535,ct_state=-new-est+rel-inv+trk,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=resubmit(,53)</span>
<span class="go">cookie=0x0, duration=79.450s, table=52, n_packets=6, n_bytes=510,</span>
<span class="go">    idle_age=57, priority=65535,ct_state=-new+est-rel-inv+trk,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=resubmit(,53)</span>
<span class="go">cookie=0x0, duration=79.450s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=65535,icmp6,metadata=0x4,icmp_type=135,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,53)</span>
<span class="go">cookie=0x0, duration=79.450s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=65535,icmp6,metadata=0x4,icmp_type=136,</span>
<span class="go">        icmp_code=0</span>
<span class="go">    actions=resubmit(,53)</span>
<span class="go">cookie=0x0, duration=79.450s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=65535,ct_state=+inv+trk,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=79.452s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2002,udp,reg7=0x4,metadata=0x4,</span>
<span class="go">        nw_src=203.0.113.0/24,tp_src=67,tp_dst=68</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=79.450s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2002,ct_state=+new+trk,ip,reg7=0x4,</span>
<span class="go">        metadata=0x4,nw_src=203.0.113.103</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=71.483s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=71, priority=2002,ct_state=+new+trk,ipv6,reg7=0x4,</span>
<span class="go">        metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=79.450s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2001,ipv6,reg7=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=79.450s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=2001,ip,reg7=0x4,metadata=0x4</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=79.453s, table=52, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=1,ipv6,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=79.450s, table=52, n_packets=12, n_bytes=2654,</span>
<span class="go">    idle_age=57, priority=1,ip,metadata=0x4</span>
<span class="go">    actions=load:0x1-&gt;NXM_NX_REG0[1],resubmit(,53)</span>
<span class="go">cookie=0x0, duration=79.452s, table=54, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=90,ip,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a,nw_dst=255.255.255.255</span>
<span class="go">    actions=resubmit(,55)</span>
<span class="go">cookie=0x0, duration=79.452s, table=54, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=90,ip,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a,nw_dst=203.0.113.103</span>
<span class="go">    actions=resubmit(,55)</span>
<span class="go">cookie=0x0, duration=79.452s, table=54, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=90,ip,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a,nw_dst=224.0.0.0/4</span>
<span class="go">    actions=resubmit(,55)</span>
<span class="go">cookie=0x0, duration=79.450s, table=54, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=80,ip,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=79.450s, table=54, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=80,ipv6,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=drop</span>
<span class="go">cookie=0x0, duration=79.450s, table=55, n_packets=0, n_bytes=0,</span>
<span class="go">    idle_age=79, priority=50,reg7=0x4,metadata=0x4,</span>
<span class="go">        dl_dst=fa:16:3e:1c:ca:6a</span>
<span class="go">    actions=resubmit(,64)</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Launch an instance on a provider network</a><ul>
<li><a class="reference internal" href="#ovn-operations">OVN operations</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="routers.html"
                                  title="previous chapter">Routers</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="launch-instance-selfservice-network.html"
                                  title="next chapter">Launch an instance on a self-service network</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/networking-ovn
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/refarch/launch-instance-provider-network.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="launch-instance-selfservice-network.html" title="Launch an instance on a self-service network"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="routers.html" title="Routers"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">networking-ovn 2.0.0.0rc2.dev13 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="refarch.html" accesskey="U">Reference architecture</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright .
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/networking-ovn");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>