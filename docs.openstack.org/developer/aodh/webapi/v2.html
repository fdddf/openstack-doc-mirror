<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>V2 Web API &mdash; Aodh 4.0.1.dev9 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/toggle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0.1.dev9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/toggle.js"></script>
    <link rel="top" title="Aodh 4.0.1.dev9 documentation" href="../index.html" />
    <link rel="up" title="Web API" href="index.html" />
    <link rel="next" title="Installing Aodh" href="../install/index.html" />
    <link rel="prev" title="Web API" href="index.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="v2-web-api">
<h1>V2 Web API<a class="headerlink" href="#v2-web-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="capabilities">
<h2>Capabilities<a class="headerlink" href="#capabilities" title="Permalink to this headline">¶</a></h2>
<p>The Capabilities API allows you to directly discover which functions from the
V2 API functionality, including the selectable aggregate functions, are
supported by the currently configured storage driver. A capabilities query
returns a flattened dictionary of properties with associated boolean values -
a &#8216;False&#8217; or absent value means that the corresponding feature is not
available in the backend.</p>
<dl class="get">
<dt id="get--v2-capabilities">
<tt class="descname">GET </tt><tt class="descname">/v2/capabilities</tt><a class="headerlink" href="#get--v2-capabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a flattened dictionary of API capabilities.</p>
<p>Capabilities supported by the currently configured storage driver.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#Capabilities" title="Capabilities"><tt class="xref py py-class docutils literal"><span class="pre">Capabilities</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="type">
<dt id="Capabilities">
<em class="property">type </em><tt class="descname">Capabilities</tt><a class="headerlink" href="#Capabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>A representation of the API and storage capabilities.</p>
<p>Usually constrained by restrictions imposed by the storage driver.</p>
<p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;alarm_storage&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;storage:production_ready&quot;</span><span class="o">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="s2">&quot;api&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;alarms:history:query:complex&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;alarms:history:query:simple&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;alarms:query:complex&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;alarms:query:simple&quot;</span><span class="o">:</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;api&gt;</span>
    <span class="nt">&lt;item&gt;</span>
      <span class="nt">&lt;key&gt;</span>alarms:history:query:complex<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;value&gt;</span>true<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;item&gt;</span>
      <span class="nt">&lt;key&gt;</span>alarms:query:complex<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;value&gt;</span>true<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;item&gt;</span>
      <span class="nt">&lt;key&gt;</span>alarms:query:simple<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;value&gt;</span>true<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;item&gt;</span>
      <span class="nt">&lt;key&gt;</span>alarms:history:query:simple<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;value&gt;</span>true<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
  <span class="nt">&lt;/api&gt;</span>
  <span class="nt">&lt;alarm_storage&gt;</span>
    <span class="nt">&lt;item&gt;</span>
      <span class="nt">&lt;key&gt;</span>storage:production_ready<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;value&gt;</span>true<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
  <span class="nt">&lt;/alarm_storage&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.capabilities.Capabilities.alarm_storage">
<tt class="descname">alarm_storage</tt><a class="headerlink" href="#aodh.api.controllers.v2.capabilities.Capabilities.alarm_storage" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict(unicode: bool)</td>
</tr>
</tbody>
</table>
<p>A flattened dictionary of alarm storage capabilities</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.capabilities.Capabilities.api">
<tt class="descname">api</tt><a class="headerlink" href="#aodh.api.controllers.v2.capabilities.Capabilities.api" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict(unicode: bool)</td>
</tr>
</tbody>
</table>
<p>A flattened dictionary of API capabilities</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="alarms">
<span id="alarms-api"></span><h2>Alarms<a class="headerlink" href="#alarms" title="Permalink to this headline">¶</a></h2>
<dl class="get">
<dt id="get--v2-alarms">
<tt class="descname">GET </tt><tt class="descname">/v2/alarms</tt><a class="headerlink" href="#get--v2-alarms" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all alarms, based on the query provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (list(<tt class="xref py py-class docutils literal"><span class="pre">Query</span></tt>)) &#8211; Filter rules for the alarms to be returned.</li>
<li><strong>sort</strong> (list(<tt class="xref py py-class docutils literal"><span class="pre">str</span></tt>)) &#8211; A list of pairs of sort key and sort dir.</li>
<li><strong>limit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">int</span></tt>) &#8211; The maximum number of items to be return.</li>
<li><strong>marker</strong> (<tt class="xref py py-class docutils literal"><span class="pre">str</span></tt>) &#8211; The pagination query marker.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(<a class="reference internal" href="#Alarm" title="Alarm"><tt class="xref py py-class docutils literal"><span class="pre">Alarm</span></tt></a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--v2-alarms">
<tt class="descname">POST </tt><tt class="descname">/v2/alarms</tt><a class="headerlink" href="#post--v2-alarms" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new alarm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference internal" href="#Alarm" title="Alarm"><tt class="xref py py-class docutils literal"><span class="pre">Alarm</span></tt></a>) &#8211; an alarm within the request body.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#Alarm" title="Alarm"><tt class="xref py py-class docutils literal"><span class="pre">Alarm</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="get">
<dt id="get--v2-alarms-(alarm_id)">
<tt class="descname">GET </tt><tt class="descname">/v2/alarms/</tt><big>(</big><em>alarm_id</em><big>)</big><a class="headerlink" href="#get--v2-alarms-(alarm_id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this alarm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#Alarm" title="Alarm"><tt class="xref py py-class docutils literal"><span class="pre">Alarm</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="put">
<dt id="put--v2-alarms-(alarm_id)">
<tt class="descname">PUT </tt><tt class="descname">/v2/alarms/</tt><big>(</big><em>alarm_id</em><big>)</big><a class="headerlink" href="#put--v2-alarms-(alarm_id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify this alarm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference internal" href="#Alarm" title="Alarm"><tt class="xref py py-class docutils literal"><span class="pre">Alarm</span></tt></a>) &#8211; an alarm within the request body.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#Alarm" title="Alarm"><tt class="xref py py-class docutils literal"><span class="pre">Alarm</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="delete">
<dt id="delete--v2-alarms-(alarm_id)">
<tt class="descname">DELETE </tt><tt class="descname">/v2/alarms/</tt><big>(</big><em>alarm_id</em><big>)</big><a class="headerlink" href="#delete--v2-alarms-(alarm_id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete this alarm.</p>
</dd></dl>

<dl class="get">
<dt id="get--v2-alarms-(alarm_id)-history">
<tt class="descname">GET </tt><tt class="descname">/v2/alarms/</tt><big>(</big><em>alarm_id</em><big>)</big><tt class="descname">/history</tt><a class="headerlink" href="#get--v2-alarms-(alarm_id)-history" title="Permalink to this definition">¶</a></dt>
<dd><p>Assembles the alarm history requested.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (list(<tt class="xref py py-class docutils literal"><span class="pre">Query</span></tt>)) &#8211; Filter rules for the changes to be described.</li>
<li><strong>sort</strong> (list(<tt class="xref py py-class docutils literal"><span class="pre">str</span></tt>)) &#8211; A list of pairs of sort key and sort dir.</li>
<li><strong>limit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">int</span></tt>) &#8211; The maximum number of items to be return.</li>
<li><strong>marker</strong> (<tt class="xref py py-class docutils literal"><span class="pre">str</span></tt>) &#8211; The pagination query marker.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(<a class="reference internal" href="#AlarmChange" title="AlarmChange"><tt class="xref py py-class docutils literal"><span class="pre">AlarmChange</span></tt></a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="put">
<dt id="put--v2-alarms-(alarm_id)-state">
<tt class="descname">PUT </tt><tt class="descname">/v2/alarms/</tt><big>(</big><em>alarm_id</em><big>)</big><tt class="descname">/state</tt><a class="headerlink" href="#put--v2-alarms-(alarm_id)-state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the state of this alarm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>state</strong> (<tt class="xref py py-class docutils literal"><span class="pre">Enum(ok,</span> <span class="pre">alarm,</span> <span class="pre">insufficient</span> <span class="pre">data)</span></tt>) &#8211; an alarm state within the request body.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">Enum(ok,</span> <span class="pre">alarm,</span> <span class="pre">insufficient</span> <span class="pre">data)</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="get">
<dt id="get--v2-alarms-(alarm_id)-state">
<tt class="descname">GET </tt><tt class="descname">/v2/alarms/</tt><big>(</big><em>alarm_id</em><big>)</big><tt class="descname">/state</tt><a class="headerlink" href="#get--v2-alarms-(alarm_id)-state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the state of this alarm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">Enum(ok,</span> <span class="pre">alarm,</span> <span class="pre">insufficient</span> <span class="pre">data)</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="type">
<dt id="Alarm">
<em class="property">type </em><tt class="descname">Alarm</tt><a class="headerlink" href="#Alarm" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of an alarm.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">combination_rule and threshold_rule are mutually exclusive. The <em>type</em>
of the alarm should be set to <em>threshold</em> or <em>combination</em> and the
appropriate rule should be filled.</p>
</div>
<p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;alarm_actions&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;http://site:8000/alarm&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;alarm_id&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">&quot;combination_rule&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;alarm_ids&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;739e99cb-c2ec-4718-b900-332502355f38&quot;</span><span class="p">,</span>
            <span class="s2">&quot;153462d0-a9b8-4b5b-8175-9e4b05e9b856&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;operator&quot;</span><span class="o">:</span> <span class="s2">&quot;or&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;An alarm&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enabled&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;insufficient_data_actions&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;http://site:8000/nodata&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;SwiftObjectAlarm&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ok_actions&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;http://site:8000/ok&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;project_id&quot;</span><span class="o">:</span> <span class="s2">&quot;c96c887c216949acbdfbd8b494863567&quot;</span><span class="p">,</span>
    <span class="s2">&quot;repeat_actions&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">&quot;severity&quot;</span><span class="o">:</span> <span class="s2">&quot;moderate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
    <span class="s2">&quot;state_timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2015-01-01T12:00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;time_constraints&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;nightly build every night at 23h for 3 hours&quot;</span><span class="p">,</span>
            <span class="s2">&quot;duration&quot;</span><span class="o">:</span> <span class="mi">10800</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;SampleConstraint&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="o">:</span> <span class="s2">&quot;0 23 * * *&quot;</span><span class="p">,</span>
            <span class="s2">&quot;timezone&quot;</span><span class="o">:</span> <span class="s2">&quot;Europe/Ljubljana&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2015-01-01T12:00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;combination&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_id&quot;</span><span class="o">:</span> <span class="s2">&quot;c96c887c216949acbdfbd8b494863567&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;alarm_id</span> <span class="na">nil=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;name&gt;</span>SwiftObjectAlarm<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;description&gt;</span>An alarm<span class="nt">&lt;/description&gt;</span>
  <span class="nt">&lt;enabled&gt;</span>true<span class="nt">&lt;/enabled&gt;</span>
  <span class="nt">&lt;ok_actions&gt;</span>
    <span class="nt">&lt;item&gt;</span>http://site:8000/ok<span class="nt">&lt;/item&gt;</span>
  <span class="nt">&lt;/ok_actions&gt;</span>
  <span class="nt">&lt;alarm_actions&gt;</span>
    <span class="nt">&lt;item&gt;</span>http://site:8000/alarm<span class="nt">&lt;/item&gt;</span>
  <span class="nt">&lt;/alarm_actions&gt;</span>
  <span class="nt">&lt;insufficient_data_actions&gt;</span>
    <span class="nt">&lt;item&gt;</span>http://site:8000/nodata<span class="nt">&lt;/item&gt;</span>
  <span class="nt">&lt;/insufficient_data_actions&gt;</span>
  <span class="nt">&lt;repeat_actions&gt;</span>false<span class="nt">&lt;/repeat_actions&gt;</span>
  <span class="nt">&lt;type&gt;</span>combination<span class="nt">&lt;/type&gt;</span>
  <span class="nt">&lt;time_constraints&gt;</span>
    <span class="nt">&lt;item&gt;</span>
      <span class="nt">&lt;name&gt;</span>SampleConstraint<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;description&gt;</span>nightly build every night at 23h for 3 hours<span class="nt">&lt;/description&gt;</span>
      <span class="nt">&lt;start&gt;</span>0 23 * * *<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;duration&gt;</span>10800<span class="nt">&lt;/duration&gt;</span>
      <span class="nt">&lt;timezone&gt;</span>Europe/Ljubljana<span class="nt">&lt;/timezone&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
  <span class="nt">&lt;/time_constraints&gt;</span>
  <span class="nt">&lt;project_id&gt;</span>c96c887c216949acbdfbd8b494863567<span class="nt">&lt;/project_id&gt;</span>
  <span class="nt">&lt;user_id&gt;</span>c96c887c216949acbdfbd8b494863567<span class="nt">&lt;/user_id&gt;</span>
  <span class="nt">&lt;timestamp&gt;</span>2015-01-01T12:00:00<span class="nt">&lt;/timestamp&gt;</span>
  <span class="nt">&lt;state&gt;</span>ok<span class="nt">&lt;/state&gt;</span>
  <span class="nt">&lt;state_timestamp&gt;</span>2015-01-01T12:00:00<span class="nt">&lt;/state_timestamp&gt;</span>
  <span class="nt">&lt;severity&gt;</span>moderate<span class="nt">&lt;/severity&gt;</span>
  <span class="nt">&lt;combination_rule&gt;</span>
    <span class="nt">&lt;operator&gt;</span>or<span class="nt">&lt;/operator&gt;</span>
    <span class="nt">&lt;alarm_ids&gt;</span>
      <span class="nt">&lt;item&gt;</span>739e99cb-c2ec-4718-b900-332502355f38<span class="nt">&lt;/item&gt;</span>
      <span class="nt">&lt;item&gt;</span>153462d0-a9b8-4b5b-8175-9e4b05e9b856<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;/alarm_ids&gt;</span>
  <span class="nt">&lt;/combination_rule&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.alarm_actions">
<tt class="descname">alarm_actions</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.alarm_actions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list(unicode)</td>
</tr>
</tbody>
</table>
<p>The actions to do when alarm state change to alarm</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.alarm_id">
<tt class="descname">alarm_id</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.alarm_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The UUID of the alarm</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.description">
<tt class="descname">description</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.description" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The description of the alarm</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.enabled">
<tt class="descname">enabled</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.enabled" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>This alarm is enabled?</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.insufficient_data_actions">
<tt class="descname">insufficient_data_actions</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.insufficient_data_actions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list(unicode)</td>
</tr>
</tbody>
</table>
<p>The actions to do when alarm state change to insufficient data</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.name">
<tt class="descname">name</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The name for the alarm</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.ok_actions">
<tt class="descname">ok_actions</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.ok_actions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list(unicode)</td>
</tr>
</tbody>
</table>
<p>The actions to do when alarm state change to ok</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.project_id">
<tt class="descname">project_id</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.project_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The ID of the project or tenant that owns the alarm</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.repeat_actions">
<tt class="descname">repeat_actions</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.repeat_actions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>The actions should be re-triggered on each evaluation cycle</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.severity">
<tt class="descname">severity</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.severity" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Enum(low, moderate, critical)</td>
</tr>
</tbody>
</table>
<p>The severity of the alarm</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.state">
<tt class="descname">state</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.state" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Enum(ok, alarm, insufficient data)</td>
</tr>
</tbody>
</table>
<p>The state offset the alarm</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.state_timestamp">
<tt class="descname">state_timestamp</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.state_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">datetime</td>
</tr>
</tbody>
</table>
<p>The date of the last alarm state changed</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.time_constraints">
<tt class="descname">time_constraints</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.time_constraints" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list(AlarmTimeConstraint)</td>
</tr>
</tbody>
</table>
<p>Describe time constraints for the alarm</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.timestamp">
<tt class="descname">timestamp</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">datetime</td>
</tr>
</tbody>
</table>
<p>The date of the last alarm definition update</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.type">
<tt class="descname">type</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Enum(gnocchi_aggregation_by_metrics_threshold, combination, composite, gnocchi_resources_threshold, gnocchi_aggregation_by_resources_threshold, threshold, event)</td>
</tr>
</tbody>
</table>
<p>Explicit type specifier to select which rule to follow below.</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.Alarm.user_id">
<tt class="descname">user_id</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.Alarm.user_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The ID of the user who created the alarm</p>
</dd></dl>

</dd></dl>

<dl class="type">
<dt id="AlarmThresholdRule">
<em class="property">type </em><tt class="descname">AlarmThresholdRule</tt><a class="headerlink" href="#AlarmThresholdRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Alarm Threshold Rule</p>
<p>Describe when to trigger the alarm based on computed statistics</p>
<p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;comparison_operator&quot;</span><span class="o">:</span> <span class="s2">&quot;gt&quot;</span><span class="p">,</span>
    <span class="s2">&quot;evaluation_periods&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;exclude_outliers&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">&quot;meter_name&quot;</span><span class="o">:</span> <span class="s2">&quot;cpu_util&quot;</span><span class="p">,</span>
    <span class="s2">&quot;period&quot;</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;resource_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;eq&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;2a4d689b-f0b8-49c1-9eef-87cae58d80db&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;statistic&quot;</span><span class="o">:</span> <span class="s2">&quot;avg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;threshold&quot;</span><span class="o">:</span> <span class="mf">300.0</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;meter_name&gt;</span>cpu_util<span class="nt">&lt;/meter_name&gt;</span>
  <span class="nt">&lt;query&gt;</span>
    <span class="nt">&lt;item&gt;</span>
      <span class="nt">&lt;field&gt;</span>resource_id<span class="nt">&lt;/field&gt;</span>
      <span class="nt">&lt;op&gt;</span>eq<span class="nt">&lt;/op&gt;</span>
      <span class="nt">&lt;value&gt;</span>2a4d689b-f0b8-49c1-9eef-87cae58d80db<span class="nt">&lt;/value&gt;</span>
      <span class="nt">&lt;type&gt;</span>string<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
  <span class="nt">&lt;/query&gt;</span>
  <span class="nt">&lt;period&gt;</span>60<span class="nt">&lt;/period&gt;</span>
  <span class="nt">&lt;comparison_operator&gt;</span>gt<span class="nt">&lt;/comparison_operator&gt;</span>
  <span class="nt">&lt;threshold&gt;</span>300.0<span class="nt">&lt;/threshold&gt;</span>
  <span class="nt">&lt;statistic&gt;</span>avg<span class="nt">&lt;/statistic&gt;</span>
  <span class="nt">&lt;evaluation_periods&gt;</span>1<span class="nt">&lt;/evaluation_periods&gt;</span>
  <span class="nt">&lt;exclude_outliers&gt;</span>false<span class="nt">&lt;/exclude_outliers&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.comparison_operator">
<tt class="descname">comparison_operator</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.comparison_operator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Enum(lt, le, eq, ne, ge, gt)</td>
</tr>
</tbody>
</table>
<p>The comparison against the alarm threshold</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.evaluation_periods">
<tt class="descname">evaluation_periods</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.evaluation_periods" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
<p>The number of historical periods to evaluate the threshold</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.exclude_outliers">
<tt class="descname">exclude_outliers</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.exclude_outliers" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>Whether datapoints with anomalously low sample counts are excluded</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.meter_name">
<tt class="descname">meter_name</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.meter_name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The name of the meter</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.period">
<tt class="descname">period</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.period" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
<p>The time range in seconds over which query</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.query">
<tt class="descname">query</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.query" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list(Query)</td>
</tr>
</tbody>
</table>
<p>The query to find the data for computing statistics.
Ownership settings are automatically included based on the Alarm owner.</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.statistic">
<tt class="descname">statistic</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.statistic" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Enum(max, min, avg, sum, count)</td>
</tr>
</tbody>
</table>
<p>The statistic to compare to the threshold</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.threshold">
<tt class="descname">threshold</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.threshold.AlarmThresholdRule.threshold" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
<p>The threshold of the alarm</p>
</dd></dl>

</dd></dl>

<dl class="type">
<dt id="AlarmCombinationRule">
<em class="property">type </em><tt class="descname">AlarmCombinationRule</tt><a class="headerlink" href="#AlarmCombinationRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Alarm Combination Rule</p>
<p>Describe when to trigger the alarm based on combining the state of
other alarms.</p>
<p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;alarm_ids&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;739e99cb-c2ec-4718-b900-332502355f38&quot;</span><span class="p">,</span>
        <span class="s2">&quot;153462d0-a9b8-4b5b-8175-9e4b05e9b856&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;operator&quot;</span><span class="o">:</span> <span class="s2">&quot;or&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;operator&gt;</span>or<span class="nt">&lt;/operator&gt;</span>
  <span class="nt">&lt;alarm_ids&gt;</span>
    <span class="nt">&lt;item&gt;</span>739e99cb-c2ec-4718-b900-332502355f38<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;item&gt;</span>153462d0-a9b8-4b5b-8175-9e4b05e9b856<span class="nt">&lt;/item&gt;</span>
  <span class="nt">&lt;/alarm_ids&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.combination.AlarmCombinationRule.alarm_ids">
<tt class="descname">alarm_ids</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.combination.AlarmCombinationRule.alarm_ids" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list(unicode)</td>
</tr>
</tbody>
</table>
<p>List of alarm identifiers to combine</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.combination.AlarmCombinationRule.operator">
<tt class="descname">operator</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.combination.AlarmCombinationRule.operator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Enum(or, and)</td>
</tr>
</tbody>
</table>
<p>How to combine the sub-alarms</p>
</dd></dl>

</dd></dl>

<dl class="type">
<dt id="MetricOfResourceRule">
<em class="property">type </em><tt class="descname">MetricOfResourceRule</tt><a class="headerlink" href="#MetricOfResourceRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;comparison_operator&quot;</span><span class="o">:</span> <span class="s2">&quot;eq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;evaluation_periods&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;granularity&quot;</span><span class="o">:</span> <span class="mi">60</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;comparison_operator&gt;</span>eq<span class="nt">&lt;/comparison_operator&gt;</span>
  <span class="nt">&lt;evaluation_periods&gt;</span>1<span class="nt">&lt;/evaluation_periods&gt;</span>
  <span class="nt">&lt;granularity&gt;</span>60<span class="nt">&lt;/granularity&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.gnocchi.MetricOfResourceRule.metric">
<tt class="descname">metric</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.gnocchi.MetricOfResourceRule.metric" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The name of the metric</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.gnocchi.MetricOfResourceRule.resource_id">
<tt class="descname">resource_id</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.gnocchi.MetricOfResourceRule.resource_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The id of a resource</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.gnocchi.MetricOfResourceRule.resource_type">
<tt class="descname">resource_type</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.gnocchi.MetricOfResourceRule.resource_type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The resource type</p>
</dd></dl>

</dd></dl>

<dl class="type">
<dt id="AggregationMetricByResourcesLookupRule">
<em class="property">type </em><tt class="descname">AggregationMetricByResourcesLookupRule</tt><a class="headerlink" href="#AggregationMetricByResourcesLookupRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;comparison_operator&quot;</span><span class="o">:</span> <span class="s2">&quot;eq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;evaluation_periods&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;granularity&quot;</span><span class="o">:</span> <span class="mi">60</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;comparison_operator&gt;</span>eq<span class="nt">&lt;/comparison_operator&gt;</span>
  <span class="nt">&lt;evaluation_periods&gt;</span>1<span class="nt">&lt;/evaluation_periods&gt;</span>
  <span class="nt">&lt;granularity&gt;</span>60<span class="nt">&lt;/granularity&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.gnocchi.AggregationMetricByResourcesLookupRule.metric">
<tt class="descname">metric</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.gnocchi.AggregationMetricByResourcesLookupRule.metric" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The name of the metric</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.gnocchi.AggregationMetricByResourcesLookupRule.resource_type">
<tt class="descname">resource_type</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.gnocchi.AggregationMetricByResourcesLookupRule.resource_type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The resource type</p>
</dd></dl>

</dd></dl>

<dl class="type">
<dt id="AggregationMetricsByIdLookupRule">
<em class="property">type </em><tt class="descname">AggregationMetricsByIdLookupRule</tt><a class="headerlink" href="#AggregationMetricsByIdLookupRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;comparison_operator&quot;</span><span class="o">:</span> <span class="s2">&quot;eq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;evaluation_periods&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;granularity&quot;</span><span class="o">:</span> <span class="mi">60</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;comparison_operator&gt;</span>eq<span class="nt">&lt;/comparison_operator&gt;</span>
  <span class="nt">&lt;evaluation_periods&gt;</span>1<span class="nt">&lt;/evaluation_periods&gt;</span>
  <span class="nt">&lt;granularity&gt;</span>60<span class="nt">&lt;/granularity&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarm_rules.gnocchi.AggregationMetricsByIdLookupRule.metrics">
<tt class="descname">metrics</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarm_rules.gnocchi.AggregationMetricsByIdLookupRule.metrics" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list(unicode)</td>
</tr>
</tbody>
</table>
<p>A list of metric Ids</p>
</dd></dl>

</dd></dl>

<dl class="type">
<dt id="AlarmTimeConstraint">
<em class="property">type </em><tt class="descname">AlarmTimeConstraint</tt><a class="headerlink" href="#AlarmTimeConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a time constraint on an alarm.</p>
<p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;nightly build every night at 23h for 3 hours&quot;</span><span class="p">,</span>
    <span class="s2">&quot;duration&quot;</span><span class="o">:</span> <span class="mi">10800</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;SampleConstraint&quot;</span><span class="p">,</span>
    <span class="s2">&quot;start&quot;</span><span class="o">:</span> <span class="s2">&quot;0 23 * * *&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timezone&quot;</span><span class="o">:</span> <span class="s2">&quot;Europe/Ljubljana&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;name&gt;</span>SampleConstraint<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;description&gt;</span>nightly build every night at 23h for 3 hours<span class="nt">&lt;/description&gt;</span>
  <span class="nt">&lt;start&gt;</span>0 23 * * *<span class="nt">&lt;/start&gt;</span>
  <span class="nt">&lt;duration&gt;</span>10800<span class="nt">&lt;/duration&gt;</span>
  <span class="nt">&lt;timezone&gt;</span>Europe/Ljubljana<span class="nt">&lt;/timezone&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmTimeConstraint.description">
<tt class="descname">description</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmTimeConstraint.description" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The description of the constraint</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmTimeConstraint.duration">
<tt class="descname">duration</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmTimeConstraint.duration" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
<p>How long the constraint should last, in seconds</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmTimeConstraint.name">
<tt class="descname">name</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmTimeConstraint.name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The name of the constraint</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmTimeConstraint.start">
<tt class="descname">start</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmTimeConstraint.start" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">cron</td>
</tr>
</tbody>
</table>
<p>Start point of the time constraint, in cron format</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmTimeConstraint.timezone">
<tt class="descname">timezone</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmTimeConstraint.timezone" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Timezone of the constraint</p>
</dd></dl>

</dd></dl>

<dl class="type">
<dt id="AlarmChange">
<em class="property">type </em><tt class="descname">AlarmChange</tt><a class="headerlink" href="#AlarmChange" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of an event in an alarm&#8217;s history.</p>
<p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;alarm_id&quot;</span><span class="o">:</span> <span class="s2">&quot;e8ff32f772a44a478182c3fe1f7cad6a&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detail&quot;</span><span class="o">:</span> <span class="s2">&quot;{\&quot;threshold\&quot;: 42.0, \&quot;evaluation_periods\&quot;: 4}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;on_behalf_of&quot;</span><span class="o">:</span> <span class="s2">&quot;92159030020611e3b26dde429e99ee8c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;project_id&quot;</span><span class="o">:</span> <span class="s2">&quot;b6f16144010811e387e4de429e99ee8c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2015-01-01T12:00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;rule change&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_id&quot;</span><span class="o">:</span> <span class="s2">&quot;3e5d11fda79448ac99ccefb20be187ca&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;alarm_id&gt;</span>e8ff32f772a44a478182c3fe1f7cad6a<span class="nt">&lt;/alarm_id&gt;</span>
  <span class="nt">&lt;type&gt;</span>rule change<span class="nt">&lt;/type&gt;</span>
  <span class="nt">&lt;detail&gt;</span>{&quot;threshold&quot;: 42.0, &quot;evaluation_periods&quot;: 4}<span class="nt">&lt;/detail&gt;</span>
  <span class="nt">&lt;project_id&gt;</span>b6f16144010811e387e4de429e99ee8c<span class="nt">&lt;/project_id&gt;</span>
  <span class="nt">&lt;user_id&gt;</span>3e5d11fda79448ac99ccefb20be187ca<span class="nt">&lt;/user_id&gt;</span>
  <span class="nt">&lt;on_behalf_of&gt;</span>92159030020611e3b26dde429e99ee8c<span class="nt">&lt;/on_behalf_of&gt;</span>
  <span class="nt">&lt;timestamp&gt;</span>2015-01-01T12:00:00<span class="nt">&lt;/timestamp&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmChange.alarm_id">
<tt class="descname">alarm_id</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmChange.alarm_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The UUID of the alarm</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmChange.detail">
<tt class="descname">detail</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmChange.detail" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>JSON fragment describing change</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmChange.event_id">
<tt class="descname">event_id</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmChange.event_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The UUID of the change event</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmChange.on_behalf_of">
<tt class="descname">on_behalf_of</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmChange.on_behalf_of" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The tenant on behalf of which the change is being made</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmChange.project_id">
<tt class="descname">project_id</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmChange.project_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The project ID of the initiating identity</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmChange.timestamp">
<tt class="descname">timestamp</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmChange.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">datetime</td>
</tr>
</tbody>
</table>
<p>The time/date of the alarm change</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmChange.type">
<tt class="descname">type</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmChange.type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Enum(creation, rule change, state transition, deletion)</td>
</tr>
</tbody>
</table>
<p>The type of change</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.alarms.AlarmChange.user_id">
<tt class="descname">user_id</tt><a class="headerlink" href="#aodh.api.controllers.v2.alarms.AlarmChange.user_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The user ID of the initiating identity</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="filtering-queries">
<h2>Filtering Queries<a class="headerlink" href="#filtering-queries" title="Permalink to this headline">¶</a></h2>
<p>The filter expressions of the query feature operate on the fields of <em>Alarm</em>
and <em>AlarmChange</em>. The following comparison operators are supported: <em>=</em>, <em>!=</em>,
<em>&lt;</em>, <em>&lt;=</em>, <em>&gt;</em>, <em>&gt;=</em> and <em>in</em>; and the following logical operators can be used:
<em>and</em> <em>or</em> and <em>not</em>. The field names are validated against the database
models.</p>
<p>Complex Query supports defining the list of orderby expressions in the form
of [{&#8220;field_name&#8221;: &#8220;asc&#8221;}, {&#8220;field_name2&#8221;: &#8220;desc&#8221;}, ...].</p>
<p>The number of the returned items can be bounded using the <em>limit</em> option.</p>
<p>The <em>filter</em>, <em>orderby</em> and <em>limit</em> are all optional fields in a query.</p>
<dl class="post">
<dt id="post--v2-query-alarms">
<tt class="descname">POST </tt><tt class="descname">/v2/query/alarms</tt><a class="headerlink" href="#post--v2-query-alarms" title="Permalink to this definition">¶</a></dt>
<dd><p>Define query for retrieving Alarm data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>body</strong> (<a class="reference internal" href="#ComplexQuery" title="ComplexQuery"><tt class="xref py py-class docutils literal"><span class="pre">ComplexQuery</span></tt></a>) &#8211; Query rules for the alarms to be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(<a class="reference internal" href="#Alarm" title="Alarm"><tt class="xref py py-class docutils literal"><span class="pre">Alarm</span></tt></a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--v2-query-alarms-history">
<tt class="descname">POST </tt><tt class="descname">/v2/query/alarms/history</tt><a class="headerlink" href="#post--v2-query-alarms-history" title="Permalink to this definition">¶</a></dt>
<dd><p>Define query for retrieving AlarmChange data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>body</strong> (<a class="reference internal" href="#ComplexQuery" title="ComplexQuery"><tt class="xref py py-class docutils literal"><span class="pre">ComplexQuery</span></tt></a>) &#8211; Query rules for the alarm history to be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(<a class="reference internal" href="#AlarmChange" title="AlarmChange"><tt class="xref py py-class docutils literal"><span class="pre">AlarmChange</span></tt></a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="type">
<dt id="ComplexQuery">
<em class="property">type </em><tt class="descname">ComplexQuery</tt><a class="headerlink" href="#ComplexQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds a sample query encoded in json.</p>
<p>Data samples:</p>
<dl class="toggle docutils">
<dt>Json</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;filter&quot;</span><span class="o">:</span> <span class="s2">&quot;{\&quot;and\&quot;: [{\&quot;and\&quot;: [{\&quot;=\&quot;: {\&quot;counter_name\&quot;: \&quot;cpu_util\&quot;}}, {\&quot;&gt;\&quot;: {\&quot;counter_volume\&quot;: 0.23}}, {\&quot;&lt;\&quot;: {\&quot;counter_volume\&quot;: 0.26}}]}, {\&quot;or\&quot;: [{\&quot;and\&quot;: [{\&quot;&gt;\&quot;: {\&quot;timestamp\&quot;: \&quot;2013-12-01T18:00:00\&quot;}}, {\&quot;&lt;\&quot;: {\&quot;timestamp\&quot;: \&quot;2013-12-01T18:15:00\&quot;}}]}, {\&quot;and\&quot;: [{\&quot;&gt;\&quot;: {\&quot;timestamp\&quot;: \&quot;2013-12-01T18:30:00\&quot;}}, {\&quot;&lt;\&quot;: {\&quot;timestamp\&quot;: \&quot;2013-12-01T18:45:00\&quot;}}]}]}]}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;limit&quot;</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s2">&quot;orderby&quot;</span><span class="o">:</span> <span class="s2">&quot;[{\&quot;counter_volume\&quot;: \&quot;ASC\&quot;}, {\&quot;timestamp\&quot;: \&quot;DESC\&quot;}]&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>XML</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;value&gt;</span>
  <span class="nt">&lt;filter&gt;</span>{&quot;and&quot;: [{&quot;and&quot;: [{&quot;=&quot;: {&quot;counter_name&quot;: &quot;cpu_util&quot;}}, {&quot;<span class="ni">&amp;gt;</span>&quot;: {&quot;counter_volume&quot;: 0.23}}, {&quot;<span class="ni">&amp;lt;</span>&quot;: {&quot;counter_volume&quot;: 0.26}}]}, {&quot;or&quot;: [{&quot;and&quot;: [{&quot;<span class="ni">&amp;gt;</span>&quot;: {&quot;timestamp&quot;: &quot;2013-12-01T18:00:00&quot;}}, {&quot;<span class="ni">&amp;lt;</span>&quot;: {&quot;timestamp&quot;: &quot;2013-12-01T18:15:00&quot;}}]}, {&quot;and&quot;: [{&quot;<span class="ni">&amp;gt;</span>&quot;: {&quot;timestamp&quot;: &quot;2013-12-01T18:30:00&quot;}}, {&quot;<span class="ni">&amp;lt;</span>&quot;: {&quot;timestamp&quot;: &quot;2013-12-01T18:45:00&quot;}}]}]}]}<span class="nt">&lt;/filter&gt;</span>
  <span class="nt">&lt;orderby&gt;</span>[{&quot;counter_volume&quot;: &quot;ASC&quot;}, {&quot;timestamp&quot;: &quot;DESC&quot;}]<span class="nt">&lt;/orderby&gt;</span>
  <span class="nt">&lt;limit&gt;</span>42<span class="nt">&lt;/limit&gt;</span>
<span class="nt">&lt;/value&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="aodh.api.controllers.v2.query.ComplexQuery.filter">
<tt class="descname">filter</tt><a class="headerlink" href="#aodh.api.controllers.v2.query.ComplexQuery.filter" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The filter expression encoded in json.</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.query.ComplexQuery.limit">
<tt class="descname">limit</tt><a class="headerlink" href="#aodh.api.controllers.v2.query.ComplexQuery.limit" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>The maximum number of results to be returned.</p>
</dd></dl>

<dl class="attribute">
<dt id="aodh.api.controllers.v2.query.ComplexQuery.orderby">
<tt class="descname">orderby</tt><a class="headerlink" href="#aodh.api.controllers.v2.query.ComplexQuery.orderby" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>List of single-element dicts for specifing the ordering of the results.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="composite-rule-alarm">
<h2>Composite rule Alarm<a class="headerlink" href="#composite-rule-alarm" title="Permalink to this headline">¶</a></h2>
<p>The <em>composite</em> type alarm allows users to specify a composite rule to define
an alarm with multiple triggering conditions, using a combination of <em>and</em> and
<em>or</em> relations. A composite rule is composed of multiple threshold rules or
gnocchi rules. A sample composite alarm request form is as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_composite&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;composite&quot;</span><span class="p">,</span>
    <span class="s2">&quot;composite_rule&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;and&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">THRESHOLD_RULE1</span><span class="p">,</span> <span class="n">THRESHOLD_RULE2</span><span class="p">,</span> <span class="p">{</span>
            <span class="s1">&#39;or&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">THRESHOLD_RULE3</span><span class="p">,</span> <span class="n">GNOCCHI_RULE1</span><span class="p">,</span>
                   <span class="n">GNOCCHI_RULE2</span><span class="p">,</span> <span class="n">GNOCCHI_RULE3</span><span class="p">]</span>
        <span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A sub-rule in composite_rule is same as a threshold_rule in threshold alarm
or a gnocchi_rule in gnocchi alarm. Additionally it has a mandatory <em>type</em>
field to specify the rule type, like in the following sample:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;threshold&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
    <span class="s2">&quot;meter_name&quot;</span><span class="p">:</span> <span class="s2">&quot;cpu_util&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;threshold&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">V2 Web API</a><ul>
<li><a class="reference internal" href="#capabilities">Capabilities</a></li>
<li><a class="reference internal" href="#alarms">Alarms</a></li>
<li><a class="reference internal" href="#filtering-queries">Filtering Queries</a></li>
<li><a class="reference internal" href="#composite-rule-alarm">Composite rule Alarm</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="index.html"
                                  title="previous chapter">Web API</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../install/index.html"
                                  title="next chapter">Installing Aodh</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/aodh
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/webapi/v2.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../install/index.html" title="Installing Aodh"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Web API"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Aodh 4.0.1.dev9 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Web API</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2015, OpenStack Foundation.
      Last updated on &#39;Mon Feb 13 04:08:31 2017, commit 8f3aabf&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Aodh");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>