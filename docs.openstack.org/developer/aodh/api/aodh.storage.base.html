<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The aodh.storage.base Module &mdash; Aodh 4.0.1.dev9 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/toggle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0.1.dev9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/toggle.js"></script>
    <link rel="top" title="Aodh 4.0.1.dev9 documentation" href="../index.html" />
    <link rel="up" title="&lt;no title&gt;" href="autoindex.html" />
    <link rel="next" title="The aodh.storage.impl_log Module" href="aodh.storage.impl_log.html" />
    <link rel="prev" title="The aodh.service Module" href="aodh.service.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-aodh.storage.base">
<span id="the-aodh-storage-base-module"></span><h1>The <a class="reference internal" href="#module-aodh.storage.base" title="aodh.storage.base"><tt class="xref py py-mod docutils literal"><span class="pre">aodh.storage.base</span></tt></a> Module<a class="headerlink" href="#module-aodh.storage.base" title="Permalink to this headline">¶</a></h1>
<p>Base classes for storage engines</p>
<dl class="class">
<dt id="aodh.storage.base.Connection">
<em class="property">class </em><tt class="descclassname">aodh.storage.base.</tt><tt class="descname">Connection</tt><big>(</big><em>conf</em>, <em>url</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for alarm storage system connections.</p>
<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.clear">
<em class="property">static </em><tt class="descname">clear</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear database.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.clear_expired_alarm_history_data">
<em class="property">static </em><tt class="descname">clear_expired_alarm_history_data</tt><big>(</big><em>alarm_history_ttl</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.clear_expired_alarm_history_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.clear_expired_alarm_history_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear expired alarm history data from the backend storage system.</p>
<p>Clearing occurs according to the time-to-live.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alarm_history_ttl</strong> &#8211; Number of seconds to keep alarm history
records for.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.create_alarm">
<em class="property">static </em><tt class="descname">create_alarm</tt><big>(</big><em>alarm</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.create_alarm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.create_alarm" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an alarm. Returns the alarm as created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alarm</strong> &#8211; The alarm to create.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.delete_alarm">
<em class="property">static </em><tt class="descname">delete_alarm</tt><big>(</big><em>alarm_id</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.delete_alarm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.delete_alarm" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an alarm and its history data.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.get_alarm_changes">
<em class="property">static </em><tt class="descname">get_alarm_changes</tt><big>(</big><em>alarm_id</em>, <em>on_behalf_of</em>, <em>user=None</em>, <em>project=None</em>, <em>alarm_type=None</em>, <em>severity=None</em>, <em>start_timestamp=None</em>, <em>start_timestamp_op=None</em>, <em>end_timestamp=None</em>, <em>end_timestamp_op=None</em>, <em>pagination=None</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.get_alarm_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.get_alarm_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields list of AlarmChanges describing alarm history</p>
<p>Changes are always sorted in reverse order of occurrence, given
the importance of currency.</p>
<p>Segregation for non-administrative users is done on the basis
of the on_behalf_of parameter. This allows such users to have
visibility on both the changes initiated by themselves directly
(generally creation, rule changes, or deletion) and also on those
changes initiated on their behalf by the alarming service (state
transitions after alarm thresholds are crossed).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alarm_id</strong> &#8211; ID of alarm to return changes for</li>
<li><strong>on_behalf_of</strong> &#8211; ID of tenant to scope changes query (None for
administrative user, indicating all projects)</li>
<li><strong>user</strong> &#8211; Optional ID of user to return changes for</li>
<li><strong>project</strong> &#8211; Optional ID of project to return changes for</li>
<li><strong>alarm_type</strong> &#8211; Optional change type</li>
<li><strong>severity</strong> &#8211; Optional change severity</li>
<li><strong>start_timestamp</strong> &#8211; Optional modified timestamp start range</li>
<li><strong>start_timestamp_op</strong> &#8211; Optional timestamp start range operation</li>
<li><strong>end_timestamp</strong> &#8211; Optional modified timestamp end range</li>
<li><strong>end_timestamp_op</strong> &#8211; Optional timestamp end range operation</li>
<li><strong>pagination</strong> &#8211; Pagination parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.get_alarms">
<em class="property">static </em><tt class="descname">get_alarms</tt><big>(</big><em>name=None</em>, <em>user=None</em>, <em>state=None</em>, <em>meter=None</em>, <em>project=None</em>, <em>enabled=None</em>, <em>alarm_id=None</em>, <em>alarm_type=None</em>, <em>severity=None</em>, <em>exclude=None</em>, <em>pagination=None</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.get_alarms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.get_alarms" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields a lists of alarms that match filters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; Optional name for alarm.</li>
<li><strong>user</strong> &#8211; Optional ID for user that owns the resource.</li>
<li><strong>state</strong> &#8211; Optional string for alarm state.</li>
<li><strong>meter</strong> &#8211; Optional string for alarms associated with meter.</li>
<li><strong>project</strong> &#8211; Optional ID for project that owns the resource.</li>
<li><strong>enabled</strong> &#8211; Optional boolean to list disable alarm.</li>
<li><strong>alarm_id</strong> &#8211; Optional alarm_id to return one alarm.</li>
<li><strong>alarm_type</strong> &#8211; Optional alarm type.</li>
<li><strong>severity</strong> &#8211; Optional alarm severity.</li>
<li><strong>exclude</strong> &#8211; Optional dict for inequality constraint.</li>
<li><strong>pagination</strong> &#8211; Pagination parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="aodh.storage.base.Connection.get_capabilities">
<em class="property">classmethod </em><tt class="descname">get_capabilities</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.get_capabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.get_capabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an dictionary with the capabilities of each driver.</p>
</dd></dl>

<dl class="classmethod">
<dt id="aodh.storage.base.Connection.get_storage_capabilities">
<em class="property">classmethod </em><tt class="descname">get_storage_capabilities</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.get_storage_capabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.get_storage_capabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary representing the performance capabilities.</p>
<p>This is needed to evaluate the performance of each driver.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.query_alarm_history">
<em class="property">static </em><tt class="descname">query_alarm_history</tt><big>(</big><em>filter_expr=None</em>, <em>orderby=None</em>, <em>limit=None</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.query_alarm_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.query_alarm_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterable of model.AlarmChange objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filter_expr</strong> &#8211; Filter expression for query.</li>
<li><strong>orderby</strong> &#8211; List of field name and direction pairs for order by.</li>
<li><strong>limit</strong> &#8211; Maximum number of results to return.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.query_alarms">
<em class="property">static </em><tt class="descname">query_alarms</tt><big>(</big><em>filter_expr=None</em>, <em>orderby=None</em>, <em>limit=None</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.query_alarms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.query_alarms" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterable of model.Alarm objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filter_expr</strong> &#8211; Filter expression for query.</li>
<li><strong>orderby</strong> &#8211; List of field name and direction pairs for order by.</li>
<li><strong>limit</strong> &#8211; Maximum number of results to return.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.record_alarm_change">
<em class="property">static </em><tt class="descname">record_alarm_change</tt><big>(</big><em>alarm_change</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.record_alarm_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.record_alarm_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Record alarm change event.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.update_alarm">
<em class="property">static </em><tt class="descname">update_alarm</tt><big>(</big><em>alarm</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.update_alarm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.update_alarm" title="Permalink to this definition">¶</a></dt>
<dd><p>Update alarm.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="aodh.storage.base.Connection.upgrade">
<em class="property">static </em><tt class="descname">upgrade</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Connection.upgrade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Connection.upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Migrate the database to <cite>version</cite> or the most recent version.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="aodh.storage.base.Model">
<em class="property">class </em><tt class="descclassname">aodh.storage.base.</tt><tt class="descname">Model</tt><big>(</big><em>**kwds</em><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for storage API models.</p>
<dl class="method">
<dt id="aodh.storage.base.Model.as_dict">
<tt class="descname">as_dict</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Model.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Model.as_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="aodh.storage.base.Model.get_field_names">
<em class="property">classmethod </em><tt class="descname">get_field_names</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/aodh/storage/base.html#Model.get_field_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aodh.storage.base.Model.get_field_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="aodh.service.html"
                                  title="previous chapter">The <tt class="docutils literal"><span class="pre">aodh.service</span></tt> Module</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="aodh.storage.impl_log.html"
                                  title="next chapter">The <tt class="docutils literal"><span class="pre">aodh.storage.impl_log</span></tt> Module</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/aodh
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/aodh.storage.base.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="aodh.storage.impl_log.html" title="The aodh.storage.impl_log Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="aodh.service.html" title="The aodh.service Module"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Aodh 4.0.1.dev9 documentation</a> &raquo;</li>
          <li><a href="index.html" >Source Code Index</a> &raquo;</li>
          <li><a href="autoindex.html" accesskey="U">&lt;no title&gt;</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2015, OpenStack Foundation.
      Last updated on &#39;Mon Feb 13 04:08:31 2017, commit 8f3aabf&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Aodh");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>