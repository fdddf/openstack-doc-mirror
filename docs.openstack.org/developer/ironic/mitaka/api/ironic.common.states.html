<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The ironic.common.states Module &mdash; ironic 5.1.3.dev21 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/toggle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.1.3.dev21',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/toggle.js"></script>
    <link rel="top" title="ironic 5.1.3.dev21 documentation" href="../index.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-ironic.common.states">
<span id="the-ironic-common-states-module"></span><h1>The <a class="reference internal" href="#module-ironic.common.states" title="ironic.common.states"><tt class="xref py py-mod docutils literal"><span class="pre">ironic.common.states</span></tt></a> Module<a class="headerlink" href="#module-ironic.common.states" title="Permalink to this headline">¶</a></h1>
<p>Mapping of bare metal node states.</p>
<p>Setting the node <cite>power_state</cite> is handled by the conductor&#8217;s power
synchronization thread. Based on the power state retrieved from the driver
for the node, the state is set to POWER_ON or POWER_OFF, accordingly.
Should this fail, the <cite>power_state</cite> value is left unchanged, and the node
is placed into maintenance mode.</p>
<p>The <cite>power_state</cite> can also be set manually via the API. A failure to change
the state leaves the current state unchanged. The node is NOT placed into
maintenance mode in this case.</p>
<dl class="data">
<dt id="ironic.common.states.ACTIVE">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">ACTIVE</tt><em class="property"> = 'active'</em><a class="headerlink" href="#ironic.common.states.ACTIVE" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is successfully deployed and associated with an instance.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.AVAILABLE">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">AVAILABLE</tt><em class="property"> = 'available'</em><a class="headerlink" href="#ironic.common.states.AVAILABLE" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is available for use and scheduling.</p>
<p>This state is replacing the NOSTATE state used prior to Kilo.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.CLEANFAIL">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">CLEANFAIL</tt><em class="property"> = 'clean failed'</em><a class="headerlink" href="#ironic.common.states.CLEANFAIL" title="Permalink to this definition">¶</a></dt>
<dd><p>Node failed cleaning. This requires operator intervention to resolve.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.CLEANING">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">CLEANING</tt><em class="property"> = 'cleaning'</em><a class="headerlink" href="#ironic.common.states.CLEANING" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is being automatically cleaned to prepare it for provisioning.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.CLEANWAIT">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">CLEANWAIT</tt><em class="property"> = 'clean wait'</em><a class="headerlink" href="#ironic.common.states.CLEANWAIT" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is waiting for a clean step to be finished.</p>
<p>This will be the node&#8217;s <cite>provision_state</cite> while the node is waiting for
the driver to finish a cleaning step.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.DELETED">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">DELETED</tt><em class="property"> = 'deleted'</em><a class="headerlink" href="#ironic.common.states.DELETED" title="Permalink to this definition">¶</a></dt>
<dd><p>Node tear down was successful.</p>
<p>In Juno, target_provision_state was set to this value during node tear down.</p>
<p>In Kilo, this will be a transitory value of provision_state, and never
represented in target_provision_state.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.DELETE_ALLOWED_STATES">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">DELETE_ALLOWED_STATES</tt><em class="property"> = ('available', None, 'manageable', 'enroll')</em><a class="headerlink" href="#ironic.common.states.DELETE_ALLOWED_STATES" title="Permalink to this definition">¶</a></dt>
<dd><p>States in which node deletion is allowed.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.DELETING">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">DELETING</tt><em class="property"> = 'deleting'</em><a class="headerlink" href="#ironic.common.states.DELETING" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is actively being torn down.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.DEPLOYDONE">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">DEPLOYDONE</tt><em class="property"> = 'deploy complete'</em><a class="headerlink" href="#ironic.common.states.DEPLOYDONE" title="Permalink to this definition">¶</a></dt>
<dd><p>Node was successfully deployed.</p>
<p>This is mainly a target provision state used during deployment. A successfully
deployed node should go to ACTIVE status.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.DEPLOYFAIL">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">DEPLOYFAIL</tt><em class="property"> = 'deploy failed'</em><a class="headerlink" href="#ironic.common.states.DEPLOYFAIL" title="Permalink to this definition">¶</a></dt>
<dd><p>Node deployment failed.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.DEPLOYING">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">DEPLOYING</tt><em class="property"> = 'deploying'</em><a class="headerlink" href="#ironic.common.states.DEPLOYING" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is ready to receive a deploy request, or is currently being deployed.</p>
<p>A node will have its <cite>provision_state</cite> set to DEPLOYING briefly before it
receives its initial deploy request. It will also move to this state from
DEPLOYWAIT after the callback is triggered and deployment is continued
(disk partitioning and image copying).</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.DEPLOYWAIT">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">DEPLOYWAIT</tt><em class="property"> = 'wait call-back'</em><a class="headerlink" href="#ironic.common.states.DEPLOYWAIT" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is waiting to be deployed.</p>
<p>This will be the node <cite>provision_state</cite> while the node is waiting for
the driver to finish deployment.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.ENROLL">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">ENROLL</tt><em class="property"> = 'enroll'</em><a class="headerlink" href="#ironic.common.states.ENROLL" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is enrolled.</p>
<p>This state indicates that Ironic is aware of a node, but is not managing it.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.ERROR">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">ERROR</tt><em class="property"> = 'error'</em><a class="headerlink" href="#ironic.common.states.ERROR" title="Permalink to this definition">¶</a></dt>
<dd><p>An error occurred during node processing.</p>
<p>The <cite>last_error</cite> attribute of the node details should contain an error message.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.INSPECTFAIL">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">INSPECTFAIL</tt><em class="property"> = 'inspect failed'</em><a class="headerlink" href="#ironic.common.states.INSPECTFAIL" title="Permalink to this definition">¶</a></dt>
<dd><p>Node inspection failed.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.INSPECTING">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">INSPECTING</tt><em class="property"> = 'inspecting'</em><a class="headerlink" href="#ironic.common.states.INSPECTING" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is under inspection.</p>
<p>This is the provision state used when inspection is started. A successfully
inspected node shall transition to MANAGEABLE status.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.MANAGEABLE">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">MANAGEABLE</tt><em class="property"> = 'manageable'</em><a class="headerlink" href="#ironic.common.states.MANAGEABLE" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is in a manageable state.</p>
<p>This state indicates that Ironic has verified, at least once, that it had
sufficient information to manage the hardware. While in this state, the node
is not available for provisioning (it must be in the AVAILABLE state for that).</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.NOSTATE">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">NOSTATE</tt><em class="property"> = None</em><a class="headerlink" href="#ironic.common.states.NOSTATE" title="Permalink to this definition">¶</a></dt>
<dd><p>No state information.</p>
<p>This state is used with power_state to represent a lack of knowledge of
power state, and in target_*_state fields when there is no target.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.POWER_OFF">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">POWER_OFF</tt><em class="property"> = 'power off'</em><a class="headerlink" href="#ironic.common.states.POWER_OFF" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is powered off.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.POWER_ON">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">POWER_ON</tt><em class="property"> = 'power on'</em><a class="headerlink" href="#ironic.common.states.POWER_ON" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is powered on.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.REBOOT">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">REBOOT</tt><em class="property"> = 'rebooting'</em><a class="headerlink" href="#ironic.common.states.REBOOT" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is rebooting.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.REBUILD">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">REBUILD</tt><em class="property"> = 'rebuild'</em><a class="headerlink" href="#ironic.common.states.REBUILD" title="Permalink to this definition">¶</a></dt>
<dd><p>Node is to be rebuilt.</p>
<p>This is not used as a state, but rather as a &#8220;verb&#8221; when changing the node&#8217;s
provision_state via the REST API.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.STABLE_STATES">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">STABLE_STATES</tt><em class="property"> = ('enroll', 'manageable', 'available', 'active', 'error')</em><a class="headerlink" href="#ironic.common.states.STABLE_STATES" title="Permalink to this definition">¶</a></dt>
<dd><p>States that will not transition unless receiving a request.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.UPDATE_ALLOWED_STATES">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">UPDATE_ALLOWED_STATES</tt><em class="property"> = ('deploy failed', 'inspecting', 'inspect failed', 'clean failed', 'error', 'verifying')</em><a class="headerlink" href="#ironic.common.states.UPDATE_ALLOWED_STATES" title="Permalink to this definition">¶</a></dt>
<dd><p>Transitional states in which we allow updating a node.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.VERBS">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">VERBS</tt><em class="property"> = {'inspect': 'inspect', 'deleted': 'delete', 'manage': 'manage', 'provide': 'provide', 'abort': 'abort', 'clean': 'clean', 'active': 'deploy'}</em><a class="headerlink" href="#ironic.common.states.VERBS" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of state-changing events that are PUT to the REST API</p>
<dl class="docutils">
<dt>This is a mapping of target states which are PUT to the API, eg,</dt>
<dd>PUT /v1/node/states/provision {&#8216;target&#8217;: &#8216;active&#8217;}</dd>
<dt>The dict format is:</dt>
<dd>{target string used by the API: internal verb}</dd>
</dl>
<p>This provides a reference set of supported actions, and in the future
may be used to support renaming these actions.</p>
</dd></dl>

<dl class="data">
<dt id="ironic.common.states.VERIFYING">
<tt class="descclassname">ironic.common.states.</tt><tt class="descname">VERIFYING</tt><em class="property"> = 'verifying'</em><a class="headerlink" href="#ironic.common.states.VERIFYING" title="Permalink to this definition">¶</a></dt>
<dd><p>Node power management credentials are being verified.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/ironic
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/ironic.common.states.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">ironic 5.1.3.dev21 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/ironic");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>