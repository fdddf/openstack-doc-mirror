<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>iLO drivers &mdash; Ironic 7.0.1.dev5 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/toggle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.1.dev5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/toggle.js"></script>
    <link rel="top" title="Ironic 7.0.1.dev5 documentation" href="../index.html" />
    <link rel="up" title="Enabling drivers" href="../deploy/drivers.html" />
    <link rel="next" title="iRMC drivers" href="irmc.html" />
    <link rel="prev" title="SNMP driver" href="snmp.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ilo-drivers">
<span id="ilo"></span><h1>iLO drivers<a class="headerlink" href="#ilo-drivers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>iLO drivers enable to take advantage of features of iLO management engine in
HPE ProLiant servers.  iLO drivers are targeted for HPE ProLiant Gen 8 systems
and above which have <a class="reference external" href="https://www.hpe.com/us/en/servers/integrated-lights-out-ilo.html">iLO 4 management engine</a>.</p>
<p>For more details, please refer the iLO driver document of Juno, Kilo and Liberty releases,
and for up-to-date information (like tested platforms, known issues, etc), please check the
<a class="reference external" href="https://wiki.openstack.org/wiki/Ironic/Drivers/iLODrivers">iLO driver wiki page</a>.</p>
<p>Currently there are 3 iLO drivers:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">iscsi_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">agent_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">pxe_ilo</span></code></li>
</ul>
<p>The <code class="docutils literal"><span class="pre">iscsi_ilo</span></code> and <code class="docutils literal"><span class="pre">agent_ilo</span></code> drivers provide security enhanced
PXE-less deployment by using iLO virtual media to boot up the bare metal node.
These drivers send management info through management channel and separates
it from data channel which is used for deployment.</p>
<p><code class="docutils literal"><span class="pre">iscsi_ilo</span></code> and <code class="docutils literal"><span class="pre">agent_ilo</span></code> drivers use deployment ramdisk
built from <code class="docutils literal"><span class="pre">diskimage-builder</span></code>. The <code class="docutils literal"><span class="pre">iscsi_ilo</span></code> driver deploys from
ironic conductor and supports both net-boot and local-boot of instance.
<code class="docutils literal"><span class="pre">agent_ilo</span></code> deploys from bare metal node and supports both net-boot
and local-boot of instance.</p>
<p><code class="docutils literal"><span class="pre">pxe_ilo</span></code> driver uses PXE/iSCSI for deployment (just like normal PXE driver)
and deploys from ironic conductor. Additionally it supports automatic setting of
requested boot mode from nova. This driver doesn&#8217;t require iLO Advanced license.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><a class="reference external" href="https://pypi.python.org/pypi/proliantutils">proliantutils</a> is a python package
which contains set of modules for managing HPE ProLiant hardware.</p>
<p>Install <code class="docutils literal"><span class="pre">proliantutils</span></code> module on the ironic conductor node. Minimum
version required is 2.2.0:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ pip install &quot;proliantutils&gt;=2.2.0&quot;
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">ipmitool</span></code> command must be present on the service node(s) where
<code class="docutils literal"><span class="pre">ironic-conductor</span></code> is running. On most distros, this is provided as part
of the <code class="docutils literal"><span class="pre">ipmitool</span></code> package. Refer to <a class="reference internal" href="#hardware-inspection-support">Hardware Inspection Support</a> for more
information on recommended version.</p>
</li>
</ul>
</div>
<div class="section" id="different-configuration-for-ilo-drivers">
<h2>Different Configuration for ilo drivers<a class="headerlink" href="#different-configuration-for-ilo-drivers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="glance-configuration">
<h3>Glance Configuration<a class="headerlink" href="#glance-configuration" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first"><a class="reference external" href="http://docs.openstack.org/developer/glance/configuring.html#configuring-the-swift-storage-backend">Configure Glance image service with its storage backend as Swift</a>.</p>
</li>
<li><p class="first">Set a temp-url key for Glance user in Swift. For example, if you have
configured Glance with user <code class="docutils literal"><span class="pre">glance-swift</span></code> and tenant as <code class="docutils literal"><span class="pre">service</span></code>,
then run the below command:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>swift --os-username=service:glance-swift post -m temp-url-key:mysecretkeyforglance
</pre></div>
</div>
</li>
<li><p class="first">Fill the required parameters in the <code class="docutils literal"><span class="pre">[glance]</span></code> section   in
<code class="docutils literal"><span class="pre">/etc/ironic/ironic.conf</span></code>. Normally you would be required to fill in the
following details:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>[glance]
swift_temp_url_key=mysecretkeyforglance
swift_endpoint_url=https://10.10.1.10:8080
swift_api_version=v1
swift_account=AUTH_51ea2fb400c34c9eb005ca945c0dc9e1
swift_container=glance
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>The details can be retrieved by running the below command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ swift --os-username<span class="o">=</span>service:glance-swift stat -v <span class="p">|</span> grep -i url

StorageURL:     http://10.10.1.10:8080/v1/AUTH_51ea2fb400c34c9eb005ca945c0dc9e1
Meta Temp-Url-Key: mysecretkeyforglance
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="4">
<li><p class="first">Swift must be accessible with the same admin credentials configured in
Ironic. For example, if Ironic is configured with the below credentials in
<code class="docutils literal"><span class="pre">/etc/ironic/ironic.conf</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">keystone_authtoken</span><span class="p">]</span>
<span class="n">admin_password</span> <span class="o">=</span> <span class="n">password</span>
<span class="n">admin_user</span> <span class="o">=</span> <span class="n">ironic</span>
<span class="n">admin_tenant_name</span> <span class="o">=</span> <span class="n">service</span>
</pre></div>
</div>
<p>Ensure <code class="docutils literal"><span class="pre">auth_version</span></code> in <code class="docutils literal"><span class="pre">keystone_authtoken</span></code> to 2.</p>
<p>Then, the below command should work.:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ swift --os-username ironic --os-password password --os-tenant-name service --auth-version <span class="m">2</span> stat

                     Account: AUTH_22af34365a104e4689c46400297f00cb
                  Containers: <span class="m">2</span>
                     Objects: <span class="m">18</span>
                       Bytes: <span class="m">1728346241</span>
Objects in policy <span class="s2">&quot;policy-0&quot;</span>: <span class="m">18</span>
  Bytes in policy <span class="s2">&quot;policy-0&quot;</span>: <span class="m">1728346241</span>
           Meta Temp-Url-Key: mysecretkeyforglance
                 X-Timestamp: <span class="m">1409763763</span>.84427
                  X-Trans-Id: tx51de96a28f27401eb2833-005433924b
                Content-Type: text/plain<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span>utf-8
               Accept-Ranges: bytes
</pre></div>
</div>
</li>
<li><p class="first">Restart the Ironic conductor service:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ service ironic-conductor restart
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="web-server-configuration-on-conductor">
<h3>Web server configuration on conductor<a class="headerlink" href="#web-server-configuration-on-conductor" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The HTTP(S) web server can be configured in many ways. For apache
web server on Ubuntu, refer <a class="reference external" href="https://help.ubuntu.com/lts/serverguide/httpd.html">here</a></p>
</li>
<li><p class="first">Following config variables need to be set in
<code class="docutils literal"><span class="pre">/etc/ironic/ironic.conf</span></code>:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">use_web_server_for_images</span></code> in <code class="docutils literal"><span class="pre">[ilo]</span></code> section:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ilo</span><span class="p">]</span>
<span class="n">use_web_server_for_images</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">http_url</span></code> and <code class="docutils literal"><span class="pre">http_root</span></code> in <code class="docutils literal"><span class="pre">[deploy]</span></code> section:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>[deploy]
# Ironic compute node&#39;s http root path. (string value)
http_root=/httpboot

# Ironic compute node&#39;s HTTP server URL. Example:
# http://192.1.2.3:8080 (string value)
http_url=http://192.168.0.2:8080
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
<p><code class="docutils literal"><span class="pre">use_web_server_for_images</span></code>: If the variable is set to <code class="docutils literal"><span class="pre">false</span></code>, <code class="docutils literal"><span class="pre">iscsi_ilo</span></code>
and <code class="docutils literal"><span class="pre">agent_ilo</span></code> uses swift containers to host the intermediate floppy
image and the boot ISO. If the variable is set to <code class="docutils literal"><span class="pre">true</span></code>, these drivers
uses the local web server for hosting the intermediate files. The default value
for <code class="docutils literal"><span class="pre">use_web_server_for_images</span></code> is False.</p>
<p><code class="docutils literal"><span class="pre">http_url</span></code>: The value for this variable is prefixed with the generated
intermediate files to generate a URL which is attached in the virtual media.</p>
<p><code class="docutils literal"><span class="pre">http_root</span></code>: It is the directory location to which ironic conductor copies
the intermediate floppy image and the boot ISO.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">HTTPS is strongly recommended over HTTP web server configuration for security
enhancement. The <code class="docutils literal"><span class="pre">iscsi_ilo</span></code> and <code class="docutils literal"><span class="pre">agent_ilo</span></code> will send the instance&#8217;s
configdrive over an encrypted channel if web server is HTTPS enabled.</p>
</div>
</div>
</div>
<div class="section" id="enable-driver">
<h2>Enable driver<a class="headerlink" href="#enable-driver" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Build a deploy ISO (and kernel and ramdisk) image, see <a class="reference internal" href="../deploy/install-guide.html#buildingdeployramdisk"><span>Building or downloading a deploy ramdisk image</span></a></p>
</li>
<li><p class="first">See <a class="reference internal" href="#glance-configuration">Glance Configuration</a> for configuring glance image service with its storage
backend as <code class="docutils literal"><span class="pre">swift</span></code>.</p>
</li>
<li><p class="first">Upload this image to Glance:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>glance image-create --name deploy-ramdisk.iso --disk-format iso --container-format bare &lt; deploy-ramdisk.iso
</pre></div>
</div>
</li>
<li><p class="first">Add the driver name to the list of <code class="docutils literal"><span class="pre">enabled_drivers</span></code> in
<code class="docutils literal"><span class="pre">/etc/ironic/ironic.conf</span></code>.  For example, for <cite>iscsi_ilo</cite> driver:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">enabled_drivers</span> <span class="o">=</span> <span class="n">fake</span><span class="p">,</span><span class="n">pxe_ssh</span><span class="p">,</span><span class="n">pxe_ipmitool</span><span class="p">,</span><span class="n">iscsi_ilo</span>
</pre></div>
</div>
<p>Similarly it can be added for <code class="docutils literal"><span class="pre">agent_ilo</span></code> and <code class="docutils literal"><span class="pre">pxe_ilo</span></code> drivers.</p>
</li>
<li><p class="first">Restart the ironic conductor service:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ service ironic-conductor restart
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="drivers">
<h2>Drivers<a class="headerlink" href="#drivers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="iscsi-ilo-driver">
<h3>iscsi_ilo driver<a class="headerlink" href="#iscsi-ilo-driver" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>Overview<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">iscsi_ilo</span></code> driver was introduced as an alternative to <code class="docutils literal"><span class="pre">pxe_ipmitool</span></code>
and <code class="docutils literal"><span class="pre">pxe_ipminative</span></code> drivers for HPE ProLiant servers. <code class="docutils literal"><span class="pre">iscsi_ilo</span></code> uses
virtual media feature in iLO to boot up the bare metal node instead of using
PXE or iPXE.</p>
</div>
<div class="section" id="target-users">
<h4>Target Users<a class="headerlink" href="#target-users" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Users who do not want to use PXE/TFTP protocol on their data centres.</p>
</li>
<li><p class="first">Users who have concerns with PXE protocol&#8217;s security issues and want to have a
security enhanced PXE-less deployment mechanism.</p>
<p>The PXE driver passes management information in clear-text to the
bare metal node.  However, if swift proxy server and glance have HTTPS
endpoints (See <a class="reference external" href="http://docs.openstack.org/project-install-guide/baremetal/draft/enabling-https.html#enabling-https-in-swift">Enabling HTTPS in Swift</a>, <a class="reference external" href="http://docs.openstack.org/project-install-guide/baremetal/draft/enabling-https.html#enabling-https-in-image-service">Enabling HTTPS in Image
service</a> for more information), the <code class="docutils literal"><span class="pre">iscsi_ilo</span></code> driver provides enhanced
security by exchanging management information with swift and glance
endpoints over HTTPS.  The management information, deploy ramdisk and boot
images for the instance will be retrieved over encrypted management network
via iLO virtual media.</p>
</li>
</ul>
</div>
<div class="section" id="tested-platforms">
<h4>Tested Platforms<a class="headerlink" href="#tested-platforms" title="Permalink to this headline">¶</a></h4>
<p>This driver should work on HPE ProLiant Gen7 Servers with iLO 3,
Gen8 Servers and above with iLO 4.
It has been tested with the following servers:</p>
<ul class="simple">
<li>ProLiant DL380 G7</li>
<li>ProLiant DL380e Gen8</li>
<li>ProLiant DL580 Gen8 UEFI</li>
<li>ProLiant DL180 Gen9 UEFI</li>
<li>ProLiant DL360 Gen9 UEFI</li>
<li>ProLiant DL380 Gen9 UEFI</li>
<li>ProLiant XL450 Gen9 UEFI</li>
</ul>
<p>For more up-to-date information on server platform support info, refer
<a class="reference external" href="https://wiki.openstack.org/wiki/Ironic/Drivers/iLODrivers">iLO driver wiki page</a>.</p>
</div>
<div class="section" id="features">
<h4>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>PXE-less deploy with virtual media.</li>
<li>Automatic detection of current boot mode.</li>
<li>Automatic setting of the required boot mode, if UEFI boot mode is requested
by the nova flavor&#8217;s extra spec.</li>
<li>Supports booting the instance from virtual media (netboot) as well as booting
locally from disk. By default, the instance will always boot from virtual
media for partition images.</li>
<li>UEFI Boot Support</li>
<li>UEFI Secure Boot Support</li>
<li>Passing management information via secure, encrypted management network
(virtual media) if swift proxy server and glance have HTTPS endpoints. See
<a class="reference external" href="http://docs.openstack.org/project-install-guide/baremetal/draft/enabling-https.html#enabling-https-in-swift">Enabling HTTPS in Swift</a>, <a class="reference external" href="http://docs.openstack.org/project-install-guide/baremetal/draft/enabling-https.html#enabling-https-in-image-service">Enabling HTTPS in Image service</a> for more
information.  User image provisioning is done using iSCSI over data network,
so this driver has the benefit of security enhancement with the same
performance. It segregates management info from data channel.</li>
<li>Supports both out-of-band and in-band cleaning operations. For more details,
see <a class="reference internal" href="../deploy/cleaning.html#inbandvsoutofbandcleaning"><span>In-band vs out-of-band</span></a>.</li>
<li>Remote Console</li>
<li>HW Sensors</li>
<li>Works well for machines with resource constraints (lesser amount of memory).</li>
<li>Support for out-of-band hardware inspection.</li>
<li>Swiftless deploy for intermediate images</li>
<li>HTTP(S) Based Deploy.</li>
<li>iLO drivers with standalone ironic.</li>
</ul>
</div>
<div class="section" id="requirements">
<h4>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>iLO 4 Advanced License</strong> needs to be installed on iLO to enable Virtual
Media feature.</li>
<li><strong>Swift Object Storage Service</strong> - iLO driver uses swift to store temporary
FAT images as well as boot ISO images.</li>
<li><strong>Glance Image Service with swift configured as its backend</strong> - When using
<code class="docutils literal"><span class="pre">iscsi_ilo</span></code> driver, the image containing the deploy ramdisk is retrieved
from swift directly by the iLO.</li>
</ul>
</div>
<div class="section" id="deploy-process">
<h4>Deploy Process<a class="headerlink" href="#deploy-process" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#netboot-with-glance-and-swift">Netboot with glance and swift</a>  and
<a class="reference internal" href="#localboot-with-glance-and-swift-for-partition-images">Localboot with glance and swift for partition images</a> for the deploy process
of partition image and <a class="reference internal" href="#localboot-with-glance-and-swift">Localboot with glance and swift</a> for the deploy
process of whole disk image.</p>
</div>
<div class="section" id="configuring-and-enabling-the-driver">
<h4>Configuring and Enabling the driver<a class="headerlink" href="#configuring-and-enabling-the-driver" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#glance-configuration">Glance Configuration</a> and <a class="reference internal" href="#enable-driver">Enable driver</a>.</p>
</div>
<div class="section" id="registering-proliant-node-in-ironic">
<h4>Registering ProLiant node in ironic<a class="headerlink" href="#registering-proliant-node-in-ironic" title="Permalink to this headline">¶</a></h4>
<p>Nodes configured for iLO driver should have the <code class="docutils literal"><span class="pre">driver</span></code> property set to
<code class="docutils literal"><span class="pre">iscsi_ilo</span></code>.  The following configuration values are also required in
<code class="docutils literal"><span class="pre">driver_info</span></code>:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ilo_address</span></code>: IP address or hostname of the iLO.</li>
<li><code class="docutils literal"><span class="pre">ilo_username</span></code>: Username for the iLO with administrator privileges.</li>
<li><code class="docutils literal"><span class="pre">ilo_password</span></code>: Password for the above iLO user.</li>
<li><code class="docutils literal"><span class="pre">ilo_deploy_iso</span></code>: The glance UUID of the deploy ramdisk ISO image.</li>
<li><code class="docutils literal"><span class="pre">ca_file</span></code>: (optional) CA certificate file to validate iLO.</li>
<li><code class="docutils literal"><span class="pre">client_port</span></code>: (optional) Port to be used for iLO operations if you are
using a custom port on the iLO.  Default port used is 443.</li>
<li><code class="docutils literal"><span class="pre">client_timeout</span></code>: (optional) Timeout for iLO operations. Default timeout
is 60 seconds.</li>
<li><code class="docutils literal"><span class="pre">console_port</span></code>: (optional) Node&#8217;s UDP port for console access. Any unused
port on the ironic conductor node may be used.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To update SSL certificates into iLO, you can refer to <a class="reference external" href="http://h20564.www2.hpe.com/hpsc/doc/public/display?docId=c04530504">HPE Integrated
Lights-Out Security Technology Brief</a>.
You can use iLO hostname or IP address as a &#8216;Common Name (CN)&#8217; while
generating Certificate Signing Request (CSR). Use the same value as
<cite>ilo_address</cite> while enrolling node to Bare Metal service to avoid SSL
certificate validation errors related to hostname mismatch.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If configuration values for <code class="docutils literal"><span class="pre">ca_file</span></code>, <code class="docutils literal"><span class="pre">client_port</span></code> and
<code class="docutils literal"><span class="pre">client_timeout</span></code> are not provided in the <code class="docutils literal"><span class="pre">driver_info</span></code> of the node,
the corresponding config variables defined under <code class="docutils literal"><span class="pre">[ilo]</span></code> section in
ironic.conf will be used.</p>
</div>
<p>For example, you could run a similar command like below to enroll the ProLiant
node:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ironic node-create -d iscsi_ilo -i ilo_address=&lt;ilo-ip-address&gt; -i ilo_username=&lt;ilo-username&gt; -i ilo_password=&lt;ilo-password&gt; -i ilo_deploy_iso=&lt;glance-uuid-of-deploy-iso&gt;
</pre></div>
</div>
</div>
<div class="section" id="boot-modes">
<h4>Boot modes<a class="headerlink" href="#boot-modes" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#boot-mode-support">Boot mode support</a> section for more information.</p>
</div>
<div class="section" id="uefi-secure-boot">
<h4>UEFI Secure Boot<a class="headerlink" href="#uefi-secure-boot" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#uefi-secure-boot-support">UEFI Secure Boot Support</a> section for more information.</p>
</div>
<div class="section" id="node-cleaning">
<h4>Node cleaning<a class="headerlink" href="#node-cleaning" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#node-cleaning-support">Node Cleaning Support</a> for more information.</p>
</div>
<div class="section" id="hardware-inspection">
<h4>Hardware Inspection<a class="headerlink" href="#hardware-inspection" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#hardware-inspection-support">Hardware Inspection Support</a> for more information.</p>
</div>
<div class="section" id="swiftless-deploy-for-intermediate-deploy-and-boot-images">
<h4>Swiftless deploy for intermediate deploy and boot images<a class="headerlink" href="#swiftless-deploy-for-intermediate-deploy-and-boot-images" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#swiftless-deploy-for-intermediate-images">Swiftless deploy for intermediate images</a> for more information.</p>
</div>
<div class="section" id="http-s-based-deploy">
<h4>HTTP(S) Based Deploy<a class="headerlink" href="#http-s-based-deploy" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#http-s-based-deploy-support">HTTP(S) Based Deploy Support</a> for more information.</p>
</div>
<div class="section" id="ilo-drivers-with-standalone-ironic">
<h4>iLO drivers with standalone ironic<a class="headerlink" href="#ilo-drivers-with-standalone-ironic" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#support-for-ilo-drivers-with-standalone-ironic">Support for iLO drivers with Standalone Ironic</a> for more information.</p>
</div>
<div class="section" id="raid-configuration">
<h4>RAID Configuration<a class="headerlink" href="#raid-configuration" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#raid-support">RAID Support</a> for more information.</p>
</div>
</div>
<div class="section" id="agent-ilo-driver">
<h3>agent_ilo driver<a class="headerlink" href="#agent-ilo-driver" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id3">
<h4>Overview<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">agent_ilo</span></code> driver was introduced as an alternative to <code class="docutils literal"><span class="pre">agent_ipmitool</span></code>
and <code class="docutils literal"><span class="pre">agent_ipminative</span></code> drivers for HPE ProLiant servers. <code class="docutils literal"><span class="pre">agent_ilo</span></code> driver
uses virtual media feature in HPE ProLiant bare metal servers to boot up the
Ironic Python Agent (IPA) on the bare metal node instead of using PXE. For
more information on IPA, refer
<a class="reference external" href="https://wiki.openstack.org/wiki/Ironic-python-agent">https://wiki.openstack.org/wiki/Ironic-python-agent</a>.</p>
</div>
<div class="section" id="id4">
<h4>Target Users<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Users who do not want to use PXE/TFTP protocol on their data centres.</p>
</li>
<li><p class="first">Users who have concerns on PXE based agent driver&#8217;s security and
want to have a security enhanced PXE-less deployment mechanism.</p>
<p>The PXE based agent drivers pass management information in clear-text to
the bare metal node.  However, if swift proxy server and glance have HTTPS
endpoints (See <a class="reference external" href="http://docs.openstack.org/project-install-guide/baremetal/draft/enabling-https.html#enabling-https-in-swift">Enabling HTTPS in Swift</a>, <a class="reference external" href="http://docs.openstack.org/project-install-guide/baremetal/draft/enabling-https.html#enabling-https-in-image-service">Enabling HTTPS in Image
service</a> for more information), the <code class="docutils literal"><span class="pre">agent_ilo</span></code> driver provides enhanced
security by exchanging authtoken and management information with swift and
glance endpoints over HTTPS.  The management information and deploy ramdisk
will be retrieved over encrypted management network via iLO.</p>
</li>
</ul>
</div>
<div class="section" id="id5">
<h4>Tested Platforms<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>This driver should work on HPE ProLiant Gen7 Servers with iLO 3,
Gen8 Servers and above with iLO 4.
It has been tested with the following servers:</p>
<ul class="simple">
<li>ProLiant DL380 G7</li>
<li>ProLiant DL380e Gen8</li>
<li>ProLiant DL580e Gen8</li>
<li>ProLiant DL360 Gen9 UEFI</li>
<li>ProLiant DL380 Gen9 UEFI</li>
<li>ProLiant DL180 Gen9 UEFI</li>
<li>ProLiant XL450 Gen9 UEFI</li>
</ul>
<p>For more up-to-date information, check the
<a class="reference external" href="https://wiki.openstack.org/wiki/Ironic/Drivers/iLODrivers">iLO driver wiki page</a>.</p>
</div>
<div class="section" id="id7">
<h4>Features<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>PXE-less deploy with virtual media using Ironic Python Agent(IPA).</li>
<li>Support for out-of-band cleaning operations.</li>
<li>Remote Console</li>
<li>HW Sensors</li>
<li>IPA runs on the bare metal node and pulls the image directly from swift.</li>
<li>Supports booting the instance from virtual media (netboot) as well as booting
locally from disk. By default, the instance will always boot from virtual
media for partition images.</li>
<li>Segregates management info from data channel.</li>
<li>UEFI Boot Support</li>
<li>UEFI Secure Boot Support</li>
<li>Support to use default in-band cleaning operations supported by
Ironic Python Agent. For more details, see <a class="reference internal" href="../deploy/cleaning.html#inbandvsoutofbandcleaning"><span>In-band vs out-of-band</span></a>.</li>
<li>Support for out-of-band hardware inspection.</li>
<li>Swiftless deploy for intermediate images.</li>
<li>HTTP(S) Based Deploy.</li>
<li>iLO drivers with standalone ironic.</li>
<li>Supports tenant network isolation for node instances provisioned for
vlan type networks.</li>
</ul>
</div>
<div class="section" id="id8">
<h4>Requirements<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>iLO 4 Advanced License</strong> needs to be installed on iLO to enable Virtual
Media feature.</li>
<li><strong>Swift Object Storage Service</strong> - iLO driver uses swift to store temporary
FAT images as well as boot ISO images.</li>
<li><strong>Glance Image Service with swift configured as its backend</strong> - When using
<code class="docutils literal"><span class="pre">agent_ilo</span></code> driver, the image containing the agent is retrieved from
swift directly by the iLO.</li>
</ul>
</div>
<div class="section" id="id9">
<h4>Deploy Process<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#netboot-with-glance-and-swift">Netboot with glance and swift</a>  and
<a class="reference internal" href="#localboot-with-glance-and-swift-for-partition-images">Localboot with glance and swift for partition images</a> for the deploy process
of partition image and <a class="reference internal" href="#localboot-with-glance-and-swift">Localboot with glance and swift</a> for the deploy
process of whole disk image.</p>
</div>
<div class="section" id="id10">
<h4>Configuring and Enabling the driver<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#glance-configuration">Glance Configuration</a> and <a class="reference internal" href="#enable-driver">Enable driver</a>.</p>
</div>
<div class="section" id="id11">
<h4>Registering ProLiant node in ironic<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<p>Nodes configured for iLO driver should have the <code class="docutils literal"><span class="pre">driver</span></code> property set to
<code class="docutils literal"><span class="pre">agent_ilo</span></code>.  The following configuration values are also required in
<code class="docutils literal"><span class="pre">driver_info</span></code>:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ilo_address</span></code>: IP address or hostname of the iLO.</li>
<li><code class="docutils literal"><span class="pre">ilo_username</span></code>: Username for the iLO with administrator privileges.</li>
<li><code class="docutils literal"><span class="pre">ilo_password</span></code>: Password for the above iLO user.</li>
<li><code class="docutils literal"><span class="pre">ilo_deploy_iso</span></code>: The glance UUID of the deploy ramdisk ISO image.</li>
<li><code class="docutils literal"><span class="pre">ca_file</span></code>: (optional) CA certificate file to validate iLO.</li>
<li><code class="docutils literal"><span class="pre">client_port</span></code>: (optional) Port to be used for iLO operations if you are
using a custom port on the iLO.  Default port used is 443.</li>
<li><code class="docutils literal"><span class="pre">client_timeout</span></code>: (optional) Timeout for iLO operations. Default timeout
is 60 seconds.</li>
<li><code class="docutils literal"><span class="pre">console_port</span></code>: (optional) Node&#8217;s UDP port for console access. Any unused
port on the ironic conductor node may be used.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To update SSL certificates into iLO, you can refer to <a class="reference external" href="http://h20564.www2.hpe.com/hpsc/doc/public/display?docId=c04530504">HPE Integrated
Lights-Out Security Technology Brief</a>.
You can use iLO hostname or IP address as a &#8216;Common Name (CN)&#8217; while
generating Certificate Signing Request (CSR). Use the same value as
<cite>ilo_address</cite> while enrolling node to Bare Metal service to avoid SSL
certificate validation errors related to hostname mismatch.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If configuration values for <code class="docutils literal"><span class="pre">ca_file</span></code>, <code class="docutils literal"><span class="pre">client_port</span></code> and
<code class="docutils literal"><span class="pre">client_timeout</span></code> are not provided in the <code class="docutils literal"><span class="pre">driver_info</span></code> of the node,
the corresponding config variables defined under <code class="docutils literal"><span class="pre">[ilo]</span></code> section in
ironic.conf will be used.</p>
</div>
<p>For example, you could run a similar command like below to enroll the ProLiant
node:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ironic node-create -d agent_ilo -i ilo_address=&lt;ilo-ip-address&gt; -i ilo_username=&lt;ilo-username&gt; -i ilo_password=&lt;ilo-password&gt; -i ilo_deploy_iso=&lt;glance-uuid-of-deploy-iso&gt;
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h4>Boot modes<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#boot-mode-support">Boot mode support</a> section for more information.</p>
</div>
<div class="section" id="id14">
<h4>UEFI Secure Boot<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#uefi-secure-boot-support">UEFI Secure Boot Support</a> section for more information.</p>
</div>
<div class="section" id="id15">
<h4>Node Cleaning<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#node-cleaning-support">Node Cleaning Support</a> for more information.</p>
</div>
<div class="section" id="id16">
<h4>Hardware Inspection<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#hardware-inspection-support">Hardware Inspection Support</a> for more information.</p>
</div>
<div class="section" id="id17">
<h4>Swiftless deploy for intermediate deploy and boot images<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#swiftless-deploy-for-intermediate-images">Swiftless deploy for intermediate images</a> for more information.</p>
</div>
<div class="section" id="id18">
<h4>HTTP(S) Based Deploy<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#http-s-based-deploy-support">HTTP(S) Based Deploy Support</a> for more information.</p>
</div>
<div class="section" id="id19">
<h4>iLO drivers with standalone ironic<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#support-for-ilo-drivers-with-standalone-ironic">Support for iLO drivers with Standalone Ironic</a> for more information.</p>
</div>
<div class="section" id="id20">
<h4>RAID Configuration<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#raid-support">RAID Support</a> for more information.</p>
</div>
</div>
<div class="section" id="pxe-ilo-driver">
<h3>pxe_ilo driver<a class="headerlink" href="#pxe-ilo-driver" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id21">
<h4>Overview<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">pxe_ilo</span></code> driver uses PXE/iSCSI (just like <code class="docutils literal"><span class="pre">pxe_ipmitool</span></code> driver) to
deploy the image and uses iLO to do power and management operations on the
bare metal node(instead of using IPMI).</p>
</div>
<div class="section" id="id22">
<h4>Target Users<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Users who want to use PXE/iSCSI for deployment in their environment or who
don&#8217;t have Advanced License in their iLO.</li>
<li>Users who don&#8217;t want to configure boot mode manually on the bare metal node.</li>
</ul>
</div>
<div class="section" id="id23">
<h4>Tested Platforms<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
<p>This driver should work on HPE ProLiant Gen7 Servers with iLO 3,
Gen8 Servers and above with iLO 4.
It has been tested with the following servers:</p>
<ul class="simple">
<li>ProLiant DL380 G7</li>
<li>ProLiant DL380e Gen8</li>
<li>ProLiant DL380e Gen8</li>
<li>ProLiant DL580 Gen8 (BIOS/UEFI)</li>
<li>ProLiant DL360 Gen9 UEFI</li>
<li>ProLiant DL380 Gen9 UEFI</li>
<li>ProLiant XL450 Gen9 UEFI</li>
</ul>
<p>For more up-to-date information, check the
<a class="reference external" href="https://wiki.openstack.org/wiki/Ironic/Drivers/iLODrivers">iLO driver wiki page</a>.</p>
</div>
<div class="section" id="id25">
<h4>Features<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Automatic detection of current boot mode.</li>
<li>Automatic setting of the required boot mode, if UEFI boot mode is requested
by the nova flavor&#8217;s extra spec.</li>
<li>Supports both out-of-band and in-band cleaning operations. For more details,
see <a class="reference internal" href="../deploy/cleaning.html#inbandvsoutofbandcleaning"><span>In-band vs out-of-band</span></a>.</li>
<li>Support for out-of-band hardware inspection.</li>
<li>Supports UEFI Boot mode</li>
<li>Supports UEFI Secure Boot</li>
<li>HTTP(S) Based Deploy.</li>
</ul>
</div>
<div class="section" id="id26">
<h4>Requirements<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h4>
<p>None.</p>
</div>
<div class="section" id="id27">
<h4>Configuring and Enabling the driver<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Build a deploy image, see <a class="reference internal" href="../deploy/install-guide.html#buildingdeployramdisk"><span>Building or downloading a deploy ramdisk image</span></a></p>
</li>
<li><p class="first">Upload this image to glance:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>glance image-create --name deploy-ramdisk.kernel --disk-format aki --container-format aki &lt; deploy-ramdisk.kernel
glance image-create --name deploy-ramdisk.initramfs --disk-format ari --container-format ari &lt; deploy-ramdisk.initramfs
</pre></div>
</div>
</li>
<li><p class="first">Add <code class="docutils literal"><span class="pre">pxe_ilo</span></code> to the list of <code class="docutils literal"><span class="pre">enabled_drivers</span></code> in
<code class="docutils literal"><span class="pre">/etc/ironic/ironic.conf</span></code>.  For example::</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">enabled_drivers</span> <span class="o">=</span> <span class="n">fake</span><span class="p">,</span><span class="n">pxe_ssh</span><span class="p">,</span><span class="n">pxe_ipmitool</span><span class="p">,</span><span class="n">pxe_ilo</span>
</pre></div>
</div>
</li>
<li><p class="first">Restart the ironic conductor service:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>service ironic-conductor restart
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="id28">
<h4>Registering ProLiant node in ironic<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h4>
<p>Nodes configured for iLO driver should have the <code class="docutils literal"><span class="pre">driver</span></code> property set to
<code class="docutils literal"><span class="pre">pxe_ilo</span></code>.  The following configuration values are also required in
<code class="docutils literal"><span class="pre">driver_info</span></code>:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ilo_address</span></code>: IP address or hostname of the iLO.</li>
<li><code class="docutils literal"><span class="pre">ilo_username</span></code>: Username for the iLO with administrator privileges.</li>
<li><code class="docutils literal"><span class="pre">ilo_password</span></code>: Password for the above iLO user.</li>
<li><code class="docutils literal"><span class="pre">deploy_kernel</span></code>: The glance UUID of the deployment kernel.</li>
<li><code class="docutils literal"><span class="pre">deploy_ramdisk</span></code>: The glance UUID of the deployment ramdisk.</li>
<li><code class="docutils literal"><span class="pre">ca_file</span></code>: (optional) CA certificate file to validate iLO.</li>
<li><code class="docutils literal"><span class="pre">client_port</span></code>: (optional) Port to be used for iLO operations if you are
using a custom port on the iLO. Default port used is 443.</li>
<li><code class="docutils literal"><span class="pre">client_timeout</span></code>: (optional) Timeout for iLO operations. Default timeout
is 60 seconds.</li>
<li><code class="docutils literal"><span class="pre">console_port</span></code>: (optional) Node&#8217;s UDP port for console access. Any unused
port on the ironic conductor node may be used.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To update SSL certificates into iLO, you can refer to <a class="reference external" href="http://h20564.www2.hpe.com/hpsc/doc/public/display?docId=c04530504">HPE Integrated
Lights-Out Security Technology Brief</a>.
You can use iLO hostname or IP address as a &#8216;Common Name (CN)&#8217; while
generating Certificate Signing Request (CSR). Use the same value as
<cite>ilo_address</cite> while enrolling node to Bare Metal service to avoid SSL
certificate validation errors related to hostname mismatch.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If configuration values for <code class="docutils literal"><span class="pre">ca_file</span></code>, <code class="docutils literal"><span class="pre">client_port</span></code> and
<code class="docutils literal"><span class="pre">client_timeout</span></code> are not provided in the <code class="docutils literal"><span class="pre">driver_info</span></code> of the node,
the corresponding config variables defined under <code class="docutils literal"><span class="pre">[ilo]</span></code> section in
ironic.conf will be used.</p>
</div>
<p>For example, you could run a similar command like below to enroll the ProLiant
node:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ironic node-create -d pxe_ilo -i ilo_address=&lt;ilo-ip-address&gt; -i ilo_username=&lt;ilo-username&gt; -i ilo_password=&lt;ilo-password&gt; -i deploy_kernel=&lt;glance-uuid-of-pxe-deploy-kernel&gt; -i deploy_ramdisk=&lt;glance-uuid-of-deploy-ramdisk&gt;
</pre></div>
</div>
</div>
<div class="section" id="id30">
<h4>Boot modes<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#boot-mode-support">Boot mode support</a> section for more information.</p>
</div>
<div class="section" id="id31">
<h4>UEFI Secure Boot<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#uefi-secure-boot-support">UEFI Secure Boot Support</a> section for more information.</p>
</div>
<div class="section" id="id32">
<h4>Node Cleaning<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#node-cleaning-support">Node Cleaning Support</a> for more information.</p>
</div>
<div class="section" id="id33">
<h4>Hardware Inspection<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#hardware-inspection-support">Hardware Inspection Support</a> for more information.</p>
</div>
<div class="section" id="id34">
<h4>HTTP(S) Based Deploy<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#http-s-based-deploy-support">HTTP(S) Based Deploy Support</a> for more information.</p>
</div>
<div class="section" id="id35">
<h4>iLO drivers with standalone ironic<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#support-for-ilo-drivers-with-standalone-ironic">Support for iLO drivers with Standalone Ironic</a> for more information.</p>
</div>
<div class="section" id="id36">
<h4>RAID Configuration<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#raid-support">RAID Support</a> for more information.</p>
</div>
</div>
</div>
<div class="section" id="functionalities-across-drivers">
<h2>Functionalities across drivers<a class="headerlink" href="#functionalities-across-drivers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="boot-mode-support">
<h3>Boot mode support<a class="headerlink" href="#boot-mode-support" title="Permalink to this headline">¶</a></h3>
<p>The following drivers support automatic detection and setting of boot
mode (Legacy BIOS or UEFI).</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">pxe_ilo</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">iscsi_ilo</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">agent_ilo</span></code></p>
</li>
<li><p class="first">When boot mode capability is not configured:</p>
<ul class="simple">
<li>If config variable <code class="docutils literal"><span class="pre">default_boot_mode</span></code> in <code class="docutils literal"><span class="pre">[ilo]</span></code> section of
ironic configuration file is set to either &#8216;bios&#8217; or &#8216;uefi&#8217;, then iLO
drivers use that boot mode for provisioning the baremetal ProLiant
servers.</li>
<li>If the pending boot mode is set on the node then iLO drivers use that boot
mode for provisioning the baremetal ProLiant servers.</li>
<li>If the pending boot mode is not set on the node then iLO drivers use &#8216;uefi&#8217;
boot mode for UEFI capable servers and &#8220;bios&#8221; when UEFI is not supported.</li>
</ul>
</li>
<li><p class="first">When boot mode capability is configured, the driver sets the pending boot
mode to the configured value.</p>
</li>
<li><p class="first">Only one boot mode (either <code class="docutils literal"><span class="pre">uefi</span></code> or <code class="docutils literal"><span class="pre">bios</span></code>) can be configured for
the node.</p>
</li>
<li><p class="first">If the operator wants a node to boot always in <code class="docutils literal"><span class="pre">uefi</span></code> mode or <code class="docutils literal"><span class="pre">bios</span></code>
mode, then they may use <code class="docutils literal"><span class="pre">capabilities</span></code> parameter within <code class="docutils literal"><span class="pre">properties</span></code>
field of an ironic node.</p>
<p>To configure a node in <code class="docutils literal"><span class="pre">uefi</span></code> mode, then set <code class="docutils literal"><span class="pre">capabilities</span></code> as below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ironic node-update &lt;node-uuid&gt; add properties/capabilities=&#39;boot_mode:uefi&#39;
</pre></div>
</div>
<p>Nodes having <code class="docutils literal"><span class="pre">boot_mode</span></code> set to <code class="docutils literal"><span class="pre">uefi</span></code> may be requested by adding an
<code class="docutils literal"><span class="pre">extra_spec</span></code> to the nova flavor:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>nova flavor-key ironic-test-3 set capabilities:boot_mode=&quot;uefi&quot;
nova boot --flavor ironic-test-3 --image test-image instance-1
</pre></div>
</div>
<p>If <code class="docutils literal"><span class="pre">capabilities</span></code> is used in <code class="docutils literal"><span class="pre">extra_spec</span></code> as above, nova scheduler
(<code class="docutils literal"><span class="pre">ComputeCapabilitiesFilter</span></code>) will match only ironic nodes which have
the <code class="docutils literal"><span class="pre">boot_mode</span></code> set appropriately in <code class="docutils literal"><span class="pre">properties/capabilities</span></code>. It will
filter out rest of the nodes.</p>
<p>The above facility for matching in nova can be used in heterogeneous
environments where there is a mix of <code class="docutils literal"><span class="pre">uefi</span></code> and <code class="docutils literal"><span class="pre">bios</span></code> machines, and
operator wants to provide a choice to the user regarding boot modes.  If the
flavor doesn&#8217;t contain <code class="docutils literal"><span class="pre">boot_mode</span></code> then nova scheduler will not consider
boot mode as a placement criteria, hence user may get either a BIOS or UEFI
machine that matches with user specified flavors.</p>
</li>
</ul>
<p>The automatic boot ISO creation for UEFI boot mode has been enabled in Kilo.
The manual creation of boot ISO for UEFI boot mode is also supported.
For the latter, the boot ISO for the deploy image needs to be built
separately and the deploy image&#8217;s <code class="docutils literal"><span class="pre">boot_iso</span></code> property in glance should
contain the glance UUID of the boot ISO. For building boot ISO, add <code class="docutils literal"><span class="pre">iso</span></code>
element to the diskimage-builder command to build the image.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>disk-image-create ubuntu baremetal iso
</pre></div>
</div>
</div>
<div class="section" id="uefi-secure-boot-support">
<span id="ilo-uefi-secure-boot-support"></span><h3>UEFI Secure Boot Support<a class="headerlink" href="#uefi-secure-boot-support" title="Permalink to this headline">¶</a></h3>
<p>The following drivers support UEFI secure boot deploy:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pxe_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">iscsi_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">agent_ilo</span></code></li>
</ul>
<p>The UEFI secure boot can be configured in ironic by adding
<code class="docutils literal"><span class="pre">secure_boot</span></code> parameter in the <code class="docutils literal"><span class="pre">capabilities</span></code> parameter  within
<code class="docutils literal"><span class="pre">properties</span></code> field of an ironic node.</p>
<p><code class="docutils literal"><span class="pre">secure_boot</span></code> is a boolean parameter and takes value as <code class="docutils literal"><span class="pre">true</span></code> or
<code class="docutils literal"><span class="pre">false</span></code>.</p>
<p>To enable <code class="docutils literal"><span class="pre">secure_boot</span></code> on a node add it to <code class="docutils literal"><span class="pre">capabilities</span></code> as below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ironic node-update &lt;node-uuid&gt; add properties/capabilities=&#39;secure_boot:true&#39;
</pre></div>
</div>
<p>Alternatively see <a class="reference internal" href="#hardware-inspection-support">Hardware Inspection Support</a> to know how to
automatically populate the secure boot capability.</p>
<p>Nodes having <code class="docutils literal"><span class="pre">secure_boot</span></code> set to <code class="docutils literal"><span class="pre">true</span></code> may be requested by adding an
<code class="docutils literal"><span class="pre">extra_spec</span></code> to the nova flavor:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>nova flavor-key ironic-test-3 set capabilities:secure_boot=&quot;true&quot;
nova boot --flavor ironic-test-3 --image test-image instance-1
</pre></div>
</div>
<p>If <code class="docutils literal"><span class="pre">capabilities</span></code> is used in <code class="docutils literal"><span class="pre">extra_spec</span></code> as above, nova scheduler
(<code class="docutils literal"><span class="pre">ComputeCapabilitiesFilter</span></code>) will match only ironic nodes which have
the <code class="docutils literal"><span class="pre">secure_boot</span></code> set appropriately in <code class="docutils literal"><span class="pre">properties/capabilities</span></code>. It will
filter out rest of the nodes.</p>
<p>The above facility for matching in nova can be used in heterogeneous
environments where there is a mix of machines supporting and not supporting
UEFI secure boot, and operator wants to provide a choice to the user
regarding secure boot.  If the flavor doesn&#8217;t contain <code class="docutils literal"><span class="pre">secure_boot</span></code> then
nova scheduler will not consider secure boot mode as a placement criteria,
hence user may get a secure boot capable machine that matches with user
specified flavors but deployment would not use its secure boot capability.
Secure boot deploy would happen only when it is explicitly specified through
flavor.</p>
<p>Use element <code class="docutils literal"><span class="pre">ubuntu-signed</span></code> or <code class="docutils literal"><span class="pre">fedora</span></code> to build signed deploy iso and
user images from
<a class="reference external" href="https://pypi.python.org/pypi/diskimage-builder">diskimage-builder</a>.
Refer <a class="reference internal" href="../deploy/install-guide.html#buildingdeployramdisk"><span>Building or downloading a deploy ramdisk image</span></a> for more information on building
deploy ramdisk.</p>
<p>The below command creates files named cloud-image-boot.iso, cloud-image.initrd,
cloud-image.vmlinuz and cloud-image.qcow2 in the current working directory:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>cd &lt;path-to-diskimage-builder&gt;
./bin/disk-image-create -o cloud-image ubuntu-signed baremetal iso
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In UEFI secure boot, digitally signed bootloader should be able to validate
digital signatures of kernel during boot process. This requires that the
bootloader contains the digital signatures of the kernel.
For <code class="docutils literal"><span class="pre">iscsi_ilo</span></code> driver, it is recommended that <code class="docutils literal"><span class="pre">boot_iso</span></code> property for
user image contains the glance UUID of the boot ISO.
If <code class="docutils literal"><span class="pre">boot_iso</span></code> property is not updated in glance for the user image, it
would create the <code class="docutils literal"><span class="pre">boot_iso</span></code> using bootloader from the deploy iso. This
<code class="docutils literal"><span class="pre">boot_iso</span></code> will be able to boot the user image in UEFI secure boot
environment only if the bootloader is signed and can validate digital
signatures of user image kernel.</p>
</div>
<p>Ensure the public key of the signed image is loaded into bare metal to deploy
signed images.
For HPE ProLiant Gen9 servers, one can enroll public key using iLO System
Utilities UI. Please refer to section <code class="docutils literal"><span class="pre">Accessing</span> <span class="pre">Secure</span> <span class="pre">Boot</span> <span class="pre">options</span></code> in
<a class="reference external" href="http://www.hp.com/ctg/Manual/c04398276.pdf">HP UEFI System Utilities User Guide</a>.
One can also refer to white paper on <a class="reference external" href="http://h20195.www2.hp.com/V2/getpdf.aspx/4AA5-4496ENW.pdf">Secure Boot for Linux on HP ProLiant
servers</a> for
additional details.</p>
<p>For more up-to-date information, refer
<a class="reference external" href="https://wiki.openstack.org/wiki/Ironic/Drivers/iLODrivers">iLO driver wiki page</a></p>
</div>
<div class="section" id="node-cleaning-support">
<span id="ilo-node-cleaning"></span><h3>Node Cleaning Support<a class="headerlink" href="#node-cleaning-support" title="Permalink to this headline">¶</a></h3>
<p>The following iLO drivers support node cleaning -</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pxe_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">iscsi_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">agent_ilo</span></code></li>
</ul>
<p>For more information on node cleaning, see <a class="reference internal" href="../deploy/cleaning.html#cleaning"><span>Node cleaning</span></a></p>
<div class="section" id="supported-automated-cleaning-operations">
<h4>Supported <strong>Automated</strong> Cleaning Operations<a class="headerlink" href="#supported-automated-cleaning-operations" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">The automated cleaning operations supported are:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">reset_bios_to_default</span></code>:</dt>
<dd><p class="first last">Resets system ROM settings to default. By default, enabled with priority
10. This clean step is supported only on Gen9 and above servers.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">reset_secure_boot_keys_to_default</span></code>:</dt>
<dd><p class="first last">Resets secure boot keys to manufacturer&#8217;s defaults. This step is supported
only on Gen9 and above servers. By default, enabled with priority 20 .</p>
</dd>
<dt><code class="docutils literal"><span class="pre">reset_ilo_credential</span></code>:</dt>
<dd><p class="first last">Resets the iLO password, if <code class="docutils literal"><span class="pre">ilo_change_password</span></code> is specified as part of
node&#8217;s driver_info. By default, enabled with priority 30.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">clear_secure_boot_keys</span></code>:</dt>
<dd><p class="first last">Clears all secure boot keys. This step is supported only on Gen9 and above
servers. By default, this step is disabled.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">reset_ilo</span></code>:</dt>
<dd><p class="first last">Resets the iLO. By default, this step is disabled.</p>
</dd>
</dl>
</li>
<li><p class="first">For in-band cleaning operations supported by <code class="docutils literal"><span class="pre">agent_ilo</span></code> driver, see
<a class="reference internal" href="../deploy/cleaning.html#inbandvsoutofbandcleaning"><span>In-band vs out-of-band</span></a>.</p>
</li>
<li><p class="first">All the automated cleaning steps have an explicit configuration option for
priority. In order to disable or change the priority of the automated clean
steps, respective configuration option for priority should be updated in
ironic.conf.</p>
</li>
<li><p class="first">Updating clean step priority to 0, will disable that particular clean step
and will not run during automated cleaning.</p>
</li>
<li><p class="first">Configuration Options for the automated clean steps are listed under
<code class="docutils literal"><span class="pre">[ilo]</span></code> section in ironic.conf</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">clean_priority_reset_ilo</span><span class="o">=</span><span class="mi">0</span>
<span class="o">-</span> <span class="n">clean_priority_reset_bios_to_default</span><span class="o">=</span><span class="mi">10</span>
<span class="o">-</span> <span class="n">clean_priority_reset_secure_boot_keys_to_default</span><span class="o">=</span><span class="mi">20</span>
<span class="o">-</span> <span class="n">clean_priority_clear_secure_boot_keys</span><span class="o">=</span><span class="mi">0</span>
<span class="o">-</span> <span class="n">clean_priority_reset_ilo_credential</span><span class="o">=</span><span class="mi">30</span>
</pre></div>
</div>
</li>
</ul>
<p>For more information on node automated cleaning, see <a class="reference internal" href="../deploy/cleaning.html#automated-cleaning"><span>Automated cleaning</span></a></p>
</div>
<div class="section" id="supported-manual-cleaning-operations">
<h4>Supported <strong>Manual</strong> Cleaning Operations<a class="headerlink" href="#supported-manual-cleaning-operations" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">The manual cleaning operations supported are:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">activate_license</span></code>:</dt>
<dd><p class="first last">Activates the iLO Advanced license. This is an out-of-band manual cleaning
step associated with the <code class="docutils literal"><span class="pre">management</span></code> interface. See
<a class="reference internal" href="#activating-ilo-advanced-license-as-manual-clean-step">Activating iLO Advanced license as manual clean step</a> for user guidance
on usage. Please note that this operation cannot be performed using virtual
media based drivers like <code class="docutils literal"><span class="pre">iscsi_ilo</span></code> and <code class="docutils literal"><span class="pre">agent_ilo</span></code> as they need this
type of advanced license already active to use virtual media to boot into
to start cleaning operation. Virtual media is an advanced feature. If an
advanced license is already active and the user wants to overwrite the
current license key, for example in case of a multi-server activation key
delivered with a flexible-quantity kit or after completing an Activation
Key Agreement (AKA), then these drivers can still be used for executing
this cleaning step.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">update_firmware</span></code>:</dt>
<dd><p class="first">Updates the firmware of the devices. Also an out-of-band step associated
with the <code class="docutils literal"><span class="pre">management</span></code> interface. See
<a class="reference internal" href="#initiating-firmware-update-as-manual-clean-step">Initiating firmware update as manual clean step</a> for user guidance on
usage. The supported devices for firmware update are: <code class="docutils literal"><span class="pre">ilo</span></code>, <code class="docutils literal"><span class="pre">cpld</span></code>,
<code class="docutils literal"><span class="pre">power_pic</span></code>, <code class="docutils literal"><span class="pre">bios</span></code> and <code class="docutils literal"><span class="pre">chassis</span></code>. Refer to below table for their
commonly used descriptions.</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Device</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ilo</span></code></td>
<td>BMC for HPE ProLiant servers</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">cpld</span></code></td>
<td>System programmable logic device</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">power_pic</span></code></td>
<td>Power management controller</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">bios</span></code></td>
<td>HPE ProLiant System ROM</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">chassis</span></code></td>
<td>System chassis device</td>
</tr>
</tbody>
</table>
<p class="last">Some devices firmware cannot be updated via this method, such as: storage
controllers, host bus adapters, disk drive firmware, network interfaces
and Onboard Administrator (OA).</p>
</dd>
</dl>
</li>
<li><p class="first">iLO with firmware version 1.5 is minimally required to support all the
operations.</p>
</li>
</ul>
<p>For more information on node manual cleaning, see <a class="reference internal" href="../deploy/cleaning.html#manual-cleaning"><span>Manual cleaning</span></a></p>
</div>
</div>
<div class="section" id="hardware-inspection-support">
<span id="ilo-inspection"></span><h3>Hardware Inspection Support<a class="headerlink" href="#hardware-inspection-support" title="Permalink to this headline">¶</a></h3>
<p>The following iLO drivers support hardware inspection:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pxe_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">iscsi_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">agent_ilo</span></code></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last">
<li><p class="first">The disk size is returned by RIBCL/RIS only when RAID is preconfigured
on the storage. If the storage is Direct Attached Storage, then
RIBCL/RIS fails to get the disk size.</p>
</li>
<li><p class="first">The SNMPv3 inspection gets disk size for all types of storages.
If RIBCL/RIS is unable to get disk size and SNMPv3 inspection is
requested, the proliantutils does SNMPv3 inspection to get the
disk size. If proliantutils is unable to get the disk size, it raises
an error. This feature is available in proliantutils release
version &gt;= 2.2.0.</p>
</li>
<li><p class="first">The iLO must be updated with SNMPv3 authentication details.
Refer to the section <cite>SNMPv3 Authentication</cite> in <a class="reference external" href="http://h20566.www2.hpe.com/hpsc/doc/public/display?docId=c03334051">HPE iLO4 User Guide</a>
for setting up authentication details on iLO.
The  following parameters are mandatory to be given in driver_info
for SNMPv3 inspection:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">snmp_auth_user</span></code> : The SNMPv3 user.</li>
<li><code class="docutils literal"><span class="pre">snmp_auth_prot_password</span></code> : The auth protocol pass phrase.</li>
<li><code class="docutils literal"><span class="pre">snmp_auth_priv_password</span></code> : The privacy protocol pass phrase.</li>
</ul>
<p>The  following parameters are optional for SNMPv3 inspection:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">snmp_auth_protocol</span></code> : The Auth Protocol. The valid values
are &#8220;MD5&#8221; and &#8220;SHA&#8221;. The iLO default value is &#8220;MD5&#8221;.</li>
<li><code class="docutils literal"><span class="pre">snmp_auth_priv_protocol</span></code> : The Privacy protocol. The valid
values are &#8220;AES&#8221; and &#8220;DES&#8221;. The iLO default value is &#8220;DES&#8221;.</li>
</ul>
</li>
</ul>
</div>
<p>The inspection process will discover the following essential properties
(properties required for scheduling deployment):</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">memory_mb</span></code>: memory size</li>
<li><code class="docutils literal"><span class="pre">cpus</span></code>: number of cpus</li>
<li><code class="docutils literal"><span class="pre">cpu_arch</span></code>: cpu architecture</li>
<li><code class="docutils literal"><span class="pre">local_gb</span></code>: disk size</li>
</ul>
<p>Inspection can also discover the following extra capabilities for iLO drivers:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">ilo_firmware_version</span></code>: iLO firmware version</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">rom_firmware_version</span></code>: ROM firmware version</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">secure_boot</span></code>: secure boot is supported or not. The possible values are
&#8216;true&#8217; or &#8216;false&#8217;. The value is returned as &#8216;true&#8217; if secure boot is supported
by the server.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">server_model</span></code>: server model</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pci_gpu_devices</span></code>: number of gpu devices connected to the bare metal.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">nic_capacity</span></code>: the max speed of the embedded NIC adapter.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The capability <code class="docutils literal"><span class="pre">nic_capacity</span></code> can only be discovered if ipmitool
version &gt;= 1.8.15 is used on the conductor. The latest version can be
downloaded from <a class="reference external" href="http://sourceforge.net/projects/ipmitool/">here</a>.</li>
<li>The iLO firmware version needs to be 2.10 or above for nic_capacity to be
discovered.</li>
</ul>
</div>
</li>
</ul>
<p>The operator can specify these capabilities in nova flavor for node to be selected
for scheduling:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>nova flavor-key my-baremetal-flavor set capabilities:server_model=&quot;&lt;in&gt; Gen8&quot;

nova flavor-key my-baremetal-flavor set capabilities:nic_capacity=&quot;10Gb&quot;

nova flavor-key my-baremetal-flavor set capabilities:ilo_firmware_version=&quot;&lt;in&gt; 2.10&quot;
</pre></div>
</div>
<p>See <a class="reference internal" href="../deploy/inspection.html#capabilities-discovery"><span>Capabilities discovery</span></a> for more details and examples.</p>
</div>
<div class="section" id="swiftless-deploy-for-intermediate-images">
<h3>Swiftless deploy for intermediate images<a class="headerlink" href="#swiftless-deploy-for-intermediate-images" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">iscsi_ilo</span></code> and <code class="docutils literal"><span class="pre">agent_ilo</span></code> drivers can deploy and boot the server
with and without <code class="docutils literal"><span class="pre">swift</span></code> being used for hosting the intermediate
temporary floppy image (holding metadata for deploy kernel and ramdisk)
and the boot ISO (which is required for <code class="docutils literal"><span class="pre">iscsi_ilo</span></code> only). A local HTTP(S)
web server on each conductor node needs to be configured. Refer
<a class="reference internal" href="#web-server-configuration-on-conductor">Web server configuration on conductor</a> for more information. The HTTPS
web server needs to be enabled (instead of HTTP web server) in order to
send management information and images in encrypted channel over HTTPS.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This feature assumes that the user inputs are on Glance which uses swift
as backend. If swift dependency has to be eliminated, please refer to
<a class="reference internal" href="#http-s-based-deploy-support">HTTP(S) Based Deploy Support</a> also.</p>
</div>
<div class="section" id="id38">
<h4>Deploy Process<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#netboot-in-swiftless-deploy-for-intermediate-images">Netboot in swiftless deploy for intermediate images</a> for partition
image support and refer to <a class="reference internal" href="#localboot-in-swiftless-deploy-for-intermediate-images">Localboot in swiftless deploy for intermediate images</a>
for whole disk image support.</p>
</div>
</div>
<div class="section" id="http-s-based-deploy-support">
<h3>HTTP(S) Based Deploy Support<a class="headerlink" href="#http-s-based-deploy-support" title="Permalink to this headline">¶</a></h3>
<p>The user input for the images given in <code class="docutils literal"><span class="pre">driver_info</span></code> like <code class="docutils literal"><span class="pre">ilo_deploy_iso</span></code>,
<code class="docutils literal"><span class="pre">deploy_kernel</span></code> and <code class="docutils literal"><span class="pre">deploy_ramdisk</span></code> and in <code class="docutils literal"><span class="pre">instance_info</span></code> like
<code class="docutils literal"><span class="pre">image_source</span></code>, <code class="docutils literal"><span class="pre">kernel</span></code>, <code class="docutils literal"><span class="pre">ramdisk</span></code> and <code class="docutils literal"><span class="pre">ilo_boot_iso</span></code> may also be given as
HTTP(S) URLs.</p>
<p>The HTTP(S) web server can be configured in many ways. For the Apache
web server on Ubuntu, refer <a class="reference external" href="https://help.ubuntu.com/lts/serverguide/httpd.html">here</a>.
The web server may reside on a different system than the conductor nodes, but its URL
must be reachable by the conductor and the bare metal nodes.</p>
<div class="section" id="id40">
<h4>Deploy Process<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h4>
<p>Refer to <a class="reference internal" href="#netboot-with-http-s-based-deploy">Netboot with HTTP(S) based deploy</a> for partition image boot and refer to
<a class="reference internal" href="#localboot-with-http-s-based-deploy">Localboot with HTTP(S) based deploy</a> for whole disk image boot.</p>
</div>
</div>
<div class="section" id="support-for-ilo-drivers-with-standalone-ironic">
<h3>Support for iLO drivers with Standalone Ironic<a class="headerlink" href="#support-for-ilo-drivers-with-standalone-ironic" title="Permalink to this headline">¶</a></h3>
<p>It is possible to use ironic as standalone services without other
OpenStack services. iLO drivers can be used in standalone ironic.
This feature is referred to as <code class="docutils literal"><span class="pre">iLO</span> <span class="pre">drivers</span> <span class="pre">with</span> <span class="pre">standalone</span> <span class="pre">ironic</span></code> in this document and is
supported by following drivers:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pxe_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">iscsi_ilo</span></code></li>
<li><code class="docutils literal"><span class="pre">agent_ilo</span></code></li>
</ul>
<div class="section" id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h4>
<p>The HTTP(S) web server needs to be configured as described in <a class="reference internal" href="#http-s-based-deploy-support">HTTP(S) Based Deploy Support</a>
and <a class="reference internal" href="#web-server-configuration-on-conductor">Web server configuration on conductor</a> needs to be configured for hosting
intermediate images on conductor as described in
<a class="reference internal" href="#swiftless-deploy-for-intermediate-images">Swiftless deploy for intermediate images</a>.</p>
</div>
<div class="section" id="id41">
<h4>Deploy Process<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">iscsi_ilo</span></code> and <code class="docutils literal"><span class="pre">agent_ilo</span></code> supports both netboot and localboot. Refer
to <a class="reference internal" href="#netboot-in-standalone-ironic">Netboot in standalone ironic</a> and <a class="reference internal" href="#localboot-in-standalone-ironic">Localboot in standalone ironic</a>
for details of deploy process for netboot and localboot respectively.
For <code class="docutils literal"><span class="pre">pxe_ilo</span></code>, the deploy process is same as native <code class="docutils literal"><span class="pre">pxe_ipmitool</span></code> driver.</p>
</div>
</div>
</div>
<div class="section" id="id42">
<h2>Deploy Process<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h2>
<div class="section" id="netboot-with-glance-and-swift">
<h3>Netboot with glance and swift<a class="headerlink" href="#netboot-with-glance-and-swift" title="Permalink to this headline">¶</a></h3>
<div><svg height="1035.2" viewBox="0 0 1506 1294" width="1204.8" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="567" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="817" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1067" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1317" y="7" />
  <path d="M 128 41 L 128 1301" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 378 41 L 378 1301" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 628 41 L 628 1301" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 878 41 L 878 1301" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1128 41 L 1128 1301" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1378 41 L 1378 1301" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="45" x="128" y="28">Glance</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="378" y="28">Conductor</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="628" y="28">Baremetal</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="814" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="878" y="28">Swift</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1064" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1128" y="28">IPA</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1378" y="28">iLO</text>
  <path d="M 386 60 L 1370 60" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,56 1370,60 1362,64" stroke="rgb(0,0,0)" />
  <path d="M 136 89 L 370 89" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,85 136,89 144,93" stroke="rgb(0,0,0)" />
  <path d="M 136 134 L 370 134" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,130 136,134 144,138" stroke="rgb(0,0,0)" />
  <path d="M 386 195 L 503 195" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 195 L 503 211" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 211 L 386 211" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,207 386,211 394,215" stroke="rgb(0,0,0)" />
  <path d="M 386 304 L 503 304" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 304 L 503 320" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 320 L 386 320" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,316 386,320 394,324" stroke="rgb(0,0,0)" />
  <path d="M 386 349 L 870 349" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,345 870,349 862,353" stroke="rgb(0,0,0)" />
  <path d="M 386 410 L 503 410" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 410 L 503 426" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 426 L 386 426" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,422 386,426 394,430" stroke="rgb(0,0,0)" />
  <path d="M 386 455 L 1370 455" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,451 1370,455 1362,459" stroke="rgb(0,0,0)" />
  <path d="M 386 484 L 1370 484" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,480 1370,484 1362,488" stroke="rgb(0,0,0)" />
  <path d="M 386 513 L 1370 513" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,509 1370,513 1362,517" stroke="rgb(0,0,0)" />
  <path d="M 386 542 L 1370 542" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,538 1370,542 1362,546" stroke="rgb(0,0,0)" />
  <path d="M 886 571 L 1370 571" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="894,567 886,571 894,575" stroke="rgb(0,0,0)" />
  <path d="M 636 600 L 1370 600" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,596 1370,600 1362,604" stroke="rgb(0,0,0)" />
  <path d="M 386 629 L 1120 629" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,625 386,629 394,633" stroke="rgb(0,0,0)" />
  <path d="M 386 658 L 1120 658" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,654 1120,658 1112,662" stroke="rgb(0,0,0)" />
  <path d="M 386 687 L 1120 687" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,683 386,687 394,691" stroke="rgb(0,0,0)" />
  <path d="M 386 716 L 1120 716" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,712 1120,716 1112,720" stroke="rgb(0,0,0)" />
  <path d="M 386 793 L 503 793" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 793 L 503 809" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 809 L 386 809" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,805 386,809 394,813" stroke="rgb(0,0,0)" />
  <path d="M 386 854 L 503 854" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 854 L 503 870" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 870 L 386 870" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,866 386,870 394,874" stroke="rgb(0,0,0)" />
  <path d="M 386 899 L 870 899" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,895 870,899 862,903" stroke="rgb(0,0,0)" />
  <path d="M 386 960 L 503 960" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 960 L 503 976" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 976 L 386 976" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,972 386,976 394,980" stroke="rgb(0,0,0)" />
  <path d="M 386 1005 L 1370 1005" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,1001 1370,1005 1362,1009" stroke="rgb(0,0,0)" />
  <path d="M 386 1034 L 1370 1034" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,1030 1370,1034 1362,1038" stroke="rgb(0,0,0)" />
  <path d="M 386 1063 L 1120 1063" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,1059 1120,1063 1112,1067" stroke="rgb(0,0,0)" />
  <path d="M 386 1092 L 1370 1092" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,1088 1370,1092 1362,1096" stroke="rgb(0,0,0)" />
  <path d="M 886 1121 L 1370 1121" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="894,1117 886,1121 894,1125" stroke="rgb(0,0,0)" />
  <path d="M 636 1150 L 1370 1150" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,1146 636,1150 644,1154" stroke="rgb(0,0,0)" />
  <path d="M 636 1243 L 753 1243" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 1243 L 753 1259" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 1259 L 636 1259" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,1255 636,1259 644,1263" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="462" y="58">Powers off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="297" y="87">Download user image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="255" y="116">Get the metadata for deploy IS</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="7" x="366" y="132">O</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="161">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="177">mpURL for deploy I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="393" y="193">SO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="246">Creates the FAT32 </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="262">image containing I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="278">ronic API URL and </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="294">driver name</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="175" x="477" y="347">Uploads the FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="376">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="392">mpURL for FAT32 im</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="397" y="408">age</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="473" x="626" y="453">Attaches the FAT32 image swift tempURL as virtual media floppy</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="458" x="619" y="482">Attaches the deploy ISO swift tempURL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="511">Sets one time boot to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="447" y="540">Reboot the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="1294" y="569">Downloads deploy ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="427" x="853" y="598">Boots deploy kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="1078" y="627">Lookup node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="656">Provides node UUID</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="685">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="714">Exposes the disk over iSCSI</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="743">Connects to bare m</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="759">etal's disk over i</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="775">SCSI and writes im</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="397" y="791">age</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="836">Generates the boot</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="30" x="401" y="852"> ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="466" y="897">Uploads the boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="934">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="950">mpURL for boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="412" x="596" y="1003">Attaches boot ISO swift tempURL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="190" x="485" y="1032">Sets boot device to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="1061">Power off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="454" y="1090">Power on the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1301" y="1119">Downloads boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="473" x="1133" y="1148">Boots the instance kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1185">Instance kernel fi</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1201">nds root partition</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1217"> and continues boo</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="106" x="689" y="1233">ting from disk</text>
</svg>
</div>
</div>
<div class="section" id="localboot-with-glance-and-swift-for-partition-images">
<h3>Localboot with glance and swift for partition images<a class="headerlink" href="#localboot-with-glance-and-swift-for-partition-images" title="Permalink to this headline">¶</a></h3>
<div><svg height="901.6" viewBox="0 0 1506 1127" width="1204.8" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="567" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="817" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1067" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1317" y="7" />
  <path d="M 128 41 L 128 1134" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 378 41 L 378 1134" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 628 41 L 628 1134" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 878 41 L 878 1134" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1128 41 L 1128 1134" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1378 41 L 1378 1134" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="45" x="128" y="28">Glance</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="378" y="28">Conductor</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="628" y="28">Baremetal</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="814" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="878" y="28">Swift</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1064" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1128" y="28">IPA</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1378" y="28">iLO</text>
  <path d="M 386 60 L 1370 60" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,56 1370,60 1362,64" stroke="rgb(0,0,0)" />
  <path d="M 136 105 L 370 105" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,101 136,105 144,109" stroke="rgb(0,0,0)" />
  <path d="M 136 150 L 370 150" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="362,146 370,150 362,154" stroke="rgb(0,0,0)" />
  <path d="M 386 211 L 503 211" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 211 L 503 227" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 227 L 386 227" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,223 386,227 394,231" stroke="rgb(0,0,0)" />
  <path d="M 386 320 L 503 320" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 320 L 503 336" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 336 L 386 336" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,332 386,336 394,340" stroke="rgb(0,0,0)" />
  <path d="M 386 365 L 870 365" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,361 870,365 862,369" stroke="rgb(0,0,0)" />
  <path d="M 386 426 L 503 426" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 426 L 503 442" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 442 L 386 442" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,438 386,442 394,446" stroke="rgb(0,0,0)" />
  <path d="M 386 471 L 1370 471" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,467 1370,471 1362,475" stroke="rgb(0,0,0)" />
  <path d="M 386 500 L 1370 500" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,496 1370,500 1362,504" stroke="rgb(0,0,0)" />
  <path d="M 386 529 L 1370 529" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,525 1370,529 1362,533" stroke="rgb(0,0,0)" />
  <path d="M 386 558 L 1370 558" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,554 1370,558 1362,562" stroke="rgb(0,0,0)" />
  <path d="M 886 587 L 1370 587" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="894,583 886,587 894,591" stroke="rgb(0,0,0)" />
  <path d="M 636 616 L 1370 616" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,612 1370,616 1362,620" stroke="rgb(0,0,0)" />
  <path d="M 386 645 L 1120 645" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,641 386,645 394,649" stroke="rgb(0,0,0)" />
  <path d="M 386 674 L 1120 674" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,670 1120,674 1112,678" stroke="rgb(0,0,0)" />
  <path d="M 386 703 L 1120 703" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,699 386,703 394,707" stroke="rgb(0,0,0)" />
  <path d="M 386 732 L 1120 732" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,728 1120,732 1112,736" stroke="rgb(0,0,0)" />
  <path d="M 886 777 L 1120 777" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="894,773 886,777 894,781" stroke="rgb(0,0,0)" />
  <path d="M 1136 838 L 1253 838" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 838 L 1253 854" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 854 L 1136 854" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1144,850 1136,854 1144,858" stroke="rgb(0,0,0)" />
  <path d="M 1136 899 L 1253 899" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 899 L 1253 915" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 915 L 1136 915" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1144,911 1136,915 1144,919" stroke="rgb(0,0,0)" />
  <path d="M 386 944 L 1120 944" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,940 386,944 394,948" stroke="rgb(0,0,0)" />
  <path d="M 386 973 L 620 973" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="612,969 620,973 612,977" stroke="rgb(0,0,0)" />
  <path d="M 386 1002 L 1120 1002" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,998 1120,1002 1112,1006" stroke="rgb(0,0,0)" />
  <path d="M 386 1031 L 1370 1031" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,1027 1370,1031 1362,1035" stroke="rgb(0,0,0)" />
  <path d="M 636 1076 L 753 1076" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 1076 L 753 1092" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 1092 L 636 1092" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,1088 636,1092 644,1096" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="462" y="58">Powers off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="255" y="87">Get the metadata for deploy IS</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="7" x="366" y="103">O</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="254" y="132">Returns the metadata for deplo</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="159" y="148">y ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="177">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="193">mpURL for deploy I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="393" y="209">SO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="262">Creates the FAT32 </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="278">image containing i</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="294">ronic API URL and </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="310">driver name</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="175" x="477" y="363">Uploads the FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="392">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="408">mpURL for FAT32 im</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="397" y="424">age</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="473" x="626" y="469">Attaches the FAT32 image swift tempURL as virtual media floppy</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="458" x="619" y="498">Attaches the deploy ISO swift tempURL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="527">Sets one time boot to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="447" y="556">Reboot the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="1294" y="585">Downloads deploy ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="427" x="853" y="614">Boots deploy kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="1078" y="643">Lookup node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="672">Provides node UUID</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="701">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="244" x="512" y="730">Sends the user image HTTP(S) URL</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="1005" y="759">Retrieves the user image on ba</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="61" x="1089" y="775">re metal</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1204" y="812">Writes user image </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="1200" y="828">to root partition</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1204" y="881">Installs boot load</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="1143" y="897">er</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="942">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="183" x="481" y="971">Sets boot device to disk</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="1000">Power off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="454" y="1029">Power on the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1058">Boot user image fr</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="53" x="662" y="1074">om disk</text>
</svg>
</div>
</div>
<div class="section" id="localboot-with-glance-and-swift">
<h3>Localboot with glance and swift<a class="headerlink" href="#localboot-with-glance-and-swift" title="Permalink to this headline">¶</a></h3>
<div><svg height="840.0" viewBox="0 0 1506 1050" width="1204.8" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="567" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="817" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1067" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1317" y="7" />
  <path d="M 128 41 L 128 1057" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 378 41 L 378 1057" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 628 41 L 628 1057" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 878 41 L 878 1057" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1128 41 L 1128 1057" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1378 41 L 1378 1057" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="45" x="128" y="28">Glance</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="378" y="28">Conductor</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="628" y="28">Baremetal</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="814" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="878" y="28">Swift</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1064" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1128" y="28">IPA</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1378" y="28">iLO</text>
  <path d="M 386 60 L 1370 60" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,56 1370,60 1362,64" stroke="rgb(0,0,0)" />
  <path d="M 136 105 L 370 105" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,101 136,105 144,109" stroke="rgb(0,0,0)" />
  <path d="M 136 150 L 370 150" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="362,146 370,150 362,154" stroke="rgb(0,0,0)" />
  <path d="M 386 211 L 503 211" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 211 L 503 227" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 227 L 386 227" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,223 386,227 394,231" stroke="rgb(0,0,0)" />
  <path d="M 386 320 L 503 320" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 320 L 503 336" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 336 L 386 336" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,332 386,336 394,340" stroke="rgb(0,0,0)" />
  <path d="M 386 365 L 870 365" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,361 870,365 862,369" stroke="rgb(0,0,0)" />
  <path d="M 386 426 L 503 426" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 426 L 503 442" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 442 L 386 442" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,438 386,442 394,446" stroke="rgb(0,0,0)" />
  <path d="M 386 471 L 1370 471" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,467 1370,471 1362,475" stroke="rgb(0,0,0)" />
  <path d="M 386 500 L 1370 500" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,496 1370,500 1362,504" stroke="rgb(0,0,0)" />
  <path d="M 386 529 L 1370 529" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,525 1370,529 1362,533" stroke="rgb(0,0,0)" />
  <path d="M 386 558 L 1370 558" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,554 1370,558 1362,562" stroke="rgb(0,0,0)" />
  <path d="M 886 587 L 1370 587" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="894,583 886,587 894,591" stroke="rgb(0,0,0)" />
  <path d="M 636 616 L 1370 616" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,612 1370,616 1362,620" stroke="rgb(0,0,0)" />
  <path d="M 386 645 L 1120 645" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,641 386,645 394,649" stroke="rgb(0,0,0)" />
  <path d="M 386 674 L 1120 674" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,670 1120,674 1112,678" stroke="rgb(0,0,0)" />
  <path d="M 386 703 L 1120 703" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,699 386,703 394,707" stroke="rgb(0,0,0)" />
  <path d="M 386 732 L 1120 732" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,728 1120,732 1112,736" stroke="rgb(0,0,0)" />
  <path d="M 886 777 L 1120 777" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="894,773 886,777 894,781" stroke="rgb(0,0,0)" />
  <path d="M 1136 822 L 1253 822" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 822 L 1253 838" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 838 L 1136 838" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1144,834 1136,838 1144,842" stroke="rgb(0,0,0)" />
  <path d="M 386 867 L 1120 867" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,863 386,867 394,871" stroke="rgb(0,0,0)" />
  <path d="M 386 896 L 620 896" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="612,892 620,896 612,900" stroke="rgb(0,0,0)" />
  <path d="M 386 925 L 1120 925" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,921 1120,925 1112,929" stroke="rgb(0,0,0)" />
  <path d="M 386 954 L 1370 954" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,950 1370,954 1362,958" stroke="rgb(0,0,0)" />
  <path d="M 636 999 L 753 999" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 999 L 753 1015" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 1015 L 636 1015" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,1011 636,1015 644,1019" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="462" y="58">Powers off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="255" y="87">Get the metadata for deploy IS</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="7" x="366" y="103">O</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="254" y="132">Returns the metadata for deplo</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="159" y="148">y ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="177">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="193">mpURL for deploy I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="393" y="209">SO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="262">Creates the FAT32 </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="278">image containing i</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="294">ronic API URL and </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="310">driver name</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="175" x="477" y="363">Uploads the FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="392">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="408">mpURL for FAT32 im</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="397" y="424">age</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="473" x="626" y="469">Attaches the FAT32 image swift tempURL as virtual media floppy</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="458" x="619" y="498">Attaches the deploy ISO swift tempURL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="527">Sets one time boot to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="447" y="556">Reboot the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="1294" y="585">Downloads deploy ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="427" x="853" y="614">Boots deploy kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="1078" y="643">Lookup node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="672">Provides node UUID</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="701">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="244" x="512" y="730">Sends the user image HTTP(S) URL</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="1005" y="759">Retrieves the user image on ba</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="61" x="1089" y="775">re metal</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1204" y="804">Writes user image </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="53" x="1162" y="820">to disk</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="865">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="183" x="481" y="894">Sets boot device to disk</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="923">Power off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="454" y="952">Power on the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="981">Boot user image fr</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="53" x="662" y="997">om disk</text>
</svg>
</div>
</div>
<div class="section" id="netboot-in-swiftless-deploy-for-intermediate-images">
<h3>Netboot in swiftless deploy for intermediate images<a class="headerlink" href="#netboot-in-swiftless-deploy-for-intermediate-images" title="Permalink to this headline">¶</a></h3>
<div><svg height="912.0" viewBox="0 0 1756 1140" width="1404.8" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="567" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="817" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1067" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1567" y="7" />
  <path d="M 128 41 L 128 1147" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 378 41 L 378 1147" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 628 41 L 628 1147" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 878 41 L 878 1147" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1128 41 L 1128 1147" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1378 41 L 1378 1147" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1628 41 L 1628 1147" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="45" x="128" y="28">Glance</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="378" y="28">Conductor</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="628" y="28">Baremetal</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="814" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="122" x="878" y="20">ConductorWebserv</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="878" y="36">er</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1064" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1128" y="28">IPA</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1378" y="28">iLO</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="1628" y="28">Swift</text>
  <path d="M 386 60 L 1370 60" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,56 1370,60 1362,64" stroke="rgb(0,0,0)" />
  <path d="M 136 89 L 370 89" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,85 136,89 144,93" stroke="rgb(0,0,0)" />
  <path d="M 136 134 L 370 134" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,130 136,134 144,138" stroke="rgb(0,0,0)" />
  <path d="M 386 195 L 503 195" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 195 L 503 211" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 211 L 386 211" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,207 386,211 394,215" stroke="rgb(0,0,0)" />
  <path d="M 386 304 L 503 304" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 304 L 503 320" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 320 L 386 320" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,316 386,320 394,324" stroke="rgb(0,0,0)" />
  <path d="M 386 349 L 870 349" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,345 870,349 862,353" stroke="rgb(0,0,0)" />
  <path d="M 386 378 L 1370 378" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,374 1370,378 1362,382" stroke="rgb(0,0,0)" />
  <path d="M 386 407 L 1370 407" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,403 1370,407 1362,411" stroke="rgb(0,0,0)" />
  <path d="M 386 436 L 1370 436" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,432 1370,436 1362,440" stroke="rgb(0,0,0)" />
  <path d="M 386 465 L 1370 465" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,461 1370,465 1362,469" stroke="rgb(0,0,0)" />
  <path d="M 1386 494 L 1620 494" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1612,490 1620,494 1612,498" stroke="rgb(0,0,0)" />
  <path d="M 636 523 L 1370 523" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,519 1370,523 1362,527" stroke="rgb(0,0,0)" />
  <path d="M 386 552 L 1120 552" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,548 386,552 394,556" stroke="rgb(0,0,0)" />
  <path d="M 386 581 L 1120 581" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,577 1120,581 1112,585" stroke="rgb(0,0,0)" />
  <path d="M 386 610 L 1120 610" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,606 386,610 394,614" stroke="rgb(0,0,0)" />
  <path d="M 386 639 L 1120 639" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,635 1120,639 1112,643" stroke="rgb(0,0,0)" />
  <path d="M 386 716 L 503 716" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 716 L 503 732" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 732 L 386 732" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,728 386,732 394,736" stroke="rgb(0,0,0)" />
  <path d="M 386 777 L 503 777" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 777 L 503 793" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 793 L 386 793" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,789 386,793 394,797" stroke="rgb(0,0,0)" />
  <path d="M 386 822 L 870 822" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,818 870,822 862,826" stroke="rgb(0,0,0)" />
  <path d="M 386 851 L 1370 851" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,847 1370,851 1362,855" stroke="rgb(0,0,0)" />
  <path d="M 386 880 L 1370 880" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,876 1370,880 1362,884" stroke="rgb(0,0,0)" />
  <path d="M 386 909 L 1120 909" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,905 1120,909 1112,913" stroke="rgb(0,0,0)" />
  <path d="M 386 938 L 1370 938" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,934 1370,938 1362,942" stroke="rgb(0,0,0)" />
  <path d="M 886 967 L 1370 967" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="894,963 886,967 894,971" stroke="rgb(0,0,0)" />
  <path d="M 636 996 L 1370 996" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,992 636,996 644,1000" stroke="rgb(0,0,0)" />
  <path d="M 636 1089 L 753 1089" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 1089 L 753 1105" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 1105 L 636 1105" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,1101 636,1105 644,1109" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="462" y="58">Powers off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="297" y="87">Download user image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="255" y="116">Get the metadata for deploy IS</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="7" x="366" y="132">O</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="161">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="177">mpURL for deploy I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="393" y="193">SO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="246">Creates the FAT32 </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="262">image containing I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="278">ronic API URL and </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="294">driver name</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="175" x="477" y="347">Uploads the FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="397" x="588" y="376">Attaches the FAT32 image URL as virtual media floppy</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="458" x="619" y="405">Attaches the deploy ISO swift tempURL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="434">Sets one time boot to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="447" y="463">Reboot the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="1466" y="492">Downloads deploy ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="427" x="853" y="521">Boots deploy kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="1078" y="550">Lookup node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="579">Provides node UUID</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="608">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="637">Exposes the disk over iSCSI</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="666">Connects to bare m</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="682">etal's disk over i</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="698">SCSI and writes im</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="397" y="714">age</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="759">Generates the boot</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="30" x="401" y="775"> ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="466" y="820">Uploads the boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="336" x="558" y="849">Attaches boot ISO URL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="190" x="485" y="878">Sets boot device to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="907">Power off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="454" y="936">Power on the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1301" y="965">Downloads boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="473" x="1133" y="994">Boots the instance kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1031">Instance kernel fi</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1047">nds root partition</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1063"> and continues boo</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="106" x="689" y="1079">ting from disk</text>
</svg>
</div>
</div>
<div class="section" id="localboot-in-swiftless-deploy-for-intermediate-images">
<h3>Localboot in swiftless deploy for intermediate images<a class="headerlink" href="#localboot-in-swiftless-deploy-for-intermediate-images" title="Permalink to this headline">¶</a></h3>
<div><svg height="765.6" viewBox="0 0 1756 957" width="1404.8" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="567" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="817" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1067" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1567" y="7" />
  <path d="M 128 41 L 128 964" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 378 41 L 378 964" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 628 41 L 628 964" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 878 41 L 878 964" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1128 41 L 1128 964" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1378 41 L 1378 964" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1628 41 L 1628 964" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="45" x="128" y="28">Glance</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="378" y="28">Conductor</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="628" y="28">Baremetal</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="814" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="122" x="878" y="20">ConductorWebserv</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="878" y="36">er</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1064" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1128" y="28">IPA</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1378" y="28">iLO</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="1628" y="28">Swift</text>
  <path d="M 386 60 L 1370 60" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,56 1370,60 1362,64" stroke="rgb(0,0,0)" />
  <path d="M 136 105 L 370 105" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,101 136,105 144,109" stroke="rgb(0,0,0)" />
  <path d="M 136 150 L 370 150" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="362,146 370,150 362,154" stroke="rgb(0,0,0)" />
  <path d="M 386 211 L 503 211" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 211 L 503 227" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 227 L 386 227" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,223 386,227 394,231" stroke="rgb(0,0,0)" />
  <path d="M 386 320 L 503 320" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 320 L 503 336" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 336 L 386 336" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,332 386,336 394,340" stroke="rgb(0,0,0)" />
  <path d="M 386 365 L 870 365" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,361 870,365 862,369" stroke="rgb(0,0,0)" />
  <path d="M 386 394 L 1370 394" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,390 1370,394 1362,398" stroke="rgb(0,0,0)" />
  <path d="M 386 423 L 1370 423" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,419 1370,423 1362,427" stroke="rgb(0,0,0)" />
  <path d="M 386 452 L 1370 452" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,448 1370,452 1362,456" stroke="rgb(0,0,0)" />
  <path d="M 386 481 L 1370 481" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,477 1370,481 1362,485" stroke="rgb(0,0,0)" />
  <path d="M 1386 510 L 1620 510" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1612,506 1620,510 1612,514" stroke="rgb(0,0,0)" />
  <path d="M 636 539 L 1370 539" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,535 1370,539 1362,543" stroke="rgb(0,0,0)" />
  <path d="M 386 568 L 1120 568" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,564 386,568 394,572" stroke="rgb(0,0,0)" />
  <path d="M 386 597 L 1120 597" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,593 1120,597 1112,601" stroke="rgb(0,0,0)" />
  <path d="M 386 626 L 1120 626" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,622 386,626 394,630" stroke="rgb(0,0,0)" />
  <path d="M 386 655 L 1120 655" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,651 1120,655 1112,659" stroke="rgb(0,0,0)" />
  <path d="M 1136 684 L 1620 684" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1612,680 1620,684 1612,688" stroke="rgb(0,0,0)" />
  <path d="M 1136 729 L 1253 729" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 729 L 1253 745" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 745 L 1136 745" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1144,741 1136,745 1144,749" stroke="rgb(0,0,0)" />
  <path d="M 386 774 L 1120 774" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,770 386,774 394,778" stroke="rgb(0,0,0)" />
  <path d="M 386 803 L 620 803" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="612,799 620,803 612,807" stroke="rgb(0,0,0)" />
  <path d="M 386 832 L 1120 832" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,828 1120,832 1112,836" stroke="rgb(0,0,0)" />
  <path d="M 386 861 L 620 861" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="612,857 620,861 612,865" stroke="rgb(0,0,0)" />
  <path d="M 636 906 L 753 906" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 906 L 753 922" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 922 L 636 922" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,918 636,922 644,926" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="462" y="58">Powers off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="255" y="87">Get the metadata for deploy IS</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="7" x="366" y="103">O</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="229" x="254" y="132">Returns the metadata for deplo</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="159" y="148">y ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="177">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="193">mpURL for deploy I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="393" y="209">SO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="262">Creates the FAT32 </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="278">image containing I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="294">ronic API URL and </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="310">driver name</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="175" x="477" y="363">Uploads the FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="397" x="588" y="392">Attaches the FAT32 image URL as virtual media floppy</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="458" x="619" y="421">Attaches the deploy ISO swift tempURL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="450">Sets one time boot to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="447" y="479">Reboot the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="1466" y="508">Downloads deploy ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="427" x="853" y="537">Boots deploy kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="1078" y="566">Lookup node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="595">Provides node UUID</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="624">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="244" x="512" y="653">Sends the user image HTTP(S) URL</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="290" x="1285" y="682">Retrieves the user image on bare metal</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1204" y="711">Writes user image </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="53" x="1162" y="727">to disk</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="772">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="183" x="481" y="801">Sets boot device to disk</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="830">Power off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="454" y="859">Power on the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="888">Boot user image fr</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="53" x="662" y="904">om disk</text>
</svg>
</div>
</div>
<div class="section" id="netboot-with-http-s-based-deploy">
<h3>Netboot with HTTP(S) based deploy<a class="headerlink" href="#netboot-with-http-s-based-deploy" title="Permalink to this headline">¶</a></h3>
<div><svg height="937.6" viewBox="0 0 1506 1172" width="1204.8" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="567" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="817" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1067" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1317" y="7" />
  <path d="M 128 41 L 128 1179" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 378 41 L 378 1179" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 628 41 L 628 1179" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 878 41 L 878 1179" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1128 41 L 1128 1179" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1378 41 L 1378 1179" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="128" y="28">Webserver</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="378" y="28">Conductor</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="628" y="28">Baremetal</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="814" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="878" y="28">Swift</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1064" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1128" y="28">IPA</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1378" y="28">iLO</text>
  <path d="M 386 60 L 1370 60" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,56 1370,60 1362,64" stroke="rgb(0,0,0)" />
  <path d="M 136 89 L 370 89" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,85 136,89 144,93" stroke="rgb(0,0,0)" />
  <path d="M 386 182 L 503 182" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 182 L 503 198" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 198 L 386 198" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,194 386,198 394,202" stroke="rgb(0,0,0)" />
  <path d="M 386 227 L 870 227" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,223 870,227 862,231" stroke="rgb(0,0,0)" />
  <path d="M 386 288 L 503 288" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 288 L 503 304" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 304 L 386 304" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,300 386,304 394,308" stroke="rgb(0,0,0)" />
  <path d="M 386 333 L 1370 333" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,329 1370,333 1362,337" stroke="rgb(0,0,0)" />
  <path d="M 386 362 L 1370 362" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,358 1370,362 1362,366" stroke="rgb(0,0,0)" />
  <path d="M 386 391 L 1370 391" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,387 1370,391 1362,395" stroke="rgb(0,0,0)" />
  <path d="M 386 420 L 1370 420" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,416 1370,420 1362,424" stroke="rgb(0,0,0)" />
  <path d="M 136 449 L 1370 449" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,445 136,449 144,453" stroke="rgb(0,0,0)" />
  <path d="M 636 478 L 1370 478" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,474 1370,478 1362,482" stroke="rgb(0,0,0)" />
  <path d="M 386 507 L 1120 507" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,503 386,507 394,511" stroke="rgb(0,0,0)" />
  <path d="M 386 536 L 1120 536" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,532 1120,536 1112,540" stroke="rgb(0,0,0)" />
  <path d="M 386 565 L 1120 565" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,561 386,565 394,569" stroke="rgb(0,0,0)" />
  <path d="M 386 594 L 1120 594" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,590 1120,594 1112,598" stroke="rgb(0,0,0)" />
  <path d="M 386 671 L 503 671" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 671 L 503 687" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 687 L 386 687" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,683 386,687 394,691" stroke="rgb(0,0,0)" />
  <path d="M 386 732 L 503 732" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 732 L 503 748" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 748 L 386 748" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,744 386,748 394,752" stroke="rgb(0,0,0)" />
  <path d="M 386 777 L 870 777" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,773 870,777 862,781" stroke="rgb(0,0,0)" />
  <path d="M 386 838 L 503 838" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 838 L 503 854" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 854 L 386 854" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,850 386,854 394,858" stroke="rgb(0,0,0)" />
  <path d="M 386 883 L 1370 883" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,879 1370,883 1362,887" stroke="rgb(0,0,0)" />
  <path d="M 386 912 L 1370 912" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,908 1370,912 1362,916" stroke="rgb(0,0,0)" />
  <path d="M 386 941 L 1120 941" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,937 1120,941 1112,945" stroke="rgb(0,0,0)" />
  <path d="M 386 970 L 1370 970" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,966 1370,970 1362,974" stroke="rgb(0,0,0)" />
  <path d="M 886 999 L 1370 999" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="894,995 886,999 894,1003" stroke="rgb(0,0,0)" />
  <path d="M 636 1028 L 1370 1028" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,1024 636,1028 644,1032" stroke="rgb(0,0,0)" />
  <path d="M 636 1121 L 753 1121" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 1121 L 753 1137" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 1137 L 636 1137" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,1133 636,1137 644,1141" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="462" y="58">Powers off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="297" y="87">Download user image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="124">Creates the FAT32 </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="140">image containing I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="156">ronic API URL and </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="172">driver name</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="175" x="477" y="225">Uploads the FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="254">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="270">mpURL for FAT32 im</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="397" y="286">age</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="473" x="626" y="331">Attaches the FAT32 image swift tempURL as virtual media floppy</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="381" x="580" y="360">Attaches the deploy ISO URL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="389">Sets one time boot to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="447" y="418">Reboot the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="1294" y="447">Downloads deploy ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="427" x="853" y="476">Boots deploy kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="1078" y="505">Lookup node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="534">Provides node UUID</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="563">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="592">Exposes the disk over iSCSI</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="621">Connects to bare m</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="637">etal's disk over i</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="653">SCSI and writes im</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="397" y="669">age</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="714">Generates the boot</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="30" x="401" y="730"> ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="466" y="775">Uploads the boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="812">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="828">mpURL for boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="412" x="596" y="881">Attaches boot ISO swift tempURL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="190" x="485" y="910">Sets boot device to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="939">Power off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="454" y="968">Power on the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1301" y="997">Downloads boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="473" x="1133" y="1026">Boots the instance kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1063">Instance kernel fi</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1079">nds root partition</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="1095"> and continues boo</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="106" x="689" y="1111">ting from disk</text>
</svg>
</div>
</div>
<div class="section" id="localboot-with-http-s-based-deploy">
<h3>Localboot with HTTP(S) based deploy<a class="headerlink" href="#localboot-with-http-s-based-deploy" title="Permalink to this headline">¶</a></h3>
<div><svg height="693.6" viewBox="0 0 1506 867" width="1204.8" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="567" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="817" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1067" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1317" y="7" />
  <path d="M 128 41 L 128 874" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 378 41 L 378 874" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 628 41 L 628 874" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 878 41 L 878 874" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1128 41 L 1128 874" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1378 41 L 1378 874" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="128" y="28">Webserver</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="378" y="28">Conductor</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="628" y="28">Baremetal</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="814" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="38" x="878" y="28">Swift</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1064" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1128" y="28">IPA</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1378" y="28">iLO</text>
  <path d="M 386 60 L 1370 60" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,56 1370,60 1362,64" stroke="rgb(0,0,0)" />
  <path d="M 386 153 L 503 153" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 153 L 503 169" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 169 L 386 169" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,165 386,169 394,173" stroke="rgb(0,0,0)" />
  <path d="M 386 198 L 870 198" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,194 870,198 862,202" stroke="rgb(0,0,0)" />
  <path d="M 386 259 L 503 259" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 259 L 503 275" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 275 L 386 275" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,271 386,275 394,279" stroke="rgb(0,0,0)" />
  <path d="M 386 304 L 1370 304" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,300 1370,304 1362,308" stroke="rgb(0,0,0)" />
  <path d="M 386 333 L 1370 333" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,329 1370,333 1362,337" stroke="rgb(0,0,0)" />
  <path d="M 386 362 L 1370 362" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,358 1370,362 1362,366" stroke="rgb(0,0,0)" />
  <path d="M 386 391 L 1370 391" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,387 1370,391 1362,395" stroke="rgb(0,0,0)" />
  <path d="M 136 420 L 1370 420" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,416 136,420 144,424" stroke="rgb(0,0,0)" />
  <path d="M 636 449 L 1370 449" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,445 1370,449 1362,453" stroke="rgb(0,0,0)" />
  <path d="M 386 478 L 1120 478" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,474 386,478 394,482" stroke="rgb(0,0,0)" />
  <path d="M 386 507 L 1120 507" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,503 1120,507 1112,511" stroke="rgb(0,0,0)" />
  <path d="M 386 536 L 1120 536" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,532 386,536 394,540" stroke="rgb(0,0,0)" />
  <path d="M 386 565 L 1120 565" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,561 1120,565 1112,569" stroke="rgb(0,0,0)" />
  <path d="M 136 594 L 1120 594" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,590 136,594 144,598" stroke="rgb(0,0,0)" />
  <path d="M 1136 639 L 1253 639" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 639 L 1253 655" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 655 L 1136 655" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1144,651 1136,655 1144,659" stroke="rgb(0,0,0)" />
  <path d="M 386 684 L 1120 684" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,680 386,684 394,688" stroke="rgb(0,0,0)" />
  <path d="M 386 713 L 620 713" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="612,709 620,713 612,717" stroke="rgb(0,0,0)" />
  <path d="M 386 742 L 1120 742" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,738 1120,742 1112,746" stroke="rgb(0,0,0)" />
  <path d="M 386 771 L 620 771" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="612,767 620,771 612,775" stroke="rgb(0,0,0)" />
  <path d="M 636 816 L 753 816" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 816 L 753 832" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 832 L 636 832" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,828 636,832 644,836" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="462" y="58">Powers off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="95">Creates the FAT32 </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="111">image containing i</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="127">ronic API URL and </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="143">driver name</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="175" x="477" y="196">Uploads the FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="225">Generates swift te</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="241">mpURL for FAT32 im</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="397" y="257">age</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="473" x="626" y="302">Attaches the FAT32 image swift tempURL as virtual media floppy</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="381" x="580" y="331">Attaches the deploy ISO URL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="360">Sets one time boot to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="447" y="389">Reboot the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="1294" y="418">Downloads deploy ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="427" x="853" y="447">Boots deploy kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="1078" y="476">Lookup node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="505">Provides node UUID</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="534">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="244" x="512" y="563">Sends the user image HTTP(S) URL</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="290" x="975" y="592">Retrieves the user image on bare metal</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1204" y="621">Writes user image </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="53" x="1162" y="637">to disk</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="682">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="183" x="481" y="711">Sets boot device to disk</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="740">Power off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="454" y="769">Power on the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="798">Boot user image fr</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="53" x="662" y="814">om disk</text>
</svg>
</div>
</div>
<div class="section" id="netboot-in-standalone-ironic">
<h3>Netboot in standalone ironic<a class="headerlink" href="#netboot-in-standalone-ironic" title="Permalink to this headline">¶</a></h3>
<div><svg height="814.4" viewBox="0 0 1506 1018" width="1204.8" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="567" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="817" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1067" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1317" y="7" />
  <path d="M 128 41 L 128 1025" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 378 41 L 378 1025" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 628 41 L 628 1025" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 878 41 L 878 1025" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1128 41 L 1128 1025" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1378 41 L 1378 1025" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="128" y="28">Webserver</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="378" y="28">Conductor</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="628" y="28">Baremetal</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="814" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="122" x="878" y="20">ConductorWebserv</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="878" y="36">er</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1064" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1128" y="28">IPA</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1378" y="28">iLO</text>
  <path d="M 386 60 L 1370 60" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,56 1370,60 1362,64" stroke="rgb(0,0,0)" />
  <path d="M 136 89 L 370 89" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,85 136,89 144,93" stroke="rgb(0,0,0)" />
  <path d="M 386 182 L 503 182" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 182 L 503 198" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 198 L 386 198" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,194 386,198 394,202" stroke="rgb(0,0,0)" />
  <path d="M 386 227 L 870 227" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,223 870,227 862,231" stroke="rgb(0,0,0)" />
  <path d="M 386 256 L 1370 256" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,252 1370,256 1362,260" stroke="rgb(0,0,0)" />
  <path d="M 386 285 L 1370 285" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,281 1370,285 1362,289" stroke="rgb(0,0,0)" />
  <path d="M 386 314 L 1370 314" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,310 1370,314 1362,318" stroke="rgb(0,0,0)" />
  <path d="M 386 343 L 1370 343" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,339 1370,343 1362,347" stroke="rgb(0,0,0)" />
  <path d="M 136 372 L 1370 372" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,368 136,372 144,376" stroke="rgb(0,0,0)" />
  <path d="M 636 401 L 1370 401" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,397 1370,401 1362,405" stroke="rgb(0,0,0)" />
  <path d="M 386 430 L 1120 430" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,426 386,430 394,434" stroke="rgb(0,0,0)" />
  <path d="M 386 459 L 1120 459" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,455 1120,459 1112,463" stroke="rgb(0,0,0)" />
  <path d="M 386 488 L 1120 488" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,484 386,488 394,492" stroke="rgb(0,0,0)" />
  <path d="M 386 517 L 1120 517" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,513 1120,517 1112,521" stroke="rgb(0,0,0)" />
  <path d="M 386 594 L 503 594" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 594 L 503 610" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 610 L 386 610" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,606 386,610 394,614" stroke="rgb(0,0,0)" />
  <path d="M 386 655 L 503 655" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 655 L 503 671" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 671 L 386 671" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,667 386,671 394,675" stroke="rgb(0,0,0)" />
  <path d="M 386 700 L 870 700" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,696 870,700 862,704" stroke="rgb(0,0,0)" />
  <path d="M 386 729 L 1370 729" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,725 1370,729 1362,733" stroke="rgb(0,0,0)" />
  <path d="M 386 758 L 1370 758" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,754 1370,758 1362,762" stroke="rgb(0,0,0)" />
  <path d="M 386 787 L 1120 787" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,783 1120,787 1112,791" stroke="rgb(0,0,0)" />
  <path d="M 386 816 L 1370 816" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,812 1370,816 1362,820" stroke="rgb(0,0,0)" />
  <path d="M 886 845 L 1370 845" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="894,841 886,845 894,849" stroke="rgb(0,0,0)" />
  <path d="M 636 874 L 1370 874" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,870 636,874 644,878" stroke="rgb(0,0,0)" />
  <path d="M 636 967 L 753 967" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 967 L 753 983" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 983 L 636 983" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,979 636,983 644,987" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="462" y="58">Powers off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="297" y="87">Download user image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="124">Creates the FAT32 </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="140">image containing I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="156">ronic API URL and </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="172">driver name</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="175" x="477" y="225">Uploads the FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="397" x="588" y="254">Attaches the FAT32 image URL as virtual media floppy</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="381" x="580" y="283">Attaches the deploy ISO URL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="312">Sets one time boot to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="447" y="341">Reboot the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="1294" y="370">Downloads deploy ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="427" x="853" y="399">Boots deploy kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="1078" y="428">Lookup node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="457">Provides node UUID</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="486">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="515">Exposes the disk over iSCSI</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="544">Connects to bare m</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="560">etal's disk over i</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="576">SCSI and writes im</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="397" y="592">age</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="637">Generates the boot</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="30" x="401" y="653"> ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="466" y="698">Uploads the boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="336" x="558" y="727">Attaches boot ISO URL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="190" x="485" y="756">Sets boot device to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="785">Power off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="454" y="814">Power on the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1301" y="843">Downloads boot ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="473" x="1133" y="872">Boots the instance kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="909">Instance kernel fi</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="925">nds root partition</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="941"> and continues boo</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="106" x="689" y="957">ting from disk</text>
</svg>
</div>
</div>
<div class="section" id="localboot-in-standalone-ironic">
<h3>Localboot in standalone ironic<a class="headerlink" href="#localboot-in-standalone-ironic" title="Permalink to this headline">¶</a></h3>
<div><svg height="680.8" viewBox="0 0 1506 851" width="1204.8" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="317" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="567" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="817" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1067" y="7" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="1317" y="7" />
  <path d="M 128 41 L 128 858" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 378 41 L 378 858" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 628 41 L 628 858" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 878 41 L 878 858" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1128 41 L 1128 858" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 1378 41 L 1378 858" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="128" y="28">Webserver</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="378" y="28">Conductor</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="564" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="628" y="28">Baremetal</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="814" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="122" x="878" y="20">ConductorWebserv</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="15" x="878" y="36">er</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1064" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1128" y="28">IPA</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="1314" y="1" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="22" x="1378" y="28">iLO</text>
  <path d="M 386 60 L 1370 60" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,56 1370,60 1362,64" stroke="rgb(0,0,0)" />
  <path d="M 386 153 L 503 153" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 153 L 503 169" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 169 L 386 169" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,165 386,169 394,173" stroke="rgb(0,0,0)" />
  <path d="M 386 198 L 870 198" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="862,194 870,198 862,202" stroke="rgb(0,0,0)" />
  <path d="M 386 243 L 503 243" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 243 L 503 259" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 503 259 L 386 259" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,255 386,259 394,263" stroke="rgb(0,0,0)" />
  <path d="M 386 288 L 1370 288" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,284 1370,288 1362,292" stroke="rgb(0,0,0)" />
  <path d="M 386 317 L 1370 317" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,313 1370,317 1362,321" stroke="rgb(0,0,0)" />
  <path d="M 386 346 L 1370 346" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,342 1370,346 1362,350" stroke="rgb(0,0,0)" />
  <path d="M 386 375 L 1370 375" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,371 1370,375 1362,379" stroke="rgb(0,0,0)" />
  <path d="M 136 404 L 1370 404" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,400 136,404 144,408" stroke="rgb(0,0,0)" />
  <path d="M 636 433 L 1370 433" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1362,429 1370,433 1362,437" stroke="rgb(0,0,0)" />
  <path d="M 386 462 L 1120 462" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,458 386,462 394,466" stroke="rgb(0,0,0)" />
  <path d="M 386 491 L 1120 491" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,487 1120,491 1112,495" stroke="rgb(0,0,0)" />
  <path d="M 386 520 L 1120 520" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,516 386,520 394,524" stroke="rgb(0,0,0)" />
  <path d="M 386 549 L 1120 549" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,545 1120,549 1112,553" stroke="rgb(0,0,0)" />
  <path d="M 136 578 L 1120 578" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="144,574 136,578 144,582" stroke="rgb(0,0,0)" />
  <path d="M 1136 623 L 1253 623" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 623 L 1253 639" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1253 639 L 1136 639" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1144,635 1136,639 1144,643" stroke="rgb(0,0,0)" />
  <path d="M 386 668 L 1120 668" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="394,664 386,668 394,672" stroke="rgb(0,0,0)" />
  <path d="M 386 697 L 620 697" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="612,693 620,697 612,701" stroke="rgb(0,0,0)" />
  <path d="M 386 726 L 1120 726" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1112,722 1120,726 1112,730" stroke="rgb(0,0,0)" />
  <path d="M 386 755 L 620 755" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="612,751 620,755 612,759" stroke="rgb(0,0,0)" />
  <path d="M 636 800 L 753 800" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 800 L 753 816" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 753 816 L 636 816" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="644,812 636,816 644,820" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="145" x="462" y="58">Powers off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="95">Creates the FAT32 </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="111">image containing I</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="127">ronic API URL and </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="143">driver name</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="175" x="477" y="196">Uploads the FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="454" y="225">Generates URL for </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="428" y="241">FAT32 image</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="397" x="588" y="286">Attaches the FAT32 image URL as virtual media floppy</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="381" x="580" y="315">Attaches the deploy ISO URL as virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="206" x="493" y="344">Sets one time boot to CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="447" y="373">Reboot the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="152" x="1294" y="402">Downloads deploy ISO</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="427" x="853" y="431">Boots deploy kernel/ramdisk from iLO virtual media CDROM</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="1078" y="460">Lookup node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="489">Provides node UUID</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="518">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="244" x="512" y="547">Sends the user image HTTP(S) URL</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="290" x="975" y="576">Retrieves the user image on bare metal</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="1204" y="605">Writes user image </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="53" x="1162" y="621">to disk</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="68" x="1086" y="666">Heartbeat</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="183" x="481" y="695">Sets boot device to disk</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="458" y="724">Power off the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="129" x="454" y="753">Power on the node</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="137" x="704" y="782">Boot user image fr</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="14" font-style="normal" font-weight="normal" text-anchor="middle" textLength="53" x="662" y="798">om disk</text>
</svg>
</div>
</div>
<div class="section" id="activating-ilo-advanced-license-as-manual-clean-step">
<h3>Activating iLO Advanced license as manual clean step<a class="headerlink" href="#activating-ilo-advanced-license-as-manual-clean-step" title="Permalink to this headline">¶</a></h3>
<p>iLO drivers can activate the iLO Advanced license key as a manual cleaning
step. Any manual cleaning step can only be initiated when a node is in the
<code class="docutils literal"><span class="pre">manageable</span></code> state. Once the manual cleaning is finished, the node will be
put in the <code class="docutils literal"><span class="pre">manageable</span></code> state again. User can follow steps from
<a class="reference internal" href="../deploy/cleaning.html#manual-cleaning"><span>Manual cleaning</span></a> to initiate manual cleaning operation on a node.</p>
<p>An example of a manual clean step with <code class="docutils literal"><span class="pre">activate_license</span></code> as the only clean
step could be:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&quot;clean_steps&quot;: [{
    &quot;interface&quot;: &quot;management&quot;,
    &quot;step&quot;: &quot;activate_license&quot;,
    &quot;args&quot;: {
        &quot;ilo_license_key&quot;: &quot;ABC12-XXXXX-XXXXX-XXXXX-YZ345&quot;
    }
}]
</pre></div>
</div>
<p>The different attributes of <code class="docutils literal"><span class="pre">activate_license</span></code> clean step are as follows:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">interface</span></code></td>
<td>Interface of clean step, here <code class="docutils literal"><span class="pre">management</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">step</span></code></td>
<td>Name of clean step, here <code class="docutils literal"><span class="pre">activate_license</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">args</span></code></td>
<td>Keyword-argument entry (&lt;name&gt;: &lt;value&gt;) being passed to clean step</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">args.ilo_license_key</span></code></td>
<td>iLO Advanced license key to activate enterprise features. This is mandatory.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="initiating-firmware-update-as-manual-clean-step">
<h3>Initiating firmware update as manual clean step<a class="headerlink" href="#initiating-firmware-update-as-manual-clean-step" title="Permalink to this headline">¶</a></h3>
<p>iLO drivers can invoke secure firmware update as a manual cleaning step. Any
manual cleaning step can only be initiated when a node is in the <code class="docutils literal"><span class="pre">manageable</span></code>
state. Once the manual cleaning is finished, the node will be put in the
<code class="docutils literal"><span class="pre">manageable</span></code> state again. A user can follow steps from <a class="reference internal" href="../deploy/cleaning.html#manual-cleaning"><span>Manual cleaning</span></a>
to initiate manual cleaning operation on a node.</p>
<p>An example of a manual clean step with <code class="docutils literal"><span class="pre">update_firmware</span></code> as the only clean
step could be:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&quot;clean_steps&quot;: [{
    &quot;interface&quot;: &quot;management&quot;,
    &quot;step&quot;: &quot;update_firmware&quot;,
    &quot;args&quot;: {
        &quot;firmware_update_mode&quot;: &quot;ilo&quot;,
        &quot;firmware_images&quot;:[
            {
                &quot;url&quot;: &quot;file:///firmware_images/ilo/1.5/CP024444.scexe&quot;,
                &quot;checksum&quot;: &quot;a94e683ea16d9ae44768f0a65942234d&quot;,
                &quot;component&quot;: &quot;ilo&quot;
            },
            {
                &quot;url&quot;: &quot;swift://firmware_container/cpld2.3.rpm&quot;,
                &quot;checksum&quot;: &quot;&lt;md5-checksum-of-this-file&gt;&quot;,
                &quot;component&quot;: &quot;cpld&quot;
            },
            {
                &quot;url&quot;: &quot;http://my_address:port/firmwares/bios_vLatest.scexe&quot;,
                &quot;checksum&quot;: &quot;&lt;md5-checksum-of-this-file&gt;&quot;,
                &quot;component&quot;: &quot;bios&quot;
            },
            {
                &quot;url&quot;: &quot;https://my_secure_address_url/firmwares/chassis_vLatest.scexe&quot;,
                &quot;checksum&quot;: &quot;&lt;md5-checksum-of-this-file&gt;&quot;,
                &quot;component&quot;: &quot;chassis&quot;
            },
            {
                &quot;url&quot;: &quot;file:///home/ubuntu/firmware_images/power_pic/pmc_v3.0.bin&quot;,
                &quot;checksum&quot;: &quot;&lt;md5-checksum-of-this-file&gt;&quot;,
                &quot;component&quot;: &quot;power_pic&quot;
            }
        ]
    }
}]
</pre></div>
</div>
<p>The different attributes of <code class="docutils literal"><span class="pre">update_firmware</span></code> clean step are as follows:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">interface</span></code></td>
<td>Interface of clean step, here <code class="docutils literal"><span class="pre">management</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">step</span></code></td>
<td>Name of clean step, here <code class="docutils literal"><span class="pre">update_firmware</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">args</span></code></td>
<td>Keyword-argument entry (&lt;name&gt;: &lt;value&gt;) being passed to clean step</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">args.firmware_update_mode</span></code></td>
<td>Mode (or mechanism) of out-of-band firmware update. Supported value is <code class="docutils literal"><span class="pre">ilo</span></code>. This is mandatory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">args.firmware_images</span></code></td>
<td>Ordered list of dictionaries of images to be flashed. This is mandatory.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Each firmware image block is represented by a dictionary (JSON), in the form:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;url of firmware image file&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;md5 checksum of firmware image file to verify the image&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;component&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;device on which firmware image will be flashed&gt;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>All the fields in the firmware image block are mandatory.</p>
<ul class="simple">
<li>The different types of firmware url schemes supported are:
<code class="docutils literal"><span class="pre">file</span></code>, <code class="docutils literal"><span class="pre">http</span></code>, <code class="docutils literal"><span class="pre">https</span></code> and <code class="docutils literal"><span class="pre">swift</span></code>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This feature assumes that while using <code class="docutils literal"><span class="pre">file</span></code> url scheme the file path is
on the conductor controlling the node.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">swift</span></code> url scheme assumes the swift account of the <code class="docutils literal"><span class="pre">service</span></code>
project. The <code class="docutils literal"><span class="pre">service</span></code> project (tenant) is a special project created in
the Keystone system designed for the use of the core OpenStack services.
When Ironic makes use of Swift for storage purpose, the account is generally
<code class="docutils literal"><span class="pre">service</span></code> and the container is generally <code class="docutils literal"><span class="pre">ironic</span></code> and <code class="docutils literal"><span class="pre">ilo</span></code> drivers
use a container named <code class="docutils literal"><span class="pre">ironic_ilo_container</span></code> for their own purpose.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While using firmware files with a <code class="docutils literal"><span class="pre">.rpm</span></code> extension, make sure the commands
<code class="docutils literal"><span class="pre">rpm2cpio</span></code> and <code class="docutils literal"><span class="pre">cpio</span></code> are present on the conductor, as they are utilized
to extract the firmware image from the package.</p>
</div>
<ul>
<li><p class="first">The firmware components that can be updated are:
<code class="docutils literal"><span class="pre">ilo</span></code>, <code class="docutils literal"><span class="pre">cpld</span></code>, <code class="docutils literal"><span class="pre">power_pic</span></code>, <code class="docutils literal"><span class="pre">bios</span></code> and <code class="docutils literal"><span class="pre">chassis</span></code>.</p>
</li>
<li><p class="first">The firmware images will be updated in the order given by the operator. If
there is any error during processing of any of the given firmware images
provided in the list, none of the firmware updates will occur. The processing
error could happen during image download, image checksum verification or
image extraction. The logic is to process each of the firmware files and
update them on the devices only if all the files are processed successfully.
If, during the update (uploading and flashing) process, an update fails, then
the remaining updates, if any, in the list will be aborted. But it is
recommended to triage and fix the failure and re-attempt the manual clean
step <code class="docutils literal"><span class="pre">update_firmware</span></code> for the aborted <code class="docutils literal"><span class="pre">firmware_images</span></code>.</p>
<p>The devices for which the firmwares have been updated successfully would
start functioning using their newly updated firmware.</p>
</li>
<li><p class="first">As a troubleshooting guidance on the complete process, check Ironic conductor
logs carefully to see if there are any firmware processing or update related
errors which may help in root causing or gain an understanding of where
things were left off or where things failed. You can then fix or work around
and then try again. A common cause of update failure is HPE Secure Digital
Signature check failure for the firmware image file.</p>
</li>
<li><p class="first">To compute <code class="docutils literal"><span class="pre">md5</span></code> checksum for your image file, you can use the following
command:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ md5sum image.rpm
66cdb090c80b71daa21a67f06ecd3f33  image.rpm
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="raid-support">
<h3>RAID Support<a class="headerlink" href="#raid-support" title="Permalink to this headline">¶</a></h3>
<p>The inband RAID functionality is supported by iLO drivers. See <a class="reference internal" href="../deploy/raid.html#raid"><span>RAID Configuration</span></a>
for more information.
Bare Metal service update node with following information after successful
configuration of RAID:</p>
<ul>
<li><p class="first">Node <code class="docutils literal"><span class="pre">properties/local_gb</span></code> is set to the size of root volume.</p>
</li>
<li><p class="first">Node <code class="docutils literal"><span class="pre">properties/root_device</span></code> is filled with <code class="docutils literal"><span class="pre">wwn</span></code> details of root
volume. It is used by iLO drivers as root device hint during provisioning.</p>
</li>
<li><p class="first">The value of raid level of root volume is added as <code class="docutils literal"><span class="pre">raid_level</span></code> capability
to the node&#8217;s <code class="docutils literal"><span class="pre">capabilities</span></code> parameter within <code class="docutils literal"><span class="pre">properties</span></code> field. The
operator can specify the <code class="docutils literal"><span class="pre">raid_level</span></code> capability in nova flavor for node
to be selected for scheduling:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>nova flavor-key ironic-test set capabilities:raid_level=&quot;1+0&quot;
nova boot --flavor ironic-test --image test-image instance-1
</pre></div>
</div>
</li>
</ul>
<div class="section" id="dib-support-for-proliant-hardware-manager">
<span id="dib-raid-support"></span><h4>DIB support for Proliant Hardware Manager<a class="headerlink" href="#dib-support-for-proliant-hardware-manager" title="Permalink to this headline">¶</a></h4>
<p>To create an agent ramdisk with <code class="docutils literal"><span class="pre">Proliant</span> <span class="pre">Hardware</span> <span class="pre">Manager</span></code>,
use the <code class="docutils literal"><span class="pre">proliant-tools</span></code> element in DIB:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>disk-image-create -o proliant-agent-ramdisk ironic-agent fedora proliant-tools
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">iLO drivers</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#different-configuration-for-ilo-drivers">Different Configuration for ilo drivers</a><ul>
<li><a class="reference internal" href="#glance-configuration">Glance Configuration</a></li>
<li><a class="reference internal" href="#web-server-configuration-on-conductor">Web server configuration on conductor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#enable-driver">Enable driver</a></li>
<li><a class="reference internal" href="#drivers">Drivers</a><ul>
<li><a class="reference internal" href="#iscsi-ilo-driver">iscsi_ilo driver</a><ul>
<li><a class="reference internal" href="#id1">Overview</a></li>
<li><a class="reference internal" href="#target-users">Target Users</a></li>
<li><a class="reference internal" href="#tested-platforms">Tested Platforms</a></li>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#deploy-process">Deploy Process</a></li>
<li><a class="reference internal" href="#configuring-and-enabling-the-driver">Configuring and Enabling the driver</a></li>
<li><a class="reference internal" href="#registering-proliant-node-in-ironic">Registering ProLiant node in ironic</a></li>
<li><a class="reference internal" href="#boot-modes">Boot modes</a></li>
<li><a class="reference internal" href="#uefi-secure-boot">UEFI Secure Boot</a></li>
<li><a class="reference internal" href="#node-cleaning">Node cleaning</a></li>
<li><a class="reference internal" href="#hardware-inspection">Hardware Inspection</a></li>
<li><a class="reference internal" href="#swiftless-deploy-for-intermediate-deploy-and-boot-images">Swiftless deploy for intermediate deploy and boot images</a></li>
<li><a class="reference internal" href="#http-s-based-deploy">HTTP(S) Based Deploy</a></li>
<li><a class="reference internal" href="#ilo-drivers-with-standalone-ironic">iLO drivers with standalone ironic</a></li>
<li><a class="reference internal" href="#raid-configuration">RAID Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#agent-ilo-driver">agent_ilo driver</a><ul>
<li><a class="reference internal" href="#id3">Overview</a></li>
<li><a class="reference internal" href="#id4">Target Users</a></li>
<li><a class="reference internal" href="#id5">Tested Platforms</a></li>
<li><a class="reference internal" href="#id7">Features</a></li>
<li><a class="reference internal" href="#id8">Requirements</a></li>
<li><a class="reference internal" href="#id9">Deploy Process</a></li>
<li><a class="reference internal" href="#id10">Configuring and Enabling the driver</a></li>
<li><a class="reference internal" href="#id11">Registering ProLiant node in ironic</a></li>
<li><a class="reference internal" href="#id13">Boot modes</a></li>
<li><a class="reference internal" href="#id14">UEFI Secure Boot</a></li>
<li><a class="reference internal" href="#id15">Node Cleaning</a></li>
<li><a class="reference internal" href="#id16">Hardware Inspection</a></li>
<li><a class="reference internal" href="#id17">Swiftless deploy for intermediate deploy and boot images</a></li>
<li><a class="reference internal" href="#id18">HTTP(S) Based Deploy</a></li>
<li><a class="reference internal" href="#id19">iLO drivers with standalone ironic</a></li>
<li><a class="reference internal" href="#id20">RAID Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pxe-ilo-driver">pxe_ilo driver</a><ul>
<li><a class="reference internal" href="#id21">Overview</a></li>
<li><a class="reference internal" href="#id22">Target Users</a></li>
<li><a class="reference internal" href="#id23">Tested Platforms</a></li>
<li><a class="reference internal" href="#id25">Features</a></li>
<li><a class="reference internal" href="#id26">Requirements</a></li>
<li><a class="reference internal" href="#id27">Configuring and Enabling the driver</a></li>
<li><a class="reference internal" href="#id28">Registering ProLiant node in ironic</a></li>
<li><a class="reference internal" href="#id30">Boot modes</a></li>
<li><a class="reference internal" href="#id31">UEFI Secure Boot</a></li>
<li><a class="reference internal" href="#id32">Node Cleaning</a></li>
<li><a class="reference internal" href="#id33">Hardware Inspection</a></li>
<li><a class="reference internal" href="#id34">HTTP(S) Based Deploy</a></li>
<li><a class="reference internal" href="#id35">iLO drivers with standalone ironic</a></li>
<li><a class="reference internal" href="#id36">RAID Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#functionalities-across-drivers">Functionalities across drivers</a><ul>
<li><a class="reference internal" href="#boot-mode-support">Boot mode support</a></li>
<li><a class="reference internal" href="#uefi-secure-boot-support">UEFI Secure Boot Support</a></li>
<li><a class="reference internal" href="#node-cleaning-support">Node Cleaning Support</a><ul>
<li><a class="reference internal" href="#supported-automated-cleaning-operations">Supported <strong>Automated</strong> Cleaning Operations</a></li>
<li><a class="reference internal" href="#supported-manual-cleaning-operations">Supported <strong>Manual</strong> Cleaning Operations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hardware-inspection-support">Hardware Inspection Support</a></li>
<li><a class="reference internal" href="#swiftless-deploy-for-intermediate-images">Swiftless deploy for intermediate images</a><ul>
<li><a class="reference internal" href="#id38">Deploy Process</a></li>
</ul>
</li>
<li><a class="reference internal" href="#http-s-based-deploy-support">HTTP(S) Based Deploy Support</a><ul>
<li><a class="reference internal" href="#id40">Deploy Process</a></li>
</ul>
</li>
<li><a class="reference internal" href="#support-for-ilo-drivers-with-standalone-ironic">Support for iLO drivers with Standalone Ironic</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#id41">Deploy Process</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id42">Deploy Process</a><ul>
<li><a class="reference internal" href="#netboot-with-glance-and-swift">Netboot with glance and swift</a></li>
<li><a class="reference internal" href="#localboot-with-glance-and-swift-for-partition-images">Localboot with glance and swift for partition images</a></li>
<li><a class="reference internal" href="#localboot-with-glance-and-swift">Localboot with glance and swift</a></li>
<li><a class="reference internal" href="#netboot-in-swiftless-deploy-for-intermediate-images">Netboot in swiftless deploy for intermediate images</a></li>
<li><a class="reference internal" href="#localboot-in-swiftless-deploy-for-intermediate-images">Localboot in swiftless deploy for intermediate images</a></li>
<li><a class="reference internal" href="#netboot-with-http-s-based-deploy">Netboot with HTTP(S) based deploy</a></li>
<li><a class="reference internal" href="#localboot-with-http-s-based-deploy">Localboot with HTTP(S) based deploy</a></li>
<li><a class="reference internal" href="#netboot-in-standalone-ironic">Netboot in standalone ironic</a></li>
<li><a class="reference internal" href="#localboot-in-standalone-ironic">Localboot in standalone ironic</a></li>
<li><a class="reference internal" href="#activating-ilo-advanced-license-as-manual-clean-step">Activating iLO Advanced license as manual clean step</a></li>
<li><a class="reference internal" href="#initiating-firmware-update-as-manual-clean-step">Initiating firmware update as manual clean step</a></li>
<li><a class="reference internal" href="#raid-support">RAID Support</a><ul>
<li><a class="reference internal" href="#dib-support-for-proliant-hardware-manager">DIB support for Proliant Hardware Manager</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="snmp.html"
                                  title="previous chapter">SNMP driver</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="irmc.html"
                                  title="next chapter">iRMC drivers</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/ironic
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/drivers/ilo.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="irmc.html" title="iRMC drivers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="snmp.html" title="SNMP driver"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Ironic 7.0.1.dev5 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../deploy/drivers.html" accesskey="U">Enabling drivers</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Ironic");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>