<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Notifications &mdash; Ironic 6.3.0.dev823 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/toggle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '6.3.0.dev823',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/toggle.js"></script>
    <link rel="top" title="Ironic 6.3.0.dev823 documentation" href="../index.html" />
    <link rel="next" title="Enabling drivers" href="drivers.html" />
    <link rel="prev" title="API Audit Logging" href="api-audit-support.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="notifications">
<span id="deploy-notifications"></span><h1>Notifications<a class="headerlink" href="#notifications" title="Permalink to this headline">¶</a></h1>
<p>Ironic, when configured to do so, will emit notifications over a message bus
that indicate different events that occur within the service. These can be
consumed by any external service. Examples may include a billing or usage
system, a monitoring data store, or other OpenStack services. This page
describes how to enable notifications and the different kinds of notifications
that ironic may emit. The external consumer will see notifications emitted by
ironic as JSON objects structured in the following manner:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>{
    &quot;priority&quot;: &lt;string, defined by the sender&gt;,
    &quot;event_type&quot;: &lt;string, defined by the sender&gt;,
    &quot;timestamp&quot;: &lt;string, the isotime of when the notification emitted&gt;,
    &quot;publisher_id&quot;: &lt;string, defined by the sender&gt;,
    &quot;message_id&quot;: &lt;uuid, generated by oslo&gt;,
    &quot;payload&quot;: &lt;json serialized dict, defined by the sender&gt;
}
</pre></div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>To enable notifications with ironic, there are two configuration options in
ironic.conf that must be adjusted.</p>
<p>The first option is the <code class="docutils literal"><span class="pre">notification_level</span></code> option in the <code class="docutils literal"><span class="pre">[DEFAULT]</span></code>
section of the configuration file. This can be set to &#8220;debug&#8221;, &#8220;info&#8221;,
&#8220;warning&#8221;, &#8220;error&#8221;, or &#8220;critical&#8221;, and determines the minimum priority level
for which notifications are emitted. For example, if the option is set to
&#8220;warning&#8221;, all notifications with priority level &#8220;warning&#8221;, &#8220;error&#8221;, or
&#8220;critical&#8221; are emitted, but not notifications with priority level &#8220;debug&#8221; or
&#8220;info&#8221;. For information about the semantics of each log level, see the
OpenStack logging standards <a class="footnote-reference" href="#id4" id="id1">[1]</a>. If this option is unset, no notifications
will be emitted. The priority level of each available notification is
documented below.</p>
<p>The second option is the <code class="docutils literal"><span class="pre">transport_url</span></code> option in the
<code class="docutils literal"><span class="pre">[oslo_messaging_notifications]</span></code> section of the configuration. This
determines the message bus used when sending notifications. If this is unset,
the default transport used for RPC is used.</p>
<p>All notifications are emitted on the &#8220;ironic_versioned_notifications&#8221; topic in
the message bus. Generally, each type of message that traverses the message bus
is associated with a topic describing what the message is about. For more
information, see the documentation of your chosen message bus, such as the
RabbitMQ documentation <a class="footnote-reference" href="#id5" id="id2">[2]</a>.</p>
<p>Note that notifications may be lossy, and there&#8217;s no guarantee that a
notification will make it across the message bus to a consumer.</p>
</div>
<div class="section" id="versioning">
<h2>Versioning<a class="headerlink" href="#versioning" title="Permalink to this headline">¶</a></h2>
<p>Each notification has an associated version in the &#8220;ironic_object.version&#8221;
field of the payload. Consumers are guaranteed that microversion bumps will add
new fields, while macroversion bumps are backwards-incompatible and may have
fields removed.</p>
</div>
<div class="section" id="available-notifications">
<h2>Available notifications<a class="headerlink" href="#available-notifications" title="Permalink to this headline">¶</a></h2>
<p>The notifications that ironic emits are described here. They are listed
(alphabetically) by service first, then by event_type. All examples below
show payloads before serialization to JSON.</p>
<div class="section" id="ironic-api-notifications">
<h3>ironic-api notifications<a class="headerlink" href="#ironic-api-notifications" title="Permalink to this headline">¶</a></h3>
<div class="section" id="resources-crud-notifications">
<h4>Resources CRUD notifications<a class="headerlink" href="#resources-crud-notifications" title="Permalink to this headline">¶</a></h4>
<p>These notifications are emitted from API service when ironic resources are
modified as part of create, update, or delete (CRUD) <a class="footnote-reference" href="#id6" id="id3">[3]</a> procedures. All
CRUD notifications are emitted at INFO level, except for &#8220;error&#8221; status that
is emitted at ERROR level.</p>
<p>List of CRUD notifications for chassis:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">baremetal.chassis.create.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.chassis.create.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.chassis.create.error</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.chassis.update.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.chassis.update.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.chassis.update.error</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.chassis.delete.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.chassis.delete.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.chassis.delete.error</span></code></li>
</ul>
<p>Example of chassis CRUD notification:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
 <span class="s2">&quot;payload&quot;</span><span class="p">:{</span>
     <span class="s2">&quot;ironic_object.namespace&quot;</span><span class="p">:</span><span class="s2">&quot;ironic&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.name&quot;</span><span class="p">:</span><span class="s2">&quot;ChassisCRUDPayload&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.version&quot;</span><span class="p">:</span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.data&quot;</span><span class="p">:{</span>
         <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-04-10T10:13:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;bare 28&quot;</span><span class="p">,</span>
         <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-04-27T21:11:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;1910f669-ce8b-43c2-b1d8-cf3d65be815e&quot;</span>
     <span class="p">}</span>
 <span class="p">},</span>
 <span class="s2">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;baremetal.chassis.update.end&quot;</span><span class="p">,</span>
 <span class="s2">&quot;publisher_id&quot;</span><span class="p">:</span><span class="s2">&quot;ironic-api.hostname02&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>List of CRUD notifications for node:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">baremetal.node.create.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.create.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.create.error</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.update.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.update.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.update.error</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.delete.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.delete.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.delete.error</span></code></li>
</ul>
<p>Example of node CRUD notification:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
 <span class="s2">&quot;payload&quot;</span><span class="p">:{</span>
     <span class="s2">&quot;ironic_object.namespace&quot;</span><span class="p">:</span><span class="s2">&quot;ironic&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.name&quot;</span><span class="p">:</span><span class="s2">&quot;NodeCRUDPayload&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.version&quot;</span><span class="p">:</span><span class="s2">&quot;1.1&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.data&quot;</span><span class="p">:{</span>
         <span class="s2">&quot;chassis_uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;db0eef9d-45b2-4dc0-94a8-fc283c01171f&quot;</span><span class="p">,</span>
         <span class="s2">&quot;clean_step&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_enabled&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-26T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;fake&quot;</span><span class="p">,</span>
         <span class="s2">&quot;driver_info&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;192.168.0.111&quot;</span><span class="p">},</span>
         <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;inspection_finished_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspection_started_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;instance_info&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;instance_uuid&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;last_error&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;maintenance&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;maintenance_reason&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;boot_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;deploy_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspect_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;management_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;network_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;flat&quot;</span><span class="p">,</span>
         <span class="s2">&quot;power_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;raid_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;vendor_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;power_state&quot;</span><span class="p">:</span> <span class="s2">&quot;power off&quot;</span><span class="p">,</span>
         <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="s2">&quot;memory_mb&quot;</span><span class="p">:</span>  <span class="mi">4096</span><span class="p">,</span>
             <span class="s2">&quot;cpu_arch&quot;</span><span class="p">:</span>  <span class="s2">&quot;x86_64&quot;</span><span class="p">,</span>
             <span class="s2">&quot;local_gb&quot;</span><span class="p">:</span>  <span class="mi">10</span><span class="p">,</span>
             <span class="s2">&quot;cpus&quot;</span><span class="p">:</span>  <span class="mi">8</span><span class="p">},</span>
         <span class="s2">&quot;provision_state&quot;</span><span class="p">:</span> <span class="s2">&quot;deploying&quot;</span><span class="p">,</span>
         <span class="s2">&quot;provision_updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;resource_class&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_power_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_provision_state&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
         <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;1be26c0b-03f2-4d2e-ae87-c02d7f33c123&quot;</span>
     <span class="p">}</span>
 <span class="p">},</span>
 <span class="s2">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;baremetal.node.update.end&quot;</span><span class="p">,</span>
 <span class="s2">&quot;publisher_id&quot;</span><span class="p">:</span><span class="s2">&quot;ironic-api.hostname02&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>List of CRUD notifications for port:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">baremetal.port.create.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.port.create.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.port.create.error</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.port.update.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.port.update.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.port.update.error</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.port.delete.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.port.delete.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.port.delete.error</span></code></li>
</ul>
<p>Example of port CRUD notification:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
 <span class="s2">&quot;payload&quot;</span><span class="p">:{</span>
     <span class="s2">&quot;ironic_object.namespace&quot;</span><span class="p">:</span><span class="s2">&quot;ironic&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.name&quot;</span><span class="p">:</span><span class="s2">&quot;PortCRUDPayload&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.version&quot;</span><span class="p">:</span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.data&quot;</span><span class="p">:{</span>
         <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;77:66:23:34:11:b7&quot;</span><span class="p">,</span>
         <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-02-11T15:23:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;node_uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;5b236cab-ad4e-4220-b57c-e827e858745a&quot;</span><span class="p">,</span>
         <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;local_link_connection&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;pxe_enabled&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
         <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-03-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;1be26c0b-03f2-4d2e-ae87-c02d7f33c123&quot;</span>
     <span class="p">}</span>
 <span class="p">},</span>
 <span class="s2">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;baremetal.port.update.end&quot;</span><span class="p">,</span>
 <span class="s2">&quot;publisher_id&quot;</span><span class="p">:</span><span class="s2">&quot;ironic-api.hostname02&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="node-maintenance-notifications">
<h4>Node maintenance notifications<a class="headerlink" href="#node-maintenance-notifications" title="Permalink to this headline">¶</a></h4>
<p>These notifications are emitted from API service when maintenance mode is
changed via API service. List of maintenance notifications for a node:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">baremetal.node.maintenance_set.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.maintenance_set.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.maintenance_set.error</span></code></li>
</ul>
<p>&#8220;start&#8221; and &#8220;end&#8221; notifications have INFO level, &#8220;error&#8221; has ERROR. Example of
node maintenance notification:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
 <span class="s2">&quot;payload&quot;</span><span class="p">:{</span>
     <span class="s2">&quot;ironic_object.namespace&quot;</span><span class="p">:</span><span class="s2">&quot;ironic&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.name&quot;</span><span class="p">:</span><span class="s2">&quot;NodePayload&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.version&quot;</span><span class="p">:</span><span class="s2">&quot;1.3&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.data&quot;</span><span class="p">:{</span>
         <span class="s2">&quot;clean_step&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_enabled&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-26T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;fake&quot;</span><span class="p">,</span>
         <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;inspection_finished_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspection_started_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;instance_info&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;instance_uuid&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;last_error&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;maintenance&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
         <span class="s2">&quot;maintenance_reason&quot;</span><span class="p">:</span> <span class="s2">&quot;hw upgrade&quot;</span><span class="p">,</span>
         <span class="s2">&quot;boot_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;deploy_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspect_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;management_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;network_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;flat&quot;</span><span class="p">,</span>
         <span class="s2">&quot;power_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;raid_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;vendor_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;power_state&quot;</span><span class="p">:</span> <span class="s2">&quot;power off&quot;</span><span class="p">,</span>
         <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="s2">&quot;memory_mb&quot;</span><span class="p">:</span>  <span class="mi">4096</span><span class="p">,</span>
             <span class="s2">&quot;cpu_arch&quot;</span><span class="p">:</span>  <span class="s2">&quot;x86_64&quot;</span><span class="p">,</span>
             <span class="s2">&quot;local_gb&quot;</span><span class="p">:</span>  <span class="mi">10</span><span class="p">,</span>
             <span class="s2">&quot;cpus&quot;</span><span class="p">:</span>  <span class="mi">8</span><span class="p">},</span>
         <span class="s2">&quot;provision_state&quot;</span><span class="p">:</span> <span class="s2">&quot;available&quot;</span><span class="p">,</span>
         <span class="s2">&quot;provision_updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;resource_class&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_power_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_provision_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;1be26c0b-03f2-4d2e-ae87-c02d7f33c123&quot;</span>
     <span class="p">}</span>
 <span class="p">},</span>
 <span class="s2">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;baremetal.node.maintenance_set.start&quot;</span><span class="p">,</span>
 <span class="s2">&quot;publisher_id&quot;</span><span class="p">:</span><span class="s2">&quot;ironic-api.hostname02&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ironic-conductor-notifications">
<h3>ironic-conductor notifications<a class="headerlink" href="#ironic-conductor-notifications" title="Permalink to this headline">¶</a></h3>
<div class="section" id="node-console-notifications">
<h4>Node console notifications<a class="headerlink" href="#node-console-notifications" title="Permalink to this headline">¶</a></h4>
<p>These notifications are emitted by the ironic-conductor service when conductor
service starts or stops console for the node. The notification event types for
a node console are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">baremetal.node.console_set.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.console_set.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.console_set.error</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.console_restore.start</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.console_restore.end</span></code></li>
<li><code class="docutils literal"><span class="pre">baremetal.node.console_restore.error</span></code></li>
</ul>
<p><code class="docutils literal"><span class="pre">console_set</span></code> action is used when start or stop console is initiated via API
request. The <code class="docutils literal"><span class="pre">console_restore</span></code> action is used when the console was already
enabled, but a driver must restart the console because an ironic-conductor was
restarted. This may also be sent when an ironic-conductor takes over a node
that was being managed by another ironic-conductor. &#8220;start&#8221; and &#8220;end&#8221;
notifications have INFO level, &#8220;error&#8221; has ERROR. Example of node console
notification:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
 <span class="s2">&quot;payload&quot;</span><span class="p">:{</span>
     <span class="s2">&quot;ironic_object.namespace&quot;</span><span class="p">:</span><span class="s2">&quot;ironic&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.name&quot;</span><span class="p">:</span><span class="s2">&quot;NodePayload&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.version&quot;</span><span class="p">:</span><span class="s2">&quot;1.3&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.data&quot;</span><span class="p">:{</span>
         <span class="s2">&quot;clean_step&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_enabled&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
         <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-26T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;fake&quot;</span><span class="p">,</span>
         <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;inspection_finished_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspection_started_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;instance_info&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;instance_uuid&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;last_error&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;maintenance&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;maintenance_reason&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;boot_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;deploy_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspect_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;management_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;network_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;flat&quot;</span><span class="p">,</span>
         <span class="s2">&quot;power_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;raid_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;vendor_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;power_state&quot;</span><span class="p">:</span> <span class="s2">&quot;power off&quot;</span><span class="p">,</span>
         <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="s2">&quot;memory_mb&quot;</span><span class="p">:</span>  <span class="mi">4096</span><span class="p">,</span>
             <span class="s2">&quot;cpu_arch&quot;</span><span class="p">:</span>  <span class="s2">&quot;x86_64&quot;</span><span class="p">,</span>
             <span class="s2">&quot;local_gb&quot;</span><span class="p">:</span>  <span class="mi">10</span><span class="p">,</span>
             <span class="s2">&quot;cpus&quot;</span><span class="p">:</span>  <span class="mi">8</span><span class="p">},</span>
         <span class="s2">&quot;provision_state&quot;</span><span class="p">:</span> <span class="s2">&quot;available&quot;</span><span class="p">,</span>
         <span class="s2">&quot;provision_updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;resource_class&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_power_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_provision_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;1be26c0b-03f2-4d2e-ae87-c02d7f33c123&quot;</span>
     <span class="p">}</span>
 <span class="p">},</span>
 <span class="s2">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;baremetal.node.console_set.end&quot;</span><span class="p">,</span>
 <span class="s2">&quot;publisher_id&quot;</span><span class="p">:</span><span class="s2">&quot;ironic-conductor.hostname01&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="baremetal-node-power-set">
<h4>baremetal.node.power_set<a class="headerlink" href="#baremetal-node-power-set" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">baremetal.node.power_set.start</span></code> is emitted by the ironic-conductor service
when it begins a power state change. It has notification level &#8220;info&#8221;.</li>
<li><code class="docutils literal"><span class="pre">baremetal.node.power_set.end</span></code> is emitted when ironic-conductor
successfully completes a power state change task. It has notification level
&#8220;info&#8221;.</li>
<li><code class="docutils literal"><span class="pre">baremetal.node.power_set.error</span></code> is emitted by ironic-conductor when it
fails to set a node&#8217;s power state. It has notification level &#8220;error&#8221;. This
can occur when ironic fails to retrieve the old power state prior to setting
the new one on the node, or when it fails to set the power state if a change
is requested.</li>
</ul>
<p>Here is an example payload for a notification with this event type. The
&#8220;to_power&#8221; payload field indicates the power state to which the
ironic-conductor is attempting to change the node:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
 <span class="s2">&quot;payload&quot;</span><span class="p">:{</span>
     <span class="s2">&quot;ironic_object.namespace&quot;</span><span class="p">:</span><span class="s2">&quot;ironic&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.name&quot;</span><span class="p">:</span><span class="s2">&quot;NodeSetPowerStatePayload&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.version&quot;</span><span class="p">:</span><span class="s2">&quot;1.3&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.data&quot;</span><span class="p">:{</span>
         <span class="s2">&quot;clean_step&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_enabled&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-26T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;fake&quot;</span><span class="p">,</span>
         <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;inspection_finished_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspection_started_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;instance_uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;d6ea00c1-1f94-4e95-90b3-3462d7031678&quot;</span><span class="p">,</span>
         <span class="s2">&quot;last_error&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;maintenance&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;maintenance_reason&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;boot_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;deploy_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspect_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;management_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;network_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;flat&quot;</span><span class="p">,</span>
         <span class="s2">&quot;power_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;raid_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;vendor_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;power_state&quot;</span><span class="p">:</span> <span class="s2">&quot;power off&quot;</span><span class="p">,</span>
         <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="s2">&quot;memory_mb&quot;</span><span class="p">:</span>  <span class="mi">4096</span><span class="p">,</span>
             <span class="s2">&quot;cpu_arch&quot;</span><span class="p">:</span>  <span class="s2">&quot;x86_64&quot;</span><span class="p">,</span>
             <span class="s2">&quot;local_gb&quot;</span><span class="p">:</span>  <span class="mi">10</span><span class="p">,</span>
             <span class="s2">&quot;cpus&quot;</span><span class="p">:</span>  <span class="mi">8</span><span class="p">},</span>
         <span class="s2">&quot;provision_state&quot;</span><span class="p">:</span> <span class="s2">&quot;available&quot;</span><span class="p">,</span>
         <span class="s2">&quot;provision_updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;resource_class&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_power_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_provision_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;1be26c0b-03f2-4d2e-ae87-c02d7f33c123&quot;</span><span class="p">,</span>
         <span class="s2">&quot;to_power&quot;</span><span class="p">:</span> <span class="s2">&quot;power on&quot;</span>
     <span class="p">}</span>
 <span class="p">},</span>
 <span class="s2">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;baremetal.node.power_set.start&quot;</span><span class="p">,</span>
 <span class="s2">&quot;publisher_id&quot;</span><span class="p">:</span><span class="s2">&quot;ironic-conductor.hostname01&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="baremetal-node-power-state-corrected">
<h4>baremetal.node.power_state_corrected<a class="headerlink" href="#baremetal-node-power-state-corrected" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">baremetal.node.power_state_corrected.success</span></code> is emitted by
ironic-conductor when the power state on the baremetal hardware is different
from the previous known power state of the node and the database is corrected
to reflect this new power state. It has notification level &#8220;info&#8221;.</li>
</ul>
<p>Here is an example payload for a notification with this event_type. The
&#8220;from_power&#8221; payload field indicates the previous power state on the node,
prior to the correction:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
 <span class="s2">&quot;payload&quot;</span><span class="p">:{</span>
     <span class="s2">&quot;ironic_object.namespace&quot;</span><span class="p">:</span><span class="s2">&quot;ironic&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.name&quot;</span><span class="p">:</span><span class="s2">&quot;NodeCorrectedPowerStatePayload&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.version&quot;</span><span class="p">:</span><span class="s2">&quot;1.3&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.data&quot;</span><span class="p">:{</span>
         <span class="s2">&quot;clean_step&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_enabled&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-26T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;fake&quot;</span><span class="p">,</span>
         <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;inspection_finished_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspection_started_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;instance_uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;d6ea00c1-1f94-4e95-90b3-3462d7031678&quot;</span><span class="p">,</span>
         <span class="s2">&quot;last_error&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;maintenance&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;maintenance_reason&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;boot_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;deploy_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspect_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;management_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;network_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;flat&quot;</span><span class="p">,</span>
         <span class="s2">&quot;power_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;raid_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;vendor_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;power_state&quot;</span><span class="p">:</span> <span class="s2">&quot;power off&quot;</span><span class="p">,</span>
         <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="s2">&quot;memory_mb&quot;</span><span class="p">:</span>  <span class="mi">4096</span><span class="p">,</span>
             <span class="s2">&quot;cpu_arch&quot;</span><span class="p">:</span>  <span class="s2">&quot;x86_64&quot;</span><span class="p">,</span>
             <span class="s2">&quot;local_gb&quot;</span><span class="p">:</span>  <span class="mi">10</span><span class="p">,</span>
             <span class="s2">&quot;cpus&quot;</span><span class="p">:</span>  <span class="mi">8</span><span class="p">},</span>
         <span class="s2">&quot;provision_state&quot;</span><span class="p">:</span> <span class="s2">&quot;available&quot;</span><span class="p">,</span>
         <span class="s2">&quot;provision_updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;resource_class&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_power_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_provision_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;1be26c0b-03f2-4d2e-ae87-c02d7f33c123&quot;</span><span class="p">,</span>
         <span class="s2">&quot;from_power&quot;</span><span class="p">:</span> <span class="s2">&quot;power on&quot;</span>
     <span class="p">}</span>
 <span class="p">},</span>
 <span class="s2">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;baremetal.node.power_state_corrected.success&quot;</span><span class="p">,</span>
 <span class="s2">&quot;publisher_id&quot;</span><span class="p">:</span><span class="s2">&quot;ironic-conductor.cond-hostname02&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="baremetal-node-provision-set">
<h4>baremetal.node.provision_set<a class="headerlink" href="#baremetal-node-provision-set" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">baremetal.node.provision_set.start</span></code> is emitted by the ironic-conductor
service when it begins a provision state transition. It has notification
level INFO.</li>
<li><code class="docutils literal"><span class="pre">baremetal.node.provision_set.end</span></code> is emitted when ironic-conductor
successfully completes a provision state transition. It has notification
level INFO.</li>
<li><code class="docutils literal"><span class="pre">baremetal.node.provision_set.success</span></code> is emitted when ironic-conductor
successfully changes provision state instantly, without any intermediate
work required (example is AVAILABLE to MANAGEABLE). It has notification level
INFO.</li>
<li><code class="docutils literal"><span class="pre">baremetal.node.provision_set.error</span></code> is emitted by ironic-conductor when it
changes provision state as result of error event processing. It has
notification level ERROR.</li>
</ul>
<p>Here is an example payload for a notification with this event type. The
&#8220;previous_provision_state&#8221; and &#8220;previous_target_provision_state&#8221; payload fields
indicate a node&#8217;s provision states before state change, &#8220;event&#8221; is the FSM
(finite state machine) event that triggered the state change:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
 <span class="s2">&quot;payload&quot;</span><span class="p">:{</span>
     <span class="s2">&quot;ironic_object.namespace&quot;</span><span class="p">:</span><span class="s2">&quot;ironic&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.name&quot;</span><span class="p">:</span><span class="s2">&quot;NodeSetProvisionStatePayload&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.version&quot;</span><span class="p">:</span><span class="s2">&quot;1.3&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ironic_object.data&quot;</span><span class="p">:{</span>
         <span class="s2">&quot;clean_step&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_enabled&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-26T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;fake&quot;</span><span class="p">,</span>
         <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;inspection_finished_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspection_started_at&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;instance_info&quot;</span><span class="p">:</span> <span class="p">{},</span>
         <span class="s2">&quot;instance_uuid&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;last_error&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;maintenance&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
         <span class="s2">&quot;maintenance_reason&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;boot_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;console_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;deploy_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;inspect_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;management_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;network_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;flat&quot;</span><span class="p">,</span>
         <span class="s2">&quot;power_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;raid_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;vendor_interface&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;power_state&quot;</span><span class="p">:</span> <span class="s2">&quot;power off&quot;</span><span class="p">,</span>
         <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="s2">&quot;memory_mb&quot;</span><span class="p">:</span>  <span class="mi">4096</span><span class="p">,</span>
             <span class="s2">&quot;cpu_arch&quot;</span><span class="p">:</span>  <span class="s2">&quot;x86_64&quot;</span><span class="p">,</span>
             <span class="s2">&quot;local_gb&quot;</span><span class="p">:</span>  <span class="mi">10</span><span class="p">,</span>
             <span class="s2">&quot;cpus&quot;</span><span class="p">:</span>  <span class="mi">8</span><span class="p">},</span>
         <span class="s2">&quot;provision_state&quot;</span><span class="p">:</span> <span class="s2">&quot;deploying&quot;</span><span class="p">,</span>
         <span class="s2">&quot;provision_updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;resource_class&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_power_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;target_provision_state&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
         <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-27T20:41:03+00:00&quot;</span><span class="p">,</span>
         <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;1be26c0b-03f2-4d2e-ae87-c02d7f33c123&quot;</span><span class="p">,</span>
         <span class="s2">&quot;previous_provision_state&quot;</span><span class="p">:</span> <span class="s2">&quot;available&quot;</span><span class="p">,</span>
         <span class="s2">&quot;previous_target_provision_state&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
         <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;deploy&quot;</span>
     <span class="p">}</span>
 <span class="p">},</span>
 <span class="s2">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;baremetal.node.provision_set.start&quot;</span><span class="p">,</span>
 <span class="s2">&quot;publisher_id&quot;</span><span class="p">:</span><span class="s2">&quot;ironic-conductor.hostname01&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="https://wiki.openstack.org/wiki/LoggingStandards#Log_level_definitions">https://wiki.openstack.org/wiki/LoggingStandards#Log_level_definitions</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="https://www.rabbitmq.com/documentation.html">https://www.rabbitmq.com/documentation.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td><a class="reference external" href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">https://en.wikipedia.org/wiki/Create,_read,_update_and_delete</a></td></tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Notifications</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#versioning">Versioning</a></li>
<li><a class="reference internal" href="#available-notifications">Available notifications</a><ul>
<li><a class="reference internal" href="#ironic-api-notifications">ironic-api notifications</a><ul>
<li><a class="reference internal" href="#resources-crud-notifications">Resources CRUD notifications</a></li>
<li><a class="reference internal" href="#node-maintenance-notifications">Node maintenance notifications</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ironic-conductor-notifications">ironic-conductor notifications</a><ul>
<li><a class="reference internal" href="#node-console-notifications">Node console notifications</a></li>
<li><a class="reference internal" href="#baremetal-node-power-set">baremetal.node.power_set</a></li>
<li><a class="reference internal" href="#baremetal-node-power-state-corrected">baremetal.node.power_state_corrected</a></li>
<li><a class="reference internal" href="#baremetal-node-provision-set">baremetal.node.provision_set</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="api-audit-support.html"
                                  title="previous chapter">API Audit Logging</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="drivers.html"
                                  title="next chapter">Enabling drivers</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/ironic
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/deploy/notifications.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="drivers.html" title="Enabling drivers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api-audit-support.html" title="API Audit Logging"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Ironic 6.3.0.dev823 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Ironic");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>