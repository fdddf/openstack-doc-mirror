<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Heat Orchestration Template (HOT) specification &mdash; heat 8.0.0.0rc2.dev38 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '8.0.0.0rc2.dev38',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="heat 8.0.0.0rc2.dev38 documentation" href="../index.html" />
    <link rel="up" title="Template Guide" href="index.html" />
    <link rel="next" title="Instances" href="basic_resources.html" />
    <link rel="prev" title="Writing a hello world HOT template" href="hello_world.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="heat-orchestration-template-hot-specification">
<span id="hot-spec"></span><h1>Heat Orchestration Template (HOT) specification<a class="headerlink" href="#heat-orchestration-template-hot-specification" title="Permalink to this headline">¶</a></h1>
<p>HOT is a new template format meant to replace the Heat
CloudFormation-compatible format (CFN) as the native format supported by the
Heat over time. This specification explains in detail all elements of the HOT
template format.
An example driven guide to writing HOT templates can be found
at <a class="reference internal" href="hot_guide.html#hot-guide"><span>Heat Orchestration Template (HOT) Guide</span></a>.</p>
<div class="section" id="status">
<h2>Status<a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h2>
<p>HOT is considered reliable, supported, and standardized as of our
Icehouse (April 2014) release. The Heat core team may make improvements
to the standard, which very likely would be backward compatible. The template
format is also versioned. Since Juno release, Heat supports multiple
different versions of the HOT specification.</p>
</div>
<div class="section" id="template-structure">
<h2>Template structure<a class="headerlink" href="#template-structure" title="Permalink to this headline">¶</a></h2>
<p>HOT templates are defined in YAML and follow the structure outlined below.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">heat_template_version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2016-10-14</span>

<span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span>
  <span class="c1"># a description of the template</span>

<span class="l l-Scalar l-Scalar-Plain">parameter_groups</span><span class="p p-Indicator">:</span>
  <span class="c1"># a declaration of input parameter groups and order</span>

<span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="c1"># declaration of input parameters</span>

<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="c1"># declaration of template resources</span>

<span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="c1"># declaration of output parameters</span>

<span class="l l-Scalar l-Scalar-Plain">conditions</span><span class="p p-Indicator">:</span>
  <span class="c1"># declaration of conditions</span>
</pre></div>
</div>
<dl class="docutils">
<dt>heat_template_version</dt>
<dd>This key with value <code class="docutils literal"><span class="pre">2013-05-23</span></code> (or a later date) indicates that the
YAML document is a HOT template of the specified version.</dd>
<dt>description</dt>
<dd>This optional key allows for giving a description of the template, or the
workload that can be deployed using the template.</dd>
<dt>parameter_groups</dt>
<dd>This section allows for specifying how the input parameters should be
grouped and the order to provide the parameters in. This section is
optional and can be omitted when necessary.</dd>
<dt>parameters</dt>
<dd>This section allows for specifying input parameters that have to be
provided when instantiating the template. The section is optional and can
be omitted when no input is required.</dd>
<dt>resources</dt>
<dd>This section contains the declaration of the single resources of the
template. This section with at least one resource should be defined in any
HOT template, or the template would not really do anything when being
instantiated.</dd>
<dt>outputs</dt>
<dd>This section allows for specifying output parameters available to users
once the template has been instantiated. This section is optional and can
be omitted when no output values are required.</dd>
<dt>conditions</dt>
<dd><p class="first">This optional section includes statements which can be used to restrict
when a resource is created or when a property is defined. They can be
associated with resources and resource properties in the
<code class="docutils literal"><span class="pre">resources</span></code> section, also can be associated with outputs in the
<code class="docutils literal"><span class="pre">outputs</span></code> sections of a template.</p>
<p class="last">Note: Support for this section is added in the Newton version.</p>
</dd>
</dl>
</div>
<div class="section" id="heat-template-version">
<span id="hot-spec-template-version"></span><h2>Heat template version<a class="headerlink" href="#heat-template-version" title="Permalink to this headline">¶</a></h2>
<p>The value of <code class="docutils literal"><span class="pre">heat_template_version</span></code> tells Heat not only the format of the
template but also features that will be validated and supported. Beginning with
the Newton release, the version can be either the date of the Heat release or
the code name of the Heat release. Heat currently supports the following values
for the <code class="docutils literal"><span class="pre">heat_template_version</span></code> key:</p>
<div class="section" id="id1">
<h3>2013-05-23<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The key with value <code class="docutils literal"><span class="pre">2013-05-23</span></code> indicates that the YAML document is a HOT
template and it may contain features implemented until the Icehouse
release. This version supports the following functions (some are back
ported to this version):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>get_attr
get_file
get_param
get_resource
list_join
resource_facade
str_replace
Fn::Base64
Fn::GetAZs
Fn::Join
Fn::MemberListToMap
Fn::Replace
Fn::ResourceFacade
Fn::Select
Fn::Split
Ref
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id2">
<h3>2014-10-16<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The key with value <code class="docutils literal"><span class="pre">2014-10-16</span></code> indicates that the YAML document is a HOT
template and it may contain features added and/or removed up until the Juno
release. This version removes most CFN functions that were supported in
the Icehouse release, i.e. the <code class="docutils literal"><span class="pre">2013-05-23</span></code> version. So the supported
functions now are:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>get_attr
get_file
get_param
get_resource
list_join
resource_facade
str_replace
Fn::Select
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id3">
<h3>2015-04-30<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The key with value <code class="docutils literal"><span class="pre">2015-04-30</span></code> indicates that the YAML document is a HOT
template and it may contain features added and/or removed up until the Kilo
release. This version adds the <code class="docutils literal"><span class="pre">repeat</span></code> function. So the complete list of
supported functions is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>get_attr
get_file
get_param
get_resource
list_join
repeat
digest
resource_facade
str_replace
Fn::Select
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id4">
<h3>2015-10-15<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The key with value <code class="docutils literal"><span class="pre">2015-10-15</span></code> indicates that the YAML document is a HOT
template and it may contain features added and/or removed up until the
Liberty release. This version removes the <em>Fn::Select</em> function, path based
<code class="docutils literal"><span class="pre">get_attr</span></code>/<code class="docutils literal"><span class="pre">get_param</span></code> references should be used instead. Moreover
<code class="docutils literal"><span class="pre">get_attr</span></code> since this version returns dict of all attributes for the
given resource excluding <em>show</em> attribute, if there&#8217;s no &lt;attribute name&gt;
specified, e.g. <code class="code docutils literal"><span class="pre">{</span> <span class="pre">get_attr:</span> <span class="pre">[&lt;resource</span> <span class="pre">name&gt;]}</span></code>. This version
also adds the str_split function and support for passing multiple lists to
the existing list_join function. The complete list of supported functions
is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">get_attr</span>
<span class="n">get_file</span>
<span class="n">get_param</span>
<span class="n">get_resource</span>
<span class="n">list_join</span>
<span class="n">repeat</span>
<span class="n">digest</span>
<span class="n">resource_facade</span>
<span class="n">str_replace</span>
<span class="n">str_split</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id5">
<h3>2016-04-08<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The key with value <code class="docutils literal"><span class="pre">2016-04-08</span></code> indicates that the YAML document is a HOT
template and it may contain features added and/or removed up until the
Mitaka release. This version also adds the <code class="docutils literal"><span class="pre">map_merge</span></code> function which
can be used to merge the contents of maps. The complete list of supported
functions is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">digest</span>
<span class="n">get_attr</span>
<span class="n">get_file</span>
<span class="n">get_param</span>
<span class="n">get_resource</span>
<span class="n">list_join</span>
<span class="n">map_merge</span>
<span class="n">repeat</span>
<span class="n">resource_facade</span>
<span class="n">str_replace</span>
<span class="n">str_split</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="newton">
<h3>2016-10-14 | newton<a class="headerlink" href="#newton" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The key with value <code class="docutils literal"><span class="pre">2016-10-14</span></code> or <code class="docutils literal"><span class="pre">newton</span></code> indicates that the YAML
document is a HOT template and it may contain features added and/or removed
up until the Newton release. This version adds the <code class="docutils literal"><span class="pre">yaql</span></code> function which
can be used for evaluation of complex expressions, the <code class="docutils literal"><span class="pre">map_replace</span></code>
function that can do key/value replacements on a mapping, and the <code class="docutils literal"><span class="pre">if</span></code>
function which can be used to return corresponding value based on condition
evaluation. The complete list of supported functions is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>digest
get_attr
get_file
get_param
get_resource
list_join
map_merge
map_replace
repeat
resource_facade
str_replace
str_split
yaql
if
</pre></div>
</div>
<p>This version adds <code class="docutils literal"><span class="pre">equals</span></code> condition function which can be used
to compare whether two values are equal, the <code class="docutils literal"><span class="pre">not</span></code> condition function
which acts as a NOT operator, the <code class="docutils literal"><span class="pre">and</span></code> condition function which acts
as an AND operator to evaluate all the specified conditions, the <code class="docutils literal"><span class="pre">or</span></code>
condition function which acts as an OR operator to evaluate all the
specified conditions. The complete list of supported condition
functions is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>equals
get_param
not
and
or
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="ocata">
<h3>2017-02-24 | ocata<a class="headerlink" href="#ocata" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The key with value <code class="docutils literal"><span class="pre">2017-02-24</span></code> or <code class="docutils literal"><span class="pre">ocata</span></code> indicates that the YAML
document is a HOT template and it may contain features added and/or removed
up until the Ocata release. This version adds the <code class="docutils literal"><span class="pre">str_replace_strict</span></code>
function which raises errors for missing params and the <code class="docutils literal"><span class="pre">filter</span></code> function
which filters out values from lists. The complete list of supported
functions is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>digest
filter
get_attr
get_file
get_param
get_resource
list_join
map_merge
map_replace
repeat
resource_facade
str_replace
str_replace_strict
str_split
yaql
if
</pre></div>
</div>
<p>The complete list of supported condition functions is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>equals
get_param
not
and
or
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="parameter-groups-section">
<span id="hot-spec-parameter-groups"></span><h2>Parameter groups section<a class="headerlink" href="#parameter-groups-section" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">parameter_groups</span></code> section allows for specifying how the input parameters
should be grouped and the order to provide the parameters in. These groups are
typically used to describe expected behavior for downstream user interfaces.</p>
<p>These groups are specified in a list with each group containing a list of
associated parameters. The lists are used to denote the expected order of the
parameters. Each parameter should be associated to a specific group only once
using the parameter name to bind it to a defined parameter in the
<code class="docutils literal"><span class="pre">parameters</span></code> section.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameter_groups</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;human-readable label of parameter group&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;description of the parameter group&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;param name&gt;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;param name&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>label</dt>
<dd>A human-readable label that defines the associated group of parameters.</dd>
<dt>description</dt>
<dd>This attribute allows for giving a human-readable description of the
parameter group.</dd>
<dt>parameters</dt>
<dd>A list of parameters associated with this parameter group.</dd>
<dt>param name</dt>
<dd>The name of the parameter that is defined in the associated <code class="docutils literal"><span class="pre">parameters</span></code>
section.</dd>
</dl>
</div>
<div class="section" id="parameters-section">
<span id="hot-spec-parameters"></span><h2>Parameters section<a class="headerlink" href="#parameters-section" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">parameters</span></code> section allows for specifying input parameters that have to
be provided when instantiating the template. Such parameters are typically used
to customize each deployment (e.g. by setting custom user names or passwords)
or for binding to environment-specifics like certain images.</p>
<p>Each parameter is specified in a separated nested block with the name of the
parameters defined in the first line and additional attributes such as type or
default value defined as nested elements.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;param name&gt;</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;string | number | json | comma_delimited_list | boolean&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;human-readable name of the parameter&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;description of the parameter&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;default value for parameter&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">hidden</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;true | false&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">constraints</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">&lt;parameter constraints&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">immutable</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;true | false&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>param name</dt>
<dd>The name of the parameter.</dd>
<dt>type</dt>
<dd>The type of the parameter. Supported types
are <code class="docutils literal"><span class="pre">string</span></code>, <code class="docutils literal"><span class="pre">number</span></code>, <code class="docutils literal"><span class="pre">comma_delimited_list</span></code>, <code class="docutils literal"><span class="pre">json</span></code> and
<code class="docutils literal"><span class="pre">boolean</span></code>.
This attribute is required.</dd>
<dt>label</dt>
<dd>A human readable name for the parameter.
This attribute is optional.</dd>
<dt>description</dt>
<dd>A human readable description for the parameter.
This attribute is optional.</dd>
<dt>default</dt>
<dd>A default value for the parameter. This value is used if the user doesn&#8217;t
specify his own value during deployment.
This attribute is optional.</dd>
<dt>hidden</dt>
<dd><p class="first">Defines whether the parameters should be hidden when a user requests
information about a stack created from the template. This attribute can be
used to hide passwords specified as parameters.</p>
<p class="last">This attribute is optional and defaults to <code class="docutils literal"><span class="pre">false</span></code>.</p>
</dd>
<dt>constraints</dt>
<dd>A list of constraints to apply. The constraints are validated by the
Orchestration engine when a user deploys a stack. The stack creation fails
if the parameter value doesn&#8217;t comply to the constraints.
This attribute is optional.</dd>
<dt>immutable</dt>
<dd>Defines whether the parameter is updatable. Stack update fails, if this is
set to <code class="docutils literal"><span class="pre">true</span></code> and the parameter value is changed.
This attribute is optional and defaults to <code class="docutils literal"><span class="pre">false</span></code>.</dd>
</dl>
<p>The table below describes all currently supported types with examples:</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="44%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
<th class="head">Examples</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>A literal string.</td>
<td>&#8220;String param&#8221;</td>
</tr>
<tr class="row-odd"><td>number</td>
<td>An integer or float.</td>
<td>&#8220;2&#8221;; &#8220;0.2&#8221;</td>
</tr>
<tr class="row-even"><td>comma_delimited_list</td>
<td>An array of literal strings
that are separated by commas.
The total number of strings
should be one more than the
total number of commas.</td>
<td>[&#8220;one&#8221;, &#8220;two&#8221;];
&#8220;one, two&#8221;;
Note: &#8220;one, two&#8221;
returns
[&#8220;one&#8221;, &#8221; two&#8221;]</td>
</tr>
<tr class="row-odd"><td>json</td>
<td>A JSON-formatted map or list.</td>
<td>{&#8220;key&#8221;: &#8220;value&#8221;}</td>
</tr>
<tr class="row-even"><td>boolean</td>
<td>Boolean type value, which can
be equal &#8220;t&#8221;, &#8220;true&#8221;, &#8220;on&#8221;,
&#8220;y&#8221;, &#8220;yes&#8221;, or &#8220;1&#8221; for true
value and &#8220;f&#8221;, &#8220;false&#8221;,
&#8220;off&#8221;, &#8220;n&#8221;, &#8220;no&#8221;, or &#8220;0&#8221; for
false value.</td>
<td>&#8220;on&#8221;; &#8220;n&#8221;</td>
</tr>
</tbody>
</table>
<p>The following example shows a minimalistic definition of two parameters</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">user_name</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">User Name</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">User name to be configured for the application</span>
  <span class="l l-Scalar l-Scalar-Plain">port_number</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Port Number</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Port number to be configured for the web server</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The description and the label are optional, but defining these attributes
is good practice to provide useful information about the role of the
parameter to the user.</p>
</div>
<div class="section" id="parameter-constraints">
<span id="hot-spec-parameters-constraints"></span><h3>Parameter Constraints<a class="headerlink" href="#parameter-constraints" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">constraints</span></code> block of a parameter definition defines
additional validation constraints that apply to the value of the
parameter. The parameter values provided by a user are validated against the
constraints at instantiation time. The constraints are defined as a list with
the following syntax</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">constraints</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;constraint type&gt;</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;constraint definition&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;constraint description&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>constraint type</dt>
<dd>Type of constraint to apply. The set of currently supported constraints is
given below.</dd>
<dt>constraint definition</dt>
<dd>The actual constraint, depending on the constraint type. The
concrete syntax for each constraint type is given below.</dd>
<dt>description</dt>
<dd>A description of the constraint. The text
is presented to the user when the value he defines violates the constraint.
If omitted, a default validation message is presented to the user.
This attribute is optional.</dd>
</dl>
<p>The following example shows the definition of a string parameter with two
constraints. Note that while the descriptions for each constraint are optional,
it is good practice to provide concrete descriptions to present useful messages
to the user at deployment time.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">user_name</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">User Name</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">User name to be configured for the application</span>
    <span class="l l-Scalar l-Scalar-Plain">constraints</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">length</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">min</span><span class="p p-Indicator">:</span> <span class="nv">6</span><span class="p p-Indicator">,</span> <span class="nv">max</span><span class="p p-Indicator">:</span> <span class="nv">8</span> <span class="p p-Indicator">}</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">User name must be between 6 and 8 characters</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">allowed_pattern</span><span class="p p-Indicator">:</span> <span class="s">&quot;[A-Z]+[a-zA-Z0-9]*&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">User name must start with an uppercase character</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While the descriptions for each constraint are optional, it is good practice
to provide concrete descriptions so useful messages can be presented to the
user at deployment time.</p>
</div>
<p>The following sections list the supported types of parameter constraints, along
with the concrete syntax for each type.</p>
<div class="section" id="length">
<h4>length<a class="headerlink" href="#length" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">length</span></code> constraint applies to parameters of type
<code class="docutils literal"><span class="pre">string</span></code>. It defines a lower and upper limit for the length of the
string value.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">length</span></code> constraint is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">length</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">min</span><span class="p p-Indicator">:</span> <span class="nv">&lt;lower limit&gt;</span><span class="p p-Indicator">,</span> <span class="nv">max</span><span class="p p-Indicator">:</span> <span class="nv">&lt;upper limit&gt;</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>It is possible to define a length constraint with only a lower limit or an
upper limit. However, at least one of <code class="docutils literal"><span class="pre">min</span></code> or <code class="docutils literal"><span class="pre">max</span></code> must be specified.</p>
</div>
<div class="section" id="range">
<h4>range<a class="headerlink" href="#range" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">range</span></code> constraint applies to parameters of type <code class="docutils literal"><span class="pre">number</span></code>.
It defines a lower and upper limit for the numeric value of the
parameter.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">range</span></code> constraint is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">range</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">min</span><span class="p p-Indicator">:</span> <span class="nv">&lt;lower limit&gt;</span><span class="p p-Indicator">,</span> <span class="nv">max</span><span class="p p-Indicator">:</span> <span class="nv">&lt;upper limit&gt;</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>It is possible to define a range constraint with only a lower limit or an
upper limit. However, at least one of <code class="docutils literal"><span class="pre">min</span></code> or <code class="docutils literal"><span class="pre">max</span></code> must be specified.</p>
<p>The minimum and maximum boundaries are included in the range. For example, the
following range constraint would allow for all numeric values between 0 and
10</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">range</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">min</span><span class="p p-Indicator">:</span> <span class="nv">0</span><span class="p p-Indicator">,</span> <span class="nv">max</span><span class="p p-Indicator">:</span> <span class="nv">10</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="modulo">
<h4>modulo<a class="headerlink" href="#modulo" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">modulo</span></code> constraint applies to parameters of type <code class="docutils literal"><span class="pre">number</span></code>. The value
is valid if it is a multiple of <code class="docutils literal"><span class="pre">step</span></code>, starting with <code class="docutils literal"><span class="pre">offset</span></code>.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">modulo</span></code> constraint is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">modulo</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">step</span><span class="p p-Indicator">:</span> <span class="nv">&lt;step&gt;</span><span class="p p-Indicator">,</span> <span class="nv">offset</span><span class="p p-Indicator">:</span> <span class="nv">&lt;offset&gt;</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>Both <code class="docutils literal"><span class="pre">step</span></code> and <code class="docutils literal"><span class="pre">offset</span></code> must be specified.</p>
<p>For example, the following modulo constraint would only allow for odd numbers</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">modulo</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">step</span><span class="p p-Indicator">:</span> <span class="nv">2</span><span class="p p-Indicator">,</span> <span class="nv">offset</span><span class="p p-Indicator">:</span> <span class="nv">1</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="allowed-values">
<h4>allowed_values<a class="headerlink" href="#allowed-values" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">allowed_values</span></code> constraint applies to parameters of type
<code class="docutils literal"><span class="pre">string</span></code> or <code class="docutils literal"><span class="pre">number</span></code>. It specifies a set of possible values for a
parameter. At deployment time, the user-provided value for the
respective parameter must match one of the elements of the list.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">allowed_values</span></code> constraint is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">allowed_values</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span> <span class="nv">&lt;value&gt;</span><span class="p p-Indicator">,</span> <span class="nv">&lt;value&gt;</span><span class="p p-Indicator">,</span> <span class="nv">...</span> <span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>Alternatively, the following YAML list notation can be used</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">allowed_values</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;value&gt;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;value&gt;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">instance_type</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Instance Type</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Instance type for compute instances</span>
    <span class="l l-Scalar l-Scalar-Plain">constraints</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">allowed_values</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">m1.small</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">m1.medium</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">m1.large</span>
</pre></div>
</div>
</div>
<div class="section" id="allowed-pattern">
<h4>allowed_pattern<a class="headerlink" href="#allowed-pattern" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">allowed_pattern</span></code> constraint applies to parameters of type
<code class="docutils literal"><span class="pre">string</span></code>. It specifies a regular expression against which a
user-provided parameter value must evaluate at deployment.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">allowed_pattern</span></code> constraint is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">allowed_pattern</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;regular expression&gt;</span>
</pre></div>
</div>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">user_name</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">User Name</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">User name to be configured for the application</span>
    <span class="l l-Scalar l-Scalar-Plain">constraints</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">allowed_pattern</span><span class="p p-Indicator">:</span> <span class="s">&quot;[A-Z]+[a-zA-Z0-9]*&quot;</span>
      <span class=" -Error"> </span><span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">User name must start with an uppercase character</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-constraint">
<h4>custom_constraint<a class="headerlink" href="#custom-constraint" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">custom_constraint</span></code> constraint adds an extra step of validation,
generally to check that the specified resource exists in the backend. Custom
constraints get implemented by plug-ins and can provide any kind of advanced
constraint validation logic.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">custom_constraint</span></code> constraint is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">custom_constraint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;name&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">name</span></code> attribute specifies the concrete type of custom constraint. It
corresponds to the name under which the respective validation plugin has been
registered in the Orchestration engine.</p>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">key_name</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">SSH key pair</span>
    <span class="l l-Scalar l-Scalar-Plain">constraints</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">custom_constraint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nova.keypair</span>
</pre></div>
</div>
<p>The following section lists the custom constraints and the plug-ins
that support them.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Plug-in</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>barbican.container</td>
<td>heat.engine.clients.os.barbican:ContainerConstraint</td>
</tr>
<tr class="row-odd"><td>barbican.secret</td>
<td>heat.engine.clients.os.barbican:SecretConstraint</td>
</tr>
<tr class="row-even"><td>cinder.backup</td>
<td>heat.engine.clients.os.cinder:VolumeBackupConstraint</td>
</tr>
<tr class="row-odd"><td>cinder.qos_specs</td>
<td>heat.engine.clients.os.cinder:QoSSpecsConstraint</td>
</tr>
<tr class="row-even"><td>cinder.snapshot</td>
<td>heat.engine.clients.os.cinder:VolumeSnapshotConstraint</td>
</tr>
<tr class="row-odd"><td>cinder.volume</td>
<td>heat.engine.clients.os.cinder:VolumeConstraint</td>
</tr>
<tr class="row-even"><td>cinder.vtype</td>
<td>heat.engine.clients.os.cinder:VolumeTypeConstraint</td>
</tr>
<tr class="row-odd"><td>cron_expression</td>
<td>heat.engine.constraint.common_constraints:CRONExpressionConstraint</td>
</tr>
<tr class="row-even"><td>designate.domain</td>
<td>heat.engine.clients.os.designate:DesignateDomainConstraint</td>
</tr>
<tr class="row-odd"><td>designate.zone</td>
<td>heat.engine.clients.os.designate:DesignateZoneConstraint</td>
</tr>
<tr class="row-even"><td>dns_domain</td>
<td>heat.engine.constraint.common_constraints:DNSDomainConstraint</td>
</tr>
<tr class="row-odd"><td>dns_name</td>
<td>heat.engine.constraint.common_constraints:DNSNameConstraint</td>
</tr>
<tr class="row-even"><td>expiration</td>
<td>heat.engine.constraint.common_constraints:ExpirationConstraint</td>
</tr>
<tr class="row-odd"><td>glance.image</td>
<td>heat.engine.clients.os.glance:ImageConstraint</td>
</tr>
<tr class="row-even"><td>heat.resource_type</td>
<td>heat.engine.constraint.heat_constraints:ResourceTypeConstraint</td>
</tr>
<tr class="row-odd"><td>ip_addr</td>
<td>heat.engine.constraint.common_constraints:IPConstraint</td>
</tr>
<tr class="row-even"><td>iso_8601</td>
<td>heat.engine.constraint.common_constraints:ISO8601Constraint</td>
</tr>
<tr class="row-odd"><td>keystone.domain</td>
<td>heat.engine.clients.os.keystone.keystone_constraints:KeystoneDomainConstraint</td>
</tr>
<tr class="row-even"><td>keystone.group</td>
<td>heat.engine.clients.os.keystone.keystone_constraints:KeystoneGroupConstraint</td>
</tr>
<tr class="row-odd"><td>keystone.project</td>
<td>heat.engine.clients.os.keystone.keystone_constraints:KeystoneProjectConstraint</td>
</tr>
<tr class="row-even"><td>keystone.region</td>
<td>heat.engine.clients.os.keystone.keystone_constraints:KeystoneRegionConstraint</td>
</tr>
<tr class="row-odd"><td>keystone.role</td>
<td>heat.engine.clients.os.keystone.keystone_constraints:KeystoneRoleConstraint</td>
</tr>
<tr class="row-even"><td>keystone.service</td>
<td>heat.engine.clients.os.keystone.keystone_constraints:KeystoneServiceConstraint</td>
</tr>
<tr class="row-odd"><td>keystone.user</td>
<td>heat.engine.clients.os.keystone.keystone_constraints:KeystoneUserConstraint</td>
</tr>
<tr class="row-even"><td>mac_addr</td>
<td>heat.engine.constraint.common_constraints:MACConstraint</td>
</tr>
<tr class="row-odd"><td>magnum.baymodel</td>
<td>heat.engine.clients.os.magnum:BaymodelConstraint</td>
</tr>
<tr class="row-even"><td>manila.share_network</td>
<td>heat.engine.clients.os.manila:ManilaShareNetworkConstraint</td>
</tr>
<tr class="row-odd"><td>manila.share_snapshot</td>
<td>heat.engine.clients.os.manila:ManilaShareSnapshotConstraint</td>
</tr>
<tr class="row-even"><td>manila.share_type</td>
<td>heat.engine.clients.os.manila:ManilaShareTypeConstraint</td>
</tr>
<tr class="row-odd"><td>mistral.workflow</td>
<td>heat.engine.clients.os.mistral:WorkflowConstraint</td>
</tr>
<tr class="row-even"><td>monasca.notification</td>
<td>heat.engine.clients.os.monasca:MonascaNotificationConstraint</td>
</tr>
<tr class="row-odd"><td>net_cidr</td>
<td>heat.engine.constraint.common_constraints:CIDRConstraint</td>
</tr>
<tr class="row-even"><td>neutron.address_scope</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:AddressScopeConstraint</td>
</tr>
<tr class="row-odd"><td>neutron.flow_classifier</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:FlowClassifierConstraint</td>
</tr>
<tr class="row-even"><td>neutron.lb.provider</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:LBaasV1ProviderConstraint</td>
</tr>
<tr class="row-odd"><td>neutron.lbaas.listener</td>
<td>heat.engine.clients.os.neutron.lbaas_constraints:ListenerConstraint</td>
</tr>
<tr class="row-even"><td>neutron.lbaas.loadbalancer</td>
<td>heat.engine.clients.os.neutron.lbaas_constraints:LoadbalancerConstraint</td>
</tr>
<tr class="row-odd"><td>neutron.lbaas.pool</td>
<td>heat.engine.clients.os.neutron.lbaas_constraints:PoolConstraint</td>
</tr>
<tr class="row-even"><td>neutron.lbaas.provider</td>
<td>heat.engine.clients.os.neutron.lbaas_constraints:LBaasV2ProviderConstraint</td>
</tr>
<tr class="row-odd"><td>neutron.network</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:NetworkConstraint</td>
</tr>
<tr class="row-even"><td>neutron.port</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:PortConstraint</td>
</tr>
<tr class="row-odd"><td>neutron.port_pair</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:PortPairConstraint</td>
</tr>
<tr class="row-even"><td>neutron.port_pair_group</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:PortPairGroupConstraint</td>
</tr>
<tr class="row-odd"><td>neutron.qos_policy</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:QoSPolicyConstraint</td>
</tr>
<tr class="row-even"><td>neutron.router</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:RouterConstraint</td>
</tr>
<tr class="row-odd"><td>neutron.security_group</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:SecurityGroupConstraint</td>
</tr>
<tr class="row-even"><td>neutron.subnet</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:SubnetConstraint</td>
</tr>
<tr class="row-odd"><td>neutron.subnetpool</td>
<td>heat.engine.clients.os.neutron.neutron_constraints:SubnetPoolConstraint</td>
</tr>
<tr class="row-even"><td>nova.flavor</td>
<td>heat.engine.clients.os.nova:FlavorConstraint</td>
</tr>
<tr class="row-odd"><td>nova.host</td>
<td>heat.engine.clients.os.nova:HostConstraint</td>
</tr>
<tr class="row-even"><td>nova.keypair</td>
<td>heat.engine.clients.os.nova:KeypairConstraint</td>
</tr>
<tr class="row-odd"><td>nova.network</td>
<td>heat.engine.clients.os.nova:NetworkConstraint</td>
</tr>
<tr class="row-even"><td>nova.server</td>
<td>heat.engine.clients.os.nova:ServerConstraint</td>
</tr>
<tr class="row-odd"><td>rel_dns_name</td>
<td>heat.engine.constraint.common_constraints:RelativeDNSNameConstraint</td>
</tr>
<tr class="row-even"><td>sahara.cluster</td>
<td>heat.engine.clients.os.sahara:ClusterConstraint</td>
</tr>
<tr class="row-odd"><td>sahara.cluster_template</td>
<td>heat.engine.clients.os.sahara:ClusterTemplateConstraint</td>
</tr>
<tr class="row-even"><td>sahara.data_source</td>
<td>heat.engine.clients.os.sahara:DataSourceConstraint</td>
</tr>
<tr class="row-odd"><td>sahara.image</td>
<td>heat.engine.clients.os.sahara:ImageConstraint</td>
</tr>
<tr class="row-even"><td>sahara.job_binary</td>
<td>heat.engine.clients.os.sahara:JobBinaryConstraint</td>
</tr>
<tr class="row-odd"><td>sahara.job_type</td>
<td>heat.engine.clients.os.sahara:JobTypeConstraint</td>
</tr>
<tr class="row-even"><td>sahara.plugin</td>
<td>heat.engine.clients.os.sahara:PluginConstraint</td>
</tr>
<tr class="row-odd"><td>senlin.cluster</td>
<td>heat.engine.clients.os.senlin:ClusterConstraint</td>
</tr>
<tr class="row-even"><td>senlin.policy</td>
<td>heat.engine.clients.os.senlin:PolicyConstraint</td>
</tr>
<tr class="row-odd"><td>senlin.policy_type</td>
<td>heat.engine.clients.os.senlin:PolicyTypeConstraint</td>
</tr>
<tr class="row-even"><td>senlin.profile</td>
<td>heat.engine.clients.os.senlin:ProfileConstraint</td>
</tr>
<tr class="row-odd"><td>senlin.profile_type</td>
<td>heat.engine.clients.os.senlin:ProfileTypeConstraint</td>
</tr>
<tr class="row-even"><td>test_constr</td>
<td>heat.engine.constraint.common_constraints:TestConstraintDelay</td>
</tr>
<tr class="row-odd"><td>timezone</td>
<td>heat.engine.constraint.common_constraints:TimezoneConstraint</td>
</tr>
<tr class="row-even"><td>trove.flavor</td>
<td>heat.engine.clients.os.trove:FlavorConstraint</td>
</tr>
<tr class="row-odd"><td>zaqar.queue</td>
<td>heat.engine.clients.os.zaqar:QueueConstraint</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="pseudo-parameters">
<span id="hot-spec-pseudo-parameters"></span><h3>Pseudo parameters<a class="headerlink" href="#pseudo-parameters" title="Permalink to this headline">¶</a></h3>
<p>In addition to parameters defined by a template author, Heat also
creates three parameters for every stack that allow referential access
to the stack&#8217;s name, stack&#8217;s identifier and project&#8217;s
identifier. These parameters are named <code class="docutils literal"><span class="pre">OS::stack_name</span></code> for the
stack name, <code class="docutils literal"><span class="pre">OS::stack_id</span></code> for the stack identifier and
<code class="docutils literal"><span class="pre">OS::project_id</span></code> for the project identifier. These values are
accessible via the <a class="reference internal" href="#get-param">get_param</a> intrinsic function, just like
user-defined parameters.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">OS::project_id</span></code> is available since 2015.1 (Kilo).</p>
</div>
</div>
</div>
<div class="section" id="resources-section">
<span id="hot-spec-resources"></span><h2>Resources section<a class="headerlink" href="#resources-section" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">resources</span></code> section defines actual resources that make up a stack
deployed from the HOT template (for instance compute instances, networks,
storage volumes).</p>
<p>Each resource is defined as a separate block in the <code class="docutils literal"><span class="pre">resources</span></code> section with
the following syntax</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;resource ID&gt;</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;resource type&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">&lt;property name&gt;</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;property value&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">metadata</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">&lt;resource specific metadata&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">depends_on</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;resource ID or list of ID&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">update_policy</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;update policy&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">deletion_policy</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;deletion policy&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">external_id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;external resource ID&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">condition</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;condition name or expression or boolean&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>resource ID</dt>
<dd>A resource ID which must be unique within the <code class="docutils literal"><span class="pre">resources</span></code> section of the
template.</dd>
<dt>type</dt>
<dd>The resource type, such as <code class="docutils literal"><span class="pre">OS::Nova::Server</span></code> or <code class="docutils literal"><span class="pre">OS::Neutron::Port</span></code>.
This attribute is required.</dd>
<dt>properties</dt>
<dd>A list of resource-specific properties. The property value can be provided
in place, or via a function (see <a class="reference internal" href="#hot-spec-intrinsic-functions"><span>Intrinsic functions</span></a>).
This section is optional.</dd>
<dt>metadata</dt>
<dd>Resource-specific metadata.
This section is optional.</dd>
<dt>depends_on</dt>
<dd>Dependencies of the resource on one or more resources of the template.
See <a class="reference internal" href="#hot-spec-resources-dependencies"><span>Resource dependencies</span></a> for details.
This attribute is optional.</dd>
<dt>update_policy</dt>
<dd>Update policy for the resource, in the form of a nested dictionary. Whether
update policies are supported and what the exact semantics are depends on
the type of the current resource.
This attribute is optional.</dd>
<dt>deletion_policy</dt>
<dd>Deletion policy for the resource. The allowed deletion policies are
<code class="docutils literal"><span class="pre">Delete</span></code>, <code class="docutils literal"><span class="pre">Retain</span></code>, and <code class="docutils literal"><span class="pre">Snapshot</span></code>. Beginning with
<code class="docutils literal"><span class="pre">heat_template_version</span></code> <code class="docutils literal"><span class="pre">2016-10-14</span></code>, the lowercase equivalents
<code class="docutils literal"><span class="pre">delete</span></code>, <code class="docutils literal"><span class="pre">retain</span></code>, and <code class="docutils literal"><span class="pre">snapshot</span></code> are also allowed.
This attribute is optional; the default policy is to delete the physical
resource when deleting a resource from the stack.</dd>
<dt>external_id</dt>
<dd>Allows for specifying the resource_id for an existing external
(to the stack) resource. External resources can not depend on other
resources, but we allow other resources depend on external resource.
This attribute is optional.
Note: when this is specified, properties will not be used for building the
resource and the resource is not managed by Heat. This is not possible to
update that attribute. Also resource won&#8217;t be deleted by heat when stack
is deleted.</dd>
<dt>condition</dt>
<dd><p class="first">Condition for the resource. Which decides whether to create the
resource or not.
This attribute is optional.</p>
<p class="last">Note: Support <code class="docutils literal"><span class="pre">condition</span></code> for resource is added in the Newton version.</p>
</dd>
</dl>
<p>Depending on the type of resource, the resource block might include more
resource specific data.</p>
<p>All resource types that can be used in CFN templates can also be used in HOT
templates, adapted to the YAML structure as outlined above.</p>
<p>The following example demonstrates the definition of a simple compute resource
with some fixed property values</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">my_instance</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">flavor</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m1.small</span>
      <span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">F18-x86_64-cfntools</span>
</pre></div>
</div>
<div class="section" id="resource-dependencies">
<span id="hot-spec-resources-dependencies"></span><h3>Resource dependencies<a class="headerlink" href="#resource-dependencies" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">depends_on</span></code> attribute of a resource defines a dependency between this
resource and one or more other resources.</p>
<p>If a resource depends on just one other resource, the ID of the other resource
is specified as string of the <code class="docutils literal"><span class="pre">depends_on</span></code> attribute, as shown in the
following example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">server1</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="l l-Scalar l-Scalar-Plain">depends_on</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">server2</span>

  <span class="l l-Scalar l-Scalar-Plain">server2</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
</pre></div>
</div>
<p>If a resource depends on more than one other resources, the value of the
<code class="docutils literal"><span class="pre">depends_on</span></code> attribute is specified as a list of resource IDs, as shown in
the following example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">server1</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="l l-Scalar l-Scalar-Plain">depends_on</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span> <span class="nv">server2</span><span class="p p-Indicator">,</span> <span class="nv">server3</span> <span class="p p-Indicator">]</span>

  <span class="l l-Scalar l-Scalar-Plain">server2</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>

  <span class="l l-Scalar l-Scalar-Plain">server3</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="outputs-section">
<span id="hot-spec-outputs"></span><h2>Outputs section<a class="headerlink" href="#outputs-section" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">outputs</span></code> section defines output parameters that should be available to
the user after a stack has been created. This would be, for example, parameters
such as IP addresses of deployed instances, or URLs of web applications
deployed as part of a stack.</p>
<p>Each output parameter is defined as a separate block within the outputs section
according to the following syntax</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;parameter name&gt;</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;description&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;parameter value&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">condition</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;condition name or expression or boolean&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>parameter name</dt>
<dd>The output parameter name, which must be unique within the <code class="docutils literal"><span class="pre">outputs</span></code>
section of a template.</dd>
<dt>description</dt>
<dd>A short description of the output parameter.
This attribute is optional.</dd>
<dt>parameter value</dt>
<dd>The value of the output parameter. This value is usually resolved by means
of a function. See <a class="reference internal" href="#hot-spec-intrinsic-functions"><span>Intrinsic functions</span></a> for details about
the functions.
This attribute is required.</dd>
<dt>condition</dt>
<dd><p class="first">To conditionally define an output value. None value will be shown if the
condition is False.
This attribute is optional.</p>
<p class="last">Note: Support <code class="docutils literal"><span class="pre">condition</span></code> for output is added in the Newton version.</p>
</dd>
</dl>
<p>The example below shows how the IP address of a compute resource can
be defined as an output parameter</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">instance_ip</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address of the deployed compute instance</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_attr</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">my_instance</span><span class="p p-Indicator">,</span> <span class="nv">first_address</span><span class="p p-Indicator">]</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="conditions-section">
<h2>Conditions section<a class="headerlink" href="#conditions-section" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">conditions</span></code> section defines one or more conditions which are evaluated
based on input parameter values provided when a user creates or updates a
stack. The condition can be associated with resources, resource properties and
outputs. For example, based on the result of a condition, user can
conditionally create resources, user can conditionally set different values
of properties, and user can conditionally give outputs of a stack.</p>
<p>The <code class="docutils literal"><span class="pre">conditions</span></code> section is defined with the following syntax</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">conditions</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;condition name1&gt;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">expression1</span><span class="p p-Indicator">}</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;condition name2&gt;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">expression2</span><span class="p p-Indicator">}</span>
  <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<dl class="docutils">
<dt>condition name</dt>
<dd>The condition name, which must be unique within the <code class="docutils literal"><span class="pre">conditions</span></code>
section of a template.</dd>
<dt>expression</dt>
<dd><p class="first">The expression which is expected to return True or False. Usually,
the condition functions can be used as expression to define conditions:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>equals
get_param
not
and
or
</pre></div>
</div>
<p class="last">Note: In condition functions, you can reference a value from an input
parameter, but you cannot reference resource or its attribute. We support
referencing other conditions (by condition name) in condition functions.</p>
</dd>
</dl>
<p>An example of conditions section definition</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">conditions</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">cd1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
  <span class="l l-Scalar l-Scalar-Plain">cd2</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">param1</span>
  <span class="l l-Scalar l-Scalar-Plain">cd3</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">param2</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
  <span class="l l-Scalar l-Scalar-Plain">cd4</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">not</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">param3</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
  <span class="l l-Scalar l-Scalar-Plain">cd5</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">and</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">env_type</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">not</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zone</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">beijing</span>
  <span class="l l-Scalar l-Scalar-Plain">cd6</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">or</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zone</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shanghai</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zone</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">beijing</span>
  <span class="l l-Scalar l-Scalar-Plain">cd7</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">not</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">cd4</span>
  <span class="l l-Scalar l-Scalar-Plain">cd8</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">and</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">cd1</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">cd2</span>
</pre></div>
</div>
<p>The example below shows how to associate condition with resources</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">env_type</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="l l-Scalar l-Scalar-Plain">conditions</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">create_prod_res</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">equals</span> <span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">env_type</span><span class="p p-Indicator">},</span> <span class="s">&quot;prod&quot;</span><span class="p p-Indicator">]}</span>
<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">volume</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Cinder::Volume</span>
    <span class="l l-Scalar l-Scalar-Plain">condition</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">create_prod_res</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p>The &#8216;create_prod_res&#8217; condition evaluates to true if the &#8216;env_type&#8217;
parameter is equal to &#8216;prod&#8217;. In the above sample template, the &#8216;volume&#8217;
resource is associated with the &#8216;create_prod_res&#8217; condition. Therefore,
the &#8216;volume&#8217; resource is created only if the &#8216;env_type&#8217; is equal to &#8216;prod&#8217;.</p>
<p>The example below shows how to conditionally define an output</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">vol_size</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">get_attr</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">my_volume</span><span class="p p-Indicator">,</span> <span class="nv">size</span><span class="p p-Indicator">]}</span>
    <span class="l l-Scalar l-Scalar-Plain">condition</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">create_prod_res</span>
</pre></div>
</div>
<p>In the above sample template, the &#8216;vol_size&#8217; output is associated with
the &#8216;create_prod_res&#8217; condition. Therefore, the &#8216;vol_size&#8217; output is
given corresponding value only if the &#8216;env_type&#8217; is equal to &#8216;prod&#8217;,
otherwise the value of the output is None.</p>
</div>
<div class="section" id="intrinsic-functions">
<span id="hot-spec-intrinsic-functions"></span><h2>Intrinsic functions<a class="headerlink" href="#intrinsic-functions" title="Permalink to this headline">¶</a></h2>
<p>HOT provides a set of intrinsic functions that can be used inside templates
to perform specific tasks, such as getting the value of a resource attribute at
runtime. The following section describes the role and syntax of the intrinsic
functions.</p>
<p>Note: these functions can only be used within the &#8220;properties&#8221; section
of each resource or in the outputs section.</p>
<div class="section" id="get-attr">
<h3>get_attr<a class="headerlink" href="#get-attr" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">get_attr</span></code> function references an attribute of a
resource. The attribute value is resolved at runtime using the resource
instance created from the respective resource definition.</p>
<p>Path based attribute referencing using keys or indexes requires
<code class="docutils literal"><span class="pre">heat_template_version</span></code> <code class="docutils literal"><span class="pre">2014-10-16</span></code> or higher.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">get_attr</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">get_attr</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;resource name&gt;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;attribute name&gt;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;key/index 1&gt; (optional)</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;key/index 2&gt; (optional)</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<dl class="docutils">
<dt>resource name</dt>
<dd><p class="first">The resource name for which the attribute needs to be resolved.</p>
<p class="last">The resource name must exist in the <code class="docutils literal"><span class="pre">resources</span></code> section of the template.</p>
</dd>
<dt>attribute name</dt>
<dd>The attribute name to be resolved. If the attribute returns a complex data
structure such as a list or a map, then subsequent keys or indexes can be
specified. These additional parameters are used to navigate the data
structure to return the desired value.</dd>
</dl>
<p>The following example demonstrates how to use the <code class="code docutils literal"><span class="pre">get_attr</span></code> function:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">my_instance</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="c1"># ...</span>

<span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">instance_ip</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">IP address of the deployed compute instance</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_attr</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">my_instance</span><span class="p p-Indicator">,</span> <span class="nv">first_address</span><span class="p p-Indicator">]</span> <span class="p p-Indicator">}</span>
  <span class="l l-Scalar l-Scalar-Plain">instance_private_ip</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Private IP address of the deployed compute instance</span>
  <span class=" -Error"> </span><span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_attr</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">my_instance</span><span class="p p-Indicator">,</span> <span class="nv">networks</span><span class="p p-Indicator">,</span> <span class="nv">private</span><span class="p p-Indicator">,</span> <span class="nv">0</span><span class="p p-Indicator">]</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>In this example, if the <code class="docutils literal"><span class="pre">networks</span></code> attribute contained the following data:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;public&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2001:0db8:0000:0000:0000:ff00:0042:8329&quot;</span><span class="p">,</span> <span class="s2">&quot;1.2.3.4&quot;</span><span class="p">],</span>
 <span class="s2">&quot;private&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;10.0.0.1&quot;</span><span class="p">]}</span>
</pre></div>
</div>
<p>then the value of <code class="docutils literal"><span class="pre">get_attr</span></code> function would resolve to <code class="docutils literal"><span class="pre">10.0.0.1</span></code>
(first item of the <code class="docutils literal"><span class="pre">private</span></code> entry in the <code class="docutils literal"><span class="pre">networks</span></code> map).</p>
<p>From <code class="docutils literal"><span class="pre">heat_template_version</span></code>: &#8216;2015-10-15&#8217; &lt;attribute_name&gt; is optional and
if &lt;attribute_name&gt; is not specified, <code class="docutils literal"><span class="pre">get_attr</span></code> returns dict of all
attributes for the given resource excluding <em>show</em> attribute. In this case
syntax would be next:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">get_attr</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;resource_name&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="get-file">
<h3>get_file<a class="headerlink" href="#get-file" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">get_file</span></code> function returns the content of a file into the template.
It is generally used as a file inclusion mechanism for files
containing scripts or configuration files.</p>
<p>The syntax of <code class="docutils literal"><span class="pre">get_file</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">get_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;content key&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">content</span> <span class="pre">key</span></code> is used to look up the <code class="docutils literal"><span class="pre">files</span></code> dictionary that is
provided in the REST API call. The Orchestration client command
(<code class="docutils literal"><span class="pre">heat</span></code>) is <code class="docutils literal"><span class="pre">get_file</span></code> aware and populates the <code class="docutils literal"><span class="pre">files</span></code>
dictionary with the actual content of fetched paths and URLs. The
Orchestration client command supports relative paths and transforms these
to the absolute URLs required by the Orchestration API.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">get_file</span></code> argument must be a static path or URL and not rely on
intrinsic functions like <code class="docutils literal"><span class="pre">get_param</span></code>. the Orchestration client does not
process intrinsic functions (they are only processed by the Orchestration
engine).</p>
</div>
<p>The example below demonstrates the <code class="docutils literal"><span class="pre">get_file</span></code> function usage with both
relative and absolute URLs</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">my_instance</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="c1"># general properties ...</span>
      <span class="l l-Scalar l-Scalar-Plain">user_data</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">get_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">my_instance_user_data.sh</span>
  <span class="l l-Scalar l-Scalar-Plain">my_other_instance</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="c1"># general properties ...</span>
      <span class="l l-Scalar l-Scalar-Plain">user_data</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">get_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://example.com/my_other_instance_user_data.sh</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">files</span></code> dictionary generated by the Orchestration client during
instantiation of the stack would contain the following keys:</p>
<ul class="simple">
<li><code class="file docutils literal"><span class="pre">file:///path/to/my_instance_user_data.sh</span></code></li>
<li><code class="file docutils literal"><span class="pre">http://example.com/my_other_instance_user_data.sh</span></code></li>
</ul>
</div>
<div class="section" id="get-param">
<h3>get_param<a class="headerlink" href="#get-param" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">get_param</span></code> function references an input parameter of a template. It
resolves to the value provided for this input parameter at runtime.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">get_param</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;parameter name&gt;</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;key/index 1&gt; (optional)</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;key/index 2&gt; (optional)</span>
 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<dl class="docutils">
<dt>parameter name</dt>
<dd>The parameter name to be resolved. If the parameters returns a complex data
structure such as a list or a map, then subsequent keys or indexes can be
specified. These additional parameters are used to navigate the data
structure to return the desired value.</dd>
</dl>
<p>The following example demonstrates the use of the <code class="docutils literal"><span class="pre">get_param</span></code> function</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">instance_type</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Instance Type</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Instance type to be used.</span>
  <span class="l l-Scalar l-Scalar-Plain">server_data</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">json</span>

<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">my_instance</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">flavor</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">instance_type</span><span class="p p-Indicator">}</span>
      <span class="l l-Scalar l-Scalar-Plain">metadata</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span> <span class="nv">server_data</span><span class="p p-Indicator">,</span> <span class="nv">metadata</span> <span class="p p-Indicator">]</span> <span class="p p-Indicator">}</span>
      <span class="l l-Scalar l-Scalar-Plain">key_name</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span> <span class="nv">server_data</span><span class="p p-Indicator">,</span> <span class="nv">keys</span><span class="p p-Indicator">,</span> <span class="nv">0</span> <span class="p p-Indicator">]</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>In this example, if the <code class="docutils literal"><span class="pre">instance_type</span></code> and <code class="docutils literal"><span class="pre">server_data</span></code> parameters
contained the following data:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>{&quot;instance_type&quot;: &quot;m1.tiny&quot;,
{&quot;server_data&quot;: {&quot;metadata&quot;: {&quot;foo&quot;: &quot;bar&quot;},
                 &quot;keys&quot;: [&quot;a_key&quot;,&quot;other_key&quot;]}}}
</pre></div>
</div>
<p>then the value of the property <code class="docutils literal"><span class="pre">flavor</span></code> would resolve to <code class="docutils literal"><span class="pre">m1.tiny</span></code>,
<code class="docutils literal"><span class="pre">metadata</span></code> would resolve to <code class="docutils literal"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;bar&quot;}</span></code> and <code class="docutils literal"><span class="pre">key_name</span></code> would resolve
to <code class="docutils literal"><span class="pre">a_key</span></code>.</p>
</div>
<div class="section" id="get-resource">
<h3>get_resource<a class="headerlink" href="#get-resource" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">get_resource</span></code> function references another resource within the
same template. At runtime, it is resolved to reference the ID of the referenced
resource, which is resource type specific. For example, a reference to a
floating IP resource returns the respective IP address at runtime. The syntax
of the <code class="docutils literal"><span class="pre">get_resource</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">get_resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;resource ID&gt;</span>
</pre></div>
</div>
<p>The resource ID of the referenced resource is given as single parameter to the
<code class="docutils literal"><span class="pre">get_resource</span></code> function.</p>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">instance_port</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Neutron::Port</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">...</span>

  <span class="l l-Scalar l-Scalar-Plain">instance</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">...</span>
      <span class="l l-Scalar l-Scalar-Plain">networks</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">port</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_resource</span><span class="p p-Indicator">:</span> <span class="nv">instance_port</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="list-join">
<h3>list_join<a class="headerlink" href="#list-join" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">list_join</span></code> function joins a list of strings with the given delimiter.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">list_join</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">list_join</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;delimiter&gt;</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;list to join&gt;</span>
</pre></div>
</div>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">list_join</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;,</span><span class="nv"> </span><span class="s">&#39;</span><span class="p p-Indicator">,</span> <span class="p p-Indicator">[</span><span class="s">&#39;one&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;two&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;and</span><span class="nv"> </span><span class="s">three&#39;</span><span class="p p-Indicator">]]</span>
</pre></div>
</div>
<p>This resolve to the string <code class="docutils literal"><span class="pre">one,</span> <span class="pre">two,</span> <span class="pre">and</span> <span class="pre">three</span></code>.</p>
<p>From HOT version <code class="docutils literal"><span class="pre">2015-10-15</span></code> you may optionally pass additional lists, which
will be appended to the previous lists to join.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>list_join: [&#39;, &#39;, [&#39;one&#39;, &#39;two&#39;], [&#39;three&#39;, &#39;four&#39;]]
</pre></div>
</div>
<p>This resolve to the string <code class="docutils literal"><span class="pre">one,</span> <span class="pre">two,</span> <span class="pre">three,</span> <span class="pre">four</span></code>.</p>
<p>From HOT version <code class="docutils literal"><span class="pre">2015-10-15</span></code> you may optionally also pass non-string list
items (e.g json/map/list parameters or attributes) and they will be serialized
as json before joining.</p>
</div>
<div class="section" id="digest">
<h3>digest<a class="headerlink" href="#digest" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">digest</span></code> function allows for performing digest operations on a given
value. This function has been introduced in the Kilo release and is usable with
HOT versions later than <code class="docutils literal"><span class="pre">2015-04-30</span></code>.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">digest</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">digest</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;algorithm&gt;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;value&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>algorithm</dt>
<dd>The digest algorithm. Valid algorithms are the ones
provided natively by hashlib (md5, sha1, sha224, sha256, sha384,
and sha512) or any one provided by OpenSSL.</dd>
<dt>value</dt>
<dd>The value to digest. This function will resolve to the corresponding hash
of the value.</dd>
</dl>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="c1"># from a user supplied parameter</span>
<span class="l l-Scalar l-Scalar-Plain">pwd_hash</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">digest</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;sha512&#39;</span><span class="p p-Indicator">,</span> <span class="p p-Indicator">{</span> <span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">raw_password</span> <span class="p p-Indicator">}]</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>The value of the digest function would resolve to the corresponding hash of
the value of <code class="docutils literal"><span class="pre">raw_password</span></code>.</p>
</div>
<div class="section" id="repeat">
<h3>repeat<a class="headerlink" href="#repeat" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">repeat</span></code> function allows for dynamically transforming lists by iterating
over the contents of one or more source lists and replacing the list elements
into a template. The result of this function is a new list, where the elements
are set to the template, rendered for each list item.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">repeat</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">repeat</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;template&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">for_each</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;var&gt;</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;list&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>template</dt>
<dd>The <code class="docutils literal"><span class="pre">template</span></code> argument defines the content generated for each iteration,
with placeholders for the elements that need to be replaced at runtime.
This argument can be of any supported type.</dd>
<dt>for_each</dt>
<dd>The <code class="docutils literal"><span class="pre">for_each</span></code> argument is a dictionary that defines how to generate the
repetitions of the template and perform substitutions. In this dictionary
the keys are the placeholder names that will be replaced in the template,
and the values are the lists to iterate on. On each iteration, the function
will render the template by performing substitution with elements of the
given lists. If a single key/value pair is given in this argument, the
template will be rendered once for each element in the list. When more
than one key/value pairs are given, the iterations will be performed on all
the permutations of values between the given lists. The values in this
dictionary can be given as functions such as <code class="docutils literal"><span class="pre">get_attr</span></code> or <code class="docutils literal"><span class="pre">get_param</span></code>.</dd>
</dl>
<p>The following example shows how a security group resource can be defined to
include a list of ports given as a parameter</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ports</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">comma_delimited_list</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ports</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&quot;80,443,8080&quot;</span>

<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">security_group</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Neutron::SecurityGroup</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">web_server_security_group</span>
      <span class="l l-Scalar l-Scalar-Plain">rules</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">repeat</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">for_each</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">&lt;%port%&gt;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">ports</span> <span class="p p-Indicator">}</span>
          <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tcp</span>
            <span class="l l-Scalar l-Scalar-Plain">port_range_min</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%port%&gt;</span>
            <span class="l l-Scalar l-Scalar-Plain">port_range_max</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%port%&gt;</span>
</pre></div>
</div>
<p>The following example demonstrates how the use of multiple lists enables the
security group to also include parameterized protocols</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ports</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">comma_delimited_list</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ports</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&quot;80,443,8080&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">protocols</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">comma_delimited_list</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">protocols</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&quot;tcp,udp&quot;</span>

<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">security_group</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Neutron::SecurityGroup</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">web_server_security_group</span>
      <span class="l l-Scalar l-Scalar-Plain">rules</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">repeat</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">for_each</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">&lt;%port%&gt;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">ports</span> <span class="p p-Indicator">}</span>
            <span class="l l-Scalar l-Scalar-Plain">&lt;%protocol%&gt;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">protocols</span> <span class="p p-Indicator">}</span>
          <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%protocol%&gt;</span>
            <span class="l l-Scalar l-Scalar-Plain">port_range_min</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%port%&gt;</span>
</pre></div>
</div>
<p>Note how multiple entries in the <code class="docutils literal"><span class="pre">for_each</span></code> argument are equivalent to
nested for-loops in most programming languages.</p>
<p>From HOT version <code class="docutils literal"><span class="pre">2016-10-14</span></code> you may also pass a map as value for the
<code class="docutils literal"><span class="pre">for_each</span></code> key, in which case the list of map keys will be used as value.</p>
</div>
<div class="section" id="resource-facade">
<h3>resource_facade<a class="headerlink" href="#resource-facade" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">resource_facade</span></code> function retrieves data in a parent
provider template.</p>
<p>A provider template provides a custom definition of a resource, called its
facade. For more information about custom templates, see <a class="reference internal" href="composition.html#composition"><span>Template composition</span></a>.
The syntax of the <code class="docutils literal"><span class="pre">resource_facade</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resource_facade</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;data type&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">data</span> <span class="pre">type</span></code> can be one of <code class="docutils literal"><span class="pre">metadata</span></code>, <code class="docutils literal"><span class="pre">deletion_policy</span></code> or
<code class="docutils literal"><span class="pre">update_policy</span></code>.</p>
</div>
<div class="section" id="str-replace">
<h3>str_replace<a class="headerlink" href="#str-replace" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">str_replace</span></code> function dynamically constructs strings by
providing a template string with placeholders and a list of mappings to assign
values to those placeholders at runtime. The placeholders are replaced with
mapping values wherever a mapping key exactly matches a placeholder.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">str_replace</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">str_replace</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;template string&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;parameter mappings&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>template</dt>
<dd>Defines the template string that contains placeholders which will be
substituted at runtime.</dd>
<dt>params</dt>
<dd>Provides parameter mappings in the form of dictionary. Each key refers to a
placeholder used in the <code class="docutils literal"><span class="pre">template</span></code> attribute. From HOT version
<code class="docutils literal"><span class="pre">2015-10-15</span></code> you may optionally pass non-string parameter values
(e.g json/map/list parameters or attributes) and they will be serialized
as json before replacing, prior heat/HOT versions require string values.</dd>
</dl>
<p>The following example shows a simple use of the <code class="docutils literal"><span class="pre">str_replace</span></code> function in the
outputs section of a template to build a URL for logging into a deployed
application</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">my_instance</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="c1"># general metadata and properties ...</span>

<span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">Login_URL</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">The URL to log into the deployed application</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">str_replace</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://host/MyApplication</span>
        <span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">host</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_attr</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span> <span class="nv">my_instance</span><span class="p p-Indicator">,</span> <span class="nv">first_address</span> <span class="p p-Indicator">]</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>The following examples show the use of the <code class="docutils literal"><span class="pre">str_replace</span></code>
function to build an instance initialization script</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">DBRootPassword</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Database Password</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Root password for MySQL</span>
    <span class="l l-Scalar l-Scalar-Plain">hidden</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">my_instance</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="c1"># general properties ...</span>
      <span class="l l-Scalar l-Scalar-Plain">user_data</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">str_replace</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
            <span class="no">#!/bin/bash</span>
            <span class="no">echo &quot;Hello world&quot;</span>
            <span class="no">echo &quot;Setting MySQL root password&quot;</span>
            <span class="no">mysqladmin -u root password $db_rootpassword</span>
            <span class="no"># do more things ...</span>
          <span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">$db_rootpassword</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span> <span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">DBRootPassword</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>In the example above, one can imagine that MySQL is being configured on a
compute instance and the root password is going to be set based on a user
provided parameter. The script for doing this is provided as userdata to the
compute instance, leveraging the <code class="docutils literal"><span class="pre">str_replace</span></code> function.</p>
</div>
<div class="section" id="str-replace-strict">
<h3>str_replace_strict<a class="headerlink" href="#str-replace-strict" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">str_replace_strict</span></code> behaves identically to the <code class="docutils literal"><span class="pre">str_replace</span></code>
function, only an error is raised if any of the params are not present
in the template. This may help catch typo&#8217;s or other issues sooner
rather than later when processing a template.</p>
</div>
<div class="section" id="str-split">
<h3>str_split<a class="headerlink" href="#str-split" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">str_split</span></code> function allows for splitting a string into a list by
providing an arbitrary delimiter, the opposite of <code class="docutils literal"><span class="pre">list_join</span></code>.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">str_split</span></code> function is as follows:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">str_split</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;,&#39;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">string,to,split</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">str_split</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;,&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;string,to,split&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>The result of which is:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="p p-Indicator">[</span><span class="s">&#39;string&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;to&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;split&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>Optionally, an index may be provided to select a specific entry from the
resulting list, similar to <code class="docutils literal"><span class="pre">get_attr</span></code>/<code class="docutils literal"><span class="pre">get_param</span></code>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">str_split</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;,&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;string,to,split&#39;</span><span class="p p-Indicator">,</span> <span class="nv">0</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>The result of which is:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="s">&#39;string&#39;</span>
</pre></div>
</div>
<p>Note: The index starts at zero, and any value outside the maximum (e.g the
length of the list minus one) will cause an error.</p>
</div>
<div class="section" id="map-merge">
<h3>map_merge<a class="headerlink" href="#map-merge" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">map_merge</span></code> function merges maps together. Values in the latter maps
override any values in earlier ones. Can be very useful when composing maps
that contain configuration data into a single consolidated map.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">map_merge</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">map_merge</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;map 1&gt;</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;map 2&gt;</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">map_merge</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="s">&#39;k1&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;v1&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;k2&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;v2&#39;</span><span class="p p-Indicator">},</span> <span class="p p-Indicator">{</span><span class="s">&#39;k1&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;v2&#39;</span><span class="p p-Indicator">}]</span>
</pre></div>
</div>
<p>This resolves to a map containing <code class="docutils literal"><span class="pre">{'k1':</span> <span class="pre">'v2',</span> <span class="pre">'k2':</span> <span class="pre">'v2'}</span></code>.</p>
<p>Maps containing no items resolve to {}.</p>
</div>
<div class="section" id="map-replace">
<h3>map_replace<a class="headerlink" href="#map-replace" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">map_replace</span></code> function does key/value replacements on an existing mapping.
An input mapping is processed by iterating over all keys/values and performing
a replacement if an exact match is found in either of the optional keys/values
mappings.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">map_replace</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">map_replace</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;input map&gt;</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">keys</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;map of key replacements&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">values</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;map of value replacements&gt;</span>
</pre></div>
</div>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">map_replace</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">k1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
  <span class="l l-Scalar l-Scalar-Plain">k2</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">v2</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">keys</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">k1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">K1</span>
  <span class="l l-Scalar l-Scalar-Plain">values</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">v2</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">V2</span>
</pre></div>
</div>
<p>This resolves to a map containing <code class="docutils literal"><span class="pre">{'K1':</span> <span class="pre">'v1',</span> <span class="pre">'k2':</span> <span class="pre">'V2'}</span></code>.</p>
<p>The keys/values mappings are optional, either or both may be specified.</p>
<p>Note that an error is raised if a replacement defined in &#8220;keys&#8221; results
in a collision with an existing keys in the input or output map.</p>
<p>Also note that while unhashable values (e.g lists) in the input map are valid,
they will be ignored by the values replacement, because no key can be defined
in the values mapping to define their replacement.</p>
</div>
<div class="section" id="yaql">
<h3>yaql<a class="headerlink" href="#yaql" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">yaql</span></code> evaluates yaql expression on a given data.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">yaql</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">yaql</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">expression</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;expression&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">data</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;data&gt;</span>
</pre></div>
</div>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">list_param</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">comma_delimited_list</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span> <span class="nv">2</span><span class="p p-Indicator">,</span> <span class="nv">3</span><span class="p p-Indicator">]</span>

<span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">max_elem</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">yaql</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">expression</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$.data.list_param.select(int($)).max()</span>
        <span class="l l-Scalar l-Scalar-Plain">data</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">list_param</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">list_param</span><span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>max_elem output will be evaluated to 3</p>
</div>
<div class="section" id="equals">
<h3>equals<a class="headerlink" href="#equals" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">equals</span></code> function compares whether two values are equal.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">equals</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">value_1</span><span class="p p-Indicator">,</span> <span class="nv">value_2</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>The value can be any type that you want to compare. This function
returns true if the two values are equal or false if they aren&#8217;t.</p>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">env_type</span><span class="p p-Indicator">},</span> <span class="s">&#39;prod&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>If param &#8216;env_type&#8217; equals to &#8216;prod&#8217;, this function returns true,
otherwise returns false.</p>
</div>
<div class="section" id="if">
<h3>if<a class="headerlink" href="#if" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">if</span></code> function returns the corresponding value based on the
evaluation of a condition.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">if</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">if</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">condition_name</span><span class="p p-Indicator">,</span> <span class="nv">value_if_true</span><span class="p p-Indicator">,</span> <span class="nv">value_if_false</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">conditions</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">create_prod_res</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">equals</span> <span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">env_type</span><span class="p p-Indicator">},</span> <span class="s">&quot;prod&quot;</span><span class="p p-Indicator">]}</span>

<span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">test_server</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">OS::Nova::Server</span>
    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">if</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;create_prod_res&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;s_prod&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;s_test&quot;</span><span class="p p-Indicator">]}</span>
</pre></div>
</div>
<p>The &#8216;name&#8217; property is set to &#8216;s_prod&#8217; if the condition
&#8220;create_prod_res&#8221; evaluates to true (if parameter &#8216;env_type&#8217; is &#8216;prod&#8217;),
and is set to &#8216;s_test&#8217; if the condition &#8220;create_prod_res&#8221; evaluates
to false (if parameter &#8216;env_type&#8217; isn&#8217;t &#8216;prod&#8217;).</p>
<p>Note: You define all conditions in the <code class="docutils literal"><span class="pre">conditions</span></code> section of a
template except for <code class="docutils literal"><span class="pre">if</span></code> conditions. You can use the <code class="docutils literal"><span class="pre">if</span></code> condition
in the property values in the <code class="docutils literal"><span class="pre">resources</span></code> section and <code class="docutils literal"><span class="pre">outputs</span></code> sections
of a template.</p>
</div>
<div class="section" id="not">
<h3>not<a class="headerlink" href="#not" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">not</span></code> function acts as a NOT operator.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">not</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">not</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">condition</span>
</pre></div>
</div>
<p>Note: A condition can be an expression such as <code class="docutils literal"><span class="pre">equals</span></code>, <code class="docutils literal"><span class="pre">or</span></code> and <code class="docutils literal"><span class="pre">and</span></code>
that evaluates to true or false, can be a boolean, and can be other condition
name defined in <code class="docutils literal"><span class="pre">conditions</span></code> section of template.</p>
<p>Returns true for a condition that evaluates to false or
returns false for a condition that evaluates to true.</p>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">not</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">env_type</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
</pre></div>
</div>
<p>If param &#8216;env_type&#8217; equals to &#8216;prod&#8217;, this function returns false,
otherwise returns true.</p>
<p>Another example with boolean value definition</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">not</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
<p>This function returns false.</p>
<p>Another example reference other condition name</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">not</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">my_other_condition</span>
</pre></div>
</div>
<p>This function returns false if my_other_condition evaluates to true,
otherwise returns true.</p>
</div>
<div class="section" id="and">
<h3>and<a class="headerlink" href="#and" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">and</span></code> function acts as an AND operator to evaluate all the
specified conditions.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">and</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">and</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="nv">condition_1</span><span class="p p-Indicator">},</span> <span class="p p-Indicator">{</span><span class="nv">condition_2</span><span class="p p-Indicator">},</span> <span class="nv">...</span> <span class="p p-Indicator">{</span><span class="nv">condition_n</span><span class="p p-Indicator">}]</span>
</pre></div>
</div>
<p>Note: A condition can be an expression such as <code class="docutils literal"><span class="pre">equals</span></code>, <code class="docutils literal"><span class="pre">or</span></code> and <code class="docutils literal"><span class="pre">not</span></code>
that evaluates to true or false, can be a boolean, and can be other condition
names defined in <code class="docutils literal"><span class="pre">conditions</span></code> section of template.</p>
<p>Returns true if all the specified conditions evaluate to true, or returns
false if any one of the conditions evaluates to false.</p>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">and</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">env_type</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">not</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zone</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">beijing</span>
</pre></div>
</div>
<p>If param &#8216;env_type&#8217; equals to &#8216;prod&#8217;, and param &#8216;zone&#8217; is not equal to
&#8216;beijing&#8217;, this function returns true, otherwise returns false.</p>
<p>Another example reference with other conditions</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">and</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">other_condition_1</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">other_condition_2</span>
</pre></div>
</div>
<p>This function returns true if other_condition_1 and other_condition_2
evaluate to true both, otherwise returns false.</p>
</div>
<div class="section" id="or">
<h3>or<a class="headerlink" href="#or" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">or</span></code> function acts as an OR operator to evaluate all the
specified conditions.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">or</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">or</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span><span class="nv">condition_1</span><span class="p p-Indicator">},</span> <span class="p p-Indicator">{</span><span class="nv">condition_2</span><span class="p p-Indicator">},</span> <span class="nv">...</span> <span class="p p-Indicator">{</span><span class="nv">condition_n</span><span class="p p-Indicator">}]</span>
</pre></div>
</div>
<p>Note: A condition can be an expression such as <code class="docutils literal"><span class="pre">equals</span></code>, <code class="docutils literal"><span class="pre">and</span></code> and <code class="docutils literal"><span class="pre">not</span></code>
that evaluates to true or false, can be a boolean, and can be other condition
names defined in <code class="docutils literal"><span class="pre">conditions</span></code> section of template.</p>
<p>Returns true if any one of the specified conditions evaluate to true,
or returns false if all of the conditions evaluates to false.</p>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">or</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">env_type</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">not</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">equals</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get_param</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zone</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">beijing</span>
</pre></div>
</div>
<p>If param &#8216;env_type&#8217; equals to &#8216;prod&#8217;, or the param &#8216;zone&#8217; is not equal to
&#8216;beijing&#8217;, this function returns true, otherwise returns false.</p>
<p>Another example reference other conditions</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">or</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">other_condition_1</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">other_condition_2</span>
</pre></div>
</div>
<p>This function returns true if any one of other_condition_1 or
other_condition_2 evaluate to true, otherwise returns false.</p>
</div>
<div class="section" id="filter">
<h3>filter<a class="headerlink" href="#filter" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">filter</span></code> function removes values from lists.</p>
<p>The syntax of the <code class="docutils literal"><span class="pre">filter</span></code> function is</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">filter</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;values&gt;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;list&gt;</span>
</pre></div>
</div>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">list_param</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">comma_delimited_list</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span> <span class="nv">2</span><span class="p p-Indicator">,</span> <span class="nv">3</span><span class="p p-Indicator">]</span>

<span class="l l-Scalar l-Scalar-Plain">outputs</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">output_list</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">filter</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="p p-Indicator">[</span><span class="nv">3</span><span class="p p-Indicator">]</span>
        <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nv">get_param</span><span class="p p-Indicator">:</span> <span class="nv">list_param</span><span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>output_list will be evaluated to [1, 2].</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Heat Orchestration Template (HOT) specification</a><ul>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#template-structure">Template structure</a></li>
<li><a class="reference internal" href="#heat-template-version">Heat template version</a><ul>
<li><a class="reference internal" href="#id1">2013-05-23</a></li>
<li><a class="reference internal" href="#id2">2014-10-16</a></li>
<li><a class="reference internal" href="#id3">2015-04-30</a></li>
<li><a class="reference internal" href="#id4">2015-10-15</a></li>
<li><a class="reference internal" href="#id5">2016-04-08</a></li>
<li><a class="reference internal" href="#newton">2016-10-14 | newton</a></li>
<li><a class="reference internal" href="#ocata">2017-02-24 | ocata</a></li>
</ul>
</li>
<li><a class="reference internal" href="#parameter-groups-section">Parameter groups section</a></li>
<li><a class="reference internal" href="#parameters-section">Parameters section</a><ul>
<li><a class="reference internal" href="#parameter-constraints">Parameter Constraints</a><ul>
<li><a class="reference internal" href="#length">length</a></li>
<li><a class="reference internal" href="#range">range</a></li>
<li><a class="reference internal" href="#modulo">modulo</a></li>
<li><a class="reference internal" href="#allowed-values">allowed_values</a></li>
<li><a class="reference internal" href="#allowed-pattern">allowed_pattern</a></li>
<li><a class="reference internal" href="#custom-constraint">custom_constraint</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pseudo-parameters">Pseudo parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resources-section">Resources section</a><ul>
<li><a class="reference internal" href="#resource-dependencies">Resource dependencies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#outputs-section">Outputs section</a></li>
<li><a class="reference internal" href="#conditions-section">Conditions section</a></li>
<li><a class="reference internal" href="#intrinsic-functions">Intrinsic functions</a><ul>
<li><a class="reference internal" href="#get-attr">get_attr</a></li>
<li><a class="reference internal" href="#get-file">get_file</a></li>
<li><a class="reference internal" href="#get-param">get_param</a></li>
<li><a class="reference internal" href="#get-resource">get_resource</a></li>
<li><a class="reference internal" href="#list-join">list_join</a></li>
<li><a class="reference internal" href="#digest">digest</a></li>
<li><a class="reference internal" href="#repeat">repeat</a></li>
<li><a class="reference internal" href="#resource-facade">resource_facade</a></li>
<li><a class="reference internal" href="#str-replace">str_replace</a></li>
<li><a class="reference internal" href="#str-replace-strict">str_replace_strict</a></li>
<li><a class="reference internal" href="#str-split">str_split</a></li>
<li><a class="reference internal" href="#map-merge">map_merge</a></li>
<li><a class="reference internal" href="#map-replace">map_replace</a></li>
<li><a class="reference internal" href="#yaql">yaql</a></li>
<li><a class="reference internal" href="#equals">equals</a></li>
<li><a class="reference internal" href="#if">if</a></li>
<li><a class="reference internal" href="#not">not</a></li>
<li><a class="reference internal" href="#and">and</a></li>
<li><a class="reference internal" href="#or">or</a></li>
<li><a class="reference internal" href="#filter">filter</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="hello_world.html"
                                  title="previous chapter">Writing a hello world HOT template</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="basic_resources.html"
                                  title="next chapter">Instances</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/heat
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/template_guide/hot_spec.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="basic_resources.html" title="Instances"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="hello_world.html" title="Writing a hello world HOT template"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">heat 8.0.0.0rc2.dev38 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Template Guide</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2012,2013 Heat Developers.
      Last updated on &#39;Tue Feb 14 11:42:51 2017, commit 3ffc97c&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/heat");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>