<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cinder Scheduler Weights &mdash; cinder 10.0.0.0rc2.dev75 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '10.0.0.0rc2.dev75',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="cinder 10.0.0.0rc2.dev75 documentation" href="index.html" />
    <link rel="next" title="Upgrades" href="upgrade.html" />
    <link rel="prev" title="Cinder Scheduler Filters" href="scheduler-filters.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cinder-scheduler-weights">
<h1>Cinder Scheduler Weights<a class="headerlink" href="#cinder-scheduler-weights" title="Permalink to this headline">¶</a></h1>
<div class="section" id="allocatedcapacityweigher">
<h2>AllocatedCapacityWeigher<a class="headerlink" href="#allocatedcapacityweigher" title="Permalink to this headline">¶</a></h2>
<p>Allocated Capacity Weigher weighs hosts by their allocated capacity.</p>
<p>The default behavior is to place new volume to the host allocated the least
space. This weigher is intended to simulate the behavior of
SimpleScheduler. If you prefer to place volumes to host allocated the most
space, you can set the <code class="docutils literal"><span class="pre">allocated_capacity_weight_multiplier</span></code> option to a
positive number and the weighing has the opposite effect of the default.</p>
</div>
<div class="section" id="capacityweigher">
<h2>CapacityWeigher<a class="headerlink" href="#capacityweigher" title="Permalink to this headline">¶</a></h2>
<p>Capacity Weigher weighs hosts by their virtual or actual free capacity.</p>
<p>For thin provisioning, weigh hosts by their virtual free capacity
calculated by the total capacity multiplied by the max over subscription
ratio and subtracting the provisioned capacity; Otherwise, weigh hosts by
their actual free capacity, taking into account the reserved space.</p>
<p>The default is to spread volumes across all hosts evenly. If you prefer
stacking, you can set the <code class="docutils literal"><span class="pre">capacity_weight_multiplier</span></code> option to a
negative number and the weighing has the opposite effect of the default.</p>
</div>
<div class="section" id="chanceweigher">
<h2>ChanceWeigher<a class="headerlink" href="#chanceweigher" title="Permalink to this headline">¶</a></h2>
<p>Chance Weigher assigns random weights to hosts.</p>
<p>Used to spread volumes randomly across a list of equally suitable hosts.</p>
</div>
<div class="section" id="goodnessweigher">
<h2>GoodnessWeigher<a class="headerlink" href="#goodnessweigher" title="Permalink to this headline">¶</a></h2>
<p>Goodness Weigher.  Assign weights based on a host&#8217;s goodness function.</p>
<p>Goodness rating is the following:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>  0 -- host is a poor choice
  .
  .
 50 -- host is a good choice
  .
  .
100 -- host is a perfect choice
</pre></div>
</div>
</div>
<div class="section" id="volumenumberweigher">
<h2>VolumeNumberWeigher<a class="headerlink" href="#volumenumberweigher" title="Permalink to this headline">¶</a></h2>
<p>Weigher that weighs hosts by volume number in backends.</p>
<p>The default is to spread volumes across all hosts evenly. If you prefer
stacking, you can set the <code class="docutils literal"><span class="pre">volume_number_multiplier</span></code> option to a positive
number and the weighing has the opposite effect of the default.</p>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Cinder Scheduler Weights</a><ul>
<li><a class="reference internal" href="#allocatedcapacityweigher">AllocatedCapacityWeigher</a></li>
<li><a class="reference internal" href="#capacityweigher">CapacityWeigher</a></li>
<li><a class="reference internal" href="#chanceweigher">ChanceWeigher</a></li>
<li><a class="reference internal" href="#goodnessweigher">GoodnessWeigher</a></li>
<li><a class="reference internal" href="#volumenumberweigher">VolumeNumberWeigher</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="scheduler-filters.html"
                                  title="previous chapter">Cinder Scheduler Filters</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="upgrade.html"
                                  title="next chapter">Upgrades</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/cinder
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/scheduler-weights.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="upgrade.html" title="Upgrades"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="scheduler-filters.html" title="Cinder Scheduler Filters"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cinder 10.0.0.0rc2.dev75 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2010-present, OpenStack Foundation.
      Last updated on Tue Feb 14 14:07:31 2017, commit 3fbefd4.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/cinder");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>