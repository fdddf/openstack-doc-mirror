<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The cinder.volume.drivers.hpe.hpe_3par_common Module &mdash; cinder 10.0.0.0rc2.dev77 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '10.0.0.0rc2.dev77',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="cinder 10.0.0.0rc2.dev77 documentation" href="../index.html" />
    <link rel="up" title="&lt;no title&gt;" href="autoindex.html" />
    <link rel="next" title="The cinder.volume.drivers.hpe.hpe_3par_fc Module" href="cinder.volume.drivers.hpe.hpe_3par_fc.html" />
    <link rel="prev" title="The cinder.volume.drivers.hitachi.vsp_utils Module" href="cinder.volume.drivers.hitachi.vsp_utils.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-cinder.volume.drivers.hpe.hpe_3par_common">
<span id="the-cinder-volume-drivers-hpe-hpe-3par-common-module"></span><h1>The <a class="reference internal" href="#module-cinder.volume.drivers.hpe.hpe_3par_common" title="cinder.volume.drivers.hpe.hpe_3par_common"><code class="xref py py-mod docutils literal"><span class="pre">cinder.volume.drivers.hpe.hpe_3par_common</span></code></a> Module<a class="headerlink" href="#module-cinder.volume.drivers.hpe.hpe_3par_common" title="Permalink to this headline">¶</a></h1>
<p>Volume driver common utilities for HPE 3PAR Storage array</p>
<p>The 3PAR drivers requires 3.1.3 firmware on the 3PAR array.</p>
<p>You will need to install the python hpe3parclient module.
sudo pip install python-3parclient</p>
<p>The drivers uses both the REST service and the SSH
command line to correctly operate.  Since the
ssh credentials and the REST credentials can be different
we need to have settings for both.</p>
<p>The drivers requires the use of the san_ip, san_login,
san_password settings for ssh connections into the 3PAR
array.   It also requires the setting of
hpe3par_api_url, hpe3par_username, hpe3par_password
for credentials to talk to the REST service on the 3PAR
array.</p>
<dl class="class">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon">
<em class="property">class </em><code class="descname">HPE3PARCommon</code><span class="sig-paren">(</span><em>config</em>, <em>active_backend_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class that contains common code for the 3PAR drivers.</p>
<p>Version history:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>1.2.0 - Updated hp3parclient API use to 2.0.x
1.2.1 - Check that the VVS exists
1.2.2 - log prior to raising exceptions
1.2.3 - Methods to update key/value pair bug #1258033
1.2.4 - Remove deprecated config option hp3par_domain
1.2.5 - Raise Ex when deleting snapshot with dependencies bug #1250249
1.2.6 - Allow optional specifying n:s:p for vlun creation bug #1269515
        This update now requires 3.1.2 MU3 firmware
1.3.0 - Removed all SSH code.  We rely on the hp3parclient now.
2.0.0 - Update hp3parclient API uses 3.0.x
2.0.1 - Updated to use qos_specs, added new qos settings and personas
2.0.2 - Add back-end assisted volume migrate
2.0.3 - Allow deleting missing snapshots bug #1283233
2.0.4 - Allow volumes created from snapshots to be larger bug #1279478
2.0.5 - Fix extend volume units bug #1284368
2.0.6 - use loopingcall.wait instead of time.sleep
2.0.7 - Allow extend volume based on snapshot bug #1285906
2.0.8 - Fix detach issue for multiple hosts bug #1288927
2.0.9 - Remove unused 3PAR driver method bug #1310807
2.0.10 - Fixed an issue with 3PAR vlun location bug #1315542
2.0.11 - Remove hp3parclient requirement from unit tests #1315195
2.0.12 - Volume detach hangs when host is in a host set bug #1317134
2.0.13 - Added support for managing/unmanaging of volumes
2.0.14 - Modified manage volume to use standard &#39;source-name&#39; element.
2.0.15 - Added support for volume retype
2.0.16 - Add a better log during delete_volume time. Bug #1349636
2.0.17 - Added iSCSI CHAP support
         This update now requires 3.1.3 MU1 firmware
         and hp3parclient 3.1.0
2.0.18 - HP 3PAR manage_existing with volume-type support
2.0.19 - Update default persona from Generic to Generic-ALUA
2.0.20 - Configurable SSH missing key policy and known hosts file
2.0.21 - Remove bogus invalid snapCPG=None exception
2.0.22 - HP 3PAR drivers should not claim to have &#39;infinite&#39; space
2.0.23 - Increase the hostname size from 23 to 31  Bug #1371242
2.0.24 - Add pools (hp3par_cpg now accepts a list of CPGs)
2.0.25 - Migrate without losing type settings bug #1356608
2.0.26 - Don&#39;t ignore extra-specs snap_cpg when missing cpg #1368972
2.0.27 - Fixing manage source-id error bug #1357075
2.0.28 - Removing locks bug #1381190
2.0.29 - Report a limitless cpg&#39;s stats better bug #1398651
2.0.30 - Update the minimum hp3parclient version bug #1402115
2.0.31 - Removed usage of host name cache #1398914
2.0.32 - Update LOG usage to fix translations.  bug #1384312
2.0.33 - Fix host persona to match WSAPI mapping bug #1403997
2.0.34 - Fix log messages to match guidelines. bug #1411370
2.0.35 - Fix default snapCPG for manage_existing bug #1393609
2.0.36 - Added support for dedup provisioning
2.0.37 - Added support for enabling Flash Cache
2.0.38 - Add stats for hp3par goodness_function and filter_function
2.0.39 - Added support for updated detach_volume attachment.
2.0.40 - Make the 3PAR drivers honor the pool in create  bug #1432876
2.0.41 - Only log versions at startup.  bug #1447697
2.0.42 - Fix type for snapshot config settings. bug #1461640
2.0.43 - Report the capability of supporting multiattach
2.0.44 - Update help strings to reduce the 3PAR user role requirements
2.0.45 - Python 3 fixes
2.0.46 - Improved VLUN creation and deletion logic. #1469816
2.0.47 - Changed initialize_connection to use getHostVLUNs. #1475064
2.0.48 - Adding changes to support 3PAR iSCSI multipath.
2.0.49 - Added client CPG stats to driver volume stats. bug #1482741
2.0.50 - Add over subscription support
2.0.51 - Adds consistency group support
2.0.52 - Added update_migrated_volume. bug #1492023
2.0.53 - Fix volume size conversion. bug #1513158
3.0.0 - Rebranded HP to HPE.
3.0.1 - Fixed find_existing_vluns bug #1515033
3.0.2 - Python 3 support
3.0.3 - Remove db access for consistency groups
3.0.4 - Adds v2 managed replication support
3.0.5 - Adds v2 unmanaged replication support
3.0.6 - Adding manage/unmanage snapshot support
3.0.7 - Enable standard capabilities based on 3PAR licenses
3.0.8 - Optimize array ID retrieval
3.0.9 - Bump minimum API version for volume replication
3.0.10 - Added additional volumes checks to the manage snapshot API
3.0.11 - Fix the image cache capability bug #1491088
3.0.12 - Remove client version checks for replication
3.0.13 - Support creating a cg from a source cg
3.0.14 - Comparison of WWNs now handles case difference. bug #1546453
3.0.15 - Update replication to version 2.1
3.0.16 - Use same LUN ID for each VLUN path #1551994
3.0.17 - Don&#39;t fail on clearing 3PAR object volume key. bug #1546392
3.0.18 - create_cloned_volume account for larger size.  bug #1554740
3.0.19 - Remove metadata that tracks the instance ID. bug #1572665
3.0.20 - Fix lun_id of 0 issue. bug #1573298
3.0.21 - Driver no longer fails to initialize if
         System Reporter license is missing. bug #1568078
3.0.22 - Rework delete_vlun. Bug #1582922
3.0.23 - Fix CG create failures with long display name or special
         characters. bug #1573647
3.0.24 - Fix terminate connection on failover
3.0.25 - Fix delete volume when online clone is active. bug #1349639
3.0.26 - Fix concurrent snapshot delete conflict. bug #1600104
3.0.27 - Fix snapCPG error during backup of attached volume.
         Bug #1646396 and also ,Fix backup of attached ISCSI
         and CHAP enabled volume.bug #1644238.
3.0.28 - Remove un-necessary snapshot creation of source volume
         while doing online copy in create_cloned_volume call.
         Bug #1661541
</pre></div>
</div>
<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.CONVERT_TO_DEDUP">
<code class="descname">CONVERT_TO_DEDUP</code><em class="property"> = 3</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.CONVERT_TO_DEDUP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.CONVERT_TO_FULL">
<code class="descname">CONVERT_TO_FULL</code><em class="property"> = 2</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.CONVERT_TO_FULL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.CONVERT_TO_THIN">
<code class="descname">CONVERT_TO_THIN</code><em class="property"> = 1</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.CONVERT_TO_THIN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.DEDUP">
<code class="descname">DEDUP</code><em class="property"> = 6</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.DEDUP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.DEFAULT_REP_MODE">
<code class="descname">DEFAULT_REP_MODE</code><em class="property"> = 'periodic'</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.DEFAULT_REP_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.DEFAULT_SYNC_PERIOD">
<code class="descname">DEFAULT_SYNC_PERIOD</code><em class="property"> = 900</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.DEFAULT_SYNC_PERIOD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.EXTRA_SPEC_REP_MODE">
<code class="descname">EXTRA_SPEC_REP_MODE</code><em class="property"> = 'replication:mode'</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.EXTRA_SPEC_REP_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.EXTRA_SPEC_REP_SYNC_PERIOD">
<code class="descname">EXTRA_SPEC_REP_SYNC_PERIOD</code><em class="property"> = 'replication:sync_period'</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.EXTRA_SPEC_REP_SYNC_PERIOD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.FAILBACK_VALUE">
<code class="descname">FAILBACK_VALUE</code><em class="property"> = 'default'</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.FAILBACK_VALUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.PERIODIC">
<code class="descname">PERIODIC</code><em class="property"> = 2</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.PERIODIC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.PRIORITY_OPT_LIC">
<code class="descname">PRIORITY_OPT_LIC</code><em class="property"> = 'Priority Optimization'</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.PRIORITY_OPT_LIC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.RC_ACTION_CHANGE_TO_PRIMARY">
<code class="descname">RC_ACTION_CHANGE_TO_PRIMARY</code><em class="property"> = 7</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.RC_ACTION_CHANGE_TO_PRIMARY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.RC_GROUP_STARTED">
<code class="descname">RC_GROUP_STARTED</code><em class="property"> = 3</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.RC_GROUP_STARTED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.REMOTE_COPY_LIC">
<code class="descname">REMOTE_COPY_LIC</code><em class="property"> = 'Remote Copy'</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.REMOTE_COPY_LIC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.SYNC">
<code class="descname">SYNC</code><em class="property"> = 1</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.SYNC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.SYNC_STATUS_COMPLETED">
<code class="descname">SYNC_STATUS_COMPLETED</code><em class="property"> = 3</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.SYNC_STATUS_COMPLETED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.SYSTEM_REPORTER_LIC">
<code class="descname">SYSTEM_REPORTER_LIC</code><em class="property"> = 'System Reporter'</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.SYSTEM_REPORTER_LIC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.THIN">
<code class="descname">THIN</code><em class="property"> = 2</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.THIN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.THIN_PROV_LIC">
<code class="descname">THIN_PROV_LIC</code><em class="property"> = 'Thin Provisioning'</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.THIN_PROV_LIC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.TaskWaiter">
<em class="property">class </em><code class="descname">TaskWaiter</code><span class="sig-paren">(</span><em>client</em>, <em>task_id</em>, <em>interval=1</em>, <em>initial_delay=0</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.TaskWaiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>TaskWaiter waits for task to be not active and returns status.</p>
<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.TaskWaiter.wait_for_task">
<code class="descname">wait_for_task</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.TaskWaiter.wait_for_task" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VERSION">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">VERSION</code><em class="property"> = '3.0.28'</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_EMPTY">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">VLUN_TYPE_EMPTY</code><em class="property"> = 1</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_EMPTY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_HOST">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">VLUN_TYPE_HOST</code><em class="property"> = 3</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_HOST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_HOST_SET">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">VLUN_TYPE_HOST_SET</code><em class="property"> = 5</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_HOST_SET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_MATCHED_SET">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">VLUN_TYPE_MATCHED_SET</code><em class="property"> = 4</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_MATCHED_SET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_PORT">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">VLUN_TYPE_PORT</code><em class="property"> = 2</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.VLUN_TYPE_PORT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.build_nsp">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">build_nsp</code><span class="sig-paren">(</span><em>portPos</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.build_nsp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.build_portPos">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">build_portPos</code><span class="sig-paren">(</span><em>nsp</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.build_portPos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.check_flags">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">check_flags</code><span class="sig-paren">(</span><em>options</em>, <em>required_flags</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.check_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.check_for_setup_error">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">check_for_setup_error</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.check_for_setup_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.check_replication_flags">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">check_replication_flags</code><span class="sig-paren">(</span><em>options</em>, <em>required_flags</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.check_replication_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.client_login">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">client_login</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.client_login" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.client_logout">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">client_logout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.client_logout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_cgsnapshot">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">create_cgsnapshot</code><span class="sig-paren">(</span><em>context</em>, <em>cgsnapshot</em>, <em>snapshots</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_cgsnapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a cgsnapshot.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_cloned_volume">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">create_cloned_volume</code><span class="sig-paren">(</span><em>volume</em>, <em>src_vref</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_cloned_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_consistencygroup">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">create_consistencygroup</code><span class="sig-paren">(</span><em>context</em>, <em>group</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_consistencygroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a consistencygroup.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_consistencygroup_from_src">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">create_consistencygroup_from_src</code><span class="sig-paren">(</span><em>context</em>, <em>group</em>, <em>volumes</em>, <em>cgsnapshot=None</em>, <em>snapshots=None</em>, <em>source_cg=None</em>, <em>source_vols=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_consistencygroup_from_src" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_snapshot">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">create_snapshot</code><span class="sig-paren">(</span><em>snapshot</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_snapshot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_vlun">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">create_vlun</code><span class="sig-paren">(</span><em>volume</em>, <em>host</em>, <em>nsp=None</em>, <em>lun_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_vlun" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a VLUN.</p>
<p>In order to export a volume on a 3PAR box, we have to create a VLUN.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_volume">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">create_volume</code><span class="sig-paren">(</span><em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_volume_from_snapshot">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">create_volume_from_snapshot</code><span class="sig-paren">(</span><em>volume</em>, <em>snapshot</em>, <em>snap_name=None</em>, <em>vvs_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.create_volume_from_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a volume from a snapshot.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_cgsnapshot">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">delete_cgsnapshot</code><span class="sig-paren">(</span><em>context</em>, <em>cgsnapshot</em>, <em>snapshots</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_cgsnapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a cgsnapshot.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_consistencygroup">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">delete_consistencygroup</code><span class="sig-paren">(</span><em>context</em>, <em>group</em>, <em>volumes</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_consistencygroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a consistency group.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_snapshot">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">delete_snapshot</code><span class="sig-paren">(</span><em>snapshot</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_snapshot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_vlun">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">delete_vlun</code><span class="sig-paren">(</span><em>volume</em>, <em>hostname</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_vlun" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_volume">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">delete_volume</code><span class="sig-paren">(</span><em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.delete_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.do_setup">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">do_setup</code><span class="sig-paren">(</span><em>context</em>, <em>timeout=None</em>, <em>stats=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.do_setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.extend_volume">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">extend_volume</code><span class="sig-paren">(</span><em>volume</em>, <em>new_size</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.extend_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.failover_host">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">failover_host</code><span class="sig-paren">(</span><em>context</em>, <em>volumes</em>, <em>secondary_backend_id</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.failover_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Force failover to a secondary replication target.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.find_existing_vlun">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">find_existing_vlun</code><span class="sig-paren">(</span><em>volume</em>, <em>host</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.find_existing_vlun" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds an existing VLUN for a volume on a host.</p>
<p>Returns an existing VLUN&#8217;s information. If no existing VLUN is found,
None is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>volume</strong> &#8211; A dictionary describing a volume.</li>
<li><strong>host</strong> &#8211; A dictionary describing a host.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.find_existing_vluns">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">find_existing_vluns</code><span class="sig-paren">(</span><em>volume</em>, <em>host</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.find_existing_vluns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_active_fc_target_ports">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_active_fc_target_ports</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_active_fc_target_ports" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_active_iscsi_target_ports">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_active_iscsi_target_ports</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_active_iscsi_target_ports" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_active_target_ports">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_active_target_ports</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_active_target_ports" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_cpg">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_cpg</code><span class="sig-paren">(</span><em>volume</em>, <em>allowSnap=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_cpg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_domain">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_domain</code><span class="sig-paren">(</span><em>cpg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_domain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_flash_cache_policy">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_flash_cache_policy</code><span class="sig-paren">(</span><em>hpe3par_keys</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_flash_cache_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_next_word">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_next_word</code><span class="sig-paren">(</span><em>s</em>, <em>search_string</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_next_word" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the next word.</p>
<p>Search &#8216;s&#8217; for &#8216;search_string&#8217;, if found return the word preceding
&#8216;search_string&#8217; from &#8216;s&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_persona_type">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_persona_type</code><span class="sig-paren">(</span><em>volume</em>, <em>hpe3par_keys=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_persona_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_ports">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_ports</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_ports" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_type_info">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_type_info</code><span class="sig-paren">(</span><em>type_id</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_type_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3PAR type info for the given type_id.</p>
<p>Reconciles VV Set, old-style extra-specs, and QOS specs
and returns commonly used info about the type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">hpe3par_keys, qos, volume_type, vvs_name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_version">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_volume_settings_from_type">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_volume_settings_from_type</code><span class="sig-paren">(</span><em>volume</em>, <em>host=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_volume_settings_from_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3PAR volume settings given a volume.</p>
<p>Combines type info and config settings to return a dictionary
describing the 3PAR volume settings.  Does some validation (CPG and
persona).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>volume</strong> &#8211; </li>
<li><strong>host</strong> &#8211; Optional host to use for default pool.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_volume_settings_from_type_id">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_volume_settings_from_type_id</code><span class="sig-paren">(</span><em>type_id</em>, <em>pool</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_volume_settings_from_type_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3PAR volume settings given a type_id.</p>
<p>Combines type info and config settings to return a dictionary
describing the 3PAR volume settings.  Does some validation (CPG).
Uses pool as the default cpg (when not specified in volume type specs).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>type_id</strong> &#8211; id of type to get settings for</li>
<li><strong>pool</strong> &#8211; CPG to use if type does not have one set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_volume_stats">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">get_volume_stats</code><span class="sig-paren">(</span><em>refresh</em>, <em>filter_function=None</em>, <em>goodness_function=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.get_volume_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.hpe3par_valid_keys">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">hpe3par_valid_keys</code><em class="property"> = ['cpg', 'snap_cpg', 'provisioning', 'persona', 'vvs', 'flash_cache']</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.hpe3par_valid_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.hpe_qos_keys">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">hpe_qos_keys</code><em class="property"> = ['minIOPS', 'maxIOPS', 'minBWS', 'maxBWS', 'latency', 'priority']</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.hpe_qos_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.manage_existing">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">manage_existing</code><span class="sig-paren">(</span><em>volume</em>, <em>existing_ref</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.manage_existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Manage an existing 3PAR volume.</p>
<p>existing_ref is a dictionary of the form:
{&#8216;source-name&#8217;: &lt;name of the virtual volume&gt;}</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.manage_existing_get_size">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">manage_existing_get_size</code><span class="sig-paren">(</span><em>volume</em>, <em>existing_ref</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.manage_existing_get_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return size of volume to be managed by manage_existing.</p>
<p>existing_ref is a dictionary of the form:
{&#8216;source-name&#8217;: &lt;name of the virtual volume&gt;}</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.manage_existing_snapshot">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">manage_existing_snapshot</code><span class="sig-paren">(</span><em>snapshot</em>, <em>existing_ref</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.manage_existing_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Manage an existing 3PAR snapshot.</p>
<p>existing_ref is a dictionary of the form:
{&#8216;source-name&#8217;: &lt;name of the snapshot&gt;}</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.manage_existing_snapshot_get_size">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">manage_existing_snapshot_get_size</code><span class="sig-paren">(</span><em>snapshot</em>, <em>existing_ref</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.manage_existing_snapshot_get_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return size of snapshot to be managed by manage_existing_snapshot.</p>
<p>existing_ref is a dictionary of the form:
{&#8216;source-name&#8217;: &lt;name of the snapshot&gt;}</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.migrate_volume">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">migrate_volume</code><span class="sig-paren">(</span><em>volume</em>, <em>host</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.migrate_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Migrate directly if source and dest are managed by same storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>volume</strong> &#8211; A dictionary describing the volume to migrate</li>
<li><strong>host</strong> &#8211; A dictionary describing the host to migrate to, where
host[&#8216;host&#8217;] is its name, and host[&#8216;capabilities&#8217;] is a
dictionary of its reported capabilities.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(False, None) if the driver does not support migration,
(True, model_update) if successful</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.qos_priority_level">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">qos_priority_level</code><em class="property"> = {'high': 3, 'low': 1, 'normal': 2}</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.qos_priority_level" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.retype">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">retype</code><span class="sig-paren">(</span><em>volume</em>, <em>new_type</em>, <em>diff</em>, <em>host</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.retype" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the volume to be of the new type.</p>
<p>Returns True if the retype was successful.
Uses taskflow to revert changes if errors occur.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>volume</strong> &#8211; A dictionary describing the volume to retype</li>
<li><strong>new_type</strong> &#8211; A dictionary describing the volume type to convert to</li>
<li><strong>diff</strong> &#8211; A dictionary with the difference between the two types</li>
<li><strong>host</strong> &#8211; A dictionary describing the host, where
host[&#8216;host&#8217;] is its name, and host[&#8216;capabilities&#8217;] is a
dictionary of its reported capabilities.  Host validation
is just skipped if host is None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.stats">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">stats</code><em class="property"> = {}</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.terminate_connection">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">terminate_connection</code><span class="sig-paren">(</span><em>volume</em>, <em>hostname</em>, <em>wwn=None</em>, <em>iqn=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.terminate_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver entry point to unattach a volume from an instance.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.tune_vv">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">tune_vv</code><span class="sig-paren">(</span><em>old_tpvv</em>, <em>new_tpvv</em>, <em>old_tdvv</em>, <em>new_tdvv</em>, <em>old_cpg</em>, <em>new_cpg</em>, <em>volume_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.tune_vv" title="Permalink to this definition">¶</a></dt>
<dd><p>Tune the volume to change the userCPG and/or provisioningType.</p>
<p>The volume will be modified/tuned/converted to the new userCPG and
provisioningType, as needed.</p>
<p>TaskWaiter is used to make this function wait until the 3PAR task
is no longer active.  When the task is no longer active, then it must
either be done or it is in a state that we need to treat as an error.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.unmanage">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">unmanage</code><span class="sig-paren">(</span><em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.unmanage" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the specified volume from Cinder management.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.unmanage_snapshot">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">unmanage_snapshot</code><span class="sig-paren">(</span><em>snapshot</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.unmanage_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the specified snapshot from Cinder management.</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.update_consistencygroup">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">update_consistencygroup</code><span class="sig-paren">(</span><em>context</em>, <em>group</em>, <em>add_volumes=None</em>, <em>remove_volumes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.update_consistencygroup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.update_migrated_volume">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">update_migrated_volume</code><span class="sig-paren">(</span><em>context</em>, <em>volume</em>, <em>new_volume</em>, <em>original_volume_status</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.update_migrated_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename the new (temp) volume to it&#8217;s original name.</p>
<p>This method tries to rename the new volume to it&#8217;s original
name after the migration has completed.</p>
</dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.valid_persona_values">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">valid_persona_values</code><em class="property"> = ['2 - Generic-ALUA', '1 - Generic', '3 - Generic-legacy', '4 - HPUX-legacy', '5 - AIX-legacy', '6 - EGENERA', '7 - ONTAP-legacy', '8 - VMware', '9 - OpenVMS', '10 - HPUX', '11 - WindowsServer']</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.valid_persona_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.valid_prov_values">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">valid_prov_values</code><em class="property"> = ['thin', 'full', 'dedup']</em><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.valid_prov_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.validate_cpg">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">validate_cpg</code><span class="sig-paren">(</span><em>cpg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.validate_cpg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.validate_persona">
<code class="descclassname">HPE3PARCommon.</code><code class="descname">validate_persona</code><span class="sig-paren">(</span><em>persona_value</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.HPE3PARCommon.validate_persona" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate persona value.</p>
<p>If the passed in persona_value is not valid, raise InvalidInput,
otherwise return the persona ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>persona_value</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">exception.InvalidInput</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">persona ID</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.ModifySpecsTask">
<em class="property">class </em><code class="descname">ModifySpecsTask</code><span class="sig-paren">(</span><em>action</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.ModifySpecsTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="cinder.flow_utils.html#cinder.flow_utils.CinderTask" title="cinder.flow_utils.CinderTask"><code class="xref py py-class docutils literal"><span class="pre">cinder.flow_utils.CinderTask</span></code></a></p>
<p>Set/unset the QOS settings and/or VV set for the volume&#8217;s new type.</p>
<p>This is a task for changing the QOS settings and/or VV set.  It is intended
for use during retype().  If changes are made during execute(), then they
need to be undone if revert() is called (i.e., if a later task fails).</p>
<p>For 3PAR, we ignore QOS settings if a VVS is explicitly set, otherwise we
create a VV set and use that for QOS settings.  That is why they are lumped
together here.  Most of the decision-making about VVS vs. QOS settings vs.
old-style scoped extra-specs is handled in existing reusable code.  Here
we mainly need to know what old stuff to remove before calling the function
that knows how to set the new stuff.</p>
<p>Basic task flow is as follows:  Remove the volume from the old externally
created VVS (when appropriate), delete the old cinder-created VVS, call
the function that knows how to set a new VVS or QOS settings.</p>
<p>If any changes are made during execute, then revert needs to reverse them.</p>
<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.ModifySpecsTask.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>common</em>, <em>volume_name</em>, <em>volume</em>, <em>old_cpg</em>, <em>new_cpg</em>, <em>old_vvs</em>, <em>new_vvs</em>, <em>old_qos</em>, <em>new_qos</em>, <em>old_flash_cache</em>, <em>new_flash_cache</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.ModifySpecsTask.execute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.ModifySpecsTask.revert">
<code class="descname">revert</code><span class="sig-paren">(</span><em>common</em>, <em>volume_name</em>, <em>volume</em>, <em>old_vvs</em>, <em>new_vvs</em>, <em>old_qos</em>, <em>old_cpg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.ModifySpecsTask.revert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.ModifyVolumeTask">
<em class="property">class </em><code class="descname">ModifyVolumeTask</code><span class="sig-paren">(</span><em>action</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.ModifyVolumeTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="cinder.flow_utils.html#cinder.flow_utils.CinderTask" title="cinder.flow_utils.CinderTask"><code class="xref py py-class docutils literal"><span class="pre">cinder.flow_utils.CinderTask</span></code></a></p>
<p>Task to change a volume&#8217;s snapCPG and comment.</p>
<p>This is a task for changing the snapCPG and comment.  It is intended for
use during retype().  These changes are done together with a single
modify request which should be fast and easy to revert.</p>
<p>Because we do not support retype with existing snapshots, we can change
the snapCPG without using a keepVV.  If snapshots exist, then this will
fail, as desired.</p>
<p>This task does not change the userCPG or provisioningType.  Those changes
may require tunevv, so they are done by the TuneVolumeTask.</p>
<p>The new comment will contain the new type, VVS and QOS information along
with whatever else was in the old comment dict.</p>
<p>The old comment and snapCPG are restored if revert is called.</p>
<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.ModifyVolumeTask.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>common</em>, <em>volume_name</em>, <em>old_snap_cpg</em>, <em>new_snap_cpg</em>, <em>old_comment</em>, <em>new_vvs</em>, <em>new_qos</em>, <em>new_type_name</em>, <em>new_type_id</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.ModifyVolumeTask.execute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.ModifyVolumeTask.revert">
<code class="descname">revert</code><span class="sig-paren">(</span><em>common</em>, <em>volume_name</em>, <em>old_snap_cpg</em>, <em>new_snap_cpg</em>, <em>old_comment</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.ModifyVolumeTask.revert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.TuneVolumeTask">
<em class="property">class </em><code class="descname">TuneVolumeTask</code><span class="sig-paren">(</span><em>action</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.TuneVolumeTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="cinder.flow_utils.html#cinder.flow_utils.CinderTask" title="cinder.flow_utils.CinderTask"><code class="xref py py-class docutils literal"><span class="pre">cinder.flow_utils.CinderTask</span></code></a></p>
<p>Task to change a volume&#8217;s CPG and/or provisioning type.</p>
<p>This is a task for changing the CPG and/or provisioning type.  It is
intended for use during retype().  This task has no revert.  The current
design is to do this task last and do revert-able tasks first. Un-doing a
tunevv can be expensive and should be avoided.</p>
<dl class="method">
<dt id="cinder.volume.drivers.hpe.hpe_3par_common.TuneVolumeTask.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>common</em>, <em>old_tpvv</em>, <em>new_tpvv</em>, <em>old_tdvv</em>, <em>new_tdvv</em>, <em>old_cpg</em>, <em>new_cpg</em>, <em>volume_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.hpe.hpe_3par_common.TuneVolumeTask.execute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="cinder.volume.drivers.hitachi.vsp_utils.html"
                                  title="previous chapter">The <code class="docutils literal"><span class="pre">cinder.volume.drivers.hitachi.vsp_utils</span></code> Module</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="cinder.volume.drivers.hpe.hpe_3par_fc.html"
                                  title="next chapter">The <code class="docutils literal"><span class="pre">cinder.volume.drivers.hpe.hpe_3par_fc</span></code> Module</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/cinder
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/cinder.volume.drivers.hpe.hpe_3par_common.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cinder.volume.drivers.hpe.hpe_3par_fc.html" title="The cinder.volume.drivers.hpe.hpe_3par_fc Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cinder.volume.drivers.hitachi.vsp_utils.html" title="The cinder.volume.drivers.hitachi.vsp_utils Module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">cinder 10.0.0.0rc2.dev77 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../devref/index.html" >Developer Guide</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="autoindex.html" accesskey="U">&lt;no title&gt;</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2010-present, OpenStack Foundation.
      Last updated on Tue Feb 14 19:31:55 2017, commit e7efdb6.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/cinder");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>