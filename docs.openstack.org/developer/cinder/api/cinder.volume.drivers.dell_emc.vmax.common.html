<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The cinder.volume.drivers.dell_emc.vmax.common Module &mdash; cinder 10.0.0.0rc2.dev77 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '10.0.0.0rc2.dev77',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="cinder 10.0.0.0rc2.dev77 documentation" href="../index.html" />
    <link rel="up" title="&lt;no title&gt;" href="autoindex.html" />
    <link rel="next" title="The cinder.volume.drivers.dell_emc.vmax.fast Module" href="cinder.volume.drivers.dell_emc.vmax.fast.html" />
    <link rel="prev" title="The cinder.volume.drivers.dell_emc.unity.utils Module" href="cinder.volume.drivers.dell_emc.unity.utils.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-cinder.volume.drivers.dell_emc.vmax.common">
<span id="the-cinder-volume-drivers-dell-emc-vmax-common-module"></span><h1>The <a class="reference internal" href="#module-cinder.volume.drivers.dell_emc.vmax.common" title="cinder.volume.drivers.dell_emc.vmax.common"><code class="xref py py-mod docutils literal"><span class="pre">cinder.volume.drivers.dell_emc.vmax.common</span></code></a> Module<a class="headerlink" href="#module-cinder.volume.drivers.dell_emc.vmax.common" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon">
<em class="property">class </em><code class="descname">VMAXCommon</code><span class="sig-paren">(</span><em>prtcl</em>, <em>version</em>, <em>configuration=None</em>, <em>active_backend_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Common class for SMI-S based EMC volume drivers.</p>
<p>This common class is for EMC volume drivers based on SMI-S.
It supports VNX and VMAX arrays.</p>
<dl class="attribute">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.VERSION">
<code class="descname">VERSION</code><em class="property"> = '2.0.0'</em><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.add_to_default_SG">
<code class="descname">add_to_default_SG</code><span class="sig-paren">(</span><em>conn</em>, <em>volumeInstance</em>, <em>storageSystemName</em>, <em>targetFastPolicyName</em>, <em>volumeName</em>, <em>extraSpecs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.add_to_default_SG" title="Permalink to this definition">¶</a></dt>
<dd><p>For FAST, add volume to default storage group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>conn</strong> &#8211; connection info to ECOM</li>
<li><strong>volumeInstance</strong> &#8211; the volume instance</li>
<li><strong>storageSystemName</strong> &#8211; the storage system name</li>
<li><strong>targetFastPolicyName</strong> &#8211; the target FAST policy name</li>
<li><strong>volumeName</strong> &#8211; the volume Name</li>
<li><strong>extraSpecs</strong> &#8211; extra specifications</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.add_volume_to_replication_group">
<code class="descname">add_volume_to_replication_group</code><span class="sig-paren">(</span><em>conn</em>, <em>controllerConfigService</em>, <em>volumeInstance</em>, <em>volumeName</em>, <em>extraSpecs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.add_volume_to_replication_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a volume to the default replication group.</p>
<p>SE_ReplicationGroups are actually VMAX storage groups under
the covers, so we can use our normal storage group operations.
:param conn: the connection to the ecom served
:param controllerConfigService: the controller config service
:param volumeInstance: the volume instance
:param volumeName: the name of the volume
:param extraSpecs: extra specifications
:return: storageGroupInstanceName</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.break_rdf_relationship">
<code class="descname">break_rdf_relationship</code><span class="sig-paren">(</span><em>conn</em>, <em>repServiceInstanceName</em>, <em>syncInstanceName</em>, <em>extraSpecs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.break_rdf_relationship" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.check_ig_instance_name">
<code class="descname">check_ig_instance_name</code><span class="sig-paren">(</span><em>initiatorGroupInstanceName</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.check_ig_instance_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if an initiator group instance is on the array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>initiatorGroupInstanceName</strong> &#8211; initiator group instance name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">initiator group name, or None if deleted</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.cleanup_lun_replication">
<code class="descname">cleanup_lun_replication</code><span class="sig-paren">(</span><em>conn</em>, <em>volume</em>, <em>volumeName</em>, <em>sourceInstance</em>, <em>extraSpecs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.cleanup_lun_replication" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleanup target volume on delete.</p>
<p>Extra logic if target is last in group.
:param conn: the connection to the ecom server
:param volume: the volume object
:param volumeName: the volume name
:param sourceInstance: the source volume instance
:param extraSpecs: extra specification</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_cgsnapshot">
<code class="descname">create_cgsnapshot</code><span class="sig-paren">(</span><em>context</em>, <em>cgsnapshot</em>, <em>snapshots</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_cgsnapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a cgsnapshot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; the context</li>
<li><strong>cgsnapshot</strong> &#8211; the consistency group snapshot to be created</li>
<li><strong>snapshots</strong> &#8211; snapshots</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict &#8211; modelUpdate</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list &#8211; list of snapshots</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_cloned_volume">
<code class="descname">create_cloned_volume</code><span class="sig-paren">(</span><em>cloneVolume</em>, <em>sourceVolume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_cloned_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a clone of the specified volume.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cloneVolume</strong> &#8211; clone volume Object</li>
<li><strong>sourceVolume</strong> &#8211; volume object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">model_update, dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_consistencygroup">
<code class="descname">create_consistencygroup</code><span class="sig-paren">(</span><em>context</em>, <em>group</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_consistencygroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a consistency group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; the context</li>
<li><strong>group</strong> &#8211; the group object to be created</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict &#8211; modelUpdate = {&#8216;status&#8217;: &#8216;available&#8217;}</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_consistencygroup_from_src">
<code class="descname">create_consistencygroup_from_src</code><span class="sig-paren">(</span><em>context</em>, <em>group</em>, <em>volumes</em>, <em>cgsnapshot</em>, <em>snapshots</em>, <em>source_cg</em>, <em>source_vols</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_consistencygroup_from_src" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the consistency group from source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; the context</li>
<li><strong>group</strong> &#8211; the consistency group object to be created</li>
<li><strong>volumes</strong> &#8211; volumes in the consistency group</li>
<li><strong>cgsnapshot</strong> &#8211; the source consistency group snapshot</li>
<li><strong>snapshots</strong> &#8211; snapshots of the source volumes</li>
<li><strong>source_cg</strong> &#8211; the source consistency group</li>
<li><strong>source_vols</strong> &#8211; the source vols</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">model_update, volumes_model_update
model_update is a dictionary of cg status
volumes_model_update is a list of dictionaries of volume
update</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_remote_replica">
<code class="descname">create_remote_replica</code><span class="sig-paren">(</span><em>conn</em>, <em>repServiceInstanceName</em>, <em>rdfGroupInstance</em>, <em>sourceVolume</em>, <em>sourceInstance</em>, <em>targetInstance</em>, <em>extraSpecs</em>, <em>rep_config</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_remote_replica" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a replication relationship with a target volume.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>conn</strong> &#8211; the connection to the ecom server</li>
<li><strong>repServiceInstanceName</strong> &#8211; the replication service</li>
<li><strong>rdfGroupInstance</strong> &#8211; the SRDF group instance</li>
<li><strong>sourceVolume</strong> &#8211; the source volume object</li>
<li><strong>sourceInstance</strong> &#8211; the source volume instance</li>
<li><strong>targetInstance</strong> &#8211; the target volume instance</li>
<li><strong>extraSpecs</strong> &#8211; extra specifications</li>
<li><strong>rep_config</strong> &#8211; the replication configuration</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">rc, rdfDict - the target volume dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_snapshot">
<code class="descname">create_snapshot</code><span class="sig-paren">(</span><em>snapshot</em>, <em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a snapshot.</p>
<p>For VMAX, replace snapshot with clone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>snapshot</strong> &#8211; snapshot object</li>
<li><strong>volume</strong> &#8211; volume Object to create snapshot from</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict &#8211; the cloned volume dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_volume">
<code class="descname">create_volume</code><span class="sig-paren">(</span><em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a EMC(VMAX) volume from a pre-existing storage pool.</p>
<p>For a concatenated compositeType:
If the volume size is over 240GB then a composite is created
EMCNumberOfMembers &gt; 1, otherwise it defaults to a non composite</p>
<p>For a striped compositeType:
The user must supply an extra spec to determine how many metas
will make up the striped volume. If the meta size is greater
than 240GB an error is returned to the user. Otherwise the
EMCNumberOfMembers is what the user specifies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>volume</strong> &#8211; volume Object</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">model_update, dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_volume_from_snapshot">
<code class="descname">create_volume_from_snapshot</code><span class="sig-paren">(</span><em>volume</em>, <em>snapshot</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.create_volume_from_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a volume from a snapshot.</p>
<p>For VMAX, replace snapshot with clone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>volume</strong> &#8211; volume Object</li>
<li><strong>snapshot</strong> &#8211; snapshot object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">model_update, dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.delete_cgsnapshot">
<code class="descname">delete_cgsnapshot</code><span class="sig-paren">(</span><em>context</em>, <em>cgsnapshot</em>, <em>snapshots</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.delete_cgsnapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a cgsnapshot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; the context</li>
<li><strong>cgsnapshot</strong> &#8211; the consistency group snapshot to be created</li>
<li><strong>snapshots</strong> &#8211; snapshots</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict &#8211; modelUpdate</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list &#8211; list of snapshots</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.delete_consistencygroup">
<code class="descname">delete_consistencygroup</code><span class="sig-paren">(</span><em>context</em>, <em>group</em>, <em>volumes</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.delete_consistencygroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a consistency group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; the context</li>
<li><strong>group</strong> &#8211; the group object to be deleted</li>
<li><strong>volumes</strong> &#8211; the list of volumes in the consisgroup to be deleted</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict &#8211; modelUpdate</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list &#8211; list of volume objects</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.delete_snapshot">
<code class="descname">delete_snapshot</code><span class="sig-paren">(</span><em>snapshot</em>, <em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.delete_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a snapshot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>snapshot</strong> &#8211; snapshot object</li>
<li><strong>volume</strong> &#8211; volume Object to create snapshot from</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.delete_volume">
<code class="descname">delete_volume</code><span class="sig-paren">(</span><em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.delete_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a EMC(VMAX) volume.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>volume</strong> &#8211; volume Object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.extend_volume">
<code class="descname">extend_volume</code><span class="sig-paren">(</span><em>volume</em>, <em>newSize</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.extend_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends an existing volume.</p>
<p>Prequisites:
1. The volume must be composite e.g StorageVolume.EMCIsComposite=True
2. The volume can only be concatenated
e.g StorageExtent.IsConcatenated=True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Params volume:</th><td class="field-body">the volume Object</td>
</tr>
<tr class="field-even field"><th class="field-name">Params newSize:</th><td class="field-body">the new size to increase the volume to</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict &#8211; modifiedVolumeDict - the extended volume Object</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">VolumeBackendAPIException</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.extend_volume_is_replicated">
<code class="descname">extend_volume_is_replicated</code><span class="sig-paren">(</span><em>volume</em>, <em>volumeInstance</em>, <em>volumeName</em>, <em>newSize</em>, <em>extraSpecs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.extend_volume_is_replicated" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend a replication-enabled volume.</p>
<p>Cannot extend volumes in a synchronization pair.
Must first break the relationship, extend them
separately, then recreate the pair
:param volume: the volume objcet
:param volumeInstance: the volume instance
:param volumeName: the volume name
:param newSize: the new size the volume should be
:param extraSpecs: extra specifications
:return: rc, volumeDict</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.failover_host">
<code class="descname">failover_host</code><span class="sig-paren">(</span><em>context</em>, <em>volumes</em>, <em>secondary_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.failover_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Fails over the volume back and forth.</p>
<p>Driver needs to update following info for failed-over volume:
1. provider_location: update array details
2. replication_status: new status for replication-enabled volume
:param context: the context
:param volumes: the list of volumes to be failed over
:param secondary_id: the target backend
:return: secondary_id, volume_update_list</p>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.find_device_number">
<code class="descname">find_device_number</code><span class="sig-paren">(</span><em>volume</em>, <em>host</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.find_device_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the volume dict find a device number.</p>
<p>Find a device number that a host can see
for a volume.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>volume</strong> &#8211; the volume dict</li>
<li><strong>host</strong> &#8211; host from connector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict &#8211; the data dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_initiator_group_from_masking_view">
<code class="descname">get_initiator_group_from_masking_view</code><span class="sig-paren">(</span><em>maskingViewInstanceName</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_initiator_group_from_masking_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the initiator group in a masking view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>maskingViewInstanceName</strong> &#8211; masking view instance name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">initiatorGroupInstanceName</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_ip_and_iqn">
<code class="descname">get_ip_and_iqn</code><span class="sig-paren">(</span><em>conn</em>, <em>endpoint</em>, <em>ipendpointinstancename</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_ip_and_iqn" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ip and iqn from the endpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>conn</strong> &#8211; ecom connection</li>
<li><strong>endpoint</strong> &#8211; end point</li>
<li><strong>ipendpointinstancename</strong> &#8211; ip endpoint</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">endpoint</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_masking_view_by_volume">
<code class="descname">get_masking_view_by_volume</code><span class="sig-paren">(</span><em>volume</em>, <em>connector</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_masking_view_by_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Given volume, retrieve the masking view instance name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>volume</strong> &#8211; the volume</li>
<li><strong>connector</strong> &#8211; the connector object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">maskingviewInstanceName</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_masking_views_by_initiator_group">
<code class="descname">get_masking_views_by_initiator_group</code><span class="sig-paren">(</span><em>initiatorGroupInstanceName</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_masking_views_by_initiator_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Given initiator group, retrieve the masking view instance name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>initiatorGroupInstanceName</strong> &#8211; initiator group instance name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list &#8211; maskingViewInstanceNames</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_masking_views_by_port_group">
<code class="descname">get_masking_views_by_port_group</code><span class="sig-paren">(</span><em>portGroupInstanceName</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_masking_views_by_port_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Given port group, retrieve the masking view instance name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>portGroupInstanceName</strong> &#8211; port group instance name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list &#8211; maskingViewInstanceNames</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_num_volumes_mapped">
<code class="descname">get_num_volumes_mapped</code><span class="sig-paren">(</span><em>volume</em>, <em>connector</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_num_volumes_mapped" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns how many volumes are in the same zone as the connector.</p>
<p>Find out how many volumes are mapped to a host
associated to the LunMaskingSCSIProtocolController.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>volume</strong> &#8211; volume object to be deleted</li>
<li><strong>connector</strong> &#8211; volume object to be deleted</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">int &#8211; numVolumesMapped</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_port_group_from_masking_view">
<code class="descname">get_port_group_from_masking_view</code><span class="sig-paren">(</span><em>maskingViewInstanceName</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_port_group_from_masking_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the port groups in a masking view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>maskingViewInstanceName</strong> &#8211; masking view instance name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">portGroupInstanceName</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_rdf_details">
<code class="descname">get_rdf_details</code><span class="sig-paren">(</span><em>conn</em>, <em>storageSystem</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_rdf_details" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an SRDF group instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>conn</strong> &#8211; connection to the ecom server</li>
<li><strong>storageSystem</strong> &#8211; the storage system name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_secondary_stats_info">
<code class="descname">get_secondary_stats_info</code><span class="sig-paren">(</span><em>rep_config</em>, <em>arrayInfo</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_secondary_stats_info" title="Permalink to this definition">¶</a></dt>
<dd><p>On failover, report on secondary array statistics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rep_config</strong> &#8211; the replication configuration</li>
<li><strong>arrayInfo</strong> &#8211; the array info</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">secondaryInfo - dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_target_instance">
<code class="descname">get_target_instance</code><span class="sig-paren">(</span><em>sourceVolume</em>, <em>rep_config</em>, <em>rdf_vol_size</em>, <em>targetName</em>, <em>extraSpecs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_target_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a replication target for a given source volume.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourceVolume</strong> &#8211; the source volume</li>
<li><strong>rep_config</strong> &#8211; the replication configuration</li>
<li><strong>rdf_vol_size</strong> &#8211; the size of the volume</li>
<li><strong>targetName</strong> &#8211; the Element Name for the new volume</li>
<li><strong>extraSpecs</strong> &#8211; the extra specifications</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the target instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_target_wwns">
<code class="descname">get_target_wwns</code><span class="sig-paren">(</span><em>storageSystem</em>, <em>connector</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_target_wwns" title="Permalink to this definition">¶</a></dt>
<dd><p>Find target WWNs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>storageSystem</strong> &#8211; the storage system name</li>
<li><strong>connector</strong> &#8211; the connector dict</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list &#8211; targetWwns, the target WWN list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_target_wwns_from_masking_view">
<code class="descname">get_target_wwns_from_masking_view</code><span class="sig-paren">(</span><em>storageSystem</em>, <em>volume</em>, <em>connector</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.get_target_wwns_from_masking_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Find target WWNs via the masking view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>storageSystem</strong> &#8211; the storage system name</li>
<li><strong>volume</strong> &#8211; volume to be attached</li>
<li><strong>connector</strong> &#8211; the connector dict</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list &#8211; the target WWN list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.initialize_connection">
<code class="descname">initialize_connection</code><span class="sig-paren">(</span><em>volume</em>, <em>connector</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.initialize_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the connection and returns device and connection info.</p>
<p>The volume may be already mapped, if this is so the deviceInfo tuple
is returned.  If the volume is not already mapped then we need to
gather information to either 1. Create an new masking view or 2. Add
the volume to an existing storage group within an already existing
maskingview.</p>
<p>The naming convention is the following:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>initiatorGroupName = OS-&lt;shortHostName&gt;-&lt;shortProtocol&gt;-IG
                     e.g OS-myShortHost-I-IG
storageGroupName = OS-&lt;shortHostName&gt;-&lt;poolName&gt;-&lt;shortProtocol&gt;-SG
                   e.g OS-myShortHost-SATA_BRONZ1-I-SG
portGroupName = OS-&lt;target&gt;-PG  The portGroupName will come from
                the EMC configuration xml file.
                These are precreated. If the portGroup does not
                exist then an error will be returned to the user
maskingView  = OS-&lt;shortHostName&gt;-&lt;poolName&gt;-&lt;shortProtocol&gt;-MV
               e.g OS-myShortHost-SATA_BRONZ1-I-MV
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>volume</strong> &#8211; volume Object</li>
<li><strong>connector</strong> &#8211; the connector Object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict &#8211; deviceInfoDict - device information dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.manage_existing">
<code class="descname">manage_existing</code><span class="sig-paren">(</span><em>volume</em>, <em>external_ref</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.manage_existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages an existing VMAX Volume (import to Cinder).</p>
<p>Renames the existing volume to match the expected name for the volume.
Also need to consider things like QoS, Emulation, account/tenant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>volume</strong> &#8211; the volume object including the volume_type_id</li>
<li><strong>external_ref</strong> &#8211; reference to the existing volume</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict &#8211; model_update</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.manage_existing_get_size">
<code class="descname">manage_existing_get_size</code><span class="sig-paren">(</span><em>volume</em>, <em>external_ref</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.manage_existing_get_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return size of an existing VMAX volume to manage_existing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>self</strong> &#8211; reference to class</li>
<li><strong>volume</strong> &#8211; the volume object including the volume_type_id</li>
<li><strong>external_ref</strong> &#8211; reference to the existing volume</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">size of the volume in GB</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.migrate_volume">
<code class="descname">migrate_volume</code><span class="sig-paren">(</span><em>ctxt</em>, <em>volume</em>, <em>host</em>, <em>new_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.migrate_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Migrate volume to another host.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ctxt</strong> &#8211; context</li>
<li><strong>volume</strong> &#8211; the volume object including the volume_type_id</li>
<li><strong>host</strong> &#8211; the host dict holding the relevant target(destination)
information</li>
<li><strong>new_type</strong> &#8211; None</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">boolean &#8211; Always returns True</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict &#8211; Empty dict {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.pool_info">
<code class="descname">pool_info</code><em class="property"> = {'arrays_info': {}, 'config_file': None, 'backend_name': None, 'reserved_percentage': None, 'max_over_subscription_ratio': None, 'replication_enabled': False}</em><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.pool_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.recover_volumes_on_failback">
<code class="descname">recover_volumes_on_failback</code><span class="sig-paren">(</span><em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.recover_volumes_on_failback" title="Permalink to this definition">¶</a></dt>
<dd><p>Recover volumes on failback.</p>
<p>On failback, attempt to recover non RE(replication enabled)
volumes from primary array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>volume</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">volume_update</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.remove_from_default_SG">
<code class="descname">remove_from_default_SG</code><span class="sig-paren">(</span><em>conn</em>, <em>volumeInstance</em>, <em>storageSystemName</em>, <em>sourceFastPolicyName</em>, <em>volumeName</em>, <em>extraSpecs</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.remove_from_default_SG" title="Permalink to this definition">¶</a></dt>
<dd><p>For FAST, remove volume from default storage group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>conn</strong> &#8211; connection info to ECOM</li>
<li><strong>volumeInstance</strong> &#8211; the volume instance</li>
<li><strong>storageSystemName</strong> &#8211; the storage system name</li>
<li><strong>sourceFastPolicyName</strong> &#8211; the source FAST policy name</li>
<li><strong>volumeName</strong> &#8211; the volume Name</li>
<li><strong>extraSpecs</strong> &#8211; extra specifications</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">VolumeBackendAPIException</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.retype">
<code class="descname">retype</code><span class="sig-paren">(</span><em>ctxt</em>, <em>volume</em>, <em>new_type</em>, <em>diff</em>, <em>host</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.retype" title="Permalink to this definition">¶</a></dt>
<dd><p>Migrate volume to another host using retype.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ctxt</strong> &#8211; context</li>
<li><strong>volume</strong> &#8211; the volume object including the volume_type_id</li>
<li><strong>new_type</strong> &#8211; the new volume type.</li>
<li><strong>diff</strong> &#8211; Unused parameter.</li>
<li><strong>host</strong> &#8211; The host dict holding the relevant target(destination)
information</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean &#8211; True if retype succeeded, False if error</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.setup_volume_replication">
<code class="descname">setup_volume_replication</code><span class="sig-paren">(</span><em>conn</em>, <em>sourceVolume</em>, <em>volumeDict</em>, <em>extraSpecs</em>, <em>targetInstance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.setup_volume_replication" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup replication for volume, if enabled.</p>
<p>Called on create volume, create cloned volume,
create volume from snapshot, manage_existing,
and re-establishing a replication relationship after extending.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>conn</strong> &#8211; the connection to the ecom server</li>
<li><strong>sourceVolume</strong> &#8211; the source volume object</li>
<li><strong>volumeDict</strong> &#8211; the source volume dict (the provider_location)</li>
<li><strong>extraSpecs</strong> &#8211; extra specifications</li>
<li><strong>targetInstance</strong> &#8211; optional, target on secondary array</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">rep_update - dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.stats">
<code class="descname">stats</code><em class="property"> = {'driver_version': '1.0', 'total_capacity_gb': 0, 'replication_enabled': False, 'replication_targets': None, 'reserved_percentage': 0, 'vendor_name': 'EMC', 'volume_backend_name': None, 'storage_protocol': None, 'free_capacity_gb': 0}</em><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.terminate_connection">
<code class="descname">terminate_connection</code><span class="sig-paren">(</span><em>volume</em>, <em>connector</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.terminate_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Disallow connection from connector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Params volume:</th><td class="field-body">the volume Object</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Params connector:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">the connector Object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.unmanage">
<code class="descname">unmanage</code><span class="sig-paren">(</span><em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.unmanage" title="Permalink to this definition">¶</a></dt>
<dd><p>Export VMAX volume from Cinder.</p>
<p>Leave the volume intact on the backend array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>volume</strong> &#8211; the volume object</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">VolumeBackendAPIException</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.update_consistencygroup">
<code class="descname">update_consistencygroup</code><span class="sig-paren">(</span><em>group</em>, <em>add_volumes</em>, <em>remove_volumes</em><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.update_consistencygroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates LUNs in consistency group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group</strong> &#8211; storage configuration service instance</li>
<li><strong>add_volumes</strong> &#8211; the volumes uuids you want to add to the CG</li>
<li><strong>remove_volumes</strong> &#8211; the volumes uuids you want to remove from
the CG</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.update_volume_stats">
<code class="descname">update_volume_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cinder.volume.drivers.dell_emc.vmax.common.VMAXCommon.update_volume_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve stats info.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="cinder.volume.drivers.dell_emc.unity.utils.html"
                                  title="previous chapter">The <code class="docutils literal"><span class="pre">cinder.volume.drivers.dell_emc.unity.utils</span></code> Module</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="cinder.volume.drivers.dell_emc.vmax.fast.html"
                                  title="next chapter">The <code class="docutils literal"><span class="pre">cinder.volume.drivers.dell_emc.vmax.fast</span></code> Module</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/cinder
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/cinder.volume.drivers.dell_emc.vmax.common.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cinder.volume.drivers.dell_emc.vmax.fast.html" title="The cinder.volume.drivers.dell_emc.vmax.fast Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cinder.volume.drivers.dell_emc.unity.utils.html" title="The cinder.volume.drivers.dell_emc.unity.utils Module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">cinder 10.0.0.0rc2.dev77 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../devref/index.html" >Developer Guide</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="autoindex.html" accesskey="U">&lt;no title&gt;</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2010-present, OpenStack Foundation.
      Last updated on Tue Feb 14 19:31:55 2017, commit e7efdb6.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/cinder");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>