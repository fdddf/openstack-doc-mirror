<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>REST API Version History &mdash; cinder 10.0.0.0rc2.dev76 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '10.0.0.0rc2.dev76',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="cinder 10.0.0.0rc2.dev76 documentation" href="../index.html" />
    <link rel="up" title="Developer Guide" href="index.html" />
    <link rel="next" title="Testing" href="testing.html" />
    <link rel="prev" title="API Races - Conditional Updates" href="api_conditional_updates.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="rest-api-version-history">
<h1>REST API Version History<a class="headerlink" href="#rest-api-version-history" title="Permalink to this headline">¶</a></h1>
<p>This documents the changes made to the REST API with every
microversion change. The description for each version should be a
verbose one which has enough information to be suitable for use in
user documentation.</p>
<div class="section" id="id1">
<h2>3.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The 3.0 Cinder API includes all v2 core APIs existing prior to
the introduction of microversions.  The /v3 URL is used to call
3.0 APIs.
This it the initial version of the Cinder API which supports
microversions.</p>
<p>A user can specify a header in the API request:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>OpenStack-API-Version: volume &lt;version&gt;
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">&lt;version&gt;</span></code> is any valid api version for this API.</p>
<p>If no version is specified then the API will behave as if version 3.0
was requested.</p>
<p>The only API change in version 3.0 is versions, i.e.
GET <a class="reference external" href="http://localhost:8786/">http://localhost:8786/</a>, which now returns information about
3.0 and later versions and their respective /v3 endpoints.</p>
<p>All other 3.0 APIs are functionally identical to version 2.0.</p>
</div></blockquote>
</div>
<div class="section" id="id2">
<h2>3.1<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added the parameters <code class="docutils literal"><span class="pre">protected</span></code> and <code class="docutils literal"><span class="pre">visibility</span></code> to
_volume_upload_image requests.</div></blockquote>
</div>
<div class="section" id="id3">
<h2>3.2<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Change in return value of &#8216;GET API request&#8217; for fetching cinder volume
list on the basis of &#8216;bootable&#8217; status of volume as filter.</p>
<p>Before V3.2, &#8216;GET API request&#8217; to fetch volume list returns non-bootable
volumes if bootable filter value is any of the false or False.
For any other value provided to this filter, it always returns
bootable volumes list.</p>
<p>But in V3.2, this behavior is updated.
In V3.2, bootable volume list will be returned for any of the
&#8216;T/True/1/true&#8217; bootable filter values only.
Non-bootable volume list will be returned for any of &#8216;F/False/0/false&#8217;
bootable filter values.
But for any other values passed for bootable filter, it will return
&#8220;Invalid input received: bootable={filter value}&#8217; error.</p>
</div></blockquote>
</div>
<div class="section" id="id4">
<h2>3.3<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added /messages API.</div></blockquote>
</div>
<div class="section" id="id5">
<h2>3.4<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added the filter parameters <code class="docutils literal"><span class="pre">glance_metadata</span></code> to
list/detail volumes requests.</div></blockquote>
</div>
<div class="section" id="id6">
<h2>3.5<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added pagination support to /messages API</div></blockquote>
</div>
<div class="section" id="id7">
<h2>3.6<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Allowed to set empty description and empty name for consistency
group in consisgroup-update operation.</div></blockquote>
</div>
<div class="section" id="id8">
<h2>3.7<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Added <code class="docutils literal"><span class="pre">cluster_name</span></code> field to service list/detail.</p>
<p>Added /clusters endpoint to list/show/update clusters.</p>
<p>Show endpoint requires the cluster name and optionally the binary as a URL
parameter (default is &#8220;cinder-volume&#8221;).  Returns:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;cluster&quot;: {
    &quot;created_at&quot;: ...,
    &quot;disabled_reason&quot;: null,
    &quot;last_heartbeat&quot;: ...,
    &quot;name&quot;: &quot;cluster_name&quot;,
    &quot;num_down_hosts&quot;: 4,
    &quot;num_hosts&quot;: 2,
    &quot;state&quot;: &quot;up&quot;,
    &quot;status&quot;: &quot;enabled&quot;,
    &quot;updated_at&quot;: ...
}
</pre></div>
</div>
<p>Update endpoint allows enabling and disabling a cluster in a similar way to
service&#8217;s update endpoint, but in the body we must specify the name and
optionally the binary (&#8220;cinder-volume&#8221; is the default) and the disabled
reason. Returns:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;cluster&quot;: {
    &quot;name&quot;: &quot;cluster_name&quot;,
    &quot;state&quot;: &quot;up&quot;,
    &quot;status&quot;: &quot;enabled&quot;
    &quot;disabled_reason&quot;: null
}
</pre></div>
</div>
<p>Index and detail accept filtering by <cite>name</cite>, <cite>binary</cite>, <cite>disabled</cite>,
<cite>num_hosts</cite> , <cite>num_down_hosts</cite>, and up/down status (<cite>is_up</cite>) as URL
parameters.</p>
<p>Index endpoint returns:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;clusters&quot;: [
    {
        &quot;name&quot;: &quot;cluster_name&quot;,
        &quot;state&quot;: &quot;up&quot;,
        &quot;status&quot;: &quot;enabled&quot;
    },
    {
        ...
    }
]
</pre></div>
</div>
<p>Detail endpoint returns:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;clusters&quot;: [
    {
        &quot;created_at&quot;: ...,
        &quot;disabled_reason&quot;: null,
        &quot;last_heartbeat&quot;: ...,
        &quot;name&quot;: &quot;cluster_name&quot;,
        &quot;num_down_hosts&quot;: 4,
        &quot;num_hosts&quot;: 2,
        &quot;state&quot;: &quot;up&quot;,
        &quot;status&quot;: &quot;enabled&quot;,
        &quot;updated_at&quot;: ...
    },
    {
        ...
    }
]
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id9">
<h2>3.8<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Adds the following resources that were previously in extensions:
- os-volume-manage =&gt; /v3/&lt;project_id&gt;/manageable_volumes
- os-snapshot-manage =&gt; /v3/&lt;project_id&gt;/manageable_snapshots</div></blockquote>
</div>
<div class="section" id="id10">
<h2>3.9<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Added backup update interface to change name and description.
Returns:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;backup&quot;: {
    &quot;id&quot;: &quot;backup_id&quot;,
    &quot;name&quot;: &quot;backup_name&quot;,
    &quot;links&quot;: &quot;backup_link&quot;,
}
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id11">
<h2>3.10<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added the filter parameters <code class="docutils literal"><span class="pre">group_id</span></code> to
list/detail volumes requests.</div></blockquote>
</div>
<div class="section" id="id12">
<h2>3.11<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added group types and group specs API.</div></blockquote>
</div>
<div class="section" id="id13">
<h2>3.12<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added volumes/summary API.</div></blockquote>
</div>
<div class="section" id="id14">
<h2>3.13<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added create/delete/update/list/show APIs for generic volume groups.</div></blockquote>
</div>
<div class="section" id="id15">
<h2>3.14<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added group snapshots and create group from src APIs.</div></blockquote>
</div>
<div class="section" id="maximum-in-newton">
<h2>3.15 (Maximum in Newton)<a class="headerlink" href="#maximum-in-newton" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added injecting the response&#8217;s <cite>Etag</cite> header to avoid the lost update
problem with volume metadata.</div></blockquote>
</div>
<div class="section" id="id16">
<h2>3.16<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>os-migrate_volume now accepts <code class="docutils literal"><span class="pre">cluster</span></code> parameter when we want to migrate a
volume to a cluster.  If we pass the <code class="docutils literal"><span class="pre">host</span></code> parameter for a volume that is
in a cluster, the request will be sent to the cluster as if we had requested
that specific cluster.  Only <code class="docutils literal"><span class="pre">host</span></code> or <code class="docutils literal"><span class="pre">cluster</span></code> can be provided.</p>
<p>Creating a managed volume also supports the cluster parameter.</p>
</div></blockquote>
</div>
<div class="section" id="id17">
<h2>3.17<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>os-snapshot-manage and os-volume-manage now support <code class="docutils literal"><span class="pre">cluster</span></code> parameter on
listings (summary and detailed).  Both location parameters, <code class="docutils literal"><span class="pre">cluster</span></code> and
<code class="docutils literal"><span class="pre">host</span></code> are exclusive and only one should be provided.</div></blockquote>
</div>
<div class="section" id="id18">
<h2>3.18<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added backup project attribute.</div></blockquote>
</div>
<div class="section" id="id19">
<h2>3.19<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added reset status actions &#8216;reset_status&#8217; to group snapshot.</div></blockquote>
</div>
<div class="section" id="id20">
<h2>3.20<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added reset status actions &#8216;reset_status&#8217; to generic volume group.</div></blockquote>
</div>
<div class="section" id="id21">
<h2>3.21<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Show provider_id in detailed view of a volume for admin.</div></blockquote>
</div>
<div class="section" id="id22">
<h2>3.22<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added support to filter snapshot list based on metadata of snapshot.</div></blockquote>
</div>
<div class="section" id="id23">
<h2>3.23<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Allow passing force parameter to volume delete.</div></blockquote>
</div>
<div class="section" id="id24">
<h2>3.24<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>New API endpoint /workers/cleanup allows triggering cleanup for cinder-volume
services.  Meant for cleaning ongoing operations from failed nodes.</p>
<p>The cleanup will be performed by other services belonging to the same
cluster, so at least one of them must be up to be able to do the cleanup.</p>
<p>Cleanup cannot be triggered during a cloud upgrade.</p>
<p>If no arguments are provided cleanup will try to issue a clean message for
all nodes that are down, but we can restrict which nodes we want to be
cleaned using parameters <code class="docutils literal"><span class="pre">service_id</span></code>, <code class="docutils literal"><span class="pre">cluster_name</span></code>, <code class="docutils literal"><span class="pre">host</span></code>,
<code class="docutils literal"><span class="pre">binary</span></code>, and <code class="docutils literal"><span class="pre">disabled</span></code>.</p>
<p>Cleaning specific resources is also possible using <code class="docutils literal"><span class="pre">resource_type</span></code> and
<code class="docutils literal"><span class="pre">resource_id</span></code> parameters.</p>
<p>We can even force cleanup on nodes that are up with <code class="docutils literal"><span class="pre">is_up</span></code>, but that&#8217;s
not recommended and should only used if you know what you are doing.  For
example if you know a specific cinder-volume is down even though it&#8217;s still
not being reported as down when listing the services and you know the cluster
has at least another service to do the cleanup.</p>
<p>API will return a dictionary with 2 lists, one with services that have been
issued a cleanup request (<code class="docutils literal"><span class="pre">cleaning</span></code> key) and another list with services
that cannot be cleaned right now because there is no alternative service to
do the cleanup in that cluster (<code class="docutils literal"><span class="pre">unavailable</span></code> key).</p>
<p>Data returned for each service element in these two lists consist of the
<code class="docutils literal"><span class="pre">id</span></code>, <code class="docutils literal"><span class="pre">host</span></code>, <code class="docutils literal"><span class="pre">binary</span></code>, and <code class="docutils literal"><span class="pre">cluster_name</span></code>.  These are not the
services that will be performing the cleanup, but the services that will be
cleaned up or couldn&#8217;t be cleaned up.</p>
</div></blockquote>
</div>
<div class="section" id="id25">
<h2>3.25<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Add <code class="docutils literal"><span class="pre">volumes</span></code> field to group list/detail and group show.</div></blockquote>
</div>
<div class="section" id="id26">
<h2>3.26<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>New <code class="docutils literal"><span class="pre">failover</span></code> action equivalent to <code class="docutils literal"><span class="pre">failover_host</span></code>, but accepting
<code class="docutils literal"><span class="pre">cluster</span></code> parameter as well as the <code class="docutils literal"><span class="pre">host</span></code> cluster that
<code class="docutils literal"><span class="pre">failover_host</span></code> accepts.</li>
<li><code class="docutils literal"><span class="pre">freeze</span></code> and <code class="docutils literal"><span class="pre">thaw</span></code> actions accept <code class="docutils literal"><span class="pre">cluster</span></code> parameter.</li>
<li>Cluster listing accepts <code class="docutils literal"><span class="pre">replication_status</span></code>, <code class="docutils literal"><span class="pre">frozen</span></code> and
<code class="docutils literal"><span class="pre">active_backend_id</span></code> as filters, and returns additional fields for each
cluster: <code class="docutils literal"><span class="pre">replication_status</span></code>, <code class="docutils literal"><span class="pre">frozen</span></code>, <code class="docutils literal"><span class="pre">active_backend_id</span></code>.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="maximum-in-ocata">
<h2>3.27 (Maximum in Ocata)<a class="headerlink" href="#maximum-in-ocata" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Added new attachment API&#8217;s</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">REST API Version History</a><ul>
<li><a class="reference internal" href="#id1">3.0</a></li>
<li><a class="reference internal" href="#id2">3.1</a></li>
<li><a class="reference internal" href="#id3">3.2</a></li>
<li><a class="reference internal" href="#id4">3.3</a></li>
<li><a class="reference internal" href="#id5">3.4</a></li>
<li><a class="reference internal" href="#id6">3.5</a></li>
<li><a class="reference internal" href="#id7">3.6</a></li>
<li><a class="reference internal" href="#id8">3.7</a></li>
<li><a class="reference internal" href="#id9">3.8</a></li>
<li><a class="reference internal" href="#id10">3.9</a></li>
<li><a class="reference internal" href="#id11">3.10</a></li>
<li><a class="reference internal" href="#id12">3.11</a></li>
<li><a class="reference internal" href="#id13">3.12</a></li>
<li><a class="reference internal" href="#id14">3.13</a></li>
<li><a class="reference internal" href="#id15">3.14</a></li>
<li><a class="reference internal" href="#maximum-in-newton">3.15 (Maximum in Newton)</a></li>
<li><a class="reference internal" href="#id16">3.16</a></li>
<li><a class="reference internal" href="#id17">3.17</a></li>
<li><a class="reference internal" href="#id18">3.18</a></li>
<li><a class="reference internal" href="#id19">3.19</a></li>
<li><a class="reference internal" href="#id20">3.20</a></li>
<li><a class="reference internal" href="#id21">3.21</a></li>
<li><a class="reference internal" href="#id22">3.22</a></li>
<li><a class="reference internal" href="#id23">3.23</a></li>
<li><a class="reference internal" href="#id24">3.24</a></li>
<li><a class="reference internal" href="#id25">3.25</a></li>
<li><a class="reference internal" href="#id26">3.26</a></li>
<li><a class="reference internal" href="#maximum-in-ocata">3.27 (Maximum in Ocata)</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="api_conditional_updates.html"
                                  title="previous chapter">API Races - Conditional Updates</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="testing.html"
                                  title="next chapter">Testing</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/cinder
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/devref/api_microversion_history.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="testing.html" title="Testing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api_conditional_updates.html" title="API Races - Conditional Updates"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">cinder 10.0.0.0rc2.dev76 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Developer Guide</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2010-present, OpenStack Foundation.
      Last updated on Tue Feb 14 19:30:39 2017, commit 3c2819f.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/cinder");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>