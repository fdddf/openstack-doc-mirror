<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The ceilometer.event.trait_plugins Module &mdash; Ceilometer 8.0.1.dev12 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/toggle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '8.0.1.dev12',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/toggle.js"></script>
    <link rel="top" title="Ceilometer 8.0.1.dev12 documentation" href="../index.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-ceilometer.event.trait_plugins">
<span id="the-ceilometer-event-trait-plugins-module"></span><h1>The <a class="reference internal" href="#module-ceilometer.event.trait_plugins" title="ceilometer.event.trait_plugins"><tt class="xref py py-mod docutils literal"><span class="pre">ceilometer.event.trait_plugins</span></tt></a> Module<a class="headerlink" href="#module-ceilometer.event.trait_plugins" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ceilometer.event.trait_plugins.BitfieldTraitPlugin">
<em class="property">class </em><tt class="descclassname">ceilometer.event.trait_plugins.</tt><tt class="descname">BitfieldTraitPlugin</tt><big>(</big><em>initial_bitfield=0</em>, <em>flags=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#BitfieldTraitPlugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.BitfieldTraitPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ceilometer.event.trait_plugins.TraitPluginBase" title="ceilometer.event.trait_plugins.TraitPluginBase"><tt class="xref py py-class docutils literal"><span class="pre">ceilometer.event.trait_plugins.TraitPluginBase</span></tt></a></p>
<p>Plugin to set flags on a bitfield.</p>
<dl class="method">
<dt id="ceilometer.event.trait_plugins.BitfieldTraitPlugin.trait_values">
<tt class="descname">trait_values</tt><big>(</big><em>match_list</em><big>)</big><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#BitfieldTraitPlugin.trait_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.BitfieldTraitPlugin.trait_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ceilometer.event.trait_plugins.SplitterTraitPlugin">
<em class="property">class </em><tt class="descclassname">ceilometer.event.trait_plugins.</tt><tt class="descname">SplitterTraitPlugin</tt><big>(</big><em>separator='.'</em>, <em>segment=0</em>, <em>max_split=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#SplitterTraitPlugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.SplitterTraitPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ceilometer.event.trait_plugins.TraitPluginBase" title="ceilometer.event.trait_plugins.TraitPluginBase"><tt class="xref py py-class docutils literal"><span class="pre">ceilometer.event.trait_plugins.TraitPluginBase</span></tt></a></p>
<p>Plugin that splits a piece off of a string value.</p>
<dl class="method">
<dt id="ceilometer.event.trait_plugins.SplitterTraitPlugin.trait_values">
<tt class="descname">trait_values</tt><big>(</big><em>match_list</em><big>)</big><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#SplitterTraitPlugin.trait_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.SplitterTraitPlugin.trait_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ceilometer.event.trait_plugins.TimedeltaPlugin">
<em class="property">class </em><tt class="descclassname">ceilometer.event.trait_plugins.</tt><tt class="descname">TimedeltaPlugin</tt><big>(</big><em>**kw</em><big>)</big><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#TimedeltaPlugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.TimedeltaPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ceilometer.event.trait_plugins.TraitPluginBase" title="ceilometer.event.trait_plugins.TraitPluginBase"><tt class="xref py py-class docutils literal"><span class="pre">ceilometer.event.trait_plugins.TraitPluginBase</span></tt></a></p>
<p>Setup timedelta meter volume of two timestamps fields.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>trait&#39;s fields definition: [&#39;payload.created_at&#39;,
                            &#39;payload.launched_at&#39;]
value is been created as total seconds between &#39;launched_at&#39; and
&#39;created_at&#39; timestamps.
</pre></div>
</div>
<dl class="method">
<dt id="ceilometer.event.trait_plugins.TimedeltaPlugin.trait_value">
<tt class="descname">trait_value</tt><big>(</big><em>match_list</em><big>)</big><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#TimedeltaPlugin.trait_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.TimedeltaPlugin.trait_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="ceilometer.event.trait_plugins.TimedeltaPluginMissedFields">
<em class="property">exception </em><tt class="descclassname">ceilometer.event.trait_plugins.</tt><tt class="descname">TimedeltaPluginMissedFields</tt><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#TimedeltaPluginMissedFields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.TimedeltaPluginMissedFields" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="ceilometer.event.trait_plugins.TraitPluginBase">
<em class="property">class </em><tt class="descclassname">ceilometer.event.trait_plugins.</tt><tt class="descname">TraitPluginBase</tt><big>(</big><em>**kw</em><big>)</big><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#TraitPluginBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.TraitPluginBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for plugins.</p>
<p>It converts notification fields to Trait values.</p>
<dl class="method">
<dt id="ceilometer.event.trait_plugins.TraitPluginBase.trait_value">
<tt class="descname">trait_value</tt><big>(</big><em>match_list</em><big>)</big><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#TraitPluginBase.trait_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.TraitPluginBase.trait_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceilometer.event.trait_plugins.TraitPluginBase.trait_values">
<tt class="descname">trait_values</tt><big>(</big><em>match_list</em><big>)</big><a class="reference internal" href="../_modules/ceilometer/event/trait_plugins.html#TraitPluginBase.trait_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceilometer.event.trait_plugins.TraitPluginBase.trait_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a set of fields to one or multiple Trait values.</p>
<p>This method is called each time a trait is attempted to be extracted
from a notification. It will be called <em>even if</em> no matching fields
are found in the notification (in that case, the match_list will be
empty). If this method returns None, the trait <em>will not</em> be added to
the event. Any other value returned by this method will be used as
the value for the trait. Values returned will be coerced to the
appropriate type for the trait.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>match_list</strong> &#8211; A list (may be empty if no matches) of <em>tuples</em>.
Each tuple is (field_path, value) where field_path is the jsonpath
for that specific field.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>trait&#39;s fields definition: [&#39;payload.foobar&#39;,
                            &#39;payload.baz&#39;,
                            &#39;payload.thing.*&#39;]
notification body:
            {
             &#39;message_id&#39;: &#39;12345&#39;,
             &#39;publisher&#39;: &#39;someservice.host&#39;,
             &#39;payload&#39;: {
                         &#39;foobar&#39;: &#39;test&#39;,
                         &#39;thing&#39;: {
                                   &#39;bar&#39;: 12,
                                   &#39;boing&#39;: 13,
                                  }
                        }
            }
match_list will be: [(&#39;payload.foobar&#39;,&#39;test&#39;),
                     (&#39;payload.thing.bar&#39;,12),
                     (&#39;payload.thing.boing&#39;,13)]
</pre></div>
</div>
<p>Here is a plugin that emulates the default (no plugin) behavior:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DefaultPlugin</span><span class="p">(</span><span class="n">TraitPluginBase</span><span class="p">):</span>
    <span class="s2">&quot;Plugin that returns the first field value.&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DefaultPlugin</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">trait_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">match_list</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">match_list</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">return</span> <span class="p">[</span> <span class="n">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">match_list</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/ceilometer
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/ceilometer.event.trait_plugins.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">Ceilometer 8.0.1.dev12 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2015, OpenStack Foundation.
      Last updated on &#39;Tue Feb 14 03:00:33 2017, commit f13660f&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Ceilometer");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>