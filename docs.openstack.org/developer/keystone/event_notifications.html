<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Keystone Event Notifications &mdash; keystone 11.0.0.0rc2.dev29 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '11.0.0.0rc2.dev29',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="keystone 11.0.0.0rc2.dev29 documentation" href="index.html" />
    <link rel="next" title="Using external authentication with Keystone" href="external-auth.html" />
    <link rel="prev" title="Time-based One-time Password (TOTP)" href="auth-totp.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="keystone-event-notifications">
<h1>Keystone Event Notifications<a class="headerlink" href="#keystone-event-notifications" title="Permalink to this headline">¶</a></h1>
<p>Keystone provides notifications about usage data so that 3rd party applications
can use the data for billing, monitoring, or quota purposes. This document
describes the current inclusions and exclusions for Keystone notifications.</p>
<p>Keystone currently supports two notification formats: a Basic Notification,
and a Cloud Auditing Data Federation (<a class="reference external" href="http://www.dmtf.org/standards/cadf">CADF</a>) Notification.
The supported operations between the two types of notification formats are
documented below.</p>
<div class="section" id="common-notification-structure">
<h2>Common Notification Structure<a class="headerlink" href="#common-notification-structure" title="Permalink to this headline">¶</a></h2>
<p>Notifications generated by Keystone are generated in JSON format. An external
application can format them into ATOM format and publish them as a feed.
Currently, all notifications are immediate, meaning they are generated when a
specific event happens. Notifications all adhere to a specific top level
format:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;event_type&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.&lt;resource_type&gt;.&lt;operation&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message_id&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;message_id&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;payload&quot;</span><span class="o">:</span> <span class="p">{},</span>
    <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publisher_id&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.&lt;hostname&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;timestamp&gt;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">&lt;resource_type&gt;</span></code> is a Keystone resource, such as user or project, and
<code class="docutils literal"><span class="pre">&lt;operation&gt;</span></code> is a Keystone operation, such as created, deleted.</p>
<p>The key differences between the two notification formats (Basic and CADF), lie
within the <code class="docutils literal"><span class="pre">payload</span></code> portion of the notification.</p>
<p>The <code class="docutils literal"><span class="pre">priority</span></code> of the notification being sent is not configurable through
the Keystone configuration file. This value is defaulted to INFO for all
notifications sent in Keystone&#8217;s case.</p>
</div>
<div class="section" id="auditing-with-cadf">
<h2>Auditing with CADF<a class="headerlink" href="#auditing-with-cadf" title="Permalink to this headline">¶</a></h2>
<p>Keystone uses the <a class="reference external" href="https://docs.openstack.org/developer/pycadf">PyCADF</a> library to emit CADF notifications, these events
adhere to the DMTF <a class="reference external" href="http://www.dmtf.org/standards/cadf">CADF</a> specification. This standard provides auditing
capabilities for compliance with security, operational, and business processes
and supports normalized and categorized event data for federation and
aggregation.</p>
<p>CADF notifications include additional context data around the <code class="docutils literal"><span class="pre">resource</span></code>,
the <code class="docutils literal"><span class="pre">action</span></code> and the <code class="docutils literal"><span class="pre">initiator</span></code>.</p>
<p>CADF notifications may be emitted by changing the <code class="docutils literal"><span class="pre">notification_format</span></code> to
<code class="docutils literal"><span class="pre">cadf</span></code> in the configuration file.</p>
<p>The <code class="docutils literal"><span class="pre">payload</span></code> portion of a CADF Notification is a CADF <code class="docutils literal"><span class="pre">event</span></code>, which
is represented as a JSON dictionary. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;http://schemas.dmtf.org/cloud/audit/1.0/event&quot;</span><span class="p">,</span>
    <span class="s2">&quot;initiator&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
        <span class="s2">&quot;host&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;agent&quot;</span><span class="o">:</span> <span class="s2">&quot;curl/7.22.0(x86_64-pc-linux-gnu)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;initiator_id&gt;&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;target_uri&gt;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:1c2fc591-facb-4479-a327-520dade1ea15&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;observer&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:3d4a50a9-2b59-438b-bf19-c231f9c7625a&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;eventType&quot;</span><span class="o">:</span> <span class="s2">&quot;activity&quot;</span><span class="p">,</span>
    <span class="s2">&quot;eventTime&quot;</span><span class="o">:</span> <span class="s2">&quot;2014-02-14T01:20:47.932842+00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;action&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;action&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;outcome&quot;</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:f5352d7b-bee6-4c22-8213-450e7b646e9f&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where the following are defined:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">&lt;initiator_id&gt;</span></code>: ID of the user that performed the operation</li>
<li><code class="docutils literal"><span class="pre">&lt;target_uri&gt;</span></code>: CADF specific target URI, (i.e.:  data/security/project)</li>
<li><code class="docutils literal"><span class="pre">&lt;action&gt;</span></code>: The action being performed, typically:
<code class="docutils literal"><span class="pre">&lt;operation&gt;</span></code>. <code class="docutils literal"><span class="pre">&lt;resource_type&gt;</span></code></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">eventType</span></code> property of the CADF payload is different from the
<code class="docutils literal"><span class="pre">event_type</span></code> property of a notifications. The former (<code class="docutils literal"><span class="pre">eventType</span></code>) is a
CADF keyword which designates the type of event that is being measured, this
can be: <cite>activity</cite>, <cite>monitor</cite> or <cite>control</cite>. Whereas the latter
(<code class="docutils literal"><span class="pre">event_type</span></code>) is described in previous sections as:
<cite>identity.&lt;resource_type&gt;.&lt;operation&gt;</cite></p>
</div>
<p>Additionally there may be extra keys present depending on the operation being
performed, these will be discussed below.</p>
<div class="section" id="reason">
<h3>Reason<a class="headerlink" href="#reason" title="Permalink to this headline">¶</a></h3>
<p>There is a specific <code class="docutils literal"><span class="pre">reason</span></code> object that will be present for the following
PCI-DSS related events:</p>
<table border="1" class="docutils">
<colgroup>
<col width="45%" />
<col width="10%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">PCI-DSS Section</th>
<th class="head">reasonCode</th>
<th class="head">reasonType</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>8.1.6 Limit repeated access attempts by locking out the user after more than X failed attempts.</td>
<td>401</td>
<td>Maximum number of &lt;number&gt; login attempts exceeded.</td>
</tr>
<tr class="row-odd"><td>8.2.3 Passwords must meet the established criteria.</td>
<td>400</td>
<td>Password does not meet expected requirements: &lt;regex_description&gt;</td>
</tr>
<tr class="row-even"><td>8.2.4 Password must be changed every X days.</td>
<td>401</td>
<td>Password for &lt;user&gt; expired and must be changed</td>
</tr>
<tr class="row-odd"><td>8.2.5 Do not let users reuse the last X passwords.</td>
<td>400</td>
<td>Changed password cannot be identical to the last &lt;number&gt; passwords.</td>
</tr>
<tr class="row-even"><td>Other - Prevent passwords from being changed for a minimum of X days.</td>
<td>401</td>
<td>Cannot change password before minimum age &lt;number&gt; days is met</td>
</tr>
</tbody>
</table>
<p>The reason object will contain the following keys:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">reasonType</span></code>: Description of the PCI-DSS event</li>
<li><code class="docutils literal"><span class="pre">reasonCode</span></code>: HTTP response code for the event</li>
</ul>
<p>For more information, see <a class="reference internal" href="security_compliance.html"><em>Security Compliance &amp; PCI-DSS</em></a> for configuring PCI-DSS in keystone.</p>
</div>
<div class="section" id="supported-events">
<h3>Supported Events<a class="headerlink" href="#supported-events" title="Permalink to this headline">¶</a></h3>
<p>The following table displays the compatibility between resource types and
operations.</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="36%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource Type</th>
<th class="head">Supported Operations</th>
<th class="head">typeURI</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>group</td>
<td>create,update,delete</td>
<td>data/security/group</td>
</tr>
<tr class="row-odd"><td>project</td>
<td>create,update,delete</td>
<td>data/security/project</td>
</tr>
<tr class="row-even"><td>role</td>
<td>create,update,delete</td>
<td>data/security/role</td>
</tr>
<tr class="row-odd"><td>domain</td>
<td>create,update,delete</td>
<td>data/security/domain</td>
</tr>
<tr class="row-even"><td>user</td>
<td>create,update,delete</td>
<td>data/security/account/user</td>
</tr>
<tr class="row-odd"><td>trust</td>
<td>create,delete</td>
<td>data/security/trust</td>
</tr>
<tr class="row-even"><td>region</td>
<td>create,update,delete</td>
<td>data/security/region</td>
</tr>
<tr class="row-odd"><td>endpoint</td>
<td>create,update,delete</td>
<td>data/security/endpoint</td>
</tr>
<tr class="row-even"><td>service</td>
<td>create,update,delete</td>
<td>data/security/service</td>
</tr>
<tr class="row-odd"><td>policy</td>
<td>create,update,delete</td>
<td>data/security/policy</td>
</tr>
<tr class="row-even"><td>role assignment</td>
<td>add,remove</td>
<td>data/security/account/user</td>
</tr>
<tr class="row-odd"><td>None</td>
<td>authenticate</td>
<td>data/security/account/user</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example-notification-project-create">
<h3>Example Notification - Project Create<a class="headerlink" href="#example-notification-project-create" title="Permalink to this headline">¶</a></h3>
<p>The following is an example of a notification that is sent when a project is
created. This example can be applied for any <code class="docutils literal"><span class="pre">create</span></code>, <code class="docutils literal"><span class="pre">update</span></code> or
<code class="docutils literal"><span class="pre">delete</span></code> event that is seen in the table above. The <code class="docutils literal"><span class="pre">&lt;action&gt;</span></code> and
<code class="docutils literal"><span class="pre">typeURI</span></code> fields will be change.</p>
<p>The difference to note is the inclusion of the <code class="docutils literal"><span class="pre">resource_info</span></code> field which
contains the <code class="docutils literal"><span class="pre">&lt;resource_id&gt;</span></code> that is undergoing the operation. Thus creating
a common element between the CADF and Basic notification formats.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;event_type&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.project.created&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message_id&quot;</span><span class="o">:</span> <span class="s2">&quot;0156ee79-b35f-4cef-ac37-d4a85f231c69&quot;</span><span class="p">,</span>
    <span class="s2">&quot;payload&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;http://schemas.dmtf.org/cloud/audit/1.0/event&quot;</span><span class="p">,</span>
        <span class="s2">&quot;initiator&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;agent&quot;</span><span class="o">:</span> <span class="s2">&quot;curl/7.22.0(x86_64-pc-linux-gnu)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;c9f76d3c31e142af9291de2935bde98a&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;data/security/project&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:1c2fc591-facb-4479-a327-520dade1ea15&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;observer&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:3d4a50a9-2b59-438b-bf19-c231f9c7625a&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;eventType&quot;</span><span class="o">:</span> <span class="s2">&quot;activity&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eventTime&quot;</span><span class="o">:</span> <span class="s2">&quot;2014-02-14T01:20:47.932842+00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;action&quot;</span><span class="o">:</span> <span class="s2">&quot;created.project&quot;</span><span class="p">,</span>
        <span class="s2">&quot;outcome&quot;</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:f5352d7b-bee6-4c22-8213-450e7b646e9f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;resource_info&quot;</span><span class="o">:</span> <span class="s2">&quot;671da331c47d4e29bb6ea1d270154ec3&quot;</span>
    <span class="p">}</span>
    <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publisher_id&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.host1234&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2013-08-29 19:03:45.960280&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="example-notification-authentication">
<h3>Example Notification - Authentication<a class="headerlink" href="#example-notification-authentication" title="Permalink to this headline">¶</a></h3>
<p>The following is an example of a notification that is sent when a user
authenticates with Keystone.</p>
<p>Note that this notification will be emitted if a user successfully
authenticates, and when a user fails to authenticate.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;event_type&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.authenticate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message_id&quot;</span><span class="o">:</span> <span class="s2">&quot;1371a590-d5fd-448f-b3bb-a14dead6f4cb&quot;</span><span class="p">,</span>
    <span class="s2">&quot;payload&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;http://schemas.dmtf.org/cloud/audit/1.0/event&quot;</span><span class="p">,</span>
        <span class="s2">&quot;initiator&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;agent&quot;</span><span class="o">:</span> <span class="s2">&quot;curl/7.22.0(x86_64-pc-linux-gnu)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;c9f76d3c31e142af9291de2935bde98a&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:1c2fc591-facb-4479-a327-520dade1ea15&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;observer&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:3d4a50a9-2b59-438b-bf19-c231f9c7625a&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;eventType&quot;</span><span class="o">:</span> <span class="s2">&quot;activity&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eventTime&quot;</span><span class="o">:</span> <span class="s2">&quot;2014-02-14T01:20:47.932842+00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;action&quot;</span><span class="o">:</span> <span class="s2">&quot;authenticate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;outcome&quot;</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:f5352d7b-bee6-4c22-8213-450e7b646e9f&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publisher_id&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.host1234&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2014-02-14T01:20:47.932842&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="example-notification-federated-authentication">
<h3>Example Notification - Federated Authentication<a class="headerlink" href="#example-notification-federated-authentication" title="Permalink to this headline">¶</a></h3>
<p>The following is an example of a notification that is sent when a user
authenticates with Keystone via Federation.</p>
<p>This example is similar to the one seen above, however the <code class="docutils literal"><span class="pre">initiator</span></code>
portion of the <code class="docutils literal"><span class="pre">payload</span></code> contains a new <code class="docutils literal"><span class="pre">credential</span></code> section.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;event_type&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.authenticate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message_id&quot;</span><span class="o">:</span> <span class="s2">&quot;1371a590-d5fd-448f-b3bb-a14dead6f4cb&quot;</span><span class="p">,</span>
    <span class="s2">&quot;payload&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;http://schemas.dmtf.org/cloud/audit/1.0/event&quot;</span><span class="p">,</span>
        <span class="s2">&quot;initiator&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;credential&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;http://docs.oasis-open.org/security/saml/v2.0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;token&quot;</span><span class="o">:</span> <span class="s2">&quot;671da331c47d4e29bb6ea1d270154ec3&quot;</span><span class="p">,</span>
                <span class="s2">&quot;identity_provider&quot;</span><span class="o">:</span> <span class="s2">&quot;ACME&quot;</span><span class="p">,</span>
                <span class="s2">&quot;user&quot;</span><span class="o">:</span> <span class="s2">&quot;c9f76d3c31e142af9291de2935bde98a&quot;</span><span class="p">,</span>
                <span class="s2">&quot;groups&quot;</span><span class="o">:</span> <span class="p">[</span>
                    <span class="s2">&quot;developers&quot;</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;agent&quot;</span><span class="o">:</span> <span class="s2">&quot;curl/7.22.0(x86_64-pc-linux-gnu)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;c9f76d3c31e142af9291de2935bde98a&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:1c2fc591-facb-4479-a327-520dade1ea15&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;observer&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:3d4a50a9-2b59-438b-bf19-c231f9c7625a&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;eventType&quot;</span><span class="o">:</span> <span class="s2">&quot;activity&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eventTime&quot;</span><span class="o">:</span> <span class="s2">&quot;2014-02-14T01:20:47.932842+00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;action&quot;</span><span class="o">:</span> <span class="s2">&quot;authenticate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;outcome&quot;</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:f5352d7b-bee6-4c22-8213-450e7b646e9f&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publisher_id&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.host1234&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2014-02-14T01:20:47.932842&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="example-notification-role-assignment">
<h3>Example Notification - Role Assignment<a class="headerlink" href="#example-notification-role-assignment" title="Permalink to this headline">¶</a></h3>
<p>The following is an example of a notification that is sent when a role is
granted or revoked to a project or domain, for a user or group.</p>
<p>It is important to note that this type of notification has many new keys
that convey the necessary information. Expect the following in the <code class="docutils literal"><span class="pre">payload</span></code>:
<code class="docutils literal"><span class="pre">role</span></code>, <code class="docutils literal"><span class="pre">inherited_to_project</span></code>, <code class="docutils literal"><span class="pre">project</span></code> or <code class="docutils literal"><span class="pre">domain</span></code>, <code class="docutils literal"><span class="pre">user</span></code> or
<code class="docutils literal"><span class="pre">group</span></code>. With the exception of <code class="docutils literal"><span class="pre">inherited_to_project</span></code>, each will represent
the unique identifier of the resource type.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;event_type&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.role_assignment.created&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message_id&quot;</span><span class="o">:</span> <span class="s2">&quot;a5901371-d5fd-b3bb-448f-a14dead6f4cb&quot;</span><span class="p">,</span>
    <span class="s2">&quot;payload&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;http://schemas.dmtf.org/cloud/audit/1.0/event&quot;</span><span class="p">,</span>
        <span class="s2">&quot;initiator&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;agent&quot;</span><span class="o">:</span> <span class="s2">&quot;curl/7.22.0(x86_64-pc-linux-gnu)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;c9f76d3c31e142af9291de2935bde98a&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:1c2fc591-facb-4479-a327-520dade1ea15&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;observer&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:3d4a50a9-2b59-438b-bf19-c231f9c7625a&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;eventType&quot;</span><span class="o">:</span> <span class="s2">&quot;activity&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eventTime&quot;</span><span class="o">:</span> <span class="s2">&quot;2014-08-20T01:20:47.932842+00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;role&quot;</span><span class="o">:</span> <span class="s2">&quot;0e6b990380154a2599ce6b6e91548a68&quot;</span><span class="p">,</span>
        <span class="s2">&quot;project&quot;</span><span class="o">:</span> <span class="s2">&quot;24bdcff1aab8474895dbaac509793de1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inherited_to_projects&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="s2">&quot;group&quot;</span><span class="o">:</span> <span class="s2">&quot;c1e22dc67cbd469ea0e33bf428fe597a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;action&quot;</span><span class="o">:</span> <span class="s2">&quot;created.role_assignment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;outcome&quot;</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;openstack:f5352d7b-bee6-4c22-8213-450e7b646e9f&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publisher_id&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.host1234&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2014-08-20T01:20:47.932842&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="example-notification-expired-password">
<h3>Example Notification - Expired Password<a class="headerlink" href="#example-notification-expired-password" title="Permalink to this headline">¶</a></h3>
<p>The following is an example of a notification that is sent when a user
attempts to authenticate but their password has expired.</p>
<p>In this example, the <code class="docutils literal"><span class="pre">payload</span></code> contains a <code class="docutils literal"><span class="pre">reason</span></code> portion which contains
both a <code class="docutils literal"><span class="pre">reasonCode</span></code> and <code class="docutils literal"><span class="pre">reasonType</span></code>.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;_unique_id&quot;</span><span class="o">:</span> <span class="s2">&quot;222441bdc958423d8af6f28f9c558614&quot;</span><span class="p">,</span>
    <span class="s2">&quot;event_type&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.authenticate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2016-11-11 18:31:11.290821&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publisher_id&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.host1234&quot;</span><span class="p">,</span>
    <span class="s2">&quot;payload&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;http://schemas.dmtf.org/cloud/audit/1.0/event&quot;</span><span class="p">,</span>
        <span class="s2">&quot;initiator&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;73a19db6-e26b-5313-a6df-58d297fa652e&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security/account/user&quot;</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;c23e6cb7-abe0-5e42-b7f7-4c4104ea77b0&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;observer&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;typeURI&quot;</span><span class="o">:</span> <span class="s2">&quot;service/security&quot;</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;9bdddeda6a0b451e9e0439646e532afd&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;eventType&quot;</span><span class="o">:</span> <span class="s2">&quot;activity&quot;</span><span class="p">,</span>
            <span class="s2">&quot;eventTime&quot;</span><span class="o">:</span> <span class="s2">&quot;2016-11-11T18:31:11.156356+0000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;reason&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;reasonCode&quot;</span><span class="o">:</span> <span class="mi">401</span><span class="p">,</span>
                <span class="s2">&quot;reasonType&quot;</span><span class="o">:</span> <span class="s2">&quot;The password is expired and needs to be reset for user: ed1ab0b40f284fb48fea9e25d0d157fc&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;action&quot;</span><span class="o">:</span> <span class="s2">&quot;authenticate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;outcome&quot;</span><span class="o">:</span> <span class="s2">&quot;failure&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;78cd795f-5850-532f-9ab1-5adb04e30c0f&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;message_id&quot;</span><span class="o">:</span> <span class="s2">&quot;9a97e9d0-fef1-4852-8e82-bb693358bc46&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="basic-notifications">
<h2>Basic Notifications<a class="headerlink" href="#basic-notifications" title="Permalink to this headline">¶</a></h2>
<p>All basic notifications contain a limited amount of information, specifically,
just the resource type, operation, and resource id.</p>
<p>The <code class="docutils literal"><span class="pre">payload</span></code> portion of a Basic Notification is a single key-value pair.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;resource_info&quot;</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">resource_id</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">&lt;resource_id&gt;</span></code> is the unique identifier assigned to the
<code class="docutils literal"><span class="pre">resource_type</span></code> that is undergoing the <code class="docutils literal"><span class="pre">&lt;operation&gt;</span></code>.</p>
<div class="section" id="id1">
<h3>Supported Events<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The following table displays the compatibility between resource types and
operations.</p>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource Type</th>
<th class="head">Supported Operations</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>group</td>
<td>create,update,delete</td>
</tr>
<tr class="row-odd"><td>project</td>
<td>create,update,delete</td>
</tr>
<tr class="row-even"><td>role</td>
<td>create,update,delete</td>
</tr>
<tr class="row-odd"><td>domain</td>
<td>create,update,delete</td>
</tr>
<tr class="row-even"><td>user</td>
<td>create,update,delete</td>
</tr>
<tr class="row-odd"><td>trust</td>
<td>create,delete</td>
</tr>
<tr class="row-even"><td>region</td>
<td>create,update,delete</td>
</tr>
<tr class="row-odd"><td>endpoint</td>
<td>create,update,delete</td>
</tr>
<tr class="row-even"><td>service</td>
<td>create,update,delete</td>
</tr>
<tr class="row-odd"><td>policy</td>
<td>create,update,delete</td>
</tr>
</tbody>
</table>
<p>Note, <code class="docutils literal"><span class="pre">trusts</span></code> are an immutable resource, they do not support <code class="docutils literal"><span class="pre">update</span></code>
operations.</p>
</div>
<div class="section" id="example-notification">
<h3>Example Notification<a class="headerlink" href="#example-notification" title="Permalink to this headline">¶</a></h3>
<p>This is an example of a notification sent for a newly created user:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;event_type&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.user.created&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message_id&quot;</span><span class="o">:</span> <span class="s2">&quot;0156ee79-b35f-4cef-ac37-d4a85f231c69&quot;</span><span class="p">,</span>
    <span class="s2">&quot;payload&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;resource_info&quot;</span><span class="o">:</span> <span class="s2">&quot;671da331c47d4e29bb6ea1d270154ec3&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publisher_id&quot;</span><span class="o">:</span> <span class="s2">&quot;identity.host1234&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2013-08-29 19:03:45.960280&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If the operation fails, the notification won&#8217;t be sent, and no special error
notification will be sent. Information about the error is handled through
normal exception paths.</p>
</div>
</div>
<div class="section" id="recommendations-for-consumers">
<h2>Recommendations for consumers<a class="headerlink" href="#recommendations-for-consumers" title="Permalink to this headline">¶</a></h2>
<p>One of the most important notifications that Keystone emits is for project
deletions (<code class="docutils literal"><span class="pre">event_type</span></code> = <code class="docutils literal"><span class="pre">identity.project.deleted</span></code>). This event should
indicate to the rest of OpenStack that all resources (such as virtual machines)
associated with the project should be deleted.</p>
<p>Projects can also have update events (<code class="docutils literal"><span class="pre">event_type</span></code> =
<code class="docutils literal"><span class="pre">identity.project.updated</span></code>), wherein the project has been disabled. Keystone
ensures this has an immediate impact on the accessibility of the project&#8217;s
resources by revoking tokens with authorization on the project, but should
<strong>not</strong> have a direct impact on the projects resources (in other words, virtual
machines should <strong>not</strong> be deleted).</p>
</div>
<div class="section" id="opting-out-of-certain-notifications">
<h2>Opting out of certain notifications<a class="headerlink" href="#opting-out-of-certain-notifications" title="Permalink to this headline">¶</a></h2>
<p>There are many notifications that Keystone emits and some deployers may only
care about certain events. In Keystone there is a way to opt-out of certain
notifications. In <code class="docutils literal"><span class="pre">/etc/keystone/keystone.conf</span></code> you can set <code class="docutils literal"><span class="pre">opt_out</span></code> to
the event you wish to opt-out of. It is possible to opt-out of multiple events.</p>
<p>Example:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[DEFAULT]</span>
<span class="na">notification_opt_out</span> <span class="o">=</span> <span class="s">identity.user.created</span>
<span class="na">notification_opt_out</span> <span class="o">=</span> <span class="s">identity.role_assignment.created</span>
<span class="na">notification_opt_out</span> <span class="o">=</span> <span class="s">identity.authenticate.pending</span>
</pre></div>
</div>
<p>This will opt-out notifications for user creation, role assignment creation and
successful authentications. For a list of event types that can be used, refer
to: <a class="reference external" href="https://docs.openstack.org/admin-guide/telemetry-measurements.html#openstack-identity">Telemetry Measurements</a>.</p>
<p>By default, messages for the following authentication events are suppressed
since they are too noisy: <code class="docutils literal"><span class="pre">identity.authenticate.success</span></code>,
<code class="docutils literal"><span class="pre">identity.authenticate.pending</span></code> and <code class="docutils literal"><span class="pre">identity.authenticate.failed</span></code>.</p>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Keystone Event Notifications</a><ul>
<li><a class="reference internal" href="#common-notification-structure">Common Notification Structure</a></li>
<li><a class="reference internal" href="#auditing-with-cadf">Auditing with CADF</a><ul>
<li><a class="reference internal" href="#reason">Reason</a></li>
<li><a class="reference internal" href="#supported-events">Supported Events</a></li>
<li><a class="reference internal" href="#example-notification-project-create">Example Notification - Project Create</a></li>
<li><a class="reference internal" href="#example-notification-authentication">Example Notification - Authentication</a></li>
<li><a class="reference internal" href="#example-notification-federated-authentication">Example Notification - Federated Authentication</a></li>
<li><a class="reference internal" href="#example-notification-role-assignment">Example Notification - Role Assignment</a></li>
<li><a class="reference internal" href="#example-notification-expired-password">Example Notification - Expired Password</a></li>
</ul>
</li>
<li><a class="reference internal" href="#basic-notifications">Basic Notifications</a><ul>
<li><a class="reference internal" href="#id1">Supported Events</a></li>
<li><a class="reference internal" href="#example-notification">Example Notification</a></li>
</ul>
</li>
<li><a class="reference internal" href="#recommendations-for-consumers">Recommendations for consumers</a></li>
<li><a class="reference internal" href="#opting-out-of-certain-notifications">Opting out of certain notifications</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="auth-totp.html"
                                  title="previous chapter">Time-based One-time Password (TOTP)</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="external-auth.html"
                                  title="next chapter">Using external authentication with Keystone</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/keystone
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/event_notifications.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="external-auth.html" title="Using external authentication with Keystone"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="auth-totp.html" title="Time-based One-time Password (TOTP)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">keystone 11.0.0.0rc2.dev29 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, OpenStack Foundation.
      Last updated on &#39;Fri Feb 10 22:47:54 2017, commit 9c47495&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/keystone");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>