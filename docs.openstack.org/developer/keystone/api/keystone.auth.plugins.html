<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>keystone.auth.plugins package &mdash; keystone 11.0.0.0rc2.dev29 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '11.0.0.0rc2.dev29',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="keystone 11.0.0.0rc2.dev29 documentation" href="../index.html" />
    <link rel="up" title="keystone.auth package" href="keystone.auth.html" />
    <link rel="next" title="keystone.catalog package" href="keystone.catalog.html" />
    <link rel="prev" title="keystone.auth package" href="keystone.auth.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="keystone-auth-plugins-package">
<h1>keystone.auth.plugins package<a class="headerlink" href="#keystone-auth-plugins-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-keystone.auth.plugins.base">
<span id="keystone-auth-plugins-base-module"></span><h2>keystone.auth.plugins.base module<a class="headerlink" href="#module-keystone.auth.plugins.base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.auth.plugins.base.AuthHandlerResponse">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.base.</code><code class="descname">AuthHandlerResponse</code><span class="sig-paren">(</span><em>status</em>, <em>response_body</em>, <em>response_data</em><span class="sig-paren">)</span><a class="headerlink" href="#keystone.auth.plugins.base.AuthHandlerResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tuple</span></code></p>
<dl class="attribute">
<dt id="keystone.auth.plugins.base.AuthHandlerResponse.response_body">
<code class="descname">response_body</code><a class="headerlink" href="#keystone.auth.plugins.base.AuthHandlerResponse.response_body" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.auth.plugins.base.AuthHandlerResponse.response_data">
<code class="descname">response_data</code><a class="headerlink" href="#keystone.auth.plugins.base.AuthHandlerResponse.response_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.auth.plugins.base.AuthHandlerResponse.status">
<code class="descname">status</code><a class="headerlink" href="#keystone.auth.plugins.base.AuthHandlerResponse.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.auth.plugins.base.AuthMethodHandler">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.base.</code><code class="descname">AuthMethodHandler</code><a class="reference internal" href="../_modules/keystone/auth/plugins/base.html#AuthMethodHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.base.AuthMethodHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract base class for an authentication plugin.</p>
<dl class="method">
<dt id="keystone.auth.plugins.base.AuthMethodHandler.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><em>request</em>, <em>auth_payload</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/base.html#AuthMethodHandler.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.base.AuthMethodHandler.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticate user and return an authentication context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>request</strong> (<a class="reference internal" href="keystone.common.html#keystone.common.request.Request" title="keystone.common.request.Request"><em>common.request.Request</em></a>) &#8211; context of an authentication request</li>
<li><strong>auth_payload</strong> (<em>dict</em>) &#8211; the payload content of the authentication request
for a given method</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>If successful, plugin must set <code class="docutils literal"><span class="pre">user_id</span></code> in <code class="docutils literal"><span class="pre">response_data</span></code>.
<code class="docutils literal"><span class="pre">method_name</span></code> is used to convey any additional authentication methods
in case authentication is for re-scoping. For example, if the
authentication is for re-scoping, plugin must append the previous
method names into <code class="docutils literal"><span class="pre">method_names</span></code>; NOTE: This behavior is exclusive
to the re-scope type action. Also, plugin may add any additional
information into <code class="docutils literal"><span class="pre">extras</span></code>. Anything in <code class="docutils literal"><span class="pre">extras</span></code> will be conveyed in
the token&#8217;s <code class="docutils literal"><span class="pre">extras</span></code> attribute. Here&#8217;s an example of
<code class="docutils literal"><span class="pre">response_data</span></code> on successful authentication:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;extras&quot;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s2">&quot;methods&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;password&quot;</span><span class="p">,</span>
        <span class="s2">&quot;token&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;abc123&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Plugins are invoked in the order in which they are specified in the
<code class="docutils literal"><span class="pre">methods</span></code> attribute of the <code class="docutils literal"><span class="pre">identity</span></code> object. For example,
<code class="docutils literal"><span class="pre">custom-plugin</span></code> is invoked before <code class="docutils literal"><span class="pre">password</span></code>, which is invoked
before <code class="docutils literal"><span class="pre">token</span></code> in the following authentication request:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;auth&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;identity&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;custom-plugin&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;custom-data&quot;</span><span class="p">:</span> <span class="s2">&quot;sdfdfsfsfsdfsf&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;methods&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;custom-plugin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;password&quot;</span><span class="p">,</span>
                <span class="s2">&quot;token&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;s23sfad1&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;token&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;sdfafasdfsfasfasdfds&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">AuthHandlerResponse with status set to <code class="docutils literal"><span class="pre">True</span></code> if auth was
successful. If <cite>status</cite> is <code class="docutils literal"><span class="pre">False</span></code> and this is a multi-step
auth, the <code class="docutils literal"><span class="pre">response_body</span></code> can be in a form of a dict for
the next step in authentication.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="keystone.html#keystone.exception.Unauthorized" title="keystone.exception.Unauthorized"><strong>keystone.exception.Unauthorized</strong></a> &#8211; for authentication failure</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.auth.plugins.core">
<span id="keystone-auth-plugins-core-module"></span><h2>keystone.auth.plugins.core module<a class="headerlink" href="#module-keystone.auth.plugins.core" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.auth.plugins.core.BaseUserInfo">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.core.</code><code class="descname">BaseUserInfo</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/core.html#BaseUserInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.core.BaseUserInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="keystone.auth.plugins.core.BaseUserInfo.create">
<em class="property">classmethod </em><code class="descname">create</code><span class="sig-paren">(</span><em>auth_payload</em>, <em>method_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/core.html#BaseUserInfo.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.core.BaseUserInfo.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.auth.plugins.core.TOTPUserInfo">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.core.</code><code class="descname">TOTPUserInfo</code><a class="reference internal" href="../_modules/keystone/auth/plugins/core.html#TOTPUserInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.core.TOTPUserInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.core.BaseUserInfo" title="keystone.auth.plugins.core.BaseUserInfo"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.core.BaseUserInfo</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="keystone.auth.plugins.core.UserAuthInfo">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.core.</code><code class="descname">UserAuthInfo</code><a class="reference internal" href="../_modules/keystone/auth/plugins/core.html#UserAuthInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.core.UserAuthInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.core.BaseUserInfo" title="keystone.auth.plugins.core.BaseUserInfo"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.core.BaseUserInfo</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="keystone.auth.plugins.core.construct_method_map_from_config">
<code class="descclassname">keystone.auth.plugins.core.</code><code class="descname">construct_method_map_from_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/core.html#construct_method_map_from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.core.construct_method_map_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine authentication method types for deployment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary containing the methods and their indexes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.auth.plugins.core.convert_integer_to_method_list">
<code class="descclassname">keystone.auth.plugins.core.</code><code class="descname">convert_integer_to_method_list</code><span class="sig-paren">(</span><em>method_int</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/core.html#convert_integer_to_method_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.core.convert_integer_to_method_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an integer to a list of methods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>method_int</strong> &#8211; an integer representing methods</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a corresponding list of methods</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.auth.plugins.core.convert_method_list_to_integer">
<code class="descclassname">keystone.auth.plugins.core.</code><code class="descname">convert_method_list_to_integer</code><span class="sig-paren">(</span><em>methods</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/core.html#convert_method_list_to_integer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.core.convert_method_list_to_integer" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the method type(s) to an integer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>methods</strong> &#8211; a list of method names</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an integer representing the methods</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-keystone.auth.plugins.external">
<span id="keystone-auth-plugins-external-module"></span><h2>keystone.auth.plugins.external module<a class="headerlink" href="#module-keystone.auth.plugins.external" title="Permalink to this headline">¶</a></h2>
<p>Keystone External Authentication Plugins.</p>
<dl class="class">
<dt id="keystone.auth.plugins.external.Base">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.external.</code><code class="descname">Base</code><a class="reference internal" href="../_modules/keystone/auth/plugins/external.html#Base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.external.Base" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.base.AuthMethodHandler" title="keystone.auth.plugins.base.AuthMethodHandler"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.base.AuthMethodHandler</span></code></a></p>
<dl class="method">
<dt id="keystone.auth.plugins.external.Base.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><em>request</em>, <em>auth_payload</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/external.html#Base.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.external.Base.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Use REMOTE_USER to look up the user in the identity backend.</p>
<p>The user_id from the actual user from the REMOTE_USER env variable is
placed in the response_data.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.auth.plugins.external.DefaultDomain">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.external.</code><code class="descname">DefaultDomain</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/external.html#DefaultDomain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.external.DefaultDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.external.Base" title="keystone.auth.plugins.external.Base"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.external.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="keystone.auth.plugins.external.Domain">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.external.</code><code class="descname">Domain</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/external.html#Domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.external.Domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.external.Base" title="keystone.auth.plugins.external.Base"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.external.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="keystone.auth.plugins.external.KerberosDomain">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.external.</code><code class="descname">KerberosDomain</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/external.html#KerberosDomain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.external.KerberosDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.external.Domain" title="keystone.auth.plugins.external.Domain"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.external.Domain</span></code></a></p>
<p>Allows <cite>kerberos</cite> as a method.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.auth.plugins.mapped">
<span id="keystone-auth-plugins-mapped-module"></span><h2>keystone.auth.plugins.mapped module<a class="headerlink" href="#module-keystone.auth.plugins.mapped" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.auth.plugins.mapped.Mapped">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.mapped.</code><code class="descname">Mapped</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/mapped.html#Mapped"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.mapped.Mapped" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.base.AuthMethodHandler" title="keystone.auth.plugins.base.AuthMethodHandler"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.base.AuthMethodHandler</span></code></a></p>
<dl class="method">
<dt id="keystone.auth.plugins.mapped.Mapped.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><em>request</em>, <em>auth_payload</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/mapped.html#Mapped.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.mapped.Mapped.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticate mapped user and set an authentication context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>request</strong> &#8211; keystone&#8217;s request context</li>
<li><strong>auth_payload</strong> &#8211; the content of the authentication for a
given method</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>In addition to <code class="docutils literal"><span class="pre">user_id</span></code> in <code class="docutils literal"><span class="pre">response_data</span></code>, this plugin sets
<code class="docutils literal"><span class="pre">group_ids</span></code>, <code class="docutils literal"><span class="pre">OS-FEDERATION:identity_provider</span></code> and
<code class="docutils literal"><span class="pre">OS-FEDERATION:protocol</span></code></p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="keystone.auth.plugins.mapped.apply_mapping_filter">
<code class="descclassname">keystone.auth.plugins.mapped.</code><code class="descname">apply_mapping_filter</code><span class="sig-paren">(</span><em>identity_provider</em>, <em>protocol</em>, <em>assertion</em>, <em>resource_api</em>, <em>federation_api</em>, <em>identity_api</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/mapped.html#apply_mapping_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.mapped.apply_mapping_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.auth.plugins.mapped.extract_assertion_data">
<code class="descclassname">keystone.auth.plugins.mapped.</code><code class="descname">extract_assertion_data</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/mapped.html#extract_assertion_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.mapped.extract_assertion_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.auth.plugins.mapped.get_user_unique_id_and_display_name">
<code class="descclassname">keystone.auth.plugins.mapped.</code><code class="descname">get_user_unique_id_and_display_name</code><span class="sig-paren">(</span><em>request</em>, <em>mapped_properties</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/mapped.html#get_user_unique_id_and_display_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.mapped.get_user_unique_id_and_display_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup federated username.</p>
<p>Function covers all the cases for properly setting user id, a primary
identifier for identity objects. Initial version of the mapping engine
assumed user is identified by <code class="docutils literal"><span class="pre">name</span></code> and his <code class="docutils literal"><span class="pre">id</span></code> is built from the
name. We, however need to be able to accept local rules that identify user
by either id or name/domain.</p>
<p>The following use-cases are covered:</p>
<ol class="arabic simple">
<li>If neither user_name nor user_id is set raise exception.Unauthorized</li>
<li>If user_id is set and user_name not, set user_name equal to user_id</li>
<li>If user_id is not set and user_name is, set user_id as url safe version
of user_name.</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> &#8211; current request object</li>
<li><strong>mapped_properties</strong> &#8211; Properties issued by a RuleProcessor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><p class="first">dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference internal" href="keystone.html#keystone.exception.Unauthorized" title="keystone.exception.Unauthorized"><strong>keystone.exception.Unauthorized</strong></a> &#8211; If neither <cite>user_name</cite> nor
<cite>user_id</cite> is set.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">tuple with user identification</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.auth.plugins.mapped.handle_scoped_token">
<code class="descclassname">keystone.auth.plugins.mapped.</code><code class="descname">handle_scoped_token</code><span class="sig-paren">(</span><em>request</em>, <em>token_ref</em>, <em>federation_api</em>, <em>identity_api</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/mapped.html#handle_scoped_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.mapped.handle_scoped_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.auth.plugins.mapped.handle_unscoped_token">
<code class="descclassname">keystone.auth.plugins.mapped.</code><code class="descname">handle_unscoped_token</code><span class="sig-paren">(</span><em>request</em>, <em>auth_payload</em>, <em>resource_api</em>, <em>federation_api</em>, <em>identity_api</em>, <em>assignment_api</em>, <em>role_api</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/mapped.html#handle_unscoped_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.mapped.handle_unscoped_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-keystone.auth.plugins.oauth1">
<span id="keystone-auth-plugins-oauth1-module"></span><h2>keystone.auth.plugins.oauth1 module<a class="headerlink" href="#module-keystone.auth.plugins.oauth1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.auth.plugins.oauth1.OAuth">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.oauth1.</code><code class="descname">OAuth</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/oauth1.html#OAuth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.oauth1.OAuth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.base.AuthMethodHandler" title="keystone.auth.plugins.base.AuthMethodHandler"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.base.AuthMethodHandler</span></code></a></p>
<dl class="method">
<dt id="keystone.auth.plugins.oauth1.OAuth.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><em>request</em>, <em>auth_payload</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/oauth1.html#OAuth.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.oauth1.OAuth.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a signed request with an access key into a keystone token.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.auth.plugins.password">
<span id="keystone-auth-plugins-password-module"></span><h2>keystone.auth.plugins.password module<a class="headerlink" href="#module-keystone.auth.plugins.password" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.auth.plugins.password.Password">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.password.</code><code class="descname">Password</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/password.html#Password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.password.Password" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.base.AuthMethodHandler" title="keystone.auth.plugins.base.AuthMethodHandler"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.base.AuthMethodHandler</span></code></a></p>
<dl class="method">
<dt id="keystone.auth.plugins.password.Password.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><em>request</em>, <em>auth_payload</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/password.html#Password.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.password.Password.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to authenticate against the identity backend.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.auth.plugins.token">
<span id="keystone-auth-plugins-token-module"></span><h2>keystone.auth.plugins.token module<a class="headerlink" href="#module-keystone.auth.plugins.token" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.auth.plugins.token.Token">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.token.</code><code class="descname">Token</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/token.html#Token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.token.Token" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.base.AuthMethodHandler" title="keystone.auth.plugins.base.AuthMethodHandler"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.base.AuthMethodHandler</span></code></a></p>
<dl class="method">
<dt id="keystone.auth.plugins.token.Token.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><em>request</em>, <em>auth_payload</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/token.html#Token.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.token.Token.authenticate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="keystone.auth.plugins.token.token_authenticate">
<code class="descclassname">keystone.auth.plugins.token.</code><code class="descname">token_authenticate</code><span class="sig-paren">(</span><em>request</em>, <em>token_ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/token.html#token_authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.token.token_authenticate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-keystone.auth.plugins.totp">
<span id="keystone-auth-plugins-totp-module"></span><h2>keystone.auth.plugins.totp module<a class="headerlink" href="#module-keystone.auth.plugins.totp" title="Permalink to this headline">¶</a></h2>
<p>Time-based One-time Password Algorithm (TOTP) auth plugin.</p>
<p>TOTP is an algorithm that computes a one-time password from a shared secret
key and the current time.</p>
<p>TOTP is an implementation of a hash-based message authentication code (HMAC).
It combines a secret key with the current timestamp using a cryptographic hash
function to generate a one-time password. The timestamp typically increases in
30-second intervals, so passwords generated close together in time from the
same secret key will be equal.</p>
<dl class="class">
<dt id="keystone.auth.plugins.totp.TOTP">
<em class="property">class </em><code class="descclassname">keystone.auth.plugins.totp.</code><code class="descname">TOTP</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/totp.html#TOTP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.totp.TOTP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.auth.plugins.base.AuthMethodHandler" title="keystone.auth.plugins.base.AuthMethodHandler"><code class="xref py py-class docutils literal"><span class="pre">keystone.auth.plugins.base.AuthMethodHandler</span></code></a></p>
<dl class="method">
<dt id="keystone.auth.plugins.totp.TOTP.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><em>request</em>, <em>auth_payload</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/auth/plugins/totp.html#TOTP.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.auth.plugins.totp.TOTP.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to authenticate using TOTP.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.auth.plugins">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-keystone.auth.plugins" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">keystone.auth.plugins package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-keystone.auth.plugins.base">keystone.auth.plugins.base module</a></li>
<li><a class="reference internal" href="#module-keystone.auth.plugins.core">keystone.auth.plugins.core module</a></li>
<li><a class="reference internal" href="#module-keystone.auth.plugins.external">keystone.auth.plugins.external module</a></li>
<li><a class="reference internal" href="#module-keystone.auth.plugins.mapped">keystone.auth.plugins.mapped module</a></li>
<li><a class="reference internal" href="#module-keystone.auth.plugins.oauth1">keystone.auth.plugins.oauth1 module</a></li>
<li><a class="reference internal" href="#module-keystone.auth.plugins.password">keystone.auth.plugins.password module</a></li>
<li><a class="reference internal" href="#module-keystone.auth.plugins.token">keystone.auth.plugins.token module</a></li>
<li><a class="reference internal" href="#module-keystone.auth.plugins.totp">keystone.auth.plugins.totp module</a></li>
<li><a class="reference internal" href="#module-keystone.auth.plugins">Module contents</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="keystone.auth.html"
                                  title="previous chapter">keystone.auth package</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="keystone.catalog.html"
                                  title="next chapter">keystone.catalog package</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/keystone
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/keystone.auth.plugins.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="keystone.catalog.html" title="keystone.catalog package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="keystone.auth.html" title="keystone.auth package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">keystone 11.0.0.0rc2.dev29 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Modules</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="keystone.html" >keystone package</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="keystone.auth.html" accesskey="U">keystone.auth package</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, OpenStack Foundation.
      Last updated on &#39;Fri Feb 10 22:47:54 2017, commit 9c47495&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/keystone");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>