<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>keystone.common package &mdash; keystone 11.0.0.0rc2.dev29 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '11.0.0.0rc2.dev29',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="keystone 11.0.0.0rc2.dev29 documentation" href="../index.html" />
    <link rel="up" title="keystone package" href="keystone.html" />
    <link rel="next" title="keystone.common.cache package" href="keystone.common.cache.html" />
    <link rel="prev" title="keystone.cmd.doctor package" href="keystone.cmd.doctor.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="keystone-common-package">
<h1>keystone.common package<a class="headerlink" href="#keystone-common-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="keystone.common.cache.html">keystone.common.cache package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.cache.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.cache.html#module-keystone.common.cache.core">keystone.common.cache.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.cache.html#module-keystone.common.cache">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="keystone.common.ldap.html">keystone.common.ldap package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.ldap.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.ldap.html#module-keystone.common.ldap.core">keystone.common.ldap.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.ldap.html#module-keystone.common.ldap.models">keystone.common.ldap.models module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.ldap.html#module-keystone.common.ldap">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="keystone.common.sql.html">keystone.common.sql package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.sql.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="keystone.common.sql.contract_repo.html">keystone.common.sql.contract_repo package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.contract_repo.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html">keystone.common.sql.contract_repo.versions package</a><ul>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#submodules">Submodules</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.001_contract_initial_null_migration">keystone.common.sql.contract_repo.versions.001_contract_initial_null_migration module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.002_password_created_at_not_nullable">keystone.common.sql.contract_repo.versions.002_password_created_at_not_nullable module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.003_remove_unencrypted_blob_column_from_credential">keystone.common.sql.contract_repo.versions.003_remove_unencrypted_blob_column_from_credential module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.004_reset_password_created_at">keystone.common.sql.contract_repo.versions.004_reset_password_created_at module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.005_placeholder">keystone.common.sql.contract_repo.versions.005_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.006_placeholder">keystone.common.sql.contract_repo.versions.006_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.007_placeholder">keystone.common.sql.contract_repo.versions.007_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.008_placeholder">keystone.common.sql.contract_repo.versions.008_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.009_placeholder">keystone.common.sql.contract_repo.versions.009_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.010_contract_add_revocation_event_index">keystone.common.sql.contract_repo.versions.010_contract_add_revocation_event_index module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.011_contract_user_id_unique_for_nonlocal_user">keystone.common.sql.contract_repo.versions.011_contract_user_id_unique_for_nonlocal_user module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.012_contract_add_domain_id_to_idp">keystone.common.sql.contract_repo.versions.012_contract_add_domain_id_to_idp module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.013_protocol_cascade_delete_for_federated_user">keystone.common.sql.contract_repo.versions.013_protocol_cascade_delete_for_federated_user module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.014_contract_add_domain_id_to_user_table">keystone.common.sql.contract_repo.versions.014_contract_add_domain_id_to_user_table module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.015_contract_update_federated_user_domain">keystone.common.sql.contract_repo.versions.015_contract_update_federated_user_domain module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.016_contract_add_user_options">keystone.common.sql.contract_repo.versions.016_contract_add_user_options module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.017_placeholder">keystone.common.sql.contract_repo.versions.017_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.018_placeholder">keystone.common.sql.contract_repo.versions.018_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.019_placeholder">keystone.common.sql.contract_repo.versions.019_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.020_placeholder">keystone.common.sql.contract_repo.versions.020_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions.021_placeholder">keystone.common.sql.contract_repo.versions.021_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.contract_repo.versions.html#module-keystone.common.sql.contract_repo.versions">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.contract_repo.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.contract_repo.html#module-keystone.common.sql.contract_repo.manage">keystone.common.sql.contract_repo.manage module</a></li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.contract_repo.html#module-keystone.common.sql.contract_repo">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="keystone.common.sql.data_migration_repo.html">keystone.common.sql.data_migration_repo package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.data_migration_repo.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html">keystone.common.sql.data_migration_repo.versions package</a><ul>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#submodules">Submodules</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.001_data_initial_null_migration">keystone.common.sql.data_migration_repo.versions.001_data_initial_null_migration module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.002_password_created_at_not_nullable">keystone.common.sql.data_migration_repo.versions.002_password_created_at_not_nullable module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.003_migrate_unencrypted_credentials">keystone.common.sql.data_migration_repo.versions.003_migrate_unencrypted_credentials module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.004_reset_password_created_at">keystone.common.sql.data_migration_repo.versions.004_reset_password_created_at module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.005_placeholder">keystone.common.sql.data_migration_repo.versions.005_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.006_placeholder">keystone.common.sql.data_migration_repo.versions.006_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.007_placeholder">keystone.common.sql.data_migration_repo.versions.007_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.008_placeholder">keystone.common.sql.data_migration_repo.versions.008_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.009_placeholder">keystone.common.sql.data_migration_repo.versions.009_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.010_migrate_add_revocation_event_index">keystone.common.sql.data_migration_repo.versions.010_migrate_add_revocation_event_index module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.011_expand_user_id_unique_for_nonlocal_user">keystone.common.sql.data_migration_repo.versions.011_expand_user_id_unique_for_nonlocal_user module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.012_migrate_add_domain_id_to_idp">keystone.common.sql.data_migration_repo.versions.012_migrate_add_domain_id_to_idp module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.013_protocol_cascade_delete_for_federated_user">keystone.common.sql.data_migration_repo.versions.013_protocol_cascade_delete_for_federated_user module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.014_migrate_add_domain_id_to_user_table">keystone.common.sql.data_migration_repo.versions.014_migrate_add_domain_id_to_user_table module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.015_migrate_update_federated_user_domain">keystone.common.sql.data_migration_repo.versions.015_migrate_update_federated_user_domain module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.016_migrate_add_user_options">keystone.common.sql.data_migration_repo.versions.016_migrate_add_user_options module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.017_placeholder">keystone.common.sql.data_migration_repo.versions.017_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.018_placeholder">keystone.common.sql.data_migration_repo.versions.018_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.019_placeholder">keystone.common.sql.data_migration_repo.versions.019_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.020_placeholder">keystone.common.sql.data_migration_repo.versions.020_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions.021_placeholder">keystone.common.sql.data_migration_repo.versions.021_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.data_migration_repo.versions.html#module-keystone.common.sql.data_migration_repo.versions">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.data_migration_repo.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.data_migration_repo.html#module-keystone.common.sql.data_migration_repo.manage">keystone.common.sql.data_migration_repo.manage module</a></li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.data_migration_repo.html#module-keystone.common.sql.data_migration_repo">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="keystone.common.sql.expand_repo.html">keystone.common.sql.expand_repo package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.expand_repo.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html">keystone.common.sql.expand_repo.versions package</a><ul>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#submodules">Submodules</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.001_expand_initial_null_migration">keystone.common.sql.expand_repo.versions.001_expand_initial_null_migration module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.002_password_created_at_not_nullable">keystone.common.sql.expand_repo.versions.002_password_created_at_not_nullable module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.003_add_key_hash_and_encrypted_blob_to_credential">keystone.common.sql.expand_repo.versions.003_add_key_hash_and_encrypted_blob_to_credential module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.004_reset_password_created_at">keystone.common.sql.expand_repo.versions.004_reset_password_created_at module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.005_placeholder">keystone.common.sql.expand_repo.versions.005_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.006_placeholder">keystone.common.sql.expand_repo.versions.006_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.007_placeholder">keystone.common.sql.expand_repo.versions.007_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.008_placeholder">keystone.common.sql.expand_repo.versions.008_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.009_placeholder">keystone.common.sql.expand_repo.versions.009_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.010_expand_add_revocation_event_index">keystone.common.sql.expand_repo.versions.010_expand_add_revocation_event_index module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.011_expand_user_id_unique_for_nonlocal_user">keystone.common.sql.expand_repo.versions.011_expand_user_id_unique_for_nonlocal_user module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.012_expand_add_domain_id_to_idp">keystone.common.sql.expand_repo.versions.012_expand_add_domain_id_to_idp module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.013_protocol_cascade_delete_for_federated_user">keystone.common.sql.expand_repo.versions.013_protocol_cascade_delete_for_federated_user module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.014_expand_add_domain_id_to_user_table">keystone.common.sql.expand_repo.versions.014_expand_add_domain_id_to_user_table module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.015_expand_update_federated_user_domain">keystone.common.sql.expand_repo.versions.015_expand_update_federated_user_domain module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.016_expand_add_user_options">keystone.common.sql.expand_repo.versions.016_expand_add_user_options module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.017_placeholder">keystone.common.sql.expand_repo.versions.017_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.018_placeholder">keystone.common.sql.expand_repo.versions.018_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.019_placeholder">keystone.common.sql.expand_repo.versions.019_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.020_placeholder">keystone.common.sql.expand_repo.versions.020_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions.021_placeholder">keystone.common.sql.expand_repo.versions.021_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.expand_repo.versions.html#module-keystone.common.sql.expand_repo.versions">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.expand_repo.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.expand_repo.html#module-keystone.common.sql.expand_repo.manage">keystone.common.sql.expand_repo.manage module</a></li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.expand_repo.html#module-keystone.common.sql.expand_repo">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="keystone.common.sql.migrate_repo.html">keystone.common.sql.migrate_repo package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.migrate_repo.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html">keystone.common.sql.migrate_repo.versions package</a><ul>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#submodules">Submodules</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.067_kilo">keystone.common.sql.migrate_repo.versions.067_kilo module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.068_placeholder">keystone.common.sql.migrate_repo.versions.068_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.069_placeholder">keystone.common.sql.migrate_repo.versions.069_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.070_placeholder">keystone.common.sql.migrate_repo.versions.070_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.071_placeholder">keystone.common.sql.migrate_repo.versions.071_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.072_placeholder">keystone.common.sql.migrate_repo.versions.072_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.073_insert_assignment_inherited_pk">keystone.common.sql.migrate_repo.versions.073_insert_assignment_inherited_pk module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.074_add_is_domain_project">keystone.common.sql.migrate_repo.versions.074_add_is_domain_project module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.075_confirm_config_registration">keystone.common.sql.migrate_repo.versions.075_confirm_config_registration module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.076_placeholder">keystone.common.sql.migrate_repo.versions.076_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.077_placeholder">keystone.common.sql.migrate_repo.versions.077_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.078_placeholder">keystone.common.sql.migrate_repo.versions.078_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.079_placeholder">keystone.common.sql.migrate_repo.versions.079_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.080_placeholder">keystone.common.sql.migrate_repo.versions.080_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.081_add_endpoint_policy_table">keystone.common.sql.migrate_repo.versions.081_add_endpoint_policy_table module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.082_add_federation_tables">keystone.common.sql.migrate_repo.versions.082_add_federation_tables module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.083_add_oauth1_tables">keystone.common.sql.migrate_repo.versions.083_add_oauth1_tables module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.084_add_revoke_tables">keystone.common.sql.migrate_repo.versions.084_add_revoke_tables module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.085_add_endpoint_filtering_table">keystone.common.sql.migrate_repo.versions.085_add_endpoint_filtering_table module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.086_add_duplicate_constraint_trusts">keystone.common.sql.migrate_repo.versions.086_add_duplicate_constraint_trusts module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.087_implied_roles">keystone.common.sql.migrate_repo.versions.087_implied_roles module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.088_domain_specific_roles">keystone.common.sql.migrate_repo.versions.088_domain_specific_roles module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.089_add_root_of_all_domains">keystone.common.sql.migrate_repo.versions.089_add_root_of_all_domains module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.090_add_local_user_and_password_tables">keystone.common.sql.migrate_repo.versions.090_add_local_user_and_password_tables module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.091_migrate_data_to_local_user_and_password_tables">keystone.common.sql.migrate_repo.versions.091_migrate_data_to_local_user_and_password_tables module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.092_make_implied_roles_fks_cascaded">keystone.common.sql.migrate_repo.versions.092_make_implied_roles_fks_cascaded module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.093_migrate_domains_to_projects">keystone.common.sql.migrate_repo.versions.093_migrate_domains_to_projects module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.094_add_federated_user_table">keystone.common.sql.migrate_repo.versions.094_add_federated_user_table module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.095_add_integer_pkey_to_revocation_event_table">keystone.common.sql.migrate_repo.versions.095_add_integer_pkey_to_revocation_event_table module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.096_drop_role_name_constraint">keystone.common.sql.migrate_repo.versions.096_drop_role_name_constraint module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.097_drop_user_name_domainid_constraint">keystone.common.sql.migrate_repo.versions.097_drop_user_name_domainid_constraint module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.098_placeholder">keystone.common.sql.migrate_repo.versions.098_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.099_placeholder">keystone.common.sql.migrate_repo.versions.099_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.100_placeholder">keystone.common.sql.migrate_repo.versions.100_placeholder module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.101_drop_role_name_constraint">keystone.common.sql.migrate_repo.versions.101_drop_role_name_constraint module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.102_drop_domain_table">keystone.common.sql.migrate_repo.versions.102_drop_domain_table module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.103_add_nonlocal_user_table">keystone.common.sql.migrate_repo.versions.103_add_nonlocal_user_table module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.104_drop_user_name_domainid_constraint">keystone.common.sql.migrate_repo.versions.104_drop_user_name_domainid_constraint module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.105_add_password_date_columns">keystone.common.sql.migrate_repo.versions.105_add_password_date_columns module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.106_allow_password_column_to_be_nullable">keystone.common.sql.migrate_repo.versions.106_allow_password_column_to_be_nullable module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.107_add_user_date_columns">keystone.common.sql.migrate_repo.versions.107_add_user_date_columns module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.108_add_failed_auth_columns">keystone.common.sql.migrate_repo.versions.108_add_failed_auth_columns module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions.109_add_password_self_service_column">keystone.common.sql.migrate_repo.versions.109_add_password_self_service_column module</a></li>
<li class="toctree-l6"><a class="reference internal" href="keystone.common.sql.migrate_repo.versions.html#module-keystone.common.sql.migrate_repo.versions">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.migrate_repo.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.migrate_repo.html#module-keystone.common.sql.migrate_repo.manage">keystone.common.sql.migrate_repo.manage module</a></li>
<li class="toctree-l4"><a class="reference internal" href="keystone.common.sql.migrate_repo.html#module-keystone.common.sql.migrate_repo">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.sql.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.sql.html#module-keystone.common.sql.core">keystone.common.sql.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.sql.html#module-keystone.common.sql.upgrades">keystone.common.sql.upgrades module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.sql.html#module-keystone.common.sql">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="keystone.common.validation.html">keystone.common.validation package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.validation.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.validation.html#module-keystone.common.validation.parameter_types">keystone.common.validation.parameter_types module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.validation.html#module-keystone.common.validation.validators">keystone.common.validation.validators module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.common.validation.html#module-keystone.common.validation">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-keystone.common.authorization">
<span id="keystone-common-authorization-module"></span><h2>keystone.common.authorization module<a class="headerlink" href="#module-keystone.common.authorization" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="keystone.common.authorization.AUTH_CONTEXT_ENV">
<code class="descclassname">keystone.common.authorization.</code><code class="descname">AUTH_CONTEXT_ENV</code><em class="property"> = 'KEYSTONE_AUTH_CONTEXT'</em><a class="headerlink" href="#keystone.common.authorization.AUTH_CONTEXT_ENV" title="Permalink to this definition">¶</a></dt>
<dd><p>Environment variable used to convey the Keystone auth context.</p>
<p>Auth context is essentially the user credential used for policy enforcement.
It is a dictionary with the following attributes:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">token</span></code>: Token from the request</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">user_id</span></code>: user ID of the principal</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">user_domain_id</span></code> (optional): Domain ID of the principal if the principal</dt>
<dd><p class="first last">has a domain.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">project_id</span></code> (optional): project ID of the scoped project if auth is</dt>
<dd><p class="first last">project-scoped</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">project_domain_id</span></code> (optional): Domain ID of the scoped project if auth is</dt>
<dd><p class="first last">project-scoped.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">domain_id</span></code> (optional): domain ID of the scoped domain if auth is</dt>
<dd><p class="first last">domain-scoped</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">domain_name</span></code> (optional): domain name of the scoped domain if auth is</dt>
<dd><p class="first last">domain-scoped</p>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">is_delegated_auth</span></code>: True if this is delegated (via trust or oauth)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">trust_id</span></code>: Trust ID if trust-scoped, or None</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">trustor_id</span></code>: Trustor ID if trust-scoped, or None</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">trustee_id</span></code>: Trustee ID if trust-scoped, or None</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">consumer_id</span></code>: OAuth consumer ID, or None</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">access_token_id</span></code>: OAuth access token ID, or None</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">roles</span></code> (optional): list of role names for the given scope</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">group_ids</span></code> (optional): list of group IDs for which the API user has</dt>
<dd><p class="first last">membership if token was for a federated user</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="keystone.common.authorization.token_to_auth_context">
<code class="descclassname">keystone.common.authorization.</code><code class="descname">token_to_auth_context</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/authorization.html#token_to_auth_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.authorization.token_to_auth_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-keystone.common.clean">
<span id="keystone-common-clean-module"></span><h2>keystone.common.clean module<a class="headerlink" href="#module-keystone.common.clean" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.common.clean.check_enabled">
<code class="descclassname">keystone.common.clean.</code><code class="descname">check_enabled</code><span class="sig-paren">(</span><em>property_name</em>, <em>enabled</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#check_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.check_enabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.check_length">
<code class="descclassname">keystone.common.clean.</code><code class="descname">check_length</code><span class="sig-paren">(</span><em>property_name</em>, <em>value</em>, <em>min_length=1</em>, <em>max_length=64</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#check_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.check_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.check_name">
<code class="descclassname">keystone.common.clean.</code><code class="descname">check_name</code><span class="sig-paren">(</span><em>property_name</em>, <em>name</em>, <em>min_length=1</em>, <em>max_length=64</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#check_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.check_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.check_type">
<code class="descclassname">keystone.common.clean.</code><code class="descname">check_type</code><span class="sig-paren">(</span><em>property_name</em>, <em>value</em>, <em>expected_type</em>, <em>display_expected_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#check_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.check_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.domain_enabled">
<code class="descclassname">keystone.common.clean.</code><code class="descname">domain_enabled</code><span class="sig-paren">(</span><em>enabled</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#domain_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.domain_enabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.domain_name">
<code class="descclassname">keystone.common.clean.</code><code class="descname">domain_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#domain_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.domain_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.group_name">
<code class="descclassname">keystone.common.clean.</code><code class="descname">group_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#group_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.group_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.project_enabled">
<code class="descclassname">keystone.common.clean.</code><code class="descname">project_enabled</code><span class="sig-paren">(</span><em>enabled</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#project_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.project_enabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.project_name">
<code class="descclassname">keystone.common.clean.</code><code class="descname">project_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#project_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.project_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.user_enabled">
<code class="descclassname">keystone.common.clean.</code><code class="descname">user_enabled</code><span class="sig-paren">(</span><em>enabled</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#user_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.user_enabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.clean.user_name">
<code class="descclassname">keystone.common.clean.</code><code class="descname">user_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/clean.html#user_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.clean.user_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-keystone.common.context">
<span id="keystone-common-context-module"></span><h2>keystone.common.context module<a class="headerlink" href="#module-keystone.common.context" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.context.RequestContext">
<em class="property">class </em><code class="descclassname">keystone.common.context.</code><code class="descname">RequestContext</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/context.html#RequestContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.context.RequestContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">oslo_context.context.RequestContext</span></code></p>
<dl class="classmethod">
<dt id="keystone.common.context.RequestContext.from_environ">
<em class="property">classmethod </em><code class="descname">from_environ</code><span class="sig-paren">(</span><em>environ</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/context.html#RequestContext.from_environ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.context.RequestContext.from_environ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.common.controller">
<span id="keystone-common-controller-module"></span><h2>keystone.common.controller module<a class="headerlink" href="#module-keystone.common.controller" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.controller.V2Controller">
<em class="property">class </em><code class="descclassname">keystone.common.controller.</code><code class="descname">V2Controller</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.Application" title="keystone.common.wsgi.Application"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.Application</span></code></a></p>
<p>Base controller class for Identity API v2.</p>
<dl class="staticmethod">
<dt id="keystone.common.controller.V2Controller.filter_domain">
<em class="property">static </em><code class="descname">filter_domain</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller.filter_domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller.filter_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove domain since v2 calls are not domain-aware.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="keystone.common.controller.V2Controller.filter_domain_id">
<em class="property">static </em><code class="descname">filter_domain_id</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller.filter_domain_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller.filter_domain_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove domain_id since v2 calls are not domain-aware.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="keystone.common.controller.V2Controller.filter_is_domain">
<em class="property">static </em><code class="descname">filter_is_domain</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller.filter_is_domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller.filter_is_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove is_domain field since v2 calls are not domain-aware.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="keystone.common.controller.V2Controller.filter_project_parent_id">
<em class="property">static </em><code class="descname">filter_project_parent_id</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller.filter_project_parent_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller.filter_project_parent_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove parent_id since v2 calls are not hierarchy-aware.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.common.controller.V2Controller.format_project_list">
<code class="descname">format_project_list</code><span class="sig-paren">(</span><em>tenant_refs</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller.format_project_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller.format_project_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a v2 style project list, including marker/limits.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="keystone.common.controller.V2Controller.normalize_username_in_request">
<em class="property">static </em><code class="descname">normalize_username_in_request</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller.normalize_username_in_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller.normalize_username_in_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Add name in incoming user refs to match the v2 spec.</p>
<p>Internally we use <cite>name</cite> to represent a user&#8217;s name. The v2 spec
requires the use of <cite>username</cite> instead.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="keystone.common.controller.V2Controller.normalize_username_in_response">
<em class="property">static </em><code class="descname">normalize_username_in_response</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller.normalize_username_in_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller.normalize_username_in_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Add username to outgoing user refs to match the v2 spec.</p>
<p>Internally we use <cite>name</cite> to represent a user&#8217;s name. The v2 spec
requires the use of <cite>username</cite> instead.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="keystone.common.controller.V2Controller.v3_to_v2_project">
<em class="property">static </em><code class="descname">v3_to_v2_project</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller.v3_to_v2_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller.v3_to_v2_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a project_ref from v3 to v2.</p>
<ul class="simple">
<li>v2.0 projects are not domain aware, and should have domain_id removed</li>
<li>v2.0 projects are not hierarchy aware, and should have parent_id
removed</li>
</ul>
<p>This method should only be applied to project_refs being returned from
the v2.0 controller(s).</p>
<p>If ref is a list type, we will iterate through each element and do the
conversion.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="keystone.common.controller.V2Controller.v3_to_v2_user">
<em class="property">static </em><code class="descname">v3_to_v2_user</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V2Controller.v3_to_v2_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V2Controller.v3_to_v2_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a user_ref from v3 to v2 compatible.</p>
<ul class="simple">
<li>v2.0 users are not domain aware, and should have domain_id removed</li>
<li>v2.0 users expect the use of tenantId instead of default_project_id</li>
<li>v2.0 users have a username attribute</li>
<li>v2.0 remove password_expires_at</li>
</ul>
<p>If ref is a list type, we will iterate through each element and do the
conversion.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.controller.V3Controller">
<em class="property">class </em><code class="descclassname">keystone.common.controller.</code><code class="descname">V3Controller</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.Application" title="keystone.common.wsgi.Application"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.Application</span></code></a></p>
<p>Base controller class for Identity API v3.</p>
<p>Child classes should set the <code class="docutils literal"><span class="pre">collection_name</span></code> and <code class="docutils literal"><span class="pre">member_name</span></code> class
attributes, representing the collection of entities they are exposing to
the API. This is required for supporting self-referential links,
pagination, etc.</p>
<p>Class parameters:</p>
<ul>
<li><dl class="first docutils">
<dt><cite>_public_parameters</cite> - set of parameters that are exposed to the user.</dt>
<dd><p class="first last">Usually used by cls.filter_params()</p>
</dd>
</dl>
</li>
</ul>
<dl class="classmethod">
<dt id="keystone.common.controller.V3Controller.base_url">
<em class="property">classmethod </em><code class="descname">base_url</code><span class="sig-paren">(</span><em>context</em>, <em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.base_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.base_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="keystone.common.controller.V3Controller.build_driver_hints">
<em class="property">classmethod </em><code class="descname">build_driver_hints</code><span class="sig-paren">(</span><em>request</em>, <em>supported_filters</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.build_driver_hints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.build_driver_hints" title="Permalink to this definition">¶</a></dt>
<dd><p>Build list hints based on the context query string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>request</strong> &#8211; the current request</li>
<li><strong>supported_filters</strong> &#8211; list of filters supported, so ignore any
keys in query_dict that are not in this list.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="keystone.common.controller.V3Controller.check_protection">
<code class="descname">check_protection</code><span class="sig-paren">(</span><em>request</em>, <em>prep_info</em>, <em>target_attr=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.check_protection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.check_protection" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide call protection for complex target attributes.</p>
<p>As well as including the standard parameters from the original API
call (which is passed in prep_info), this call will add in any
additional entities or attributes (passed in target_attr), so that
they can be referenced by policy rules.</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.common.controller.V3Controller.collection_name">
<code class="descname">collection_name</code><em class="property"> = 'entities'</em><a class="headerlink" href="#keystone.common.controller.V3Controller.collection_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="keystone.common.controller.V3Controller.filter_by_attributes">
<em class="property">classmethod </em><code class="descname">filter_by_attributes</code><span class="sig-paren">(</span><em>refs</em>, <em>hints</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.filter_by_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.filter_by_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter a list of references by filter values.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="keystone.common.controller.V3Controller.filter_domain_id">
<em class="property">static </em><code class="descname">filter_domain_id</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.filter_domain_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.filter_domain_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Override v2 filter to let domain_id out for v3 calls.</p>
</dd></dl>

<dl class="classmethod">
<dt id="keystone.common.controller.V3Controller.filter_params">
<em class="property">classmethod </em><code class="descname">filter_params</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.filter_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.filter_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unspecified parameters from the dictionary.</p>
<p>This function removes unspecified parameters from the dictionary.
This method checks only root-level keys from a ref dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ref</strong> &#8211; a dictionary representing deserialized response to be
serialized</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="keystone.common.controller.V3Controller.full_url">
<em class="property">classmethod </em><code class="descname">full_url</code><span class="sig-paren">(</span><em>context</em>, <em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.full_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.full_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.controller.V3Controller.get_member_from_driver">
<code class="descname">get_member_from_driver</code><em class="property"> = None</em><a class="headerlink" href="#keystone.common.controller.V3Controller.get_member_from_driver" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="keystone.common.controller.V3Controller.limit">
<em class="property">classmethod </em><code class="descname">limit</code><span class="sig-paren">(</span><em>refs</em>, <em>hints</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.limit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Limit a list of entities.</p>
<p>The underlying driver layer may have already truncated the collection
for us, but in case it was unable to handle truncation we check here.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>refs</strong> &#8211; the list of members of the collection</li>
<li><strong>hints</strong> &#8211; hints, containing, among other things, the limit
requested</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean indicating whether the list was truncated, as well
as the list of (truncated if necessary) entities.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="keystone.common.controller.V3Controller.member_name">
<code class="descname">member_name</code><em class="property"> = 'entity'</em><a class="headerlink" href="#keystone.common.controller.V3Controller.member_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="keystone.common.controller.V3Controller.query_filter_is_true">
<em class="property">classmethod </em><code class="descname">query_filter_is_true</code><span class="sig-paren">(</span><em>filter_value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.query_filter_is_true"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.query_filter_is_true" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if bool query param is &#8216;True&#8217;.</p>
<p>We treat this the same way as we do for policy
enforcement:</p>
<p>{bool_param}=0 is treated as False</p>
<p>Any other value is considered to be equivalent to
True, including the absence of a value</p>
</dd></dl>

<dl class="classmethod">
<dt id="keystone.common.controller.V3Controller.wrap_collection">
<em class="property">classmethod </em><code class="descname">wrap_collection</code><span class="sig-paren">(</span><em>context</em>, <em>refs</em>, <em>hints=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.wrap_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.wrap_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap a collection, checking for filtering and pagination.</p>
<p>Returns the wrapped collection, which includes:
- Executing any filtering not already carried out
- Truncate to a set limit if necessary
- Adds &#8216;self&#8217; links in every member
- Adds &#8216;next&#8217;, &#8216;self&#8217; and &#8216;prev&#8217; links for the whole collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>context</strong> &#8211; the current context, containing the original url path
and query string</li>
<li><strong>refs</strong> &#8211; the list of members of the collection</li>
<li><strong>hints</strong> &#8211; list hints, containing any relevant filters and limit.
Any filters already satisfied by managers will have been
removed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="keystone.common.controller.V3Controller.wrap_member">
<em class="property">classmethod </em><code class="descname">wrap_member</code><span class="sig-paren">(</span><em>context</em>, <em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#V3Controller.wrap_member"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.V3Controller.wrap_member" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="keystone.common.controller.filterprotected">
<code class="descclassname">keystone.common.controller.</code><code class="descname">filterprotected</code><span class="sig-paren">(</span><em>*filters</em>, <em>**callback</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#filterprotected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.filterprotected" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap API list calls with role based access controls (RBAC).</p>
<p>This handles both the protection of the API parameters as well as any
filters supplied.</p>
<p>More complex API list calls (for example that need to examine the contents
of an entity referenced by one of the filters) should pass in a callback
function, that will be subsequently called to check protection for these
multiple entities. This callback function should gather the appropriate
entities needed and then call check_protection() in the V3Controller class.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.controller.protected">
<code class="descclassname">keystone.common.controller.</code><code class="descname">protected</code><span class="sig-paren">(</span><em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#protected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.protected" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap API calls with role based access controls (RBAC).</p>
<p>This handles both the protection of the API parameters as well as any
target entities for single-entity API calls.</p>
<p>More complex API calls (for example that deal with several different
entities) should pass in a callback function, that will be subsequently
called to check protection for these multiple entities. This callback
function should gather the appropriate entities needed and then call
check_protection() in the V3Controller class.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.controller.v2_auth_deprecated">
<code class="descclassname">keystone.common.controller.</code><code class="descname">v2_auth_deprecated</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#v2_auth_deprecated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.v2_auth_deprecated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.controller.v2_deprecated">
<code class="descclassname">keystone.common.controller.</code><code class="descname">v2_deprecated</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#v2_deprecated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.v2_deprecated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.controller.v2_ec2_deprecated">
<code class="descclassname">keystone.common.controller.</code><code class="descname">v2_ec2_deprecated</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/controller.html#v2_ec2_deprecated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.controller.v2_ec2_deprecated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-keystone.common.dependency">
<span id="keystone-common-dependency-module"></span><h2>keystone.common.dependency module<a class="headerlink" href="#module-keystone.common.dependency" title="Permalink to this headline">¶</a></h2>
<p>This module provides support for dependency injection.</p>
<p>Providers are registered via the <code class="docutils literal"><span class="pre">&#64;provider()</span></code> decorator, and dependencies on
them are registered with <code class="docutils literal"><span class="pre">&#64;requires()</span></code>. Providers are available to their
consumers via an attribute. See the documentation for the individual functions
for more detail.</p>
<p>See also:</p>
<blockquote>
<div><a class="reference external" href="https://en.wikipedia.org/wiki/Dependency_injection">https://en.wikipedia.org/wiki/Dependency_injection</a></div></blockquote>
<dl class="exception">
<dt id="keystone.common.dependency.UnresolvableDependencyException">
<em class="property">exception </em><code class="descclassname">keystone.common.dependency.</code><code class="descname">UnresolvableDependencyException</code><span class="sig-paren">(</span><em>name</em>, <em>targets</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/dependency.html#UnresolvableDependencyException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.dependency.UnresolvableDependencyException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Raised when a required dependency is not resolvable.</p>
<p>See <code class="docutils literal"><span class="pre">resolve_future_dependencies()</span></code> for more details.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.dependency.get_provider">
<code class="descclassname">keystone.common.dependency.</code><code class="descname">get_provider</code><span class="sig-paren">(</span><em>name</em>, <em>optional=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/dependency.html#get_provider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.dependency.get_provider" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.dependency.provider">
<code class="descclassname">keystone.common.dependency.</code><code class="descname">provider</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/dependency.html#provider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.dependency.provider" title="Permalink to this definition">¶</a></dt>
<dd><p>A class decorator used to register providers.</p>
<p>When <code class="docutils literal"><span class="pre">&#64;provider()</span></code> is used to decorate a class, members of that class
will register themselves as providers for the named dependency. As an
example, In the code fragment:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@dependency.provider</span><span class="p">(</span><span class="s1">&#39;foo_api&#39;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="o">...</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
</pre></div>
</div>
<p>The object <code class="docutils literal"><span class="pre">foo</span></code> will be registered as a provider for <code class="docutils literal"><span class="pre">foo_api</span></code>. No
more than one such instance should be created; additional instances will
replace the previous ones, possibly resulting in different instances being
used by different consumers.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.dependency.requires">
<code class="descclassname">keystone.common.dependency.</code><code class="descname">requires</code><span class="sig-paren">(</span><em>*dependencies</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/dependency.html#requires"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.dependency.requires" title="Permalink to this definition">¶</a></dt>
<dd><p>A class decorator used to inject providers into consumers.</p>
<p>The required providers will be made available to instances of the decorated
class via an attribute with the same name as the provider. For example, in
the code fragment:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@dependency.requires</span><span class="p">(</span><span class="s1">&#39;foo_api&#39;</span><span class="p">,</span> <span class="s1">&#39;bar_api&#39;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">FooBarClient</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="o">...</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">FooBarClient</span><span class="p">()</span>
</pre></div>
</div>
<p>The object <code class="docutils literal"><span class="pre">client</span></code> will have attributes named <code class="docutils literal"><span class="pre">foo_api</span></code> and
<code class="docutils literal"><span class="pre">bar_api</span></code>, which are instances of the named providers.</p>
<p>Objects must not rely on the existence of these attributes until after
<code class="docutils literal"><span class="pre">resolve_future_dependencies()</span></code> has been called; they may not exist
beforehand.</p>
<p>Dependencies registered via <code class="docutils literal"><span class="pre">&#64;required()</span></code> must have providers; if not,
an <code class="docutils literal"><span class="pre">UnresolvableDependencyException</span></code> will be raised when
<code class="docutils literal"><span class="pre">resolve_future_dependencies()</span></code> is called.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.dependency.reset">
<code class="descclassname">keystone.common.dependency.</code><code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/dependency.html#reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.dependency.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the registry of providers.</p>
<p>This is useful for unit testing to ensure that tests don&#8217;t use providers
from previous tests.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.dependency.resolve_future_dependencies">
<code class="descclassname">keystone.common.dependency.</code><code class="descname">resolve_future_dependencies</code><span class="sig-paren">(</span><em>__provider_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/dependency.html#resolve_future_dependencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.dependency.resolve_future_dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Force injection of all dependencies.</p>
<p>Before this function is called, circular dependencies may not have been
injected. This function should be called only once, after all global
providers are registered. If an object needs to be created after this
call, it must not have circular dependencies.</p>
<p>If any required dependencies are unresolvable, this function will raise an
<code class="docutils literal"><span class="pre">UnresolvableDependencyException</span></code>.</p>
<p>Outside of this module, this function should be called with no arguments;
the optional argument, <code class="docutils literal"><span class="pre">__provider_name</span></code> is used internally, and should
be treated as an implementation detail.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.common.driver_hints">
<span id="keystone-common-driver-hints-module"></span><h2>keystone.common.driver_hints module<a class="headerlink" href="#module-keystone.common.driver_hints" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.driver_hints.Hints">
<em class="property">class </em><code class="descclassname">keystone.common.driver_hints.</code><code class="descname">Hints</code><a class="reference internal" href="../_modules/keystone/common/driver_hints.html#Hints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.driver_hints.Hints" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Encapsulate driver hints for listing entities.</p>
<p>Hints are modifiers that affect the return of entities from a
list_&lt;entities&gt; operation.  They are typically passed to a driver to give
direction as to what filtering, pagination or list limiting actions are
being requested.</p>
<p>It is optional for a driver to action some or all of the list hints,
but any filters that it does satisfy must be marked as such by calling
removing the filter from the list.</p>
<p>A Hint object contains filters, which is a list of dicts that can be
accessed publicly. Also it contains a dict called limit, which will
indicate the amount of data we want to limit our listing to.</p>
<p>If the filter is discovered to never match, then <cite>cannot_match</cite> can be set
to indicate that there will not be any matches and the backend work can be
short-circuited.</p>
<p>Each filter term consists of:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">name</span></code>: the name of the attribute being matched</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">value</span></code>: the value against which it is being matched</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">comparator</span></code>: the operation, which can be one of <code class="docutils literal"><span class="pre">equals</span></code>,</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">contains</span></code>, <code class="docutils literal"><span class="pre">startswith</span></code> or <code class="docutils literal"><span class="pre">endswith</span></code></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">case_sensitive</span></code>: whether any comparison should take account of</dt>
<dd><p class="first last">case</p>
</dd>
</dl>
</li>
</ul>
<dl class="method">
<dt id="keystone.common.driver_hints.Hints.add_filter">
<code class="descname">add_filter</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>comparator='equals'</em>, <em>case_sensitive=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/driver_hints.html#Hints.add_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.driver_hints.Hints.add_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a filter to the filters list, which is publicly accessible.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.common.driver_hints.Hints.get_exact_filter_by_name">
<code class="descname">get_exact_filter_by_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/driver_hints.html#Hints.get_exact_filter_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.driver_hints.Hints.get_exact_filter_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a filter key and value if exact filter exists for name.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.common.driver_hints.Hints.set_limit">
<code class="descname">set_limit</code><span class="sig-paren">(</span><em>limit</em>, <em>truncated=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/driver_hints.html#Hints.set_limit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.driver_hints.Hints.set_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a limit to indicate the list should be truncated.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="keystone.common.driver_hints.truncated">
<code class="descclassname">keystone.common.driver_hints.</code><code class="descname">truncated</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/driver_hints.html#truncated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.driver_hints.truncated" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure list truncation is detected in Driver list entity methods.</p>
<p>This is designed to wrap Driver list_{entity} methods in order to
calculate if the resultant list has been truncated. Provided a limit dict
is found in the hints list, we increment the limit by one so as to ask the
wrapped function for one more entity than the limit, and then once the list
has been generated, we check to see if the original limit has been
exceeded, in which case we truncate back to that limit and set the
&#8216;truncated&#8217; boolean to &#8216;true&#8217; in the hints limit dict.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.common.extension">
<span id="keystone-common-extension-module"></span><h2>keystone.common.extension module<a class="headerlink" href="#module-keystone.common.extension" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.common.extension.register_admin_extension">
<code class="descclassname">keystone.common.extension.</code><code class="descname">register_admin_extension</code><span class="sig-paren">(</span><em>url_prefix</em>, <em>extension_data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/extension.html#register_admin_extension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.extension.register_admin_extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Register extension with collection of admin extensions.</p>
<p>Extensions register the information here that will show
up in the /extensions page as a way to indicate that the extension is
active.</p>
<dl class="docutils">
<dt>url_prefix:  unique key for the extension that will appear in the</dt>
<dd>urls generated by the extension.</dd>
<dt>extension_data is a dictionary.  The expected fields are:</dt>
<dd>&#8216;name&#8217;:  short, human readable name of the extension
&#8216;namespace&#8217;:  xml namespace
&#8216;alias&#8217;:  identifier for the extension
&#8216;updated&#8217;:  date the extension was last updated
&#8216;description&#8217;:  text description of the extension
&#8216;links&#8217;:  hyperlinks to documents describing the extension</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="keystone.common.extension.register_public_extension">
<code class="descclassname">keystone.common.extension.</code><code class="descname">register_public_extension</code><span class="sig-paren">(</span><em>url_prefix</em>, <em>extension_data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/extension.html#register_public_extension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.extension.register_public_extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as register_admin_extension but for public extensions.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.common.fernet_utils">
<span id="keystone-common-fernet-utils-module"></span><h2>keystone.common.fernet_utils module<a class="headerlink" href="#module-keystone.common.fernet_utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.fernet_utils.FernetUtils">
<em class="property">class </em><code class="descclassname">keystone.common.fernet_utils.</code><code class="descname">FernetUtils</code><span class="sig-paren">(</span><em>key_repository=None</em>, <em>max_active_keys=None</em>, <em>config_group=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/fernet_utils.html#FernetUtils"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.fernet_utils.FernetUtils" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="keystone.common.fernet_utils.FernetUtils.create_key_directory">
<code class="descname">create_key_directory</code><span class="sig-paren">(</span><em>keystone_user_id=None</em>, <em>keystone_group_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/fernet_utils.html#FernetUtils.create_key_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.fernet_utils.FernetUtils.create_key_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to create the key directory if it doesn&#8217;t exist.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.common.fernet_utils.FernetUtils.initialize_key_repository">
<code class="descname">initialize_key_repository</code><span class="sig-paren">(</span><em>keystone_user_id=None</em>, <em>keystone_group_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/fernet_utils.html#FernetUtils.initialize_key_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.fernet_utils.FernetUtils.initialize_key_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a key repository and bootstrap it with a key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>keystone_user_id</strong> &#8211; User ID of the Keystone user.</li>
<li><strong>keystone_group_id</strong> &#8211; Group ID of the Keystone user.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="keystone.common.fernet_utils.FernetUtils.load_keys">
<code class="descname">load_keys</code><span class="sig-paren">(</span><em>use_null_key=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/fernet_utils.html#FernetUtils.load_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.fernet_utils.FernetUtils.load_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Load keys from disk into a list.</p>
<p>The first key in the list is the primary key used for encryption. All
other keys are active secondary keys that can be used for decrypting
tokens.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>use_null_key</strong> &#8211; If true, a known key containing null bytes will be
appended to the list of returned keys.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="keystone.common.fernet_utils.FernetUtils.rotate_keys">
<code class="descname">rotate_keys</code><span class="sig-paren">(</span><em>keystone_user_id=None</em>, <em>keystone_group_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/fernet_utils.html#FernetUtils.rotate_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.fernet_utils.FernetUtils.rotate_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new primary key and revoke excess active keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>keystone_user_id</strong> &#8211; User ID of the Keystone user.</li>
<li><strong>keystone_group_id</strong> &#8211; Group ID of the Keystone user.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Key rotation utilizes the following behaviors:</p>
<ul class="simple">
<li>The highest key number is used as the primary key (used for
encryption).</li>
<li>All keys can be used for decryption.</li>
<li>New keys are always created as key &#8220;0,&#8221; which serves as a placeholder
before promoting it to be the primary key.</li>
</ul>
<p>This strategy allows you to safely perform rotation on one node in a
cluster, before syncing the results of the rotation to all other nodes
(during both key rotation and synchronization, all nodes must recognize
all primary keys).</p>
</dd></dl>

<dl class="method">
<dt id="keystone.common.fernet_utils.FernetUtils.validate_key_repository">
<code class="descname">validate_key_repository</code><span class="sig-paren">(</span><em>requires_write=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/fernet_utils.html#FernetUtils.validate_key_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.fernet_utils.FernetUtils.validate_key_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate permissions on the key repository directory.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.common.json_home">
<span id="keystone-common-json-home-module"></span><h2>keystone.common.json_home module<a class="headerlink" href="#module-keystone.common.json_home" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.json_home.Parameters">
<em class="property">class </em><code class="descclassname">keystone.common.json_home.</code><code class="descname">Parameters</code><a class="reference internal" href="../_modules/keystone/common/json_home.html#Parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.json_home.Parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Relationships for Common parameters.</p>
<dl class="attribute">
<dt id="keystone.common.json_home.Parameters.DOMAIN_ID">
<code class="descname">DOMAIN_ID</code><em class="property"> = 'https://docs.openstack.org/api/openstack-identity/3/param/domain_id'</em><a class="headerlink" href="#keystone.common.json_home.Parameters.DOMAIN_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Parameters.ENDPOINT_ID">
<code class="descname">ENDPOINT_ID</code><em class="property"> = 'https://docs.openstack.org/api/openstack-identity/3/param/endpoint_id'</em><a class="headerlink" href="#keystone.common.json_home.Parameters.ENDPOINT_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Parameters.GROUP_ID">
<code class="descname">GROUP_ID</code><em class="property"> = 'https://docs.openstack.org/api/openstack-identity/3/param/group_id'</em><a class="headerlink" href="#keystone.common.json_home.Parameters.GROUP_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Parameters.POLICY_ID">
<code class="descname">POLICY_ID</code><em class="property"> = 'https://docs.openstack.org/api/openstack-identity/3/param/policy_id'</em><a class="headerlink" href="#keystone.common.json_home.Parameters.POLICY_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Parameters.PROJECT_ID">
<code class="descname">PROJECT_ID</code><em class="property"> = 'https://docs.openstack.org/api/openstack-identity/3/param/project_id'</em><a class="headerlink" href="#keystone.common.json_home.Parameters.PROJECT_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Parameters.REGION_ID">
<code class="descname">REGION_ID</code><em class="property"> = 'https://docs.openstack.org/api/openstack-identity/3/param/region_id'</em><a class="headerlink" href="#keystone.common.json_home.Parameters.REGION_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Parameters.ROLE_ID">
<code class="descname">ROLE_ID</code><em class="property"> = 'https://docs.openstack.org/api/openstack-identity/3/param/role_id'</em><a class="headerlink" href="#keystone.common.json_home.Parameters.ROLE_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Parameters.SERVICE_ID">
<code class="descname">SERVICE_ID</code><em class="property"> = 'https://docs.openstack.org/api/openstack-identity/3/param/service_id'</em><a class="headerlink" href="#keystone.common.json_home.Parameters.SERVICE_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Parameters.USER_ID">
<code class="descname">USER_ID</code><em class="property"> = 'https://docs.openstack.org/api/openstack-identity/3/param/user_id'</em><a class="headerlink" href="#keystone.common.json_home.Parameters.USER_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.json_home.Status">
<em class="property">class </em><code class="descclassname">keystone.common.json_home.</code><code class="descname">Status</code><a class="reference internal" href="../_modules/keystone/common/json_home.html#Status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.json_home.Status" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Status values supported.</p>
<dl class="attribute">
<dt id="keystone.common.json_home.Status.DEPRECATED">
<code class="descname">DEPRECATED</code><em class="property"> = 'deprecated'</em><a class="headerlink" href="#keystone.common.json_home.Status.DEPRECATED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Status.EXPERIMENTAL">
<code class="descname">EXPERIMENTAL</code><em class="property"> = 'experimental'</em><a class="headerlink" href="#keystone.common.json_home.Status.EXPERIMENTAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.json_home.Status.STABLE">
<code class="descname">STABLE</code><em class="property"> = 'stable'</em><a class="headerlink" href="#keystone.common.json_home.Status.STABLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="keystone.common.json_home.Status.update_resource_data">
<em class="property">classmethod </em><code class="descname">update_resource_data</code><span class="sig-paren">(</span><em>resource_data</em>, <em>status</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/json_home.html#Status.update_resource_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.json_home.Status.update_resource_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="keystone.common.json_home.build_v3_extension_parameter_relation">
<code class="descclassname">keystone.common.json_home.</code><code class="descname">build_v3_extension_parameter_relation</code><span class="sig-paren">(</span><em>extension_name</em>, <em>extension_version</em>, <em>parameter_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/json_home.html#build_v3_extension_parameter_relation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.json_home.build_v3_extension_parameter_relation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.json_home.build_v3_extension_resource_relation">
<code class="descclassname">keystone.common.json_home.</code><code class="descname">build_v3_extension_resource_relation</code><span class="sig-paren">(</span><em>extension_name</em>, <em>extension_version</em>, <em>resource_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/json_home.html#build_v3_extension_resource_relation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.json_home.build_v3_extension_resource_relation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.json_home.build_v3_parameter_relation">
<code class="descclassname">keystone.common.json_home.</code><code class="descname">build_v3_parameter_relation</code><span class="sig-paren">(</span><em>parameter_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/json_home.html#build_v3_parameter_relation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.json_home.build_v3_parameter_relation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.json_home.build_v3_resource_relation">
<code class="descclassname">keystone.common.json_home.</code><code class="descname">build_v3_resource_relation</code><span class="sig-paren">(</span><em>resource_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/json_home.html#build_v3_resource_relation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.json_home.build_v3_resource_relation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.json_home.translate_urls">
<code class="descclassname">keystone.common.json_home.</code><code class="descname">translate_urls</code><span class="sig-paren">(</span><em>json_home</em>, <em>new_prefix</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/json_home.html#translate_urls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.json_home.translate_urls" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a JSON Home document, sticks new_prefix on each of the urls.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.common.manager">
<span id="keystone-common-manager-module"></span><h2>keystone.common.manager module<a class="headerlink" href="#module-keystone.common.manager" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.manager.Manager">
<em class="property">class </em><code class="descclassname">keystone.common.manager.</code><code class="descname">Manager</code><span class="sig-paren">(</span><em>driver_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/manager.html#Manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.manager.Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for intermediary request layer.</p>
<p>The Manager layer exists to support additional logic that applies to all
or some of the methods exposed by a service that are not specific to the
HTTP interface.</p>
<p>It also provides a stable entry point to dynamic backends.</p>
<p>An example of a probable use case is logging all the calls.</p>
<dl class="attribute">
<dt id="keystone.common.manager.Manager.driver_namespace">
<code class="descname">driver_namespace</code><em class="property"> = None</em><a class="headerlink" href="#keystone.common.manager.Manager.driver_namespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="keystone.common.manager.load_driver">
<code class="descclassname">keystone.common.manager.</code><code class="descname">load_driver</code><span class="sig-paren">(</span><em>namespace</em>, <em>driver_name</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/manager.html#load_driver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.manager.load_driver" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.manager.response_truncated">
<code class="descclassname">keystone.common.manager.</code><code class="descname">response_truncated</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/manager.html#response_truncated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.manager.response_truncated" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncate the list returned by the wrapped function.</p>
<p>This is designed to wrap Manager list_{entity} methods to ensure that
any list limits that are defined are passed to the driver layer.  If a
hints list is provided, the wrapper will insert the relevant limit into
the hints so that the underlying driver call can try and honor it. If the
driver does truncate the response, it will update the &#8216;truncated&#8217; attribute
in the &#8216;limit&#8217; entry in the hints list, which enables the caller of this
function to know if truncation has taken place.  If, however, the driver
layer is unable to perform truncation, the &#8216;limit&#8217; entry is simply left in
the hints list for the caller to handle.</p>
<p>A _get_list_limit() method is required to be present in the object class
hierarchy, which returns the limit for this backend to which we will
truncate.</p>
<p>If a hints list is not provided in the arguments of the wrapped call then
any limits set in the config file are ignored.  This allows internal use
of such wrapped methods where the entire data set is needed as input for
the calculations of some other API (e.g. get role assignments for a given
project).</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.common.openssl">
<span id="keystone-common-openssl-module"></span><h2>keystone.common.openssl module<a class="headerlink" href="#module-keystone.common.openssl" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.openssl.BaseCertificateConfigure">
<em class="property">class </em><code class="descclassname">keystone.common.openssl.</code><code class="descname">BaseCertificateConfigure</code><span class="sig-paren">(</span><em>conf_obj</em>, <em>keystone_user</em>, <em>keystone_group</em>, <em>rebuild</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#BaseCertificateConfigure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.BaseCertificateConfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Create a certificate signing environment.</p>
<p>This is based on a config section and reasonable OpenSSL defaults.</p>
<dl class="method">
<dt id="keystone.common.openssl.BaseCertificateConfigure.build_ca_cert">
<code class="descname">build_ca_cert</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#BaseCertificateConfigure.build_ca_cert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.BaseCertificateConfigure.build_ca_cert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.common.openssl.BaseCertificateConfigure.build_private_key">
<code class="descname">build_private_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#BaseCertificateConfigure.build_private_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.BaseCertificateConfigure.build_private_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.common.openssl.BaseCertificateConfigure.build_signing_cert">
<code class="descname">build_signing_cert</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#BaseCertificateConfigure.build_signing_cert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.BaseCertificateConfigure.build_signing_cert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.common.openssl.BaseCertificateConfigure.build_ssl_config_file">
<code class="descname">build_ssl_config_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#BaseCertificateConfigure.build_ssl_config_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.BaseCertificateConfigure.build_ssl_config_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.common.openssl.BaseCertificateConfigure.clean_up_existing_files">
<code class="descname">clean_up_existing_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#BaseCertificateConfigure.clean_up_existing_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.BaseCertificateConfigure.clean_up_existing_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.common.openssl.BaseCertificateConfigure.exec_command">
<code class="descname">exec_command</code><span class="sig-paren">(</span><em>command</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#BaseCertificateConfigure.exec_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.BaseCertificateConfigure.exec_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.common.openssl.BaseCertificateConfigure.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#BaseCertificateConfigure.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.BaseCertificateConfigure.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.openssl.BaseCertificateConfigure.sslconfig">
<code class="descname">sslconfig</code><em class="property"> = '\n# OpenSSL configuration file.\n#\n\n# Establish working directory.\n\ndir            = %(conf_dir)s\n\n[ ca ]\ndefault_ca        = CA_default\n\n[ CA_default ]\nnew_certs_dir     = $dir\nserial            = $dir/serial\ndatabase          = $dir/index.txt\ndefault_days      = 365\ndefault_md        = %(default_md)s\npreserve          = no\nemail_in_dn       = no\nnameopt           = default_ca\ncertopt           = default_ca\npolicy            = policy_anything\nx509_extensions   = usr_cert\nunique_subject    = no\n\n[ policy_anything ]\ncountryName             = optional\nstateOrProvinceName     = optional\norganizationName        = optional\norganizationalUnitName  = optional\ncommonName              = supplied\nemailAddress            = optional\n\n[ req ]\ndefault_bits       = 2048 # Size of keys\ndefault_keyfile    = key.pem # name of generated keys\nstring_mask        = utf8only # permitted characters\ndistinguished_name = req_distinguished_name\nreq_extensions     = v3_req\nx509_extensions = v3_ca\n\n[ req_distinguished_name ]\ncountryName                 = Country Name (2 letter code)\ncountryName_min             = 2\ncountryName_max             = 2\nstateOrProvinceName         = State or Province Name (full name)\nlocalityName                = Locality Name (city, district)\n0.organizationName          = Organization Name (company)\norganizationalUnitName      = Organizational Unit Name (department, division)\ncommonName                  = Common Name (hostname, IP, or your name)\ncommonName_max              = 64\nemailAddress                = Email Address\nemailAddress_max            = 64\n\n[ v3_ca ]\nbasicConstraints       = CA:TRUE\nsubjectKeyIdentifier   = hash\nauthorityKeyIdentifier = keyid:always,issuer\n\n[ v3_req ]\nbasicConstraints     = CA:FALSE\nkeyUsage = nonRepudiation, digitalSignature, keyEncipherment\n\n[ usr_cert ]\nbasicConstraints       = CA:FALSE\nsubjectKeyIdentifier   = hash\nauthorityKeyIdentifier = keyid:always\n'</em><a class="headerlink" href="#keystone.common.openssl.BaseCertificateConfigure.sslconfig" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.openssl.ConfigurePKI">
<em class="property">class </em><code class="descclassname">keystone.common.openssl.</code><code class="descname">ConfigurePKI</code><span class="sig-paren">(</span><em>keystone_user</em>, <em>keystone_group</em>, <em>rebuild=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#ConfigurePKI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.ConfigurePKI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.openssl.BaseCertificateConfigure" title="keystone.common.openssl.BaseCertificateConfigure"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.openssl.BaseCertificateConfigure</span></code></a></p>
<p>Generate files for PKI signing using OpenSSL.</p>
<p>Signed tokens require a private key and signing certificate which itself
must be signed by a CA.  This class generates them with workable defaults
if each of the files are not present</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.openssl.file_exists">
<code class="descclassname">keystone.common.openssl.</code><code class="descname">file_exists</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/openssl.html#file_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.openssl.file_exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-keystone.common.profiler">
<span id="keystone-common-profiler-module"></span><h2>keystone.common.profiler module<a class="headerlink" href="#module-keystone.common.profiler" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.common.profiler.setup">
<code class="descclassname">keystone.common.profiler.</code><code class="descname">setup</code><span class="sig-paren">(</span><em>name</em>, <em>host='0.0.0.0'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/profiler.html#setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.profiler.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup OSprofiler notifier and enable profiling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of the service that will be profiled</li>
<li><strong>host</strong> &#8211; hostname or host IP address that the service will be
running on. By default host will be set to 0.0.0.0, but more
specified host name / address usage is highly recommended.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-keystone.common.request">
<span id="keystone-common-request-module"></span><h2>keystone.common.request module<a class="headerlink" href="#module-keystone.common.request" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.request.Request">
<em class="property">class </em><code class="descclassname">keystone.common.request.</code><code class="descname">Request</code><span class="sig-paren">(</span><em>environ</em>, <em>charset=None</em>, <em>unicode_errors=None</em>, <em>decode_param_names=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/request.html#Request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.request.Request" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">webob.request.Request</span></code></p>
<dl class="method">
<dt id="keystone.common.request.Request.assert_authenticated">
<code class="descname">assert_authenticated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/request.html#Request.assert_authenticated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.request.Request.assert_authenticated" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that the current request has been authenticated.</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.common.request.Request.audit_initiator">
<code class="descname">audit_initiator</code><a class="headerlink" href="#keystone.common.request.Request.audit_initiator" title="Permalink to this definition">¶</a></dt>
<dd><p>A pyCADF initiator describing the current authenticated context.</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.common.request.Request.auth_context">
<code class="descname">auth_context</code><a class="headerlink" href="#keystone.common.request.Request.auth_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.request.Request.auth_type">
<code class="descname">auth_type</code><a class="headerlink" href="#keystone.common.request.Request.auth_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <code class="docutils literal"><span class="pre">AUTH_TYPE</span></code> key in the environment.</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.common.request.Request.context">
<code class="descname">context</code><a class="headerlink" href="#keystone.common.request.Request.context" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <code class="docutils literal"><span class="pre">keystone.oslo_request_context</span></code> key in the environment.</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.common.request.Request.context_dict">
<code class="descname">context_dict</code><a class="headerlink" href="#keystone.common.request.Request.context_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.request.Request.remote_domain">
<code class="descname">remote_domain</code><a class="headerlink" href="#keystone.common.request.Request.remote_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <code class="docutils literal"><span class="pre">REMOTE_DOMAIN</span></code> key in the environment.</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.common.request.Request.token_auth">
<code class="descname">token_auth</code><a class="headerlink" href="#keystone.common.request.Request.token_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <code class="docutils literal"><span class="pre">keystone.token_auth</span></code> key in the environment.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.common.resource_options">
<span id="keystone-common-resource-options-module"></span><h2>keystone.common.resource_options module<a class="headerlink" href="#module-keystone.common.resource_options" title="Permalink to this headline">¶</a></h2>
<p>Options specific to resources managed by Keystone (Domain, User, etc).</p>
<dl class="class">
<dt id="keystone.common.resource_options.ResourceOption">
<em class="property">class </em><code class="descclassname">keystone.common.resource_options.</code><code class="descname">ResourceOption</code><span class="sig-paren">(</span><em>option_id</em>, <em>option_name</em>, <em>validator=&lt;function _validator&gt;</em>, <em>json_schema_validation=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/resource_options.html#ResourceOption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.resource_options.ResourceOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="keystone.common.resource_options.ResourceOption.json_schema">
<code class="descname">json_schema</code><a class="headerlink" href="#keystone.common.resource_options.ResourceOption.json_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.resource_options.ResourceOption.option_id">
<code class="descname">option_id</code><a class="headerlink" href="#keystone.common.resource_options.ResourceOption.option_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.resource_options.ResourceOption.option_name">
<code class="descname">option_name</code><a class="headerlink" href="#keystone.common.resource_options.ResourceOption.option_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.resource_options.ResourceOptionRegistry">
<em class="property">class </em><code class="descclassname">keystone.common.resource_options.</code><code class="descname">ResourceOptionRegistry</code><span class="sig-paren">(</span><em>registry_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/resource_options.html#ResourceOptionRegistry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.resource_options.ResourceOptionRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="keystone.common.resource_options.ResourceOptionRegistry.get_option_by_id">
<code class="descname">get_option_by_id</code><span class="sig-paren">(</span><em>opt_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/resource_options.html#ResourceOptionRegistry.get_option_by_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.resource_options.ResourceOptionRegistry.get_option_by_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.common.resource_options.ResourceOptionRegistry.get_option_by_name">
<code class="descname">get_option_by_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/resource_options.html#ResourceOptionRegistry.get_option_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.resource_options.ResourceOptionRegistry.get_option_by_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.resource_options.ResourceOptionRegistry.json_schema">
<code class="descname">json_schema</code><a class="headerlink" href="#keystone.common.resource_options.ResourceOptionRegistry.json_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.resource_options.ResourceOptionRegistry.option_ids">
<code class="descname">option_ids</code><a class="headerlink" href="#keystone.common.resource_options.ResourceOptionRegistry.option_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.resource_options.ResourceOptionRegistry.option_names">
<code class="descname">option_names</code><a class="headerlink" href="#keystone.common.resource_options.ResourceOptionRegistry.option_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.resource_options.ResourceOptionRegistry.options">
<code class="descname">options</code><a class="headerlink" href="#keystone.common.resource_options.ResourceOptionRegistry.options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.common.resource_options.ResourceOptionRegistry.options_by_name">
<code class="descname">options_by_name</code><a class="headerlink" href="#keystone.common.resource_options.ResourceOptionRegistry.options_by_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.common.resource_options.ResourceOptionRegistry.register_option">
<code class="descname">register_option</code><span class="sig-paren">(</span><em>option</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/resource_options.html#ResourceOptionRegistry.register_option"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.resource_options.ResourceOptionRegistry.register_option" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="keystone.common.resource_options.boolean_validator">
<code class="descclassname">keystone.common.resource_options.</code><code class="descname">boolean_validator</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/resource_options.html#boolean_validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.resource_options.boolean_validator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.resource_options.ref_mapper_to_dict_options">
<code class="descclassname">keystone.common.resource_options.</code><code class="descname">ref_mapper_to_dict_options</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/resource_options.html#ref_mapper_to_dict_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.resource_options.ref_mapper_to_dict_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the values in _resource_option_mapper to options dict.</p>
<dl class="docutils">
<dt>NOTE: this is to be called from the relevant <cite>to_dict</cite> methods or</dt>
<dd>similar and must be called from within the active session context.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ref</strong> &#8211; the DB model ref to extract options from</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dict of options as expected to be returned out of to_dict in
the <cite>options</cite> key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.resource_options.resource_options_ref_to_mapper">
<code class="descclassname">keystone.common.resource_options.</code><code class="descname">resource_options_ref_to_mapper</code><span class="sig-paren">(</span><em>ref</em>, <em>option_class</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/resource_options.html#resource_options_ref_to_mapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.resource_options.resource_options_ref_to_mapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the _resource_options property-dict to options attr map.</p>
<p>The model must have the resource option mapper located in the
<code class="docutils literal"><span class="pre">_resource_option_mapper</span></code> attribute.</p>
<p>The model must have the resource option registry located in the
<code class="docutils literal"><span class="pre">resource_options_registry</span></code> attribute.</p>
<p>The option dict with key(opt_id), value(opt_value) will be pulled from
<code class="docutils literal"><span class="pre">ref._resource_options</span></code>.</p>
<dl class="docutils">
<dt>NOTE: This function MUST be called within the active writer session</dt>
<dd>context!</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ref</strong> &#8211; The DB model reference that is actually stored to the
backend.</li>
<li><strong>option_class</strong> &#8211; Class that is used to store the resource option
in the DB.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-keystone.common.router">
<span id="keystone-common-router-module"></span><h2>keystone.common.router module<a class="headerlink" href="#module-keystone.common.router" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.router.Router">
<em class="property">class </em><code class="descclassname">keystone.common.router.</code><code class="descname">Router</code><span class="sig-paren">(</span><em>controller</em>, <em>collection_key</em>, <em>key</em>, <em>resource_descriptions=None</em>, <em>is_entity_implemented=True</em>, <em>method_template=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/router.html#Router"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.router.Router" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.ComposableRouter" title="keystone.common.wsgi.ComposableRouter"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.ComposableRouter</span></code></a></p>
<dl class="method">
<dt id="keystone.common.router.Router.add_routes">
<code class="descname">add_routes</code><span class="sig-paren">(</span><em>mapper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/router.html#Router.add_routes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.router.Router.add_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.common.tokenless_auth">
<span id="keystone-common-tokenless-auth-module"></span><h2>keystone.common.tokenless_auth module<a class="headerlink" href="#module-keystone.common.tokenless_auth" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.tokenless_auth.TokenlessAuthHelper">
<em class="property">class </em><code class="descclassname">keystone.common.tokenless_auth.</code><code class="descname">TokenlessAuthHelper</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/tokenless_auth.html#TokenlessAuthHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.tokenless_auth.TokenlessAuthHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="keystone.common.tokenless_auth.TokenlessAuthHelper.get_mapped_user">
<code class="descname">get_mapped_user</code><span class="sig-paren">(</span><em>project_id=None</em>, <em>domain_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/tokenless_auth.html#TokenlessAuthHelper.get_mapped_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.tokenless_auth.TokenlessAuthHelper.get_mapped_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Map client certificate to an existing user.</p>
<p>If user is ephemeral, there is no validation on the user himself;
however it will be mapped to a corresponding group(s) and the scope
of this ephemeral user is the same as what is assigned to the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>project_id</strong> &#8211; Project scope of the mapped user.</li>
<li><strong>domain_id</strong> &#8211; Domain scope of the mapped user.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary that contains the keys, such as
user_id, user_name, domain_id, domain_name</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="keystone.common.tokenless_auth.TokenlessAuthHelper.get_scope">
<code class="descname">get_scope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/tokenless_auth.html#TokenlessAuthHelper.get_scope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.tokenless_auth.TokenlessAuthHelper.get_scope" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.common.utils">
<span id="keystone-common-utils-module"></span><h2>keystone.common.utils module<a class="headerlink" href="#module-keystone.common.utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="keystone.common.utils.SmarterEncoder">
<em class="property">class </em><code class="descclassname">keystone.common.utils.</code><code class="descname">SmarterEncoder</code><span class="sig-paren">(</span><em>skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>sort_keys=False</em>, <em>indent=None</em>, <em>separators=None</em>, <em>encoding='utf-8'</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#SmarterEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.SmarterEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">json.encoder.JSONEncoder</span></code></p>
<p>Help for JSON encoding dict-like objects.</p>
<dl class="method">
<dt id="keystone.common.utils.SmarterEncoder.default">
<code class="descname">default</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#SmarterEncoder.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.SmarterEncoder.default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.utils.WhiteListedItemFilter">
<em class="property">class </em><code class="descclassname">keystone.common.utils.</code><code class="descname">WhiteListedItemFilter</code><span class="sig-paren">(</span><em>whitelist</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#WhiteListedItemFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.WhiteListedItemFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.attr_as_boolean">
<code class="descclassname">keystone.common.utils.</code><code class="descname">attr_as_boolean</code><span class="sig-paren">(</span><em>val_attr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#attr_as_boolean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.attr_as_boolean" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the boolean value, decoded from a string.</p>
<p>We test explicitly for a value meaning False, which can be one of
several formats as specified in oslo strutils.FALSE_STRINGS.
All other string values (including an empty string) are treated as
meaning True.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.auth_str_equal">
<code class="descclassname">keystone.common.utils.</code><code class="descname">auth_str_equal</code><span class="sig-paren">(</span><em>provided</em>, <em>known</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#auth_str_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.auth_str_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant-time string comparison.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Params provided:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">the first string</td>
</tr>
<tr class="field-even field"><th class="field-name">Params known:</th><td class="field-body">the second string</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the strings are equal.</td>
</tr>
</tbody>
</table>
<p>This function takes two strings and compares them.  It is intended to be
used when doing a comparison for authentication purposes to help guard
against timing attacks.  When using the function for this purpose, always
provide the user-provided password as the first argument.  The time this
function will take is always a factor of the length of this string.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.check_endpoint_url">
<code class="descclassname">keystone.common.utils.</code><code class="descname">check_endpoint_url</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#check_endpoint_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.check_endpoint_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Check substitution of url.</p>
<p>The invalid urls are as follows:
urls with substitutions that is not in the whitelist</p>
<p>Check the substitutions in the URL to make sure they are valid
and on the whitelist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> (<em>str</em>) &#8211; the URL to validate</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="keystone.html#keystone.exception.URLValidationError" title="keystone.exception.URLValidationError"><strong>keystone.exception.URLValidationError</strong></a> &#8211; if the URL is invalid</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.check_password">
<code class="descclassname">keystone.common.utils.</code><code class="descname">check_password</code><span class="sig-paren">(</span><em>password</em>, <em>hashed</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#check_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.check_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that a plaintext password matches hashed.</p>
<p>hashpw returns the salt value concatenated with the actual hash value.
It extracts the actual salt if this value is then passed as the salt.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.convert_ec2_to_v3_credential">
<code class="descclassname">keystone.common.utils.</code><code class="descname">convert_ec2_to_v3_credential</code><span class="sig-paren">(</span><em>ec2credential</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#convert_ec2_to_v3_credential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.convert_ec2_to_v3_credential" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.utils.convert_v3_to_ec2_credential">
<code class="descclassname">keystone.common.utils.</code><code class="descname">convert_v3_to_ec2_credential</code><span class="sig-paren">(</span><em>credential</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#convert_v3_to_ec2_credential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.convert_v3_to_ec2_credential" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.utils.flatten_dict">
<code class="descclassname">keystone.common.utils.</code><code class="descname">flatten_dict</code><span class="sig-paren">(</span><em>d</em>, <em>parent_key=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#flatten_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.flatten_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten a nested dictionary.</p>
<p>Converts a dictionary with nested values to a single level flat
dictionary, with dotted notation for each key.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.format_url">
<code class="descclassname">keystone.common.utils.</code><code class="descname">format_url</code><span class="sig-paren">(</span><em>url</em>, <em>substitutions</em>, <em>silent_keyerror_failures=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#format_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.format_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a user-defined URL with the given substitutions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>string</em>) &#8211; the URL to be formatted</li>
<li><strong>substitutions</strong> (<em>dict</em>) &#8211; the dictionary used for substitution</li>
<li><strong>silent_keyerror_failures</strong> (<em>list</em>) &#8211; keys for which we should be silent
if there is a KeyError exception on substitution attempt</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a formatted URL</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.get_blob_from_credential">
<code class="descclassname">keystone.common.utils.</code><code class="descname">get_blob_from_credential</code><span class="sig-paren">(</span><em>credential</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#get_blob_from_credential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.get_blob_from_credential" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.utils.get_token_ref">
<code class="descclassname">keystone.common.utils.</code><code class="descname">get_token_ref</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#get_token_ref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.get_token_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve KeystoneToken object from the auth context and returns it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<em>dict</em>) &#8211; The request context.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="keystone.html#keystone.exception.Unauthorized" title="keystone.exception.Unauthorized"><strong>keystone.exception.Unauthorized</strong></a> &#8211; If auth context cannot be found.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The KeystoneToken object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.get_unix_group">
<code class="descclassname">keystone.common.utils.</code><code class="descname">get_unix_group</code><span class="sig-paren">(</span><em>group=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#get_unix_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.get_unix_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the gid and group name.</p>
<p>This is a convenience utility which accepts a variety of input
which might represent a unix group. If successful it returns the gid
and name. Valid input is:</p>
<dl class="docutils">
<dt>string</dt>
<dd>A string is first considered to be a group name and a lookup is
attempted under that name. If no name is found then an attempt
is made to convert the string to an integer and perform a
lookup as a gid.</dd>
<dt>int</dt>
<dd>An integer is interpreted as a gid.</dd>
<dt>None</dt>
<dd>None is interpreted to mean use the current process&#8217;s
effective group.</dd>
</dl>
<p>If the input is a valid type but no group is found a KeyError is
raised. If the input is not a valid type a TypeError is raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group</strong> (<em>object</em>) &#8211; string, int or None specifying the group to
lookup.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tuple of (gid, name)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.get_unix_user">
<code class="descclassname">keystone.common.utils.</code><code class="descname">get_unix_user</code><span class="sig-paren">(</span><em>user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#get_unix_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.get_unix_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the uid and user name.</p>
<p>This is a convenience utility which accepts a variety of input
which might represent a unix user. If successful it returns the uid
and name. Valid input is:</p>
<dl class="docutils">
<dt>string</dt>
<dd>A string is first considered to be a user name and a lookup is
attempted under that name. If no name is found then an attempt
is made to convert the string to an integer and perform a
lookup as a uid.</dd>
<dt>int</dt>
<dd>An integer is interpreted as a uid.</dd>
<dt>None</dt>
<dd>None is interpreted to mean use the current process&#8217;s
effective user.</dd>
</dl>
<p>If the input is a valid type but no user is found a KeyError is
raised. If the input is not a valid type a TypeError is raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> (<em>object</em>) &#8211; string, int or None specifying the user to
lookup.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tuple of (uid, name)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.hash_access_key">
<code class="descclassname">keystone.common.utils.</code><code class="descname">hash_access_key</code><span class="sig-paren">(</span><em>access</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#hash_access_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.hash_access_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.utils.hash_password">
<code class="descclassname">keystone.common.utils.</code><code class="descname">hash_password</code><span class="sig-paren">(</span><em>password</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#hash_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.hash_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Hash a password. Hard.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.hash_user_password">
<code class="descclassname">keystone.common.utils.</code><code class="descname">hash_user_password</code><span class="sig-paren">(</span><em>user</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#hash_user_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.hash_user_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Hash a user dict&#8217;s password without modifying the passed-in dict.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.is_not_url_safe">
<code class="descclassname">keystone.common.utils.</code><code class="descname">is_not_url_safe</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#is_not_url_safe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.is_not_url_safe" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a string contains any url reserved characters.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.isotime">
<code class="descclassname">keystone.common.utils.</code><code class="descname">isotime</code><span class="sig-paren">(</span><em>at=None</em>, <em>subsecond=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#isotime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.isotime" title="Permalink to this definition">¶</a></dt>
<dd><p>Stringify time in ISO 8601 format.</p>
<p>Python provides a similar instance method for datetime.datetime objects
called <cite>isoformat()</cite>. The format of the strings generated by <cite>isoformat()</cite>
has a couple of problems:</p>
<p>1) The strings generated by <cite>isotime()</cite> are used in tokens and other public
APIs that we can&#8217;t change without a deprecation period. The strings
generated by <cite>isoformat()</cite> are not the same format, so we can&#8217;t just
change to it.</p>
<p>2) The strings generated by <cite>isoformat()</cite> do not include the microseconds
if the value happens to be 0. This will likely show up as random
failures as parsers may be written to always expect microseconds, and it
will parse correctly most of the time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>at</strong> (<em>datetime.datetime</em>) &#8211; Optional datetime object to return at a string. If not provided,
the time when the function was called will be used.</li>
<li><strong>subsecond</strong> (<em>bool</em>) &#8211; If true, the returned string will represent microsecond
precision, but only precise to the second. For example, a
<cite>datetime.datetime(2016, 9, 14, 14, 1, 13, 970223)</cite> will
be returned as <cite>2016-09-14T14:01:13.000000Z</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A time string represented in ISO 8601 format.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.list_url_unsafe_chars">
<code class="descclassname">keystone.common.utils.</code><code class="descname">list_url_unsafe_chars</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#list_url_unsafe_chars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.list_url_unsafe_chars" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the reserved characters.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.lower_case_hostname">
<code class="descclassname">keystone.common.utils.</code><code class="descname">lower_case_hostname</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#lower_case_hostname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.lower_case_hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the URL&#8217;s hostname to lowercase.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.make_dirs">
<code class="descclassname">keystone.common.utils.</code><code class="descname">make_dirs</code><span class="sig-paren">(</span><em>path</em>, <em>mode=None</em>, <em>user=None</em>, <em>group=None</em>, <em>log=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#make_dirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.make_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Assure directory exists, set ownership and permissions.</p>
<p>Assure the directory exists and optionally set its ownership
and permissions.</p>
<p>Each of the mode, user and group are optional, if None then
that aspect is not modified.</p>
<p>Owner and group may be specified either with a symbolic name
or numeric id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<em>string</em>) &#8211; Pathname of directory whose existence is assured.</li>
<li><strong>mode</strong> (<em>object</em>) &#8211; ownership permissions flags (int) i.e. chmod,
if None do not set.</li>
<li><strong>user</strong> (<em>object</em>) &#8211; set user, name (string) or uid (integer),
if None do not set.</li>
<li><strong>group</strong> (<em>object</em>) &#8211; set group, name (string) or gid (integer)
if None do not set.</li>
<li><strong>log</strong> (<em>logger</em>) &#8211; logging.logger object, used to emit log messages,
if None no logging is performed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.remove_standard_port">
<code class="descclassname">keystone.common.utils.</code><code class="descname">remove_standard_port</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#remove_standard_port"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.remove_standard_port" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.utils.resource_uuid">
<code class="descclassname">keystone.common.utils.</code><code class="descname">resource_uuid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#resource_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.resource_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert input to valid UUID hex digits.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.set_permissions">
<code class="descclassname">keystone.common.utils.</code><code class="descname">set_permissions</code><span class="sig-paren">(</span><em>path</em>, <em>mode=None</em>, <em>user=None</em>, <em>group=None</em>, <em>log=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#set_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.set_permissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the ownership and permissions on the pathname.</p>
<p>Each of the mode, user and group are optional, if None then
that aspect is not modified.</p>
<p>Owner and group may be specified either with a symbolic name
or numeric id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<em>string</em>) &#8211; Pathname of directory whose existence is assured.</li>
<li><strong>mode</strong> (<em>object</em>) &#8211; ownership permissions flags (int) i.e. chmod,
if None do not set.</li>
<li><strong>user</strong> (<em>object</em>) &#8211; set user, name (string) or uid (integer),
if None do not set.</li>
<li><strong>group</strong> (<em>object</em>) &#8211; set group, name (string) or gid (integer)
if None do not set.</li>
<li><strong>log</strong> (<em>logger</em>) &#8211; logging.logger object, used to emit log messages,
if None no logging is performed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.setup_remote_pydev_debug">
<code class="descclassname">keystone.common.utils.</code><code class="descname">setup_remote_pydev_debug</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#setup_remote_pydev_debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.setup_remote_pydev_debug" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.utils.unixtime">
<code class="descclassname">keystone.common.utils.</code><code class="descname">unixtime</code><span class="sig-paren">(</span><em>dt_obj</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#unixtime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.unixtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Format datetime object as unix timestamp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dt_obj</strong> &#8211; datetime.datetime object</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="keystone.common.utils.verify_length_and_trunc_password">
<code class="descclassname">keystone.common.utils.</code><code class="descname">verify_length_and_trunc_password</code><span class="sig-paren">(</span><em>password</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/utils.html#verify_length_and_trunc_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.utils.verify_length_and_trunc_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify and truncate the provided password to the max_password_length.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.common.wsgi">
<span id="keystone-common-wsgi-module"></span><h2>keystone.common.wsgi module<a class="headerlink" href="#module-keystone.common.wsgi" title="Permalink to this headline">¶</a></h2>
<p>Utility methods for working with WSGI servers.</p>
<dl class="class">
<dt id="keystone.common.wsgi.Application">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">Application</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Application" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.BaseApplication" title="keystone.common.wsgi.BaseApplication"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.BaseApplication</span></code></a></p>
<dl class="method">
<dt id="keystone.common.wsgi.Application.assert_admin">
<code class="descname">assert_admin</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Application.assert_admin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Application.assert_admin" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the user is an admin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="keystone.html#keystone.exception.Unauthorized" title="keystone.exception.Unauthorized"><strong>keystone.exception.Unauthorized</strong></a> &#8211; if a token could not be
found/authorized, a user is invalid, or a tenant is
invalid/not scoped.</li>
<li><a class="reference internal" href="keystone.html#keystone.exception.Forbidden" title="keystone.exception.Forbidden"><strong>keystone.exception.Forbidden</strong></a> &#8211; if the user is not an admin and
does not have the admin role</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="keystone.common.wsgi.Application.base_url">
<em class="property">classmethod </em><code class="descname">base_url</code><span class="sig-paren">(</span><em>context</em>, <em>endpoint_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Application.base_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Application.base_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.wsgi.BaseApplication">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">BaseApplication</code><a class="reference internal" href="../_modules/keystone/common/wsgi.html#BaseApplication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.BaseApplication" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base WSGI application wrapper. Subclasses need to implement __call__.</p>
<dl class="classmethod">
<dt id="keystone.common.wsgi.BaseApplication.factory">
<em class="property">classmethod </em><code class="descname">factory</code><span class="sig-paren">(</span><em>global_config</em>, <em>**local_config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#BaseApplication.factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.BaseApplication.factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for paste app factories in paste.deploy config files.</p>
<p>Any local configuration (that is, values under the [app:APPNAME]
section of the paste config) will be passed into the <cite>__init__</cite> method
as kwargs.</p>
<p>A hypothetical configuration would look like:</p>
<blockquote>
<div>[app:wadl]
latest_version = 1.3
paste.app_factory = keystone.fancy_api:Wadl.factory</div></blockquote>
<p>which would result in a call to the <cite>Wadl</cite> class as</p>
<blockquote>
<div>import keystone.fancy_api
keystone.fancy_api.Wadl(latest_version=&#8216;1.3&#8217;)</div></blockquote>
<p>You could of course re-implement the <cite>factory</cite> method in subclasses,
but using the kwarg passing it shouldn&#8217;t be necessary.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.wsgi.ComposableRouter">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">ComposableRouter</code><span class="sig-paren">(</span><em>mapper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#ComposableRouter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.ComposableRouter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.Router" title="keystone.common.wsgi.Router"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.Router</span></code></a></p>
<p>Router that supports use by ComposingRouter.</p>
<dl class="method">
<dt id="keystone.common.wsgi.ComposableRouter.add_routes">
<code class="descname">add_routes</code><span class="sig-paren">(</span><em>mapper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#ComposableRouter.add_routes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.ComposableRouter.add_routes" title="Permalink to this definition">¶</a></dt>
<dd><p>Add routes to given mapper.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.wsgi.ComposingRouter">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">ComposingRouter</code><span class="sig-paren">(</span><em>mapper=None</em>, <em>routers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#ComposingRouter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.ComposingRouter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.Router" title="keystone.common.wsgi.Router"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.Router</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="keystone.common.wsgi.Debug">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">Debug</code><span class="sig-paren">(</span><em>application</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.Middleware" title="keystone.common.wsgi.Middleware"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.Middleware</span></code></a></p>
<p>Helper class for debugging a WSGI application.</p>
<p>Can be inserted into any WSGI application chain to get information
about the request and response.</p>
<dl class="staticmethod">
<dt id="keystone.common.wsgi.Debug.print_generator">
<em class="property">static </em><code class="descname">print_generator</code><span class="sig-paren">(</span><em>app_iter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Debug.print_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Debug.print_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that prints the contents of a wrapper string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.wsgi.ExtensionRouter">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">ExtensionRouter</code><span class="sig-paren">(</span><em>application</em>, <em>mapper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#ExtensionRouter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.ExtensionRouter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.Router" title="keystone.common.wsgi.Router"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.Router</span></code></a></p>
<p>A router that allows extensions to supplement or overwrite routes.</p>
<p>Expects to be subclassed.</p>
<dl class="method">
<dt id="keystone.common.wsgi.ExtensionRouter.add_routes">
<code class="descname">add_routes</code><span class="sig-paren">(</span><em>mapper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#ExtensionRouter.add_routes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.ExtensionRouter.add_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="keystone.common.wsgi.ExtensionRouter.factory">
<em class="property">classmethod </em><code class="descname">factory</code><span class="sig-paren">(</span><em>global_config</em>, <em>**local_config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#ExtensionRouter.factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.ExtensionRouter.factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for paste app factories in paste.deploy config files.</p>
<p>Any local configuration (that is, values under the [filter:APPNAME]
section of the paste config) will be passed into the <cite>__init__</cite> method
as kwargs.</p>
<p>A hypothetical configuration would look like:</p>
<blockquote>
<div>[filter:analytics]
redis_host = 127.0.0.1
paste.filter_factory = keystone.analytics:Analytics.factory</div></blockquote>
<p>which would result in a call to the <cite>Analytics</cite> class as</p>
<blockquote>
<div>import keystone.analytics
keystone.analytics.Analytics(app, redis_host=&#8216;127.0.0.1&#8217;)</div></blockquote>
<p>You could of course re-implement the <cite>factory</cite> method in subclasses,
but using the kwarg passing it shouldn&#8217;t be necessary.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.wsgi.Middleware">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">Middleware</code><span class="sig-paren">(</span><em>application</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Middleware"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Middleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.Application" title="keystone.common.wsgi.Application"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.Application</span></code></a></p>
<p>Base WSGI middleware.</p>
<p>These classes require an application to be
initialized that will be called next.  By default the middleware will
simply call its wrapped app, or you can override __call__ to customize its
behavior.</p>
<dl class="classmethod">
<dt id="keystone.common.wsgi.Middleware.factory">
<em class="property">classmethod </em><code class="descname">factory</code><span class="sig-paren">(</span><em>global_config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Middleware.factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Middleware.factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for paste app factories in paste.deploy config files.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.common.wsgi.Middleware.process_request">
<code class="descname">process_request</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Middleware.process_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Middleware.process_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Called on each request.</p>
<p>If this returns None, the next application down the stack will be
executed. If it returns a response then that response will be returned
and execution will stop here.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.common.wsgi.Middleware.process_response">
<code class="descname">process_response</code><span class="sig-paren">(</span><em>request</em>, <em>response</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Middleware.process_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Middleware.process_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Do whatever you&#8217;d like to the response, based on the request.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.wsgi.Router">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">Router</code><span class="sig-paren">(</span><em>mapper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#Router"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.Router" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>WSGI middleware that maps incoming requests to WSGI apps.</p>
</dd></dl>

<dl class="class">
<dt id="keystone.common.wsgi.RoutersBase">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">RoutersBase</code><a class="reference internal" href="../_modules/keystone/common/wsgi.html#RoutersBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.RoutersBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for Routers.</p>
<dl class="method">
<dt id="keystone.common.wsgi.RoutersBase.append_v3_routers">
<code class="descname">append_v3_routers</code><span class="sig-paren">(</span><em>mapper</em>, <em>routers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#RoutersBase.append_v3_routers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.RoutersBase.append_v3_routers" title="Permalink to this definition">¶</a></dt>
<dd><p>Append v3 routers.</p>
<p>Subclasses should override this method to map its routes.</p>
<p>Use self._add_resource() to map routes for a resource.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.common.wsgi.V3ExtensionRouter">
<em class="property">class </em><code class="descclassname">keystone.common.wsgi.</code><code class="descname">V3ExtensionRouter</code><span class="sig-paren">(</span><em>application</em>, <em>mapper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#V3ExtensionRouter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.V3ExtensionRouter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#keystone.common.wsgi.ExtensionRouter" title="keystone.common.wsgi.ExtensionRouter"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.ExtensionRouter</span></code></a>, <a class="reference internal" href="#keystone.common.wsgi.RoutersBase" title="keystone.common.wsgi.RoutersBase"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.RoutersBase</span></code></a></p>
<p>Base class for V3 extension router.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.wsgi.best_match_language">
<code class="descclassname">keystone.common.wsgi.</code><code class="descname">best_match_language</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#best_match_language"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.best_match_language" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the best available locale.</p>
<p>This returns best available locale based on the Accept-Language HTTP
header passed in the request.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.wsgi.middleware_exceptions">
<code class="descclassname">keystone.common.wsgi.</code><code class="descname">middleware_exceptions</code><span class="sig-paren">(</span><em>method</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#middleware_exceptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.middleware_exceptions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="keystone.common.wsgi.render_exception">
<code class="descclassname">keystone.common.wsgi.</code><code class="descname">render_exception</code><span class="sig-paren">(</span><em>error</em>, <em>context=None</em>, <em>request=None</em>, <em>user_locale=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#render_exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.render_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Form a WSGI response based on the current error.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.wsgi.render_response">
<code class="descclassname">keystone.common.wsgi.</code><code class="descname">render_response</code><span class="sig-paren">(</span><em>body=None</em>, <em>status=None</em>, <em>headers=None</em>, <em>method=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#render_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.render_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Form a WSGI response.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.common.wsgi.validate_token_bind">
<code class="descclassname">keystone.common.wsgi.</code><code class="descname">validate_token_bind</code><span class="sig-paren">(</span><em>context</em>, <em>token_ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/common/wsgi.html#validate_token_bind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.common.wsgi.validate_token_bind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-keystone.common">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-keystone.common" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">keystone.common package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-keystone.common.authorization">keystone.common.authorization module</a></li>
<li><a class="reference internal" href="#module-keystone.common.clean">keystone.common.clean module</a></li>
<li><a class="reference internal" href="#module-keystone.common.context">keystone.common.context module</a></li>
<li><a class="reference internal" href="#module-keystone.common.controller">keystone.common.controller module</a></li>
<li><a class="reference internal" href="#module-keystone.common.dependency">keystone.common.dependency module</a></li>
<li><a class="reference internal" href="#module-keystone.common.driver_hints">keystone.common.driver_hints module</a></li>
<li><a class="reference internal" href="#module-keystone.common.extension">keystone.common.extension module</a></li>
<li><a class="reference internal" href="#module-keystone.common.fernet_utils">keystone.common.fernet_utils module</a></li>
<li><a class="reference internal" href="#module-keystone.common.json_home">keystone.common.json_home module</a></li>
<li><a class="reference internal" href="#module-keystone.common.manager">keystone.common.manager module</a></li>
<li><a class="reference internal" href="#module-keystone.common.openssl">keystone.common.openssl module</a></li>
<li><a class="reference internal" href="#module-keystone.common.profiler">keystone.common.profiler module</a></li>
<li><a class="reference internal" href="#module-keystone.common.request">keystone.common.request module</a></li>
<li><a class="reference internal" href="#module-keystone.common.resource_options">keystone.common.resource_options module</a></li>
<li><a class="reference internal" href="#module-keystone.common.router">keystone.common.router module</a></li>
<li><a class="reference internal" href="#module-keystone.common.tokenless_auth">keystone.common.tokenless_auth module</a></li>
<li><a class="reference internal" href="#module-keystone.common.utils">keystone.common.utils module</a></li>
<li><a class="reference internal" href="#module-keystone.common.wsgi">keystone.common.wsgi module</a></li>
<li><a class="reference internal" href="#module-keystone.common">Module contents</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="keystone.cmd.doctor.html"
                                  title="previous chapter">keystone.cmd.doctor package</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="keystone.common.cache.html"
                                  title="next chapter">keystone.common.cache package</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/keystone
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/keystone.common.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="keystone.common.cache.html" title="keystone.common.cache package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="keystone.cmd.doctor.html" title="keystone.cmd.doctor package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">keystone 11.0.0.0rc2.dev29 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Modules</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="keystone.html" accesskey="U">keystone package</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, OpenStack Foundation.
      Last updated on &#39;Fri Feb 10 22:47:54 2017, commit 9c47495&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/keystone");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>