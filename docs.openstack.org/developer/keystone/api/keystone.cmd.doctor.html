<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>keystone.cmd.doctor package &mdash; keystone 11.0.0.0rc2.dev29 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '11.0.0.0rc2.dev29',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="keystone 11.0.0.0rc2.dev29 documentation" href="../index.html" />
    <link rel="up" title="keystone.cmd package" href="keystone.cmd.html" />
    <link rel="next" title="keystone.common package" href="keystone.common.html" />
    <link rel="prev" title="keystone.cmd package" href="keystone.cmd.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="keystone-cmd-doctor-package">
<h1>keystone.cmd.doctor package<a class="headerlink" href="#keystone-cmd-doctor-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-keystone.cmd.doctor.caching">
<span id="keystone-cmd-doctor-caching-module"></span><h2>keystone.cmd.doctor.caching module<a class="headerlink" href="#module-keystone.cmd.doctor.caching" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.caching.symptom_caching_disabled">
<code class="descclassname">keystone.cmd.doctor.caching.</code><code class="descname">symptom_caching_disabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/caching.html#symptom_caching_disabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.caching.symptom_caching_disabled" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>keystone.conf [caching] enabled</cite> is not enabled.</p>
<p>Caching greatly improves the performance of keystone, and it is highly
recommended that you enable it.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.caching.symptom_caching_enabled_without_a_backend">
<code class="descclassname">keystone.cmd.doctor.caching.</code><code class="descname">symptom_caching_enabled_without_a_backend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/caching.html#symptom_caching_enabled_without_a_backend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.caching.symptom_caching_enabled_without_a_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Caching is not completely configured.</p>
<p>Although caching is enabled in <cite>keystone.conf [cache] enabled</cite>, the default
backend is still set to the no-op backend. Instead, configure keystone to
point to a real caching backend like memcached.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.cmd.doctor.credential">
<span id="keystone-cmd-doctor-credential-module"></span><h2>keystone.cmd.doctor.credential module<a class="headerlink" href="#module-keystone.cmd.doctor.credential" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.credential.symptom_keys_in_credential_fernet_key_repository">
<code class="descclassname">keystone.cmd.doctor.credential.</code><code class="descname">symptom_keys_in_credential_fernet_key_repository</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/credential.html#symptom_keys_in_credential_fernet_key_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.credential.symptom_keys_in_credential_fernet_key_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Credential key repository is empty.</p>
<p>After configuring keystone to use the Fernet credential provider, you
should use <cite>keystone-manage credential_setup</cite> to initially populate your
key repository with keys, and periodically rotate your keys with
<cite>keystone-manage credential_rotate</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.credential.symptom_unique_key_repositories">
<code class="descclassname">keystone.cmd.doctor.credential.</code><code class="descname">symptom_unique_key_repositories</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/credential.html#symptom_unique_key_repositories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.credential.symptom_unique_key_repositories" title="Permalink to this definition">¶</a></dt>
<dd><p>Key repositories for encryption should be unique.</p>
<p>Even though credentials are encrypted using the same mechanism as Fernet
tokens, they should have key repository locations that are independent of
one another. Using the same repository to encrypt credentials and tokens
can be considered a security vulnerability because ciphertext from the keys
used to encrypt credentials is exposed as the token ID. Sharing a key
repository can also lead to premature key removal during key rotation. This
could result in indecipherable credentials, rendering them completely
useless, or early token invalidation because the key that was used to
encrypt the entity has been deleted.</p>
<p>Ensure <cite>keystone.conf [credential] key_repository</cite> and <cite>keystone.conf
[fernet_tokens] key_repository</cite> are not pointing to the same location.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.credential.symptom_usability_of_credential_fernet_key_repository">
<code class="descclassname">keystone.cmd.doctor.credential.</code><code class="descname">symptom_usability_of_credential_fernet_key_repository</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/credential.html#symptom_usability_of_credential_fernet_key_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.credential.symptom_usability_of_credential_fernet_key_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Credential key repository is not setup correctly.</p>
<p>The credential Fernet key repository is expected to be readable by the user
running keystone, but not world-readable, because it contains
security sensitive secrets.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.cmd.doctor.database">
<span id="keystone-cmd-doctor-database-module"></span><h2>keystone.cmd.doctor.database module<a class="headerlink" href="#module-keystone.cmd.doctor.database" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.database.symptom_database_connection_is_not_SQLite">
<code class="descclassname">keystone.cmd.doctor.database.</code><code class="descname">symptom_database_connection_is_not_SQLite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/database.html#symptom_database_connection_is_not_SQLite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.database.symptom_database_connection_is_not_SQLite" title="Permalink to this definition">¶</a></dt>
<dd><p>SQLite is not recommended for production deployments.</p>
<p>SQLite does not enforce type checking and has limited support for
migrations, making it unsuitable for use in keystone. Please change your
<cite>keystone.conf [database] connection</cite> value to point to a supported
database driver, such as MySQL.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.cmd.doctor.debug">
<span id="keystone-cmd-doctor-debug-module"></span><h2>keystone.cmd.doctor.debug module<a class="headerlink" href="#module-keystone.cmd.doctor.debug" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.debug.symptom_debug_mode_is_enabled">
<code class="descclassname">keystone.cmd.doctor.debug.</code><code class="descname">symptom_debug_mode_is_enabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/debug.html#symptom_debug_mode_is_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.debug.symptom_debug_mode_is_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Debug mode should be set to False.</p>
<p>Debug mode can be used to get more information back when trying to isolate
a problem, but it is not recommended to be enabled when running a
production environment.</p>
<p>Ensure <cite>keystone.conf debug</cite> is set to False</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.cmd.doctor.federation">
<span id="keystone-cmd-doctor-federation-module"></span><h2>keystone.cmd.doctor.federation module<a class="headerlink" href="#module-keystone.cmd.doctor.federation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.federation.symptom_comma_in_SAML_private_key_file_path">
<code class="descclassname">keystone.cmd.doctor.federation.</code><code class="descname">symptom_comma_in_SAML_private_key_file_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/federation.html#symptom_comma_in_SAML_private_key_file_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.federation.symptom_comma_in_SAML_private_key_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>[saml] certfile</cite> should not contain a comma (<cite>,</cite>).</p>
<p>Because a comma is part of the API between keystone and the external
xmlsec1 binary which utilizes the key, keystone cannot include a comma in
the path to the private key file.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.federation.symptom_comma_in_SAML_public_certificate_path">
<code class="descclassname">keystone.cmd.doctor.federation.</code><code class="descname">symptom_comma_in_SAML_public_certificate_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/federation.html#symptom_comma_in_SAML_public_certificate_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.federation.symptom_comma_in_SAML_public_certificate_path" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>[saml] certfile</cite> should not contain a comma (<cite>,</cite>).</p>
<p>Because a comma is part of the API between keystone and the external
xmlsec1 binary which utilizes the certificate, keystone cannot include a
comma in the path to the public certificate file.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.cmd.doctor.ldap">
<span id="keystone-cmd-doctor-ldap-module"></span><h2>keystone.cmd.doctor.ldap module<a class="headerlink" href="#module-keystone.cmd.doctor.ldap" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.ldap.symptom_LDAP_file_based_domain_specific_configs">
<code class="descclassname">keystone.cmd.doctor.ldap.</code><code class="descname">symptom_LDAP_file_based_domain_specific_configs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/ldap.html#symptom_LDAP_file_based_domain_specific_configs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.ldap.symptom_LDAP_file_based_domain_specific_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Domain specific driver directory is invalid or contains invalid files.</p>
<p>If <cite>keystone.conf [identity] domain_specific_drivers_enabled</cite> is set
to <cite>true</cite>, then support is enabled for individual domains to have their
own identity drivers. The configurations for these can either be stored
in a config file or in the database. The case we handle in this symptom
is when they are stored in config files, which is indicated by
<cite>keystone.conf [identity] domain_configurations_from_database</cite>
being set to <cite>false</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.ldap.symptom_LDAP_file_based_domain_specific_configs_formatted_correctly">
<code class="descclassname">keystone.cmd.doctor.ldap.</code><code class="descname">symptom_LDAP_file_based_domain_specific_configs_formatted_correctly</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/ldap.html#symptom_LDAP_file_based_domain_specific_configs_formatted_correctly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.ldap.symptom_LDAP_file_based_domain_specific_configs_formatted_correctly" title="Permalink to this definition">¶</a></dt>
<dd><p>LDAP domain specific configuration files are not formatted correctly.</p>
<p>If <cite>keystone.conf [identity] domain_specific_drivers_enabled</cite> is set
to <cite>true</cite>, then support is enabled for individual domains to have their
own identity drivers. The configurations for these can either be stored
in a config file or in the database. The case we handle in this symptom
is when they are stored in config files, which is indicated by
<cite>keystone.conf [identity] domain_configurations_from_database</cite>
being set to false. The config files located in the directory specified
by <cite>keystone.conf [identity] domain_config_dir</cite> should be in the
form of <cite>keystone.&lt;domain_name&gt;.conf</cite> and their contents should look
something like this:</p>
<p>[ldap]
url = <a class="reference external" href="ldap://ldapservice.thecustomer.com">ldap://ldapservice.thecustomer.com</a>
query_scope = sub</p>
<p>user_tree_dn = ou=Users,dc=openstack,dc=org
user_objectclass = MyOrgPerson
user_id_attribute = uid
...</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.ldap.symptom_LDAP_group_members_are_ids_disabled">
<code class="descclassname">keystone.cmd.doctor.ldap.</code><code class="descname">symptom_LDAP_group_members_are_ids_disabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/ldap.html#symptom_LDAP_group_members_are_ids_disabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.ldap.symptom_LDAP_group_members_are_ids_disabled" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>[ldap] group_members_are_ids</cite> is not enabled.</p>
<p>Because you&#8217;ve set <cite>keystone.conf [ldap] group_objectclass = posixGroup</cite>,
we would have also expected you to enable set <cite>keystone.conf [ldap]
group_members_are_ids</cite> because we suspect you&#8217;re using Open Directory,
which would contain user ID&#8217;s in a <cite>posixGroup</cite> rather than LDAP DNs, as
other object classes typically would.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.ldap.symptom_LDAP_user_enabled_emulation_dn_ignored">
<code class="descclassname">keystone.cmd.doctor.ldap.</code><code class="descname">symptom_LDAP_user_enabled_emulation_dn_ignored</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/ldap.html#symptom_LDAP_user_enabled_emulation_dn_ignored"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.ldap.symptom_LDAP_user_enabled_emulation_dn_ignored" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>[ldap] user_enabled_emulation_dn</cite> is being ignored.</p>
<p>There is no reason to set this value unless <cite>keystone.conf [ldap]
user_enabled_emulation</cite> is also enabled.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.ldap.symptom_LDAP_user_enabled_emulation_use_group_config_ignored">
<code class="descclassname">keystone.cmd.doctor.ldap.</code><code class="descname">symptom_LDAP_user_enabled_emulation_use_group_config_ignored</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/ldap.html#symptom_LDAP_user_enabled_emulation_use_group_config_ignored"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.ldap.symptom_LDAP_user_enabled_emulation_use_group_config_ignored" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>[ldap] user_enabled_emulation_use_group_config</cite> is being ignored.</p>
<p>There is no reason to set this value unless <cite>keystone.conf [ldap]
user_enabled_emulation</cite> is also enabled.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.cmd.doctor.security_compliance">
<span id="keystone-cmd-doctor-security-compliance-module"></span><h2>keystone.cmd.doctor.security_compliance module<a class="headerlink" href="#module-keystone.cmd.doctor.security_compliance" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.security_compliance.symptom_invalid_password_regular_expression">
<code class="descclassname">keystone.cmd.doctor.security_compliance.</code><code class="descname">symptom_invalid_password_regular_expression</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/security_compliance.html#symptom_invalid_password_regular_expression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.security_compliance.symptom_invalid_password_regular_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Invalid password regular expression.</p>
<p>The password regular expression is invalid and users will not be able to
make password changes until this has been corrected.</p>
<p>Ensure <cite>[security_compliance] password_regex</cite> is a valid regular
expression.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.security_compliance.symptom_minimum_password_age_greater_than_expires_days">
<code class="descclassname">keystone.cmd.doctor.security_compliance.</code><code class="descname">symptom_minimum_password_age_greater_than_expires_days</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/security_compliance.html#symptom_minimum_password_age_greater_than_expires_days"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.security_compliance.symptom_minimum_password_age_greater_than_expires_days" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum password age should be less than the password expires days.</p>
<p>If the minimum password age is greater than or equal to the password
expires days, then users would not be able to change their passwords before
they expire.</p>
<p>Ensure <cite>[security_compliance] minimum_password_age</cite> is less than the
<cite>[security_compliance] password_expires_days</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.security_compliance.symptom_password_regular_expression_description_not_set">
<code class="descclassname">keystone.cmd.doctor.security_compliance.</code><code class="descname">symptom_password_regular_expression_description_not_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/security_compliance.html#symptom_password_regular_expression_description_not_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.security_compliance.symptom_password_regular_expression_description_not_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Password regular expression description is not set.</p>
<p>The password regular expression is set, but the description is not. Thus,
if a user fails the password regular expression, they will not receive a
message to explain why their requested password was insufficient.</p>
<p>Ensure <cite>[security_compliance] password_regex_description</cite> is set with a
description of your password regular expression in a language for humans.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.cmd.doctor.tokens">
<span id="keystone-cmd-doctor-tokens-module"></span><h2>keystone.cmd.doctor.tokens module<a class="headerlink" href="#module-keystone.cmd.doctor.tokens" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.tokens.symptom_unreasonable_max_token_size">
<code class="descclassname">keystone.cmd.doctor.tokens.</code><code class="descname">symptom_unreasonable_max_token_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/tokens.html#symptom_unreasonable_max_token_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.tokens.symptom_unreasonable_max_token_size" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>keystone.conf [DEFAULT] max_token_size</cite> should be adjusted.</p>
<p>This option is intended to protect keystone from unreasonably sized tokens,
where &#8220;reasonable&#8221; is mostly dependent on the <cite>keystone.conf [token]
provider</cite> that you&#8217;re using. If you&#8217;re using one of the following token
providers, then you should set <cite>keystone.conf [DEFAULT] max_token_size</cite>
accordingly:</p>
<ul class="simple">
<li>For UUID, set <cite>keystone.conf [DEFAULT] max_token_size = 32</cite>, because UUID
tokens are always exactly 32 characters.</li>
<li>For Fernet, set <cite>keystone.conf [DEFAULT] max_token_size = 255</cite>, because
Fernet tokens should never exceed this length in most deployments.
However, if you are also using <cite>keystone.conf [identity] driver = ldap</cite>,
Fernet tokens may not be built using an efficient packing method,
depending on the IDs returned from LDAP, resulting in longer Fernet
tokens (adjust your <cite>max_token_size</cite> accordingly).</li>
</ul>
</dd></dl>

</div>
<div class="section" id="module-keystone.cmd.doctor.tokens_fernet">
<span id="keystone-cmd-doctor-tokens-fernet-module"></span><h2>keystone.cmd.doctor.tokens_fernet module<a class="headerlink" href="#module-keystone.cmd.doctor.tokens_fernet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.tokens_fernet.symptom_keys_in_Fernet_key_repository">
<code class="descclassname">keystone.cmd.doctor.tokens_fernet.</code><code class="descname">symptom_keys_in_Fernet_key_repository</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/tokens_fernet.html#symptom_keys_in_Fernet_key_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.tokens_fernet.symptom_keys_in_Fernet_key_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Fernet key repository is empty.</p>
<p>After configuring keystone to use the Fernet token provider, you should use
<cite>keystone-manage fernet_setup</cite> to initially populate your key repository
with keys, and periodically rotate your keys with <cite>keystone-manage
fernet_rotate</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.tokens_fernet.symptom_usability_of_Fernet_key_repository">
<code class="descclassname">keystone.cmd.doctor.tokens_fernet.</code><code class="descname">symptom_usability_of_Fernet_key_repository</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor/tokens_fernet.html#symptom_usability_of_Fernet_key_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.tokens_fernet.symptom_usability_of_Fernet_key_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Fernet key repository is not setup correctly.</p>
<p>The Fernet key repository is expected to be readable by the user running
keystone, but not world-readable, because it contains security-sensitive
secrets.</p>
</dd></dl>

</div>
<div class="section" id="module-keystone.cmd.doctor">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-keystone.cmd.doctor" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="keystone.cmd.doctor.diagnose">
<code class="descclassname">keystone.cmd.doctor.</code><code class="descname">diagnose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor.html#diagnose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.diagnose" title="Permalink to this definition">¶</a></dt>
<dd><p>Report diagnosis for any symptoms we find.</p>
<p>Returns true when any symptoms are found, false otherwise.</p>
</dd></dl>

<dl class="function">
<dt id="keystone.cmd.doctor.gather_symptoms">
<code class="descclassname">keystone.cmd.doctor.</code><code class="descname">gather_symptoms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/cmd/doctor.html#gather_symptoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.cmd.doctor.gather_symptoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather all of the objects in this module that are named symptom_*.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">keystone.cmd.doctor package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor.caching">keystone.cmd.doctor.caching module</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor.credential">keystone.cmd.doctor.credential module</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor.database">keystone.cmd.doctor.database module</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor.debug">keystone.cmd.doctor.debug module</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor.federation">keystone.cmd.doctor.federation module</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor.ldap">keystone.cmd.doctor.ldap module</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor.security_compliance">keystone.cmd.doctor.security_compliance module</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor.tokens">keystone.cmd.doctor.tokens module</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor.tokens_fernet">keystone.cmd.doctor.tokens_fernet module</a></li>
<li><a class="reference internal" href="#module-keystone.cmd.doctor">Module contents</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="keystone.cmd.html"
                                  title="previous chapter">keystone.cmd package</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="keystone.common.html"
                                  title="next chapter">keystone.common package</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/keystone
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/keystone.cmd.doctor.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="keystone.common.html" title="keystone.common package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="keystone.cmd.html" title="keystone.cmd package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">keystone 11.0.0.0rc2.dev29 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Modules</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="keystone.html" >keystone package</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="keystone.cmd.html" accesskey="U">keystone.cmd package</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, OpenStack Foundation.
      Last updated on &#39;Fri Feb 10 22:47:54 2017, commit 9c47495&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/keystone");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>