<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>keystone.assignment package &mdash; keystone 11.0.0.0rc2.dev29 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/support-matrix.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '11.0.0.0rc2.dev29',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="keystone 11.0.0.0rc2.dev29 documentation" href="../index.html" />
    <link rel="up" title="keystone package" href="keystone.html" />
    <link rel="next" title="keystone.assignment.backends package" href="keystone.assignment.backends.html" />
    <link rel="prev" title="keystone package" href="keystone.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="keystone-assignment-package">
<h1>keystone.assignment package<a class="headerlink" href="#keystone-assignment-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="keystone.assignment.backends.html">keystone.assignment.backends package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="keystone.assignment.backends.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.assignment.backends.html#module-keystone.assignment.backends.base">keystone.assignment.backends.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.assignment.backends.html#module-keystone.assignment.backends.sql">keystone.assignment.backends.sql module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.assignment.backends.html#module-keystone.assignment.backends">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="keystone.assignment.role_backends.html">keystone.assignment.role_backends package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="keystone.assignment.role_backends.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.assignment.role_backends.html#module-keystone.assignment.role_backends.base">keystone.assignment.role_backends.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.assignment.role_backends.html#module-keystone.assignment.role_backends.sql">keystone.assignment.role_backends.sql module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keystone.assignment.role_backends.html#module-keystone.assignment.role_backends">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-keystone.assignment.controllers">
<span id="keystone-assignment-controllers-module"></span><h2>keystone.assignment.controllers module<a class="headerlink" href="#module-keystone.assignment.controllers" title="Permalink to this headline">¶</a></h2>
<p>Workflow Logic the Assignment service.</p>
<dl class="class">
<dt id="keystone.assignment.controllers.GrantAssignmentV3">
<em class="property">class </em><code class="descclassname">keystone.assignment.controllers.</code><code class="descname">GrantAssignmentV3</code><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#GrantAssignmentV3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.GrantAssignmentV3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.controller.V3Controller" title="keystone.common.controller.V3Controller"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.controller.V3Controller</span></code></a></p>
<p>The V3 Grant Assignment APIs.</p>
<dl class="method">
<dt id="keystone.assignment.controllers.GrantAssignmentV3.check_grant">
<code class="descname">check_grant</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#GrantAssignmentV3.check_grant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.GrantAssignmentV3.check_grant" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a role has been granted on either a domain or project.</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.assignment.controllers.GrantAssignmentV3.collection_name">
<code class="descname">collection_name</code><em class="property"> = 'roles'</em><a class="headerlink" href="#keystone.assignment.controllers.GrantAssignmentV3.collection_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.GrantAssignmentV3.create_grant">
<code class="descname">create_grant</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#GrantAssignmentV3.create_grant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.GrantAssignmentV3.create_grant" title="Permalink to this definition">¶</a></dt>
<dd><p>Grant a role to a user or group on either a domain or project.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.GrantAssignmentV3.list_grants">
<code class="descname">list_grants</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#GrantAssignmentV3.list_grants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.GrantAssignmentV3.list_grants" title="Permalink to this definition">¶</a></dt>
<dd><p>List roles granted to user/group on either a domain or project.</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.assignment.controllers.GrantAssignmentV3.member_name">
<code class="descname">member_name</code><em class="property"> = 'role'</em><a class="headerlink" href="#keystone.assignment.controllers.GrantAssignmentV3.member_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.GrantAssignmentV3.revoke_grant">
<code class="descname">revoke_grant</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#GrantAssignmentV3.revoke_grant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.GrantAssignmentV3.revoke_grant" title="Permalink to this definition">¶</a></dt>
<dd><p>Revoke a role from user/group on either a domain or project.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.controllers.ImpliedRolesV3">
<em class="property">class </em><code class="descclassname">keystone.assignment.controllers.</code><code class="descname">ImpliedRolesV3</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#ImpliedRolesV3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.ImpliedRolesV3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.controller.V3Controller" title="keystone.common.controller.V3Controller"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.controller.V3Controller</span></code></a></p>
<p>The V3 ImpliedRoles CRD APIs.  There is no Update.</p>
<dl class="method">
<dt id="keystone.assignment.controllers.ImpliedRolesV3.check_implied_role">
<code class="descname">check_implied_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#ImpliedRolesV3.check_implied_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.ImpliedRolesV3.check_implied_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.ImpliedRolesV3.create_implied_role">
<code class="descname">create_implied_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#ImpliedRolesV3.create_implied_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.ImpliedRolesV3.create_implied_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.ImpliedRolesV3.delete_implied_role">
<code class="descname">delete_implied_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#ImpliedRolesV3.delete_implied_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.ImpliedRolesV3.delete_implied_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.ImpliedRolesV3.get_implied_role">
<code class="descname">get_implied_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#ImpliedRolesV3.get_implied_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.ImpliedRolesV3.get_implied_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.ImpliedRolesV3.list_implied_roles">
<code class="descname">list_implied_roles</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#ImpliedRolesV3.list_implied_roles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.ImpliedRolesV3.list_implied_roles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.ImpliedRolesV3.list_role_inference_rules">
<code class="descname">list_role_inference_rules</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#ImpliedRolesV3.list_role_inference_rules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.ImpliedRolesV3.list_role_inference_rules" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.controllers.ProjectAssignmentV3">
<em class="property">class </em><code class="descclassname">keystone.assignment.controllers.</code><code class="descname">ProjectAssignmentV3</code><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#ProjectAssignmentV3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.ProjectAssignmentV3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.controller.V3Controller" title="keystone.common.controller.V3Controller"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.controller.V3Controller</span></code></a></p>
<p>The V3 Project APIs that are processing assignments.</p>
<dl class="attribute">
<dt id="keystone.assignment.controllers.ProjectAssignmentV3.collection_name">
<code class="descname">collection_name</code><em class="property"> = 'projects'</em><a class="headerlink" href="#keystone.assignment.controllers.ProjectAssignmentV3.collection_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.ProjectAssignmentV3.list_user_projects">
<code class="descname">list_user_projects</code><span class="sig-paren">(</span><em>request</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#ProjectAssignmentV3.list_user_projects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.ProjectAssignmentV3.list_user_projects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.assignment.controllers.ProjectAssignmentV3.member_name">
<code class="descname">member_name</code><em class="property"> = 'project'</em><a class="headerlink" href="#keystone.assignment.controllers.ProjectAssignmentV3.member_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.controllers.Role">
<em class="property">class </em><code class="descclassname">keystone.assignment.controllers.</code><code class="descname">Role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#Role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.Role" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.controller.V2Controller" title="keystone.common.controller.V2Controller"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.controller.V2Controller</span></code></a></p>
<p>The Role management APIs.</p>
<dl class="method">
<dt id="keystone.assignment.controllers.Role.create_role">
<code class="descname">create_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#Role.create_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.Role.create_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.Role.delete_role">
<code class="descname">delete_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#Role.delete_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.Role.delete_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.Role.get_role">
<code class="descname">get_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#Role.get_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.Role.get_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.Role.get_roles">
<code class="descname">get_roles</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#Role.get_roles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.Role.get_roles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.controllers.RoleAssignmentV2">
<em class="property">class </em><code class="descclassname">keystone.assignment.controllers.</code><code class="descname">RoleAssignmentV2</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.controller.V2Controller" title="keystone.common.controller.V2Controller"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.controller.V2Controller</span></code></a></p>
<p>The V2 Role APIs that are processing assignments.</p>
<dl class="method">
<dt id="keystone.assignment.controllers.RoleAssignmentV2.add_role_to_user">
<code class="descname">add_role_to_user</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV2.add_role_to_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV2.add_role_to_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a role to a user and tenant pair.</p>
<p>Since we&#8217;re trying to ignore the idea of user-only roles we&#8217;re
not implementing them in hopes that the idea will die off.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleAssignmentV2.create_role_ref">
<code class="descname">create_role_ref</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV2.create_role_ref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV2.create_role_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for adding a user to a tenant.</p>
<p>In the legacy data model adding a user to a tenant required setting
a role.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleAssignmentV2.delete_role_ref">
<code class="descname">delete_role_ref</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV2.delete_role_ref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV2.delete_role_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for deleting a user from a tenant.</p>
<p>In the legacy data model removing a user from a tenant required
deleting a role.</p>
<p>To emulate this, we encode the tenant and role in the role_ref_id,
and if this happens to be the last role for the user-tenant pair,
we remove the user from the tenant.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleAssignmentV2.get_role_refs">
<code class="descname">get_role_refs</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV2.get_role_refs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV2.get_role_refs" title="Permalink to this definition">¶</a></dt>
<dd><p>Ultimate hack to get around having to make role_refs first-class.</p>
<p>This will basically iterate over the various roles the user has in
all tenants the user is a member of and create fake role_refs where
the id encodes the user-tenant-role information so we can look
up the appropriate data when we need to delete them.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleAssignmentV2.get_user_roles">
<code class="descname">get_user_roles</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV2.get_user_roles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV2.get_user_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the roles for a user and tenant pair.</p>
<p>Since we&#8217;re trying to ignore the idea of user-only roles we&#8217;re
not implementing them in hopes that the idea will die off.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleAssignmentV2.remove_role_from_user">
<code class="descname">remove_role_from_user</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV2.remove_role_from_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV2.remove_role_from_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a role from a user and tenant pair.</p>
<p>Since we&#8217;re trying to ignore the idea of user-only roles we&#8217;re
not implementing them in hopes that the idea will die off.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.controllers.RoleAssignmentV3">
<em class="property">class </em><code class="descclassname">keystone.assignment.controllers.</code><code class="descname">RoleAssignmentV3</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.controller.V3Controller" title="keystone.common.controller.V3Controller"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.controller.V3Controller</span></code></a></p>
<p>The V3 Role Assignment APIs, really just list_role_assignment().</p>
<dl class="attribute">
<dt id="keystone.assignment.controllers.RoleAssignmentV3.collection_name">
<code class="descname">collection_name</code><em class="property"> = 'role_assignments'</em><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV3.collection_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleAssignmentV3.list_role_assignments">
<code class="descname">list_role_assignments</code><span class="sig-paren">(</span><em>request</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV3.list_role_assignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV3.list_role_assignments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleAssignmentV3.list_role_assignments_for_tree">
<code class="descname">list_role_assignments_for_tree</code><span class="sig-paren">(</span><em>request</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV3.list_role_assignments_for_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV3.list_role_assignments_for_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleAssignmentV3.list_role_assignments_wrapper">
<code class="descname">list_role_assignments_wrapper</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV3.list_role_assignments_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV3.list_role_assignments_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Main entry point from router for list role assignments.</p>
<p>Since we want different policy file rules to be applicable based on
whether there the include_subtree query parameter is part of the API
call, this method checks for this and then calls the appropriate
protected entry point.</p>
</dd></dl>

<dl class="attribute">
<dt id="keystone.assignment.controllers.RoleAssignmentV3.member_name">
<code class="descname">member_name</code><em class="property"> = 'role_assignment'</em><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV3.member_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="keystone.assignment.controllers.RoleAssignmentV3.wrap_member">
<em class="property">classmethod </em><code class="descname">wrap_member</code><span class="sig-paren">(</span><em>context</em>, <em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleAssignmentV3.wrap_member"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleAssignmentV3.wrap_member" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.controllers.RoleV3">
<em class="property">class </em><code class="descclassname">keystone.assignment.controllers.</code><code class="descname">RoleV3</code><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.controller.V3Controller" title="keystone.common.controller.V3Controller"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.controller.V3Controller</span></code></a></p>
<p>The V3 Role CRUD APIs.</p>
<p>To ease complexity (and hence risk) in writing the policy rules for the
role APIs, we create separate policy actions for roles that are domain
specific, as opposed to those that are global. In order to achieve this
each of the role API methods has a wrapper method that checks to see if the
role is global or domain specific.</p>
<p>NOTE (henry-nash): If this separate global vs scoped policy action pattern
becomes repeated for other entities, we should consider encapsulating this
into a specialized router class.</p>
<dl class="classmethod">
<dt id="keystone.assignment.controllers.RoleV3.build_driver_hints">
<em class="property">classmethod </em><code class="descname">build_driver_hints</code><span class="sig-paren">(</span><em>request</em>, <em>supported_filters</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.build_driver_hints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.build_driver_hints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.assignment.controllers.RoleV3.collection_name">
<code class="descname">collection_name</code><em class="property"> = 'roles'</em><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.collection_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.create_domain_role">
<code class="descname">create_domain_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.create_domain_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.create_domain_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.create_role">
<code class="descname">create_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.create_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.create_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.create_role_wrapper">
<code class="descname">create_role_wrapper</code><span class="sig-paren">(</span><em>request</em>, <em>role</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.create_role_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.create_role_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.delete_domain_role">
<code class="descname">delete_domain_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.delete_domain_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.delete_domain_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.delete_role">
<code class="descname">delete_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.delete_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.delete_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.delete_role_wrapper">
<code class="descname">delete_role_wrapper</code><span class="sig-paren">(</span><em>request</em>, <em>role_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.delete_role_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.delete_role_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.get_domain_role">
<code class="descname">get_domain_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.get_domain_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.get_domain_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.get_role">
<code class="descname">get_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.get_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.get_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.get_role_wrapper">
<code class="descname">get_role_wrapper</code><span class="sig-paren">(</span><em>request</em>, <em>role_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.get_role_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.get_role_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.list_domain_roles">
<code class="descname">list_domain_roles</code><span class="sig-paren">(</span><em>request</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.list_domain_roles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.list_domain_roles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.list_roles">
<code class="descname">list_roles</code><span class="sig-paren">(</span><em>request</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.list_roles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.list_roles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.list_roles_wrapper">
<code class="descname">list_roles_wrapper</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.list_roles_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.list_roles_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.assignment.controllers.RoleV3.member_name">
<code class="descname">member_name</code><em class="property"> = 'role'</em><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.member_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.update_domain_role">
<code class="descname">update_domain_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.update_domain_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.update_domain_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.update_role">
<code class="descname">update_role</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.update_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.update_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.RoleV3.update_role_wrapper">
<code class="descname">update_role_wrapper</code><span class="sig-paren">(</span><em>request</em>, <em>role_id</em>, <em>role</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#RoleV3.update_role_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.RoleV3.update_role_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.controllers.TenantAssignment">
<em class="property">class </em><code class="descclassname">keystone.assignment.controllers.</code><code class="descname">TenantAssignment</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#TenantAssignment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.TenantAssignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.controller.V2Controller" title="keystone.common.controller.V2Controller"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.controller.V2Controller</span></code></a></p>
<p>The V2 Project APIs that are processing assignments.</p>
<dl class="method">
<dt id="keystone.assignment.controllers.TenantAssignment.get_project_users">
<code class="descname">get_project_users</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#TenantAssignment.get_project_users"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.TenantAssignment.get_project_users" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.controllers.TenantAssignment.get_projects_for_token">
<code class="descname">get_projects_for_token</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/controllers.html#TenantAssignment.get_projects_for_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.controllers.TenantAssignment.get_projects_for_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Get valid tenants for token based on token used to authenticate.</p>
<p>Pulls the token from the context, validates it and gets the valid
tenants for the user in the token.</p>
<p>Doesn&#8217;t care about token scopedness.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.assignment.core">
<span id="keystone-assignment-core-module"></span><h2>keystone.assignment.core module<a class="headerlink" href="#module-keystone.assignment.core" title="Permalink to this headline">¶</a></h2>
<p>Main entry point into the Assignment service.</p>
<dl class="class">
<dt id="keystone.assignment.core.Manager">
<em class="property">class </em><code class="descclassname">keystone.assignment.core.</code><code class="descname">Manager</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.manager.Manager" title="keystone.common.manager.Manager"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.manager.Manager</span></code></a></p>
<p>Default pivot point for the Assignment backend.</p>
<p>See <a class="reference internal" href="keystone.common.html#keystone.common.manager.Manager" title="keystone.common.manager.Manager"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.manager.Manager</span></code></a> for more details on how this
dynamically calls the backend.</p>
<dl class="method">
<dt id="keystone.assignment.core.Manager.add_implied_roles">
<code class="descname">add_implied_roles</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.add_implied_roles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.add_implied_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand out implied roles.</p>
<p>The role_refs passed in have had all inheritance and group assignments
expanded out. We now need to look at the role_id in each ref and see
if it is a prior role for some implied roles. If it is, then we need to
duplicate that ref, one for each implied role. We store the prior role
in the indirect dict that is part of such a duplicated ref, so that a
caller can determine where the assignment came from.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.add_role_to_user_and_project">
<code class="descname">add_role_to_user_and_project</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.add_role_to_user_and_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.add_role_to_user_and_project" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.add_user_to_project">
<code class="descname">add_user_to_project</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.add_user_to_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.add_user_to_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Add user to a tenant by creating a default role relationship.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="keystone.html#keystone.exception.ProjectNotFound" title="keystone.exception.ProjectNotFound"><strong>keystone.exception.ProjectNotFound</strong></a> &#8211; If the project doesn&#8217;t
exist.</li>
<li><a class="reference internal" href="keystone.html#keystone.exception.UserNotFound" title="keystone.exception.UserNotFound"><strong>keystone.exception.UserNotFound</strong></a> &#8211; If the user doesn&#8217;t exist.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.create_grant">
<code class="descname">create_grant</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.create_grant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.create_grant" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.delete_grant">
<code class="descname">delete_grant</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.delete_grant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.delete_grant" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.delete_tokens_for_role_assignments">
<code class="descname">delete_tokens_for_role_assignments</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.delete_tokens_for_role_assignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.delete_tokens_for_role_assignments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.assignment.core.Manager.driver_namespace">
<code class="descname">driver_namespace</code><em class="property"> = 'keystone.assignment'</em><a class="headerlink" href="#keystone.assignment.core.Manager.driver_namespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.ensure_default_role">
<code class="descname">ensure_default_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.ensure_default_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.ensure_default_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.get_grant">
<code class="descname">get_grant</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.get_grant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.get_grant" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.get_roles_for_groups">
<code class="descname">get_roles_for_groups</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.get_roles_for_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.get_roles_for_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of roles for this group on domain and/or project.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.get_roles_for_user_and_domain">
<code class="descname">get_roles_for_user_and_domain</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.get_roles_for_user_and_domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.get_roles_for_user_and_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the roles associated with a user within given domain.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of role ids.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="keystone.html#keystone.exception.DomainNotFound" title="keystone.exception.DomainNotFound"><strong>keystone.exception.DomainNotFound</strong></a> &#8211; If the domain doesn&#8217;t exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.get_roles_for_user_and_project">
<code class="descname">get_roles_for_user_and_project</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.get_roles_for_user_and_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.get_roles_for_user_and_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the roles associated with a user within given project.</p>
<p>This includes roles directly assigned to the user on the
project, as well as those by virtue of group membership or
inheritance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of role ids.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="keystone.html#keystone.exception.ProjectNotFound" title="keystone.exception.ProjectNotFound"><strong>keystone.exception.ProjectNotFound</strong></a> &#8211; If the project doesn&#8217;t
exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.list_domains_for_groups">
<code class="descname">list_domains_for_groups</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.list_domains_for_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.list_domains_for_groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.list_domains_for_user">
<code class="descname">list_domains_for_user</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.list_domains_for_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.list_domains_for_user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.list_grants">
<code class="descname">list_grants</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.list_grants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.list_grants" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.list_projects_for_groups">
<code class="descname">list_projects_for_groups</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.list_projects_for_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.list_projects_for_groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.list_projects_for_user">
<code class="descname">list_projects_for_user</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.list_projects_for_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.list_projects_for_user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.list_role_assignments">
<code class="descname">list_role_assignments</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.list_role_assignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.list_role_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>List role assignments, honoring effective mode and provided filters.</p>
<p>Returns a list of role assignments, where their attributes match the
provided filters (role_id, user_id, group_id, domain_id, project_id and
inherited). If include_subtree is True, then assignments on all
descendants of the project specified by project_id are also included.
The inherited filter defaults to None, meaning to get both
non-inherited and inherited role assignments.</p>
<p>If effective mode is specified, this means that rather than simply
return the assignments that match the filters, any group or
inheritance assignments will be expanded. Group assignments will
become assignments for all the users in that group, and inherited
assignments will be shown on the projects below the assignment point.
Think of effective mode as being the list of assignments that actually
affect a user, for example the roles that would be placed in a token.</p>
<p>If include_names is set to true the entities&#8217; names are returned
in addition to their id&#8217;s.</p>
<p>source_from_group_ids is a list of group IDs and, if specified, then
only those assignments that are derived from membership of these groups
are considered, and any such assignments will not be expanded into
their user membership assignments. This is different to a group filter
of the resulting list, instead being a restriction on which assignments
should be considered before expansion of inheritance. This option is
only used internally (i.e. it is not exposed at the API level) and is
only supported in effective mode (since in regular mode there is no
difference between this and a group filter, other than it is a list of
groups).</p>
<p>In effective mode, any domain specific roles are usually stripped from
the returned assignments (since such roles are not placed in tokens).
This stripping can be disabled by specifying strip_domain_roles=False,
which is useful for internal calls like trusts which need to examine
the full set of roles.</p>
</dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.list_user_ids_for_project">
<code class="descname">list_user_ids_for_project</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.list_user_ids_for_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.list_user_ids_for_project" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.remove_role_from_user_and_project">
<code class="descname">remove_role_from_user_and_project</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.remove_role_from_user_and_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.remove_role_from_user_and_project" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.Manager.remove_user_from_project">
<code class="descname">remove_user_from_project</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#Manager.remove_user_from_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.Manager.remove_user_from_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove user from a tenant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="keystone.html#keystone.exception.ProjectNotFound" title="keystone.exception.ProjectNotFound"><strong>keystone.exception.ProjectNotFound</strong></a> &#8211; If the project doesn&#8217;t
exist.</li>
<li><a class="reference internal" href="keystone.html#keystone.exception.UserNotFound" title="keystone.exception.UserNotFound"><strong>keystone.exception.UserNotFound</strong></a> &#8211; If the user doesn&#8217;t exist.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.core.RoleManager">
<em class="property">class </em><code class="descclassname">keystone.assignment.core.</code><code class="descname">RoleManager</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#RoleManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.RoleManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.manager.Manager" title="keystone.common.manager.Manager"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.manager.Manager</span></code></a></p>
<p>Default pivot point for the Role backend.</p>
<dl class="method">
<dt id="keystone.assignment.core.RoleManager.create_implied_role">
<code class="descname">create_implied_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#RoleManager.create_implied_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.RoleManager.create_implied_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.RoleManager.create_role">
<code class="descname">create_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#RoleManager.create_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.RoleManager.create_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.RoleManager.delete_implied_role">
<code class="descname">delete_implied_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#RoleManager.delete_implied_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.RoleManager.delete_implied_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.RoleManager.delete_role">
<code class="descname">delete_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#RoleManager.delete_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.RoleManager.delete_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="keystone.assignment.core.RoleManager.driver_namespace">
<code class="descname">driver_namespace</code><em class="property"> = 'keystone.role'</em><a class="headerlink" href="#keystone.assignment.core.RoleManager.driver_namespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.RoleManager.get_role">
<code class="descname">get_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#RoleManager.get_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.RoleManager.get_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.RoleManager.list_roles">
<code class="descname">list_roles</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#RoleManager.list_roles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.RoleManager.list_roles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="keystone.assignment.core.RoleManager.update_role">
<code class="descname">update_role</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/core.html#RoleManager.update_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.core.RoleManager.update_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.assignment.routers">
<span id="keystone-assignment-routers-module"></span><h2>keystone.assignment.routers module<a class="headerlink" href="#module-keystone.assignment.routers" title="Permalink to this headline">¶</a></h2>
<p>WSGI Routers for the Assignment service.</p>
<dl class="class">
<dt id="keystone.assignment.routers.Admin">
<em class="property">class </em><code class="descclassname">keystone.assignment.routers.</code><code class="descname">Admin</code><span class="sig-paren">(</span><em>mapper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/routers.html#Admin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.routers.Admin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.wsgi.ComposableRouter" title="keystone.common.wsgi.ComposableRouter"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.ComposableRouter</span></code></a></p>
<dl class="method">
<dt id="keystone.assignment.routers.Admin.add_routes">
<code class="descname">add_routes</code><span class="sig-paren">(</span><em>mapper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/routers.html#Admin.add_routes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.routers.Admin.add_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.routers.Public">
<em class="property">class </em><code class="descclassname">keystone.assignment.routers.</code><code class="descname">Public</code><span class="sig-paren">(</span><em>mapper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/routers.html#Public"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.routers.Public" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.wsgi.ComposableRouter" title="keystone.common.wsgi.ComposableRouter"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.ComposableRouter</span></code></a></p>
<dl class="method">
<dt id="keystone.assignment.routers.Public.add_routes">
<code class="descname">add_routes</code><span class="sig-paren">(</span><em>mapper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/routers.html#Public.add_routes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.routers.Public.add_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="keystone.assignment.routers.Routers">
<em class="property">class </em><code class="descclassname">keystone.assignment.routers.</code><code class="descname">Routers</code><a class="reference internal" href="../_modules/keystone/assignment/routers.html#Routers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.routers.Routers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="keystone.common.html#keystone.common.wsgi.RoutersBase" title="keystone.common.wsgi.RoutersBase"><code class="xref py py-class docutils literal"><span class="pre">keystone.common.wsgi.RoutersBase</span></code></a></p>
<dl class="method">
<dt id="keystone.assignment.routers.Routers.append_v3_routers">
<code class="descname">append_v3_routers</code><span class="sig-paren">(</span><em>mapper</em>, <em>routers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/keystone/assignment/routers.html#Routers.append_v3_routers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#keystone.assignment.routers.Routers.append_v3_routers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-keystone.assignment.schema">
<span id="keystone-assignment-schema-module"></span><h2>keystone.assignment.schema module<a class="headerlink" href="#module-keystone.assignment.schema" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-keystone.assignment">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-keystone.assignment" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">keystone.assignment package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-keystone.assignment.controllers">keystone.assignment.controllers module</a></li>
<li><a class="reference internal" href="#module-keystone.assignment.core">keystone.assignment.core module</a></li>
<li><a class="reference internal" href="#module-keystone.assignment.routers">keystone.assignment.routers module</a></li>
<li><a class="reference internal" href="#module-keystone.assignment.schema">keystone.assignment.schema module</a></li>
<li><a class="reference internal" href="#module-keystone.assignment">Module contents</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="keystone.html"
                                  title="previous chapter">keystone package</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="keystone.assignment.backends.html"
                                  title="next chapter">keystone.assignment.backends package</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/keystone
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/keystone.assignment.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="keystone.assignment.backends.html" title="keystone.assignment.backends package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="keystone.html" title="keystone package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">keystone 11.0.0.0rc2.dev29 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Modules</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="keystone.html" accesskey="U">keystone package</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, OpenStack Foundation.
      Last updated on &#39;Fri Feb 10 22:47:54 2017, commit 9c47495&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/keystone");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>