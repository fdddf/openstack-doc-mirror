<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mistral.engine package &mdash; Mistral</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/toggle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0.0.0rc2.dev22',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/toggle.js"></script>
    <link rel="top" title="Mistral" href="../index.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mistral-engine-package">
<h1>mistral.engine package<a class="headerlink" href="#mistral-engine-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mistral.engine.rpc_backend.html">mistral.engine.rpc_backend package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mistral.engine.rpc_backend.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.html">mistral.engine.rpc_backend.kombu package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.examples.html">mistral.engine.rpc_backend.kombu.examples package</a><ul>
<li class="toctree-l6"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.examples.html#submodules">Submodules</a></li>
<li class="toctree-l6"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.examples.html#module-mistral.engine.rpc_backend.kombu.examples.client">mistral.engine.rpc_backend.kombu.examples.client module</a></li>
<li class="toctree-l6"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.examples.html#module-mistral.engine.rpc_backend.kombu.examples.server">mistral.engine.rpc_backend.kombu.examples.server module</a></li>
<li class="toctree-l6"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.examples.html#module-mistral.engine.rpc_backend.kombu.examples">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.html#module-mistral.engine.rpc_backend.kombu.base">mistral.engine.rpc_backend.kombu.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.html#module-mistral.engine.rpc_backend.kombu.kombu_client">mistral.engine.rpc_backend.kombu.kombu_client module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.html#module-mistral.engine.rpc_backend.kombu.kombu_hosts">mistral.engine.rpc_backend.kombu.kombu_hosts module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.html#module-mistral.engine.rpc_backend.kombu.kombu_listener">mistral.engine.rpc_backend.kombu.kombu_listener module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.html#module-mistral.engine.rpc_backend.kombu.kombu_server">mistral.engine.rpc_backend.kombu.kombu_server module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.kombu.html#module-mistral.engine.rpc_backend.kombu">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mistral.engine.rpc_backend.oslo.html">mistral.engine.rpc_backend.oslo package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.oslo.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.oslo.html#module-mistral.engine.rpc_backend.oslo.oslo_client">mistral.engine.rpc_backend.oslo.oslo_client module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.oslo.html#module-mistral.engine.rpc_backend.oslo.oslo_server">mistral.engine.rpc_backend.oslo.oslo_server module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mistral.engine.rpc_backend.oslo.html#module-mistral.engine.rpc_backend.oslo">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mistral.engine.rpc_backend.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mistral.engine.rpc_backend.html#module-mistral.engine.rpc_backend.base">mistral.engine.rpc_backend.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mistral.engine.rpc_backend.html#module-mistral.engine.rpc_backend.rpc">mistral.engine.rpc_backend.rpc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mistral.engine.rpc_backend.html#module-mistral.engine.rpc_backend">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mistral.engine.action_handler">
<span id="mistral-engine-action-handler-module"></span><h2>mistral.engine.action_handler module<a class="headerlink" href="#module-mistral.engine.action_handler" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mistral.engine.action_queue">
<span id="mistral-engine-action-queue-module"></span><h2>mistral.engine.action_queue module<a class="headerlink" href="#module-mistral.engine.action_queue" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mistral.engine.actions">
<span id="mistral-engine-actions-module"></span><h2>mistral.engine.actions module<a class="headerlink" href="#module-mistral.engine.actions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mistral.engine.actions.Action">
<em class="property">class </em><code class="descclassname">mistral.engine.actions.</code><code class="descname">Action</code><span class="sig-paren">(</span><em>action_def</em>, <em>action_ex=None</em>, <em>task_ex=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.Action" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Action.</p>
<p>Represents a workflow action and defines interface that can be used by
Mistral engine or its components in order to manipulate with actions.</p>
<dl class="method">
<dt id="mistral.engine.actions.Action.complete">
<code class="descname">complete</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.Action.complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Complete action and process its result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>result</strong> &#8211; Action result.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.Action.fail">
<code class="descname">fail</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.Action.fail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.Action.is_sync">
<code class="descname">is_sync</code><span class="sig-paren">(</span><em>input_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.Action.is_sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if action is synchronous.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input_dict</strong> &#8211; Dictionary with input parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.Action.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_dict</em>, <em>target</em>, <em>index=0</em>, <em>desc=''</em>, <em>save=True</em>, <em>safe_rerun=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.Action.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Immediately run action.</p>
<p>This method runs method w/o scheduling its run for a later time.
From engine perspective action will be processed in synchronous
mode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_dict</strong> &#8211; Action input.</li>
<li><strong>target</strong> &#8211; Target (group of action executors).</li>
<li><strong>index</strong> &#8211; Action execution index. Makes sense for some types.</li>
<li><strong>desc</strong> &#8211; Action execution description.</li>
<li><strong>save</strong> &#8211; True if action execution object needs to be saved.</li>
<li><strong>safe_rerun</strong> &#8211; If true, action would be re-run if executor dies
during execution.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Action output.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.Action.schedule">
<code class="descname">schedule</code><span class="sig-paren">(</span><em>input_dict</em>, <em>target</em>, <em>index=0</em>, <em>desc=''</em>, <em>safe_rerun=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.Action.schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedule action run.</p>
<p>This method is needed to schedule action run so its result can
be received later by engine. In this sense it will be running in
asynchronous mode from engine perspective (don&#8217;t confuse with
executor asynchrony when executor doesn&#8217;t immediately send a
result).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input_dict</strong> &#8211; Action input.</li>
<li><strong>target</strong> &#8211; Target (group of action executors).</li>
<li><strong>index</strong> &#8211; Action execution index. Makes sense for some types.</li>
<li><strong>desc</strong> &#8211; Action execution description.</li>
<li><strong>safe_rerun</strong> &#8211; If true, action would be re-run if executor dies
during execution.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.Action.validate_input">
<code class="descname">validate_input</code><span class="sig-paren">(</span><em>input_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.Action.validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates action input parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input_dict</strong> &#8211; Dictionary with input parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.actions.AdHocAction">
<em class="property">class </em><code class="descclassname">mistral.engine.actions.</code><code class="descname">AdHocAction</code><span class="sig-paren">(</span><em>action_def</em>, <em>action_ex=None</em>, <em>task_ex=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.AdHocAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.actions.PythonAction" title="mistral.engine.actions.PythonAction"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.actions.PythonAction</span></code></a></p>
<p>Ad-hoc action.</p>
<dl class="method">
<dt id="mistral.engine.actions.AdHocAction.validate_input">
<code class="descname">validate_input</code><span class="sig-paren">(</span><em>input_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.AdHocAction.validate_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.actions.PythonAction">
<em class="property">class </em><code class="descclassname">mistral.engine.actions.</code><code class="descname">PythonAction</code><span class="sig-paren">(</span><em>action_def</em>, <em>action_ex=None</em>, <em>task_ex=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.PythonAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.actions.Action" title="mistral.engine.actions.Action"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.actions.Action</span></code></a></p>
<p>Regular Python action.</p>
<dl class="method">
<dt id="mistral.engine.actions.PythonAction.complete">
<code class="descname">complete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.PythonAction.complete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.PythonAction.is_sync">
<code class="descname">is_sync</code><span class="sig-paren">(</span><em>input_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.PythonAction.is_sync" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.PythonAction.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.PythonAction.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.PythonAction.schedule">
<code class="descname">schedule</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.PythonAction.schedule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.PythonAction.validate_input">
<code class="descname">validate_input</code><span class="sig-paren">(</span><em>input_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.PythonAction.validate_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.actions.WorkflowAction">
<em class="property">class </em><code class="descclassname">mistral.engine.actions.</code><code class="descname">WorkflowAction</code><span class="sig-paren">(</span><em>action_def</em>, <em>action_ex=None</em>, <em>task_ex=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.WorkflowAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.actions.Action" title="mistral.engine.actions.Action"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.actions.Action</span></code></a></p>
<p>Workflow action.</p>
<dl class="method">
<dt id="mistral.engine.actions.WorkflowAction.complete">
<code class="descname">complete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.WorkflowAction.complete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.WorkflowAction.is_sync">
<code class="descname">is_sync</code><span class="sig-paren">(</span><em>input_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.WorkflowAction.is_sync" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.WorkflowAction.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.WorkflowAction.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.WorkflowAction.schedule">
<code class="descname">schedule</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.WorkflowAction.schedule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.actions.WorkflowAction.validate_input">
<code class="descname">validate_input</code><span class="sig-paren">(</span><em>input_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.actions.WorkflowAction.validate_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mistral.engine.base">
<span id="mistral-engine-base-module"></span><h2>mistral.engine.base module<a class="headerlink" href="#module-mistral.engine.base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mistral.engine.base.Engine">
<em class="property">class </em><code class="descclassname">mistral.engine.base.</code><code class="descname">Engine</code><a class="headerlink" href="#mistral.engine.base.Engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Engine interface.</p>
<dl class="method">
<dt id="mistral.engine.base.Engine.on_action_complete">
<code class="descname">on_action_complete</code><span class="sig-paren">(</span><em>action_ex_id</em>, <em>result</em>, <em>wf_action=False</em>, <em>async_=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.Engine.on_action_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts action result and continues the workflow.</p>
<p>Action execution result here is a result which comes from an
action/workflow associated which the task.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action_ex_id</strong> &#8211; Action execution id.</li>
<li><strong>result</strong> &#8211; Action/workflow result. Instance of
mistral.workflow.base.Result</li>
<li><strong>wf_action</strong> &#8211; If True it means that the given id points to
a workflow execution rather than action execution. It happens
when a nested workflow execution sends its result to a parent
workflow.</li>
<li><strong>async</strong> &#8211; If True, run action in asynchronous mode (w/o waiting
for completion).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Action(or workflow if wf_action=True) execution object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.base.Engine.pause_workflow">
<code class="descname">pause_workflow</code><span class="sig-paren">(</span><em>wf_ex_id</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.Engine.pause_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Pauses workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wf_ex_id</strong> &#8211; Execution id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Workflow execution object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.base.Engine.rerun_workflow">
<code class="descname">rerun_workflow</code><span class="sig-paren">(</span><em>task_ex_id</em>, <em>reset=True</em>, <em>env=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.Engine.rerun_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Rerun workflow from the specified task.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>task_ex_id</strong> &#8211; Task execution id.</li>
<li><strong>reset</strong> &#8211; If True, reset task state including deleting its action
executions.</li>
<li><strong>env</strong> &#8211; Workflow environment.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Workflow execution object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.base.Engine.resume_workflow">
<code class="descname">resume_workflow</code><span class="sig-paren">(</span><em>wf_ex_id</em>, <em>env=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.Engine.resume_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Resumes workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wf_ex_id</strong> &#8211; Execution id.</li>
<li><strong>env</strong> &#8211; Workflow environment.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Workflow execution object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.base.Engine.rollback_workflow">
<code class="descname">rollback_workflow</code><span class="sig-paren">(</span><em>wf_ex_id</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.Engine.rollback_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Rolls back workflow execution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wf_ex_id</strong> &#8211; Execution id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Workflow execution object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.base.Engine.start_action">
<code class="descname">start_action</code><span class="sig-paren">(</span><em>action_name</em>, <em>action_input</em>, <em>description=None</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.Engine.start_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the specific action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action_name</strong> &#8211; Action name.</li>
<li><strong>action_input</strong> &#8211; Action input data as a dictionary.</li>
<li><strong>description</strong> &#8211; Execution description.</li>
<li><strong>params</strong> &#8211; Additional options for action running.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Action execution object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.base.Engine.start_workflow">
<code class="descname">start_workflow</code><span class="sig-paren">(</span><em>wf_identifier</em>, <em>wf_input</em>, <em>description=''</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.Engine.start_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the specified workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wf_identifier</strong> &#8211; Workflow ID or name. Workflow ID is recommended,
workflow name will be deprecated since Mitaka.</li>
<li><strong>wf_input</strong> &#8211; Workflow input data as a dictionary.</li>
<li><strong>description</strong> &#8211; Execution description.</li>
<li><strong>params</strong> &#8211; Additional workflow type specific parameters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Workflow execution object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.base.Engine.stop_workflow">
<code class="descname">stop_workflow</code><span class="sig-paren">(</span><em>wf_ex_id</em>, <em>state</em>, <em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.Engine.stop_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wf_ex_id</strong> &#8211; Workflow execution id.</li>
<li><strong>state</strong> &#8211; State assigned to the workflow. Permitted states are
SUCCESS or ERROR.</li>
<li><strong>message</strong> &#8211; Optional information string.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Workflow execution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.base.EventEngine">
<em class="property">class </em><code class="descclassname">mistral.engine.base.</code><code class="descname">EventEngine</code><a class="headerlink" href="#mistral.engine.base.EventEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Action event trigger interface.</p>
<dl class="method">
<dt id="mistral.engine.base.EventEngine.create_event_trigger">
<code class="descname">create_event_trigger</code><span class="sig-paren">(</span><em>trigger</em>, <em>events</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.EventEngine.create_event_trigger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.base.EventEngine.delete_event_trigger">
<code class="descname">delete_event_trigger</code><span class="sig-paren">(</span><em>trigger</em>, <em>events</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.EventEngine.delete_event_trigger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.base.Executor">
<em class="property">class </em><code class="descclassname">mistral.engine.base.</code><code class="descname">Executor</code><a class="headerlink" href="#mistral.engine.base.Executor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Action executor interface.</p>
<dl class="method">
<dt id="mistral.engine.base.Executor.run_action">
<code class="descname">run_action</code><span class="sig-paren">(</span><em>action_ex_id</em>, <em>action_class_str</em>, <em>attributes</em>, <em>action_params</em>, <em>safe_rerun</em>, <em>redelivered=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.Executor.run_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>action_ex_id</strong> &#8211; Corresponding action execution id.</li>
<li><strong>action_class_str</strong> &#8211; Path to action class in dot notation.</li>
<li><strong>attributes</strong> &#8211; Attributes of action class which will be set to.</li>
<li><strong>action_params</strong> &#8211; Action parameters.</li>
<li><strong>safe_rerun</strong> &#8211; Tells if given action can be safely rerun.</li>
<li><strong>redelivered</strong> &#8211; Tells if given action was run before on another
executor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.base.TaskPolicy">
<em class="property">class </em><code class="descclassname">mistral.engine.base.</code><code class="descname">TaskPolicy</code><a class="headerlink" href="#mistral.engine.base.TaskPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Task policy.</p>
<p>Provides interface to perform any work after a task has completed.
An example of task policy may be &#8216;retry&#8217; policy that makes engine
to run a task repeatedly if it finishes with a failure.</p>
<dl class="method">
<dt id="mistral.engine.base.TaskPolicy.after_task_complete">
<code class="descname">after_task_complete</code><span class="sig-paren">(</span><em>task_ex</em>, <em>task_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.TaskPolicy.after_task_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Called right after task completes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>task_ex</strong> &#8211; Completed task DB model.</li>
<li><strong>task_spec</strong> &#8211; Completed task specification.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.base.TaskPolicy.before_task_start">
<code class="descname">before_task_start</code><span class="sig-paren">(</span><em>task_ex</em>, <em>task_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.base.TaskPolicy.before_task_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called right before task start.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>task_ex</strong> &#8211; DB model for task that is about to start.</li>
<li><strong>task_spec</strong> &#8211; Task specification.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mistral.engine.default_engine">
<span id="mistral-engine-default-engine-module"></span><h2>mistral.engine.default_engine module<a class="headerlink" href="#module-mistral.engine.default_engine" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mistral.engine.default_engine.DefaultEngine">
<em class="property">class </em><code class="descclassname">mistral.engine.default_engine.</code><code class="descname">DefaultEngine</code><a class="headerlink" href="#mistral.engine.default_engine.DefaultEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.base.Engine" title="mistral.engine.base.Engine"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.base.Engine</span></code></a></p>
<dl class="method">
<dt id="mistral.engine.default_engine.DefaultEngine.on_action_complete">
<code class="descname">on_action_complete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.default_engine.DefaultEngine.on_action_complete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.default_engine.DefaultEngine.pause_workflow">
<code class="descname">pause_workflow</code><span class="sig-paren">(</span><em>wf_ex_id</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.default_engine.DefaultEngine.pause_workflow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.default_engine.DefaultEngine.rerun_workflow">
<code class="descname">rerun_workflow</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.default_engine.DefaultEngine.rerun_workflow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.default_engine.DefaultEngine.resume_workflow">
<code class="descname">resume_workflow</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.default_engine.DefaultEngine.resume_workflow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.default_engine.DefaultEngine.rollback_workflow">
<code class="descname">rollback_workflow</code><span class="sig-paren">(</span><em>wf_ex_id</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.default_engine.DefaultEngine.rollback_workflow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.default_engine.DefaultEngine.start_action">
<code class="descname">start_action</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.default_engine.DefaultEngine.start_action" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.default_engine.DefaultEngine.start_workflow">
<code class="descname">start_workflow</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.default_engine.DefaultEngine.start_workflow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.default_engine.DefaultEngine.stop_workflow">
<code class="descname">stop_workflow</code><span class="sig-paren">(</span><em>wf_ex_id</em>, <em>state</em>, <em>message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.default_engine.DefaultEngine.stop_workflow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mistral.engine.default_executor">
<span id="mistral-engine-default-executor-module"></span><h2>mistral.engine.default_executor module<a class="headerlink" href="#module-mistral.engine.default_executor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mistral.engine.default_executor.DefaultExecutor">
<em class="property">class </em><code class="descclassname">mistral.engine.default_executor.</code><code class="descname">DefaultExecutor</code><a class="headerlink" href="#mistral.engine.default_executor.DefaultExecutor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.base.Executor" title="mistral.engine.base.Executor"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.base.Executor</span></code></a></p>
<dl class="method">
<dt id="mistral.engine.default_executor.DefaultExecutor.run_action">
<code class="descname">run_action</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.default_executor.DefaultExecutor.run_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>action_ex_id</strong> &#8211; Action execution id.</li>
<li><strong>action_class_str</strong> &#8211; Path to action class in dot notation.</li>
<li><strong>attributes</strong> &#8211; Attributes of action class which will be set to.</li>
<li><strong>action_params</strong> &#8211; Action parameters.</li>
<li><strong>safe_rerun</strong> &#8211; Tells if given action can be safely rerun.</li>
<li><strong>redelivered</strong> &#8211; Tells if given action was run before on another
executor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mistral.engine.dispatcher">
<span id="mistral-engine-dispatcher-module"></span><h2>mistral.engine.dispatcher module<a class="headerlink" href="#module-mistral.engine.dispatcher" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mistral.engine.engine_server">
<span id="mistral-engine-engine-server-module"></span><h2>mistral.engine.engine_server module<a class="headerlink" href="#module-mistral.engine.engine_server" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mistral.engine.engine_server.EngineServer">
<em class="property">class </em><code class="descclassname">mistral.engine.engine_server.</code><code class="descname">EngineServer</code><span class="sig-paren">(</span><em>engine</em>, <em>setup_profiler=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mistral.service.html#mistral.service.base.MistralService" title="mistral.service.base.MistralService"><code class="xref py py-class docutils literal"><span class="pre">mistral.service.base.MistralService</span></code></a></p>
<p>Engine server.</p>
<p>This class manages engine life-cycle and gets registered as an RPC
endpoint to process engine specific calls. It also registers a
cluster member associated with this instance of engine.</p>
<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.on_action_complete">
<code class="descname">on_action_complete</code><span class="sig-paren">(</span><em>rpc_ctx</em>, <em>action_ex_id</em>, <em>result</em>, <em>wf_action</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.on_action_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives RPC calls to communicate action result to engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rpc_ctx</strong> &#8211; RPC request context.</li>
<li><strong>action_ex_id</strong> &#8211; Action execution id.</li>
<li><strong>result</strong> &#8211; Action result data.</li>
<li><strong>wf_action</strong> &#8211; True if given id points to a workflow execution.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Action execution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.pause_workflow">
<code class="descname">pause_workflow</code><span class="sig-paren">(</span><em>rpc_ctx</em>, <em>execution_id</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.pause_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives calls over RPC to pause workflows on engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rpc_ctx</strong> &#8211; Request context.</li>
<li><strong>execution_id</strong> &#8211; Workflow execution id.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Workflow execution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.rerun_workflow">
<code class="descname">rerun_workflow</code><span class="sig-paren">(</span><em>rpc_ctx</em>, <em>task_ex_id</em>, <em>reset=True</em>, <em>env=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.rerun_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives calls over RPC to rerun workflows on engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rpc_ctx</strong> &#8211; RPC request context.</li>
<li><strong>task_ex_id</strong> &#8211; Task execution id.</li>
<li><strong>reset</strong> &#8211; If true, then purge action execution for the task.</li>
<li><strong>env</strong> &#8211; Environment variables to update.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Workflow execution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.resume_workflow">
<code class="descname">resume_workflow</code><span class="sig-paren">(</span><em>rpc_ctx</em>, <em>wf_ex_id</em>, <em>env=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.resume_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives calls over RPC to resume workflows on engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rpc_ctx</strong> &#8211; RPC request context.</li>
<li><strong>wf_ex_id</strong> &#8211; Workflow execution id.</li>
<li><strong>env</strong> &#8211; Environment variables to update.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Workflow execution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.rollback_workflow">
<code class="descname">rollback_workflow</code><span class="sig-paren">(</span><em>rpc_ctx</em>, <em>execution_id</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.rollback_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives calls over RPC to rollback workflows on engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rpc_ctx</strong> &#8211; RPC request context.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Workflow execution.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.start_action">
<code class="descname">start_action</code><span class="sig-paren">(</span><em>rpc_ctx</em>, <em>action_name</em>, <em>action_input</em>, <em>description</em>, <em>params</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.start_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives calls over RPC to start actions on engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rpc_ctx</strong> &#8211; RPC request context.</li>
<li><strong>action_name</strong> &#8211; name of the Action.</li>
<li><strong>action_input</strong> &#8211; input dictionary for Action.</li>
<li><strong>description</strong> &#8211; description of new Action execution.</li>
<li><strong>params</strong> &#8211; extra parameters to run Action.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Action execution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.start_workflow">
<code class="descname">start_workflow</code><span class="sig-paren">(</span><em>rpc_ctx</em>, <em>workflow_identifier</em>, <em>workflow_input</em>, <em>description</em>, <em>params</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.start_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives calls over RPC to start workflows on engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rpc_ctx</strong> &#8211; RPC request context.</li>
<li><strong>workflow_identifier</strong> &#8211; Workflow definition identifier.</li>
<li><strong>workflow_input</strong> &#8211; Workflow input.</li>
<li><strong>description</strong> &#8211; Workflow execution description.</li>
<li><strong>params</strong> &#8211; Additional workflow type specific parameters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Workflow execution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>graceful=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.engine_server.EngineServer.stop_workflow">
<code class="descname">stop_workflow</code><span class="sig-paren">(</span><em>rpc_ctx</em>, <em>execution_id</em>, <em>state</em>, <em>message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.engine_server.EngineServer.stop_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives calls over RPC to stop workflows on engine.</p>
<p>Sets execution state to SUCCESS or ERROR. No more tasks will be
scheduled. Running tasks won&#8217;t be killed, but their results
will be ignored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rpc_ctx</strong> &#8211; RPC request context.</li>
<li><strong>execution_id</strong> &#8211; Workflow execution id.</li>
<li><strong>state</strong> &#8211; State assigned to the workflow. Permitted states are
SUCCESS or ERROR.</li>
<li><strong>message</strong> &#8211; Optional information string.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Workflow execution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mistral.engine.executor_server">
<span id="mistral-engine-executor-server-module"></span><h2>mistral.engine.executor_server module<a class="headerlink" href="#module-mistral.engine.executor_server" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mistral.engine.executor_server.ExecutorServer">
<em class="property">class </em><code class="descclassname">mistral.engine.executor_server.</code><code class="descname">ExecutorServer</code><span class="sig-paren">(</span><em>executor</em>, <em>setup_profiler=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.executor_server.ExecutorServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mistral.service.html#mistral.service.base.MistralService" title="mistral.service.base.MistralService"><code class="xref py py-class docutils literal"><span class="pre">mistral.service.base.MistralService</span></code></a></p>
<p>Executor server.</p>
<p>This class manages executor life-cycle and gets registered as an RPC
endpoint to process executor specific calls. It also registers a
cluster member associated with this instance of executor.</p>
<dl class="method">
<dt id="mistral.engine.executor_server.ExecutorServer.run_action">
<code class="descname">run_action</code><span class="sig-paren">(</span><em>rpc_ctx</em>, <em>action_ex_id</em>, <em>action_class_str</em>, <em>attributes</em>, <em>params</em>, <em>safe_rerun</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.executor_server.ExecutorServer.run_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives calls over RPC to run action on executor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rpc_ctx</strong> &#8211; RPC request context dictionary.</li>
<li><strong>action_ex_id</strong> &#8211; Action execution id.</li>
<li><strong>action_class_str</strong> &#8211; Action class name.</li>
<li><strong>attributes</strong> &#8211; Action class attributes.</li>
<li><strong>params</strong> &#8211; Action input parameters.</li>
<li><strong>safe_rerun</strong> &#8211; Tells if given action can be safely rerun.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Action result.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.executor_server.ExecutorServer.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.executor_server.ExecutorServer.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.executor_server.ExecutorServer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>graceful=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.executor_server.ExecutorServer.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mistral.engine.policies">
<span id="mistral-engine-policies-module"></span><h2>mistral.engine.policies module<a class="headerlink" href="#module-mistral.engine.policies" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mistral.engine.policies.ConcurrencyPolicy">
<em class="property">class </em><code class="descclassname">mistral.engine.policies.</code><code class="descname">ConcurrencyPolicy</code><span class="sig-paren">(</span><em>concurrency</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.ConcurrencyPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.base.TaskPolicy" title="mistral.engine.base.TaskPolicy"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.base.TaskPolicy</span></code></a></p>
<dl class="method">
<dt id="mistral.engine.policies.ConcurrencyPolicy.before_task_start">
<code class="descname">before_task_start</code><span class="sig-paren">(</span><em>task_ex</em>, <em>task_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.ConcurrencyPolicy.before_task_start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.policies.PauseBeforePolicy">
<em class="property">class </em><code class="descclassname">mistral.engine.policies.</code><code class="descname">PauseBeforePolicy</code><span class="sig-paren">(</span><em>expression</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.PauseBeforePolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.base.TaskPolicy" title="mistral.engine.base.TaskPolicy"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.base.TaskPolicy</span></code></a></p>
<dl class="method">
<dt id="mistral.engine.policies.PauseBeforePolicy.before_task_start">
<code class="descname">before_task_start</code><span class="sig-paren">(</span><em>task_ex</em>, <em>task_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.PauseBeforePolicy.before_task_start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.policies.RetryPolicy">
<em class="property">class </em><code class="descclassname">mistral.engine.policies.</code><code class="descname">RetryPolicy</code><span class="sig-paren">(</span><em>count</em>, <em>delay</em>, <em>break_on</em>, <em>continue_on</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.RetryPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.base.TaskPolicy" title="mistral.engine.base.TaskPolicy"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.base.TaskPolicy</span></code></a></p>
<dl class="method">
<dt id="mistral.engine.policies.RetryPolicy.after_task_complete">
<code class="descname">after_task_complete</code><span class="sig-paren">(</span><em>task_ex</em>, <em>task_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.RetryPolicy.after_task_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Possible Cases:</p>
<ol class="arabic simple">
<li>state = SUCCESS
if continue_on is not specified,
no need to move to next iteration;
if current:count achieve retry:count then policy
breaks the loop (regardless on continue-on condition);
otherwise - check continue_on condition and if
it is True - schedule the next iteration,
otherwise policy breaks the loop.</li>
<li>retry:count = 5, current:count = 2, state = ERROR,
state = IDLE/DELAYED, current:count = 3</li>
</ol>
<p>3. retry:count = 5, current:count = 4, state = ERROR
Iterations complete therefore state = #{state}, current:count = 4.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.policies.TimeoutPolicy">
<em class="property">class </em><code class="descclassname">mistral.engine.policies.</code><code class="descname">TimeoutPolicy</code><span class="sig-paren">(</span><em>timeout_sec</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.TimeoutPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.base.TaskPolicy" title="mistral.engine.base.TaskPolicy"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.base.TaskPolicy</span></code></a></p>
<dl class="method">
<dt id="mistral.engine.policies.TimeoutPolicy.before_task_start">
<code class="descname">before_task_start</code><span class="sig-paren">(</span><em>task_ex</em>, <em>task_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.TimeoutPolicy.before_task_start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.policies.WaitAfterPolicy">
<em class="property">class </em><code class="descclassname">mistral.engine.policies.</code><code class="descname">WaitAfterPolicy</code><span class="sig-paren">(</span><em>delay</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.WaitAfterPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.base.TaskPolicy" title="mistral.engine.base.TaskPolicy"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.base.TaskPolicy</span></code></a></p>
<dl class="method">
<dt id="mistral.engine.policies.WaitAfterPolicy.after_task_complete">
<code class="descname">after_task_complete</code><span class="sig-paren">(</span><em>task_ex</em>, <em>task_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.WaitAfterPolicy.after_task_complete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.policies.WaitBeforePolicy">
<em class="property">class </em><code class="descclassname">mistral.engine.policies.</code><code class="descname">WaitBeforePolicy</code><span class="sig-paren">(</span><em>delay</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.WaitBeforePolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.base.TaskPolicy" title="mistral.engine.base.TaskPolicy"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.base.TaskPolicy</span></code></a></p>
<dl class="method">
<dt id="mistral.engine.policies.WaitBeforePolicy.before_task_start">
<code class="descname">before_task_start</code><span class="sig-paren">(</span><em>task_ex</em>, <em>task_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.policies.WaitBeforePolicy.before_task_start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mistral.engine.task_handler">
<span id="mistral-engine-task-handler-module"></span><h2>mistral.engine.task_handler module<a class="headerlink" href="#module-mistral.engine.task_handler" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mistral.engine.tasks">
<span id="mistral-engine-tasks-module"></span><h2>mistral.engine.tasks module<a class="headerlink" href="#module-mistral.engine.tasks" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mistral.engine.tasks.RegularTask">
<em class="property">class </em><code class="descclassname">mistral.engine.tasks.</code><code class="descname">RegularTask</code><span class="sig-paren">(</span><em>wf_ex</em>, <em>wf_spec</em>, <em>task_spec</em>, <em>ctx</em>, <em>task_ex=None</em>, <em>unique_key=None</em>, <em>waiting=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.RegularTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.tasks.Task" title="mistral.engine.tasks.Task"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.tasks.Task</span></code></a></p>
<p>Regular task.</p>
<p>Takes care of processing regular tasks with one action.</p>
<dl class="method">
<dt id="mistral.engine.tasks.RegularTask.on_action_complete">
<code class="descname">on_action_complete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.RegularTask.on_action_complete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.RegularTask.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.RegularTask.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.tasks.Task">
<em class="property">class </em><code class="descclassname">mistral.engine.tasks.</code><code class="descname">Task</code><span class="sig-paren">(</span><em>wf_ex</em>, <em>wf_spec</em>, <em>task_spec</em>, <em>ctx</em>, <em>task_ex=None</em>, <em>unique_key=None</em>, <em>waiting=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Task.</p>
<p>Represents a workflow task and defines interface that can be used by
Mistral engine or its components in order to manipulate with tasks.</p>
<dl class="method">
<dt id="mistral.engine.tasks.Task.complete">
<code class="descname">complete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Complete task and set specified state.</p>
<p>Method sets specified task state and runs all necessary post
completion logic such as publishing workflow variables and
scheduling new workflow commands.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>state</strong> &#8211; New task state.</li>
<li><strong>state_info</strong> &#8211; New state information (i.e. error message).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.Task.defer">
<code class="descname">defer</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.defer" title="Permalink to this definition">¶</a></dt>
<dd><p>Defers task.</p>
<p>This method puts task to a waiting state.</p>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.Task.is_completed">
<code class="descname">is_completed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.is_completed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.Task.is_created">
<code class="descname">is_created</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.is_created" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.Task.is_state_changed">
<code class="descname">is_state_changed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.is_state_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.Task.is_waiting">
<code class="descname">is_waiting</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.is_waiting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.Task.on_action_complete">
<code class="descname">on_action_complete</code><span class="sig-paren">(</span><em>action_ex</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.on_action_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle action completion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>action_ex</strong> &#8211; Action execution.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.Task.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.Task.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs task.</p>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.Task.set_state">
<code class="descname">set_state</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.Task.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets task state without executing post completion logic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>state</strong> &#8211; New task state.</li>
<li><strong>state_info</strong> &#8211; New state information (i.e. error message).</li>
<li><strong>processed</strong> &#8211; New &#8220;processed&#8221; flag value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mistral.engine.tasks.WithItemsTask">
<em class="property">class </em><code class="descclassname">mistral.engine.tasks.</code><code class="descname">WithItemsTask</code><span class="sig-paren">(</span><em>wf_ex</em>, <em>wf_spec</em>, <em>task_spec</em>, <em>ctx</em>, <em>task_ex=None</em>, <em>unique_key=None</em>, <em>waiting=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.WithItemsTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mistral.engine.tasks.RegularTask" title="mistral.engine.tasks.RegularTask"><code class="xref py py-class docutils literal"><span class="pre">mistral.engine.tasks.RegularTask</span></code></a></p>
<p>With-items task.</p>
<p>Takes care of processing &#8220;with-items&#8221; tasks.</p>
<dl class="method">
<dt id="mistral.engine.tasks.WithItemsTask.is_with_items_completed">
<code class="descname">is_with_items_completed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.WithItemsTask.is_with_items_completed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.tasks.WithItemsTask.on_action_complete">
<code class="descname">on_action_complete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.tasks.WithItemsTask.on_action_complete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mistral.engine.utils">
<span id="mistral-engine-utils-module"></span><h2>mistral.engine.utils module<a class="headerlink" href="#module-mistral.engine.utils" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mistral.engine.workflow_handler">
<span id="mistral-engine-workflow-handler-module"></span><h2>mistral.engine.workflow_handler module<a class="headerlink" href="#module-mistral.engine.workflow_handler" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mistral.engine.workflows">
<span id="mistral-engine-workflows-module"></span><h2>mistral.engine.workflows module<a class="headerlink" href="#module-mistral.engine.workflows" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mistral.engine.workflows.Workflow">
<em class="property">class </em><code class="descclassname">mistral.engine.workflows.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>wf_def</em>, <em>wf_ex=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.workflows.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Workflow.</p>
<p>Represents a workflow and defines interface that can be used by
Mistral engine or its components in order to manipulate with workflows.</p>
<dl class="method">
<dt id="mistral.engine.workflows.Workflow.check_and_complete">
<code class="descname">check_and_complete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.workflows.Workflow.check_and_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Completes the workflow if it needs to be completed.</p>
<p>The method simply checks if there are any tasks that are not
in a terminal state. If there aren&#8217;t any then it performs all
necessary logic to finalize the workflow (calculate output etc.).
:return: Number of incomplete tasks.</p>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.workflows.Workflow.lock">
<code class="descname">lock</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.workflows.Workflow.lock" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.workflows.Workflow.rerun">
<code class="descname">rerun</code><span class="sig-paren">(</span><em>task_ex</em>, <em>reset=True</em>, <em>env=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.workflows.Workflow.rerun" title="Permalink to this definition">¶</a></dt>
<dd><p>Rerun workflow from the given task.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>task_ex</strong> &#8211; Task execution that the workflow needs to rerun from.</li>
<li><strong>reset</strong> &#8211; If True, reset task state including deleting its action
executions.</li>
<li><strong>env</strong> &#8211; Environment.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.workflows.Workflow.resume">
<code class="descname">resume</code><span class="sig-paren">(</span><em>env=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.workflows.Workflow.resume" title="Permalink to this definition">¶</a></dt>
<dd><p>Resume workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>env</strong> &#8211; Environment.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.workflows.Workflow.set_state">
<code class="descname">set_state</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.workflows.Workflow.set_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mistral.engine.workflows.Workflow.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.workflows.Workflow.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input_dict</strong> &#8211; Workflow input.</li>
<li><strong>desc</strong> &#8211; Workflow execution description.</li>
<li><strong>params</strong> &#8211; Workflow type specific parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mistral.engine.workflows.Workflow.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>state</em>, <em>msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mistral.engine.workflows.Workflow.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>state</strong> &#8211; New workflow state.</li>
<li><strong>msg</strong> &#8211; Additional explaining message.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mistral.engine">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mistral.engine" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">mistral.engine package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-mistral.engine.action_handler">mistral.engine.action_handler module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.action_queue">mistral.engine.action_queue module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.actions">mistral.engine.actions module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.base">mistral.engine.base module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.default_engine">mistral.engine.default_engine module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.default_executor">mistral.engine.default_executor module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.dispatcher">mistral.engine.dispatcher module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.engine_server">mistral.engine.engine_server module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.executor_server">mistral.engine.executor_server module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.policies">mistral.engine.policies module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.task_handler">mistral.engine.task_handler module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.tasks">mistral.engine.tasks module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.utils">mistral.engine.utils module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.workflow_handler">mistral.engine.workflow_handler module</a></li>
<li><a class="reference internal" href="#module-mistral.engine.workflows">mistral.engine.workflows module</a></li>
<li><a class="reference internal" href="#module-mistral.engine">Module contents</a></li>
</ul>
</li>
</ul>

            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/mistral
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/mistral.engine.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Mistral</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Mistral Contributors.
      Last updated on &#39;Tue Feb 14 13:51:17 2017, commit 83d638a&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/mistral");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>