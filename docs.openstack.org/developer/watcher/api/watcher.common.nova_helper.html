<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The watcher.common.nova_helper Module &mdash; Watcher 1.0.1.dev10 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/toggle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.1.dev10',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/toggle.js"></script>
    <link rel="top" title="Watcher 1.0.1.dev10 documentation" href="../index.html" />
    <link rel="up" title="&lt;no title&gt;" href="autoindex.html" />
    <link rel="next" title="The watcher.common.observable Module" href="watcher.common.observable.html" />
    <link rel="prev" title="The watcher.common.loader.loadable Module" href="watcher.common.loader.loadable.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-watcher.common.nova_helper">
<span id="the-watcher-common-nova-helper-module"></span><h1>The <a class="reference internal" href="#module-watcher.common.nova_helper" title="watcher.common.nova_helper"><code class="xref py py-mod docutils literal"><span class="pre">watcher.common.nova_helper</span></code></a> Module<a class="headerlink" href="#module-watcher.common.nova_helper" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="watcher.common.nova_helper.NovaHelper">
<em class="property">class </em><code class="descclassname">watcher.common.nova_helper.</code><code class="descname">NovaHelper</code><span class="sig-paren">(</span><em>osc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.create_image_from_instance">
<code class="descname">create_image_from_instance</code><span class="sig-paren">(</span><em>instance_id</em>, <em>image_name</em>, <em>metadata={'reason': 'instance_migrate'}</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.create_image_from_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.create_image_from_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new image from a given instance.</p>
<p>It waits for this image to be in &#8216;active&#8217; state before returning.
It returns the unique UUID of the created image if successful,
None otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>instance_id</strong> &#8211; the uniqueid of
the instance to backup as an image.</li>
<li><strong>image_name</strong> &#8211; the name of the image to create.</li>
<li><strong>metadata</strong> &#8211; a dictionary containing the list of
key-value pairs to associate to the image as metadata.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.create_instance">
<code class="descname">create_instance</code><span class="sig-paren">(</span><em>node_id, inst_name='test', image_id=None, flavor_name='m1.tiny', sec_group_list=['default'], network_names_list=['demo-net'], keypair_name='mykeys', create_new_floating_ip=True, block_device_mapping_v2=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.create_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.create_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new instance</p>
<p>It also creates, if requested, a new floating IP and associates
it with the new instance
It returns the unique id of the created instance.</p>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.delete_instance">
<code class="descname">delete_instance</code><span class="sig-paren">(</span><em>instance_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.delete_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.delete_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>This method deletes a given instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>instance_id</strong> &#8211; the unique id of the instance to delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.disable_service_nova_compute">
<code class="descname">disable_service_nova_compute</code><span class="sig-paren">(</span><em>hostname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.disable_service_nova_compute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.disable_service_nova_compute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.enable_service_nova_compute">
<code class="descname">enable_service_nova_compute</code><span class="sig-paren">(</span><em>hostname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.enable_service_nova_compute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.enable_service_nova_compute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.find_instance">
<code class="descname">find_instance</code><span class="sig-paren">(</span><em>instance_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.find_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.find_instance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_aggregate_detail">
<code class="descname">get_aggregate_detail</code><span class="sig-paren">(</span><em>aggregate_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_aggregate_detail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_aggregate_detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_aggregate_list">
<code class="descname">get_aggregate_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_aggregate_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_aggregate_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_availability_zone_list">
<code class="descname">get_availability_zone_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_availability_zone_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_availability_zone_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_compute_node_by_hostname">
<code class="descname">get_compute_node_by_hostname</code><span class="sig-paren">(</span><em>node_hostname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_compute_node_by_hostname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_compute_node_by_hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get compute node by ID (<em>not</em> UUID)</p>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_compute_node_by_id">
<code class="descname">get_compute_node_by_id</code><span class="sig-paren">(</span><em>node_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_compute_node_by_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_compute_node_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get compute node by ID (<em>not</em> UUID)</p>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_compute_node_list">
<code class="descname">get_compute_node_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_compute_node_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_compute_node_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_flavor">
<code class="descname">get_flavor</code><span class="sig-paren">(</span><em>flavor_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_flavor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_flavor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_flavor_instance">
<code class="descname">get_flavor_instance</code><span class="sig-paren">(</span><em>instance</em>, <em>cache</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_flavor_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_flavor_instance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_hostname">
<code class="descname">get_hostname</code><span class="sig-paren">(</span><em>instance</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_hostname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_hostname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_instance_by_name">
<code class="descname">get_instance_by_name</code><span class="sig-paren">(</span><em>instance_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_instance_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_instance_by_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_instance_by_uuid">
<code class="descname">get_instance_by_uuid</code><span class="sig-paren">(</span><em>instance_uuid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_instance_by_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_instance_by_uuid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_instance_list">
<code class="descname">get_instance_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_instance_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_instance_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_instances_by_node">
<code class="descname">get_instances_by_node</code><span class="sig-paren">(</span><em>host</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_instances_by_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_instances_by_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_network_id_from_name">
<code class="descname">get_network_id_from_name</code><span class="sig-paren">(</span><em>net_name='private'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_network_id_from_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_network_id_from_name" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the unique id of the provided network name</p>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.get_service">
<code class="descname">get_service</code><span class="sig-paren">(</span><em>service_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.get_service"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.get_service" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.live_migrate_instance">
<code class="descname">live_migrate_instance</code><span class="sig-paren">(</span><em>instance_id</em>, <em>dest_hostname</em>, <em>block_migration=False</em>, <em>retry=120</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.live_migrate_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.live_migrate_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>This method does a live migration of a given instance</p>
<p>This method uses the Nova built-in live_migrate()
action to do a live migration of a given instance.</p>
<p>It returns True if the migration was successful,
False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>instance_id</strong> &#8211; the unique id of the instance to migrate.</li>
<li><strong>dest_hostname</strong> &#8211; the name of the destination compute node.</li>
<li><strong>block_migration</strong> &#8211; No shared storage is required.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.resize_instance">
<code class="descname">resize_instance</code><span class="sig-paren">(</span><em>instance_id</em>, <em>flavor</em>, <em>retry=120</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.resize_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.resize_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>This method resizes given instance with specified flavor.</p>
<p>This method uses the Nova built-in resize()
action to do a resize of a given instance.</p>
<p>It returns True if the resize was successful,
False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>instance_id</strong> &#8211; the unique id of the instance to resize.</li>
<li><strong>flavor</strong> &#8211; the name or ID of the flavor to resize to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.set_host_offline">
<code class="descname">set_host_offline</code><span class="sig-paren">(</span><em>hostname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.set_host_offline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.set_host_offline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.stop_instance">
<code class="descname">stop_instance</code><span class="sig-paren">(</span><em>instance_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.stop_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.stop_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>This method stops a given instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>instance_id</strong> &#8211; the unique id of the instance to stop.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.wait_for_instance_state">
<code class="descname">wait_for_instance_state</code><span class="sig-paren">(</span><em>server</em>, <em>state</em>, <em>retry</em>, <em>sleep</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.wait_for_instance_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.wait_for_instance_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for server to be in a specific state</p>
<p>The state can be one of the following :
active, stopped</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> &#8211; server object.</li>
<li><strong>state</strong> &#8211; for which state we are waiting for</li>
<li><strong>retry</strong> &#8211; how many times to retry</li>
<li><strong>sleep</strong> &#8211; seconds to sleep between the retries</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.wait_for_instance_status">
<code class="descname">wait_for_instance_status</code><span class="sig-paren">(</span><em>instance</em>, <em>status_list</em>, <em>retry</em>, <em>sleep</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.wait_for_instance_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.wait_for_instance_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for instance to be in a specific status</p>
<p>The status can be one of the following
: BUILD, ACTIVE, ERROR, VERIFY_RESIZE, SHUTOFF</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>instance</strong> &#8211; instance object.</li>
<li><strong>status_list</strong> &#8211; tuple containing the list of
status we are waiting for</li>
<li><strong>retry</strong> &#8211; how many times to retry</li>
<li><strong>sleep</strong> &#8211; seconds to sleep between the retries</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.wait_for_volume_status">
<code class="descname">wait_for_volume_status</code><span class="sig-paren">(</span><em>volume</em>, <em>status</em>, <em>timeout=60</em>, <em>poll_interval=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.wait_for_volume_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.wait_for_volume_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait until volume reaches given status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>volume</strong> &#8211; volume resource</li>
<li><strong>status</strong> &#8211; expected status of volume</li>
<li><strong>timeout</strong> &#8211; timeout in seconds</li>
<li><strong>poll_interval</strong> &#8211; poll interval in seconds</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="watcher.common.nova_helper.NovaHelper.watcher_non_live_migrate_instance">
<code class="descname">watcher_non_live_migrate_instance</code><span class="sig-paren">(</span><em>instance_id</em>, <em>node_id</em>, <em>keep_original_image_name=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/watcher/common/nova_helper.html#NovaHelper.watcher_non_live_migrate_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#watcher.common.nova_helper.NovaHelper.watcher_non_live_migrate_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>This method migrates a given instance</p>
<p>using an image of this instance and creating a new instance
from this image. It saves some configuration information
about the original instance : security group, list of networks,
list of attached volumes, floating IP, ...
in order to apply the same settings to the new instance.
At the end of the process the original instance is deleted.
It returns True if the migration was successful,
False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>instance_id</strong> &#8211; the unique id of the instance to migrate.</li>
<li><strong>keep_original_image_name</strong> &#8211; flag indicating whether the
image name from which the original instance was built must be
used as the name of the intermediate image used for migration.
If this flag is False, a temporary image name is built</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="watcher.common.loader.loadable.html"
                                  title="previous chapter">The <code class="docutils literal"><span class="pre">watcher.common.loader.loadable</span></code> Module</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="watcher.common.observable.html"
                                  title="next chapter">The <code class="docutils literal"><span class="pre">watcher.common.observable</span></code> Module</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/watcher
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/watcher.common.nova_helper.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="watcher.common.observable.html" title="The watcher.common.observable Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="watcher.common.loader.loadable.html" title="The watcher.common.loader.loadable Module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Watcher 1.0.1.dev10 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="autoindex.html" accesskey="U">&lt;no title&gt;</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Watcher");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>