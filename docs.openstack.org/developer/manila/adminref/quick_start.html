<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Quick start</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">
<link href="../_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>Quick start</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="intro.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Introduction to Manila Shared Filesystem Management Service"></i></a>
    
    
    <a href="multi_backends.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Configure multiple back ends"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 'Tue Feb 14 14:25:27 2017, commit 610baa2'</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="../index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">Quick start</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li><a class="reference internal" href="#steps-to-perform">Steps to perform</a><ul>
<li><a class="reference internal" href="#installation-of-manila-binaries">Installation of manila binaries</a></li>
<li><a class="reference internal" href="#installation-of-manila-client">Installation of manila client</a></li>
<li><a class="reference internal" href="#registration-in-keystone">Registration in keystone</a></li>
<li><a class="reference internal" href="#preparation-of-external-files">Preparation of external files</a></li>
<li><a class="reference internal" href="#basic-configuration-of-manila">Basic configuration of manila</a></li>
<li><a class="reference internal" href="#database-setup">Database setup</a></li>
<li><a class="reference internal" href="#running-manila-services">Running manila services</a></li>
<li><a class="reference internal" href="#creation-of-pilot-share">Creation of pilot share</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="quick-start">
<h1>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<p>This document describes how to install manila from the OpenStack <cite>Mitaka</cite>
release. Note that the process differs from previous releases and is likely to
change again in subsequent releases.</p>
<p>Manila consists of the following main services, which are similar to those of
the OpenStack cinder project:</p>
<ul class="simple">
<li>manila-api</li>
<li>manila-data</li>
<li>manila-scheduler</li>
<li>manila-share</li>
</ul>
<p>Installations of <cite>manila-api</cite> and <cite>manila-scheduler</cite> are common
for almost all deployments. But configuration of <cite>manila-share</cite> is
backend-specific and can differ from deployment to deployment. This
document will cover only a single use case, configuring the &#8220;Generic&#8221; driver
that uses the cinder project as its backend.</p>
<p>Note that the <cite>manila-share</cite> service can run in two modes, with and without
handling of <cite>share servers</cite>.  In most cases share servers are virtual machines
that export file shares via various network file systems. The example in this
document describes a backend that manages share servers using network resources
provided by neutron.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Manila supports any network architecture. When a driver is managing its own
share servers, it can use any of several network plug-ins that provide
network resources. Manila includes plug-ins for neutron and nova-network,
as well as a <cite>StandaloneNetworkPlugin</cite> for simple networks. When a driver
is not managing share servers, it has no need for network plug-ins.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>MySQL database</li>
<li>RabbitMQ message bus</li>
<li>OpenStack keystone</li>
<li>Git</li>
</ul>
<p>For Generic driver:</p>
<ul class="simple">
<li>OpenStack cinder</li>
<li>OpenStack glance</li>
<li>OpenStack neutron</li>
<li>OpenStack nova</li>
</ul>
</div>
</div>
<div class="section" id="steps-to-perform">
<h1>Steps to perform<a class="headerlink" href="#steps-to-perform" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Installation of manila binaries</li>
<li>Installation of manila client</li>
<li>Registration in keystone</li>
<li>Preparation of external files (configs, etc...)</li>
<li>Basic configuration of manila</li>
<li>Database setup</li>
<li>Running manila services</li>
<li>Creation of pilot share</li>
</ul>
<div class="section" id="installation-of-manila-binaries">
<h2>Installation of manila binaries<a class="headerlink" href="#installation-of-manila-binaries" title="Permalink to this headline">¶</a></h2>
<p>Manila binaries may be installed using various distribution packages or from
source code. In our case we will use the latter, installation by cloning a git
repository.</p>
<p>Clone repo:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ git clone -b stable/mitaka https://github.com/openstack/manila
</pre></div>
</div>
<p>Then run the installation script:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ sudo python setup.py install
</pre></div>
</div>
<p>It will install the manila binaries and their dependencies.
These are the expected binaries:</p>
<ul class="simple">
<li>manila-all</li>
<li>manila-api</li>
<li>manila-data</li>
<li>manila-manage</li>
<li>manila-scheduler</li>
<li>manila-share</li>
</ul>
</div>
<div class="section" id="installation-of-manila-client">
<h2>Installation of manila client<a class="headerlink" href="#installation-of-manila-client" title="Permalink to this headline">¶</a></h2>
<p>To send requests to manila we need to install the manila client.</p>
<p>Install it using PIP:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo pip install python-manilaclient&gt;<span class="o">=</span><span class="m">1</span>.8.1
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The starting version of the manila client for Mitaka release is 1.8.1</p>
</div>
<p>The above will install the manila binary that will be used for issuing
manila requests.</p>
</div>
<div class="section" id="registration-in-keystone">
<h2>Registration in keystone<a class="headerlink" href="#registration-in-keystone" title="Permalink to this headline">¶</a></h2>
<p>Like all other OpenStack projects, manila should be registered with keystone.
Here are the registration steps, similar to those of cinder:</p>
<ol class="arabic simple">
<li>Create manila service user:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack user create --password %PASSWORD% manila
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Add the admin role to the manila user:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack role add --user manila --project service admin
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Tenant/project may differ, but it should be the same as for all other
service users such as ‘cinder’, ‘nova’, etc.</p>
</div>
<ol class="arabic simple" start="3">
<li>Create the manila service entities:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack service create <span class="se">\</span>
    --name manila <span class="se">\</span>
    --description <span class="s2">&quot;OpenStack Shared Filesystems&quot;</span><span class="se">\</span>
    share

<span class="gp">$</span> openstack service create <span class="se">\</span>
    --name manilav2 <span class="se">\</span>
    --description <span class="s2">&quot;OpenStack Shared Filesystems V2&quot;</span><span class="se">\</span>
    sharev2
</pre></div>
</div>
<p>Result:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>+-------------+----------------------------------+
|   Property  |              Value               |
+-------------+----------------------------------+
| description |   OpenStack Shared Filesystems   |
|   enabled   |               True               |
|      id     | 4c13e9ff7ec04f4e95a26f72ecdf9919 |
|     name    |              manila              |
|     type    |              share               |
+-------------+----------------------------------+

+-------------+----------------------------------+
|   Property  |              Value               |
+-------------+----------------------------------+
| description | OpenStack Shared Filesystems V2  |
|   enabled   |               True               |
|      id     | 2840d1e7b033437f8776a7bd5045b28d |
|     name    |             manilav2             |
|     type    |             sharev2              |
+-------------+----------------------------------+
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>Create the Share Filesystems service API endpoints:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack endpoint create <span class="se">\</span>
    --region RegionOne <span class="se">\</span>
    --publicurl http://%controller%:8786/v1/%<span class="se">\(</span>tenant_id<span class="se">\)</span>s <span class="se">\</span>
    --internalurl http://%controller%:8786/v1/%<span class="se">\(</span>tenant_id<span class="se">\)</span>s <span class="se">\</span>
    --adminurl http://%controller%:8786/v1/%<span class="se">\(</span>tenant_id<span class="se">\)</span>s <span class="se">\</span>
    share
</pre></div>
</div>
<p>Result should be similar to:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>+--------------+--------------------------------------------------------------+
| Field        | Value                                                        |
+--------------+--------------------------------------------------------------+
| adminurl     | http://%controller%:8786/v1/%(tenant_id)s                    |
| id           | 118230f5aa514809a9866ae411636b43                             |
| internalurl  | http://%controller%:8786/v1/%(tenant_id)s                    |
| publicurl    | http://%controller%:8786/v1/%(tenant_id)s                    |
| region       | RegionOne                                                    |
| service_id   | 4c13e9ff7ec04f4e95a26f72ecdf9919                             |
| service_name | manila                                                       |
| service_type | share                                                        |
+--------------+--------------------------------------------------------------+

$ openstack endpoint create \
    --region RegionOne \
    --publicurl http://%controller%:8786/v2/%\(tenant_id\)s \
    --internalurl http://%controller%:8786/v2/%\(tenant_id\)s \
    --adminurl http://%controller%:8786/v2/%\(tenant_id\)s \
    sharev2
</pre></div>
</div>
<p>Result should be similar to:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>+--------------+--------------------------------------------------------------+
| Field        | Value                                                        |
+--------------+--------------------------------------------------------------+
| adminurl     | http://%controller%:8786/v2/%(tenant_id)s                    |
| id           | 228230f5aa514809a9866ae411636b8d                             |
| internalurl  | http://%controller%:8786/v2/%(tenant_id)s                    |
| publicurl    | http://%controller%:8786/v2/%(tenant_id)s                    |
| region       | RegionOne                                                    |
| service_id   | 2840d1e7b033437f8776a7bd5045b28d                             |
| service_name | manilav2                                                     |
| service_type | sharev2                                                      |
+--------------+--------------------------------------------------------------+
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Port ‘8786’ is the default port for manila. It may be changed to any
other port, but this change should also be made in the manila configuration
file using opt ‘osapi_share_listen_port’ which defaults to ‘8786’.</p>
</div>
</div>
<div class="section" id="preparation-of-external-files">
<h2>Preparation of external files<a class="headerlink" href="#preparation-of-external-files" title="Permalink to this headline">¶</a></h2>
<p>Copy files from %git_dir%/etc/manila
to dir ‘/etc/manila’:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">policy</span><span class="o">.</span><span class="n">json</span>
<span class="n">api</span><span class="o">-</span><span class="n">paste</span><span class="o">.</span><span class="n">ini</span>
<span class="n">rootwrap</span><span class="o">.</span><span class="n">conf</span>
<span class="n">rootwrap</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">share</span><span class="o">.</span><span class="n">filters</span>
</pre></div>
</div>
<p>Then generate a config sample file using tox:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> tox -e genconfig
</pre></div>
</div>
<p>This will create a file with the latest config options and their descriptions:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>‘%git_dir%/etc/manila/manila.conf.sample’
</pre></div>
</div>
<p>Copy this file to the same directory as the above files, removing the suffix
‘.sample’ from its name:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> cp %git_dir%/etc/manila/manila.conf.sample /etc/manila/manila.conf
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Manila configuration file may be used from different places.
<cite>/etc/manila/manila.conf</cite> is one of expected paths by default.</p>
</div>
</div>
<div class="section" id="basic-configuration-of-manila">
<h2>Basic configuration of manila<a class="headerlink" href="#basic-configuration-of-manila" title="Permalink to this headline">¶</a></h2>
<p>In our case we will set up one backend with generic driver (using cinder
as its backend) configured to manage its own share servers.
Below is an example of the configuration file, <cite>/etc/manila/manila.conf</cite>,
outlining some core sections.</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[keystone_authtoken]</span>
<span class="na">signing_dir</span> <span class="o">=</span> <span class="s">/var/cache/manila</span>
<span class="na">admin_password</span> <span class="o">=</span> <span class="s">%password_we_used_with_user_creation_operation%</span>
<span class="na">admin_user</span> <span class="o">=</span> <span class="s">manila</span>
<span class="na">admin_tenant_name</span> <span class="o">=</span> <span class="s">%service_project_name_we_used_with_user_creation_operation%</span>
<span class="na">auth_protocol</span> <span class="o">=</span> <span class="s">http</span>
<span class="na">auth_port</span> <span class="o">=</span> <span class="s">35357</span>
<span class="na">auth_host</span> <span class="o">=</span> <span class="s">%address_of_machine_with_keystone_endpoint%</span>

<span class="k">[DATABASE]</span>
<span class="c1"># Set up MySQL connection. In following  ‘foo’ is username,</span>
<span class="c1"># ‘bar’ is password and ‘quuz’ is host name or address:</span>
<span class="na">connection</span> <span class="o">=</span> <span class="s">mysql+pymysql://foo:bar@quuz/manila?charset=utf8</span>

<span class="k">[oslo_concurrency]</span>
<span class="c1"># Following opt defines directory to be used for lock files creation.</span>
<span class="c1"># Should be owned by user that runs manila-share processes.</span>
<span class="c1"># Defaults to env var ‘OSLO_LOCK_PATH’. It is used by manila-share services</span>
<span class="c1"># and is required to be set up. Make sure this dir is created and owned</span>
<span class="c1"># by user that run manila-share services.</span>
<span class="na">lock_path</span> <span class="o">=</span> <span class="s">/etc/manila/custom_manila_lock_path</span>

<span class="k">[DEFAULT]</span>
<span class="c1"># Set pretty logging output. Not required, but may be useful.</span>
<span class="na">logging_exception_prefix</span> <span class="o">=</span> <span class="s">%(color)s%(asctime)s.%(msecs)d TRACE %(name)s ^[[01;35m%(instance)s^[[00m</span>
<span class="na">logging_debug_format_suffix</span> <span class="o">=</span> <span class="s">^[[00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d^[[00m</span>
<span class="na">logging_default_format_string</span> <span class="o">=</span> <span class="s">%(asctime)s.%(msecs)d %(color)s%(levelname)s %(name)s [^[[00;36m-%(color)s] ^[[01;35m%(instance)s%(color)s%(message)s^[[00m</span>
<span class="na">logging_context_format_string</span> <span class="o">=</span> <span class="s">%(asctime)s.%(msecs)d %(color)s%(levelname)s %(name)s [^[[01;36m%(request_id)s ^[[00;36m%(user_id)s %(project_id)s%(color)s] ^[[01;35m%(instance)s%(color)s%(message)s^[[00m</span>

<span class="c1"># Set auth strategy for usage of keystone</span>
<span class="na">auth_strategy</span> <span class="o">=</span> <span class="s">keystone</span>

<span class="c1"># Set message bus creds</span>
<span class="na">rabbit_userid</span> <span class="o">=</span> <span class="s">%rabbit_username%</span>
<span class="na">rabbit_password</span> <span class="o">=</span> <span class="s">%rabbit_user_password%</span>
<span class="na">rabbit_hosts</span> <span class="o">=</span> <span class="s">%address_of_machine_with_rabbit%</span>
<span class="na">rpc_backend</span> <span class="o">=</span> <span class="s">rabbit</span>

<span class="c1"># Following opt is used for definition of share backends that should be enabled.</span>
<span class="c1"># Values are conf groupnames that contain per manila-share service opts.</span>
<span class="na">enabled_share_backends</span> <span class="o">=</span> <span class="s">london</span>

<span class="c1"># Enable protocols ‘NFS’ and ‘CIFS’ as those are the only supported</span>
<span class="c1"># by Generic driver that we are configuring in this set up.</span>
<span class="c1"># All available values are (‘NFS’, ‘CIFS’, ‘GlusterFS’, ‘HDFS’, &#39;CEPHFS&#39;, ‘MapRFS’)</span>
<span class="na">enabled_share_protocols</span> <span class="o">=</span> <span class="s">NFS,CIFS</span>

<span class="c1"># Manila requires ‘share-type’ for share creation.</span>
<span class="c1"># So, set here name of some share-type that will be used by default.</span>
<span class="na">default_share_type</span> <span class="o">=</span> <span class="s">default_share_type</span>

<span class="na">state_path</span> <span class="o">=</span> <span class="s">/opt/stack/data/manila</span>
<span class="na">osapi_share_extension</span> <span class="o">=</span> <span class="s">manila.api.contrib.standard_extensions</span>
<span class="na">rootwrap_config</span> <span class="o">=</span> <span class="s">/etc/manila/rootwrap.conf</span>
<span class="na">api_paste_config</span> <span class="o">=</span> <span class="s">/etc/manila/api-paste.ini</span>
<span class="na">share_name_template</span> <span class="o">=</span> <span class="s">share-%s</span>

<span class="c1"># Set scheduler driver with usage of filters. Recommended.</span>
<span class="na">scheduler_driver</span> <span class="o">=</span> <span class="s">manila.scheduler.drivers.filter.FilterScheduler</span>

<span class="c1"># Set following opt to ‘True’ to get more info in logging.</span>
<span class="na">debug</span> <span class="o">=</span> <span class="s">True</span>

<span class="k">[nova]</span>
<span class="c1"># Only needed by generic or windows drivers, the only drivers</span>
<span class="c1"># as of Mitaka that require it.</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">nova</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">%password%</span>
<span class="na">project_domain_id</span> <span class="o">=</span> <span class="s">default</span>
<span class="na">project_name</span> <span class="o">=</span> <span class="s">service</span>
<span class="na">user_domain_id</span> <span class="o">=</span> <span class="s">default</span>
<span class="na">auth_url</span> <span class="o">=</span> <span class="s">http://127.0.0.1:5000</span>
<span class="na">auth_type</span> <span class="o">=</span> <span class="s">password</span>

<span class="k">[neutron]</span>
<span class="c1"># Only needed when the networking drivers use nova and &quot;generic&quot; driver,</span>
<span class="c1"># as used in this example.</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">neutron</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">%password%</span>
<span class="na">project_domain_id</span> <span class="o">=</span> <span class="s">default</span>
<span class="na">project_name</span> <span class="o">=</span> <span class="s">service</span>
<span class="na">user_domain_id</span> <span class="o">=</span> <span class="s">default</span>
<span class="na">auth_url</span> <span class="o">=</span> <span class="s">http://127.0.0.1:5000</span>
<span class="na">auth_type</span> <span class="o">=</span> <span class="s">password</span>

<span class="k">[cinder]</span>
<span class="c1"># Only needed by generic or windows drivers, the only drivers</span>
<span class="c1"># as of Mitaka that require it.</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">cinder</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">%password%</span>
<span class="na">project_domain_id</span> <span class="o">=</span> <span class="s">default</span>
<span class="na">project_name</span> <span class="o">=</span> <span class="s">service</span>
<span class="na">user_domain_id</span> <span class="o">=</span> <span class="s">default</span>
<span class="na">auth_url</span> <span class="o">=</span> <span class="s">http://127.0.0.1:5000</span>
<span class="na">auth_type</span> <span class="o">=</span> <span class="s">password</span>

<span class="k">[london]</span>
<span class="c1"># This is custom opt group that is used for storing opts of share-service.</span>
<span class="c1"># This one is used only when enabled using opt `enabled_share_backends`</span>
<span class="c1"># from DEFAULT group.</span>

<span class="c1"># Set usage of Generic driver which uses cinder as backend.</span>
<span class="na">share_driver</span> <span class="o">=</span> <span class="s">manila.share.drivers.generic.GenericShareDriver</span>

<span class="c1"># Generic driver supports both driver modes - with and without handling</span>
<span class="c1"># of share servers. So, we need to define explicitly which one we are</span>
<span class="c1"># enabling using this driver.</span>
<span class="na">driver_handles_share_servers</span> <span class="o">=</span> <span class="s">True</span>

<span class="c1"># Generic driver uses a glance image for building service VMs in nova.</span>
<span class="c1"># The following options specify the image to use.</span>
<span class="c1"># We use the latest build of [1].</span>
<span class="c1"># [1] https://github.com/openstack/manila-image-elements</span>
<span class="na">service_instance_password</span> <span class="o">=</span> <span class="s">manila</span>
<span class="na">service_instance_user</span> <span class="o">=</span> <span class="s">manila</span>
<span class="na">service_image_name</span> <span class="o">=</span> <span class="s">manila-service-image</span>

<span class="c1"># These will be used for keypair creation and inserted into service VMs.</span>
<span class="na">path_to_private_key</span> <span class="o">=</span> <span class="s">/home/stack/.ssh/id_rsa</span>
<span class="na">path_to_public_key</span> <span class="o">=</span> <span class="s">/home/stack/.ssh/id_rsa.pub</span>

<span class="c1"># Custom name for share backend.</span>
<span class="na">share_backend_name</span> <span class="o">=</span> <span class="s">LONDON</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Generic driver does not use network plugins, so none is part of the
above configuration. Other drivers that manage their own share servers may
require one of manila&#8217;s network plug-ins.</p>
</div>
</div>
<div class="section" id="database-setup">
<h2>Database setup<a class="headerlink" href="#database-setup" title="Permalink to this headline">¶</a></h2>
<p>Manila supports different SQL dialects in theory, but it is only tested with
MySQL, so this step assumes that MySQL has been installed.</p>
<p>Create the database for manila:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> mysql -u%DATABASE_USER% -p%DATABASE_PASSWORD% -h%MYSQL_HOST% -e <span class="s2">&quot;DROP DATABASE IF EXISTS manila;&quot;</span>
<span class="gp">$</span> mysql -u%DATABASE_USER% -p%DATABASE_PASSWORD% -h%MYSQL_HOST% -e <span class="s2">&quot;CREATE DATABASE manila CHARACTER SET utf8;&quot;</span>
</pre></div>
</div>
<p>Then create manila&#8217;s tables and apply all migrations:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila-manage db sync
</pre></div>
</div>
<p>Here is the list of tables for the Mitaka release of manila:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>+--------------------------------------------+
| Tables_in_manila                           |
+--------------------------------------------+
| alembic_version                            |
| availability_zones                         |
| cgsnapshot_members                         |
| cgsnapshots                                |
| consistency_group_share_type_mappings      |
| consistency_groups                         |
| drivers_private_data                       |
| network_allocations                        |
| project_user_quotas                        |
| quota_classes                              |
| quota_usages                               |
| quotas                                     |
| reservations                               |
| security_services                          |
| services                                   |
| share_access_map                           |
| share_instance_access_map                  |
| share_instance_export_locations            |
| share_instance_export_locations_metadata   |
| share_instances                            |
| share_metadata                             |
| share_network_security_service_association |
| share_networks                             |
| share_server_backend_details               |
| share_servers                              |
| share_snapshot_instances                   |
| share_snapshots                            |
| share_type_extra_specs                     |
| share_type_projects                        |
| share_types                                |
| shares                                     |
+--------------------------------------------+
</pre></div>
</div>
</div>
<div class="section" id="running-manila-services">
<h2>Running manila services<a class="headerlink" href="#running-manila-services" title="Permalink to this headline">¶</a></h2>
<p>Run manila-api first:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila-api <span class="se">\</span>
    --config-file /etc/manila/manila.conf <span class="p">&amp;</span> <span class="se">\</span>
    <span class="nb">echo</span> <span class="nv">$!</span> &gt;/opt/stack/status/stack/m-api.pid<span class="p">;</span> <span class="se">\</span>
    <span class="nb">fg</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">&quot;m-api failed to start&quot;</span> <span class="p">|</span> <span class="se">\</span>
    tee <span class="s2">&quot;/opt/stack/status/stack/m-api.failure&quot;</span>
</pre></div>
</div>
<p>Create a default share type before running <cite>manila-share</cite> service:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila type-create default_share_type True
</pre></div>
</div>
<p>Where <cite>default_share_type</cite> is custom name of <cite>share-type</cite> and <cite>True</cite> is value
for required extra-spec <cite>driver_handles_share_servers</cite>. These are required
params for creation of <cite>share-type</cite>.</p>
<p>Result:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>+----------------------+-------------------------------------+
| Property             | Value                               |
+----------------------+-------------------------------------+
| required_extra_specs | driver_handles_share_servers : True |
| Name                 | default_share_type                  |
| Visibility           | public                              |
| is_default           | -                                   |
| ID                   | %some_id%                           |
| optional_extra_specs | snapshot_support : True             |
+----------------------+-------------------------------------+
</pre></div>
</div>
<p>Service <cite>manila-api</cite> may be restarted to get updated information about
<cite>default share type</cite>. So, get list of share types after restart of
service <cite>manila-api</cite>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila type-list
</pre></div>
</div>
<p>Result:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>+-----------+--------------------+------------+------------+-------------------------------------+-------------------------+
| ID        | Name               | visibility | is_default | required_extra_specs                | optional_extra_specs    |
+-----------+--------------------+------------+------------+-------------------------------------+-------------------------+
| %some_id% | default_share_type | public     | YES        | driver_handles_share_servers : True | snapshot_support : True |
+-----------+--------------------+------------+------------+-------------------------------------+-------------------------+
</pre></div>
</div>
<p>Add any additional extra specs to <cite>share-type</cite> if needed using following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila type-key default_share_type <span class="nb">set</span> <span class="nv">key</span><span class="o">=</span>value
</pre></div>
</div>
<p>This may be viewed as follows:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila extra-specs-list
</pre></div>
</div>
<p>Run manila-scheduler:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila-scheduler <span class="se">\</span>
    --config-file /etc/manila/manila.conf <span class="p">&amp;</span> <span class="se">\</span>
    <span class="nb">echo</span> <span class="nv">$!</span> &gt;/opt/stack/status/stack/m-sch.pid<span class="p">;</span> <span class="se">\</span>
    <span class="nb">fg</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">&quot;m-sch failed to start&quot;</span> <span class="p">|</span> <span class="se">\</span>
    tee <span class="s2">&quot;/opt/stack/status/stack/m-sch.failure&quot;</span>
</pre></div>
</div>
<p>Run manila-share:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila-share <span class="se">\</span>
    --config-file /etc/manila/manila.conf <span class="p">&amp;</span> <span class="se">\</span>
    <span class="nb">echo</span> <span class="nv">$!</span> &gt;/opt/stack/status/stack/m-shr.pid<span class="p">;</span> <span class="se">\</span>
    <span class="nb">fg</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">&quot;m-shr failed to start&quot;</span> <span class="p">|</span> <span class="se">\</span>
    tee <span class="s2">&quot;/opt/stack/status/stack/m-shr.failure&quot;</span>
</pre></div>
</div>
<p>Run manila-data:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila-data <span class="se">\</span>
    --config-file /etc/manila/manila.conf <span class="p">&amp;</span> <span class="se">\</span>
    <span class="nb">echo</span> <span class="nv">$!</span> &gt;opt/stack/status/stack/m-dat.pid<span class="p">;</span> <span class="se">\</span>
    <span class="nb">fg</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">&quot;m-dat failed to start&quot;</span> <span class="p">|</span> <span class="se">\</span>
    tee <span class="s2">&quot;/opt/stack/status/stack/m-dat.failure&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="creation-of-pilot-share">
<h2>Creation of pilot share<a class="headerlink" href="#creation-of-pilot-share" title="Permalink to this headline">¶</a></h2>
<p>In this step we assume that the following services are running:</p>
<ul class="simple">
<li>keystone</li>
<li>nova (used by Generic driver, not strict dependency of manila)</li>
<li>neutron (default network backend for Generic driver, used when driver handles share servers)</li>
<li>cinder (used by Generic driver)</li>
</ul>
<p>To operate a driver that handles share servers, we must create
a <cite>share network</cite>, which is a set of network information that will be used
during share server creation.
In our example, to use neutron, we will do the following:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> neutron net-list
</pre></div>
</div>
<p>Here we note the ID of a neutron network and one of its subnets.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some configurations of the Generic driver may require this network be
attached to a public router. It is so by default. So, if you use the
default configuration of Generic driver, make sure the network is attached
to a public router.</p>
</div>
<p>Then define a share network using the neutron network and subnet IDs:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila share-network-create <span class="se">\</span>
    --name test_share_network <span class="se">\</span>
    --neutron-net-id %id_of_neutron_network% <span class="se">\</span>
    --neutron-subnet-id %id_of_network_subnet%
</pre></div>
</div>
<p>Now we can create a share using the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila create NFS <span class="m">1</span> --name testshare --share-network test_share_network
</pre></div>
</div>
<p>The above command will instruct manila to schedule a share for creation. Once
created, configure user access to the new share before attempting to mount it
via the network:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> manila access-allow testshare ip <span class="m">0</span>.0.0.0/0 --access-level rw
</pre></div>
</div>
<p>We added read-write access to all IP addresses. Now, you can try mounting this
NFS share onto any host. To determine the path required to mount the share onto
a host, run:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> manila share-export-location-list testshare
<span class="go">+--------------------------------------+--------------------------------------------------------+-----------+</span>
<span class="go">| ID                                   | Path                                                   | Preferred |</span>
<span class="go">+--------------------------------------+--------------------------------------------------------+-----------+</span>
<span class="go">| 6921e862-88bc-49a5-a2df-efeed9acd583 | 10.0.0.3:/share-e1c2d35e-fe67-4028-ad7a-45f668732b1d   | False     |</span>
<span class="go">| b6bd76ce-12a2-42a9-a30a-8a43b503867d | 10.254.0.3:/share-e1c2d35e-fe67-4028-ad7a-45f668732b1d | False     |</span>
<span class="go">+--------------------------------------+--------------------------------------------------------+-----------+</span>
</pre></div>
</div>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="intro.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Introduction to Manila Shared Filesystem Management Service"></i></a>
          
          
            <a href="multi_backends.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Configure multiple back ends"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 'Tue Feb 14 14:25:27 2017, commit 610baa2'</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="../devref/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../man/index.html">Command-Line Utilities</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Admin Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Introduction to Manila Shared Filesystem Management Service</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Quick start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#steps-to-perform">Steps to perform</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi_backends.html">Configure multiple back ends</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi_backends.html#enable-multiple-back-ends">Enable multiple back ends</a></li>
<li class="toctree-l2"><a class="reference internal" href="network_plugins.html">Manila Network Plugins</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-1.12.4.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "adminref/quick_start" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/manila/tree/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 610baa2fdb702fa4cc2c12eb5c61599bdcad21ce";
        var bugProject = "manila";
        var bugTitle = "Quick start in manila";
    var fieldTags = "docs";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 4.0.0.0rc2.dev25 on 'Tue Feb 14 14:25:27 2017, commit 610baa2'";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>