<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Scheduler</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">
<link href="../_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>Scheduler</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="auth.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Authentication and Authorization"></i></a>
    
    
    <a href="fakes.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Fake Drivers"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 'Tue Feb 14 14:25:27 2017, commit 610baa2'</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="../index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">Scheduler</a><ul>
<li><a class="reference internal" href="#the-manila-scheduler-manager-module">The <code class="docutils literal"><span class="pre">manila.scheduler.manager</span></code> Module</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-base-handler-module">The <code class="docutils literal"><span class="pre">manila.scheduler.base_handler</span></code> Module</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-host-manager-module">The <code class="docutils literal"><span class="pre">manila.scheduler.host_manager</span></code> Module</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-rpcapi-module">The <code class="docutils literal"><span class="pre">manila.scheduler.rpcapi</span></code> Module</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-scheduler-options-module">The <code class="docutils literal"><span class="pre">manila.scheduler.scheduler_options</span></code> Module</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-drivers-filter-module">The <code class="docutils literal"><span class="pre">manila.scheduler.drivers.filter</span></code> Module</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-drivers-base-module">The <code class="docutils literal"><span class="pre">manila.scheduler.drivers.base</span></code> Module</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-drivers-chance-module">The <code class="docutils literal"><span class="pre">manila.scheduler.drivers.chance</span></code> Module</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-drivers-simple-module">The <code class="docutils literal"><span class="pre">manila.scheduler.drivers.simple</span></code> Module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scheduler-filters">Scheduler Filters</a><ul>
<li><a class="reference internal" href="#the-manila-scheduler-filters-availability-zone-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.availability_zone</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-base-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.base</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-base-host-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.base_host</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-capabilities-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.capabilities</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-capacity-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.capacity</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-consistency-group-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.consistency_group</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-extra-specs-ops-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.extra_specs_ops</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-ignore-attempted-hosts-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.ignore_attempted_hosts</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-json-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.json</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-retry-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.retry</span></code> Filter</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-filters-share-replication-filter">The <code class="docutils literal"><span class="pre">manila.scheduler.filters.share_replication</span></code> Filter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scheduler-weighers">Scheduler Weighers</a><ul>
<li><a class="reference internal" href="#the-manila-scheduler-weighers-base-weigher">The <code class="docutils literal"><span class="pre">manila.scheduler.weighers.base</span></code> Weigher</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-weighers-base-host-weigher">The <code class="docutils literal"><span class="pre">manila.scheduler.weighers.base_host</span></code> Weigher</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-weighers-capacity-weigher">The <code class="docutils literal"><span class="pre">manila.scheduler.weighers.capacity</span></code> Weigher</a></li>
<li><a class="reference internal" href="#the-manila-scheduler-weighers-pool-weigher">The <code class="docutils literal"><span class="pre">manila.scheduler.weighers.pool</span></code> Weigher</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="scheduler">
<h1>Scheduler<a class="headerlink" href="#scheduler" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-manila-scheduler-manager-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.manager</span></code> Module<a class="headerlink" href="#the-manila-scheduler-manager-module" title="Permalink to this headline">¶</a></h2>
<p>Scheduler Service</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">SchedulerManager</code><span class="sig-paren">(</span><em>scheduler_driver=None</em>, <em>service_name=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.manager.Manager</span></code></p>
<p>Chooses a host to create shares.</p>
<dl class="attribute">
<dt>
<code class="descname">RPC_API_VERSION</code><em class="property"> = '1.8'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share_group</code><span class="sig-paren">(</span><em>context</em>, <em>share_group_id</em>, <em>request_spec=None</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share_instance</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec=None</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share_replica</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec=None</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">get_host_list</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span></dt>
<dd><p>Get a list of hosts from the HostManager.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pools</code><span class="sig-paren">(</span><em>context</em>, <em>filters=None</em><span class="sig-paren">)</span></dt>
<dd><p>Get active pools from the scheduler&#8217;s cache.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_service_capabilities</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span></dt>
<dd><p>Get the normalized set of capabilities for this zone.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">init_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">manage_share</code><span class="sig-paren">(</span><em>context</em>, <em>share_id</em>, <em>driver_options</em>, <em>request_spec</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd><p>Ensure that the host exists and can accept the share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">migrate_share_to_host</code><span class="sig-paren">(</span><em>context</em>, <em>share_id</em>, <em>host</em>, <em>force_host_assisted_migration</em>, <em>preserve_metadata</em>, <em>writable</em>, <em>nondisruptive</em>, <em>preserve_snapshots</em>, <em>new_share_network_id</em>, <em>new_share_type_id</em>, <em>request_spec</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd><p>Ensure that the host exists and can accept the share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">request_service_capabilities</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">update_service_capabilities</code><span class="sig-paren">(</span><em>context</em>, <em>service_name=None</em>, <em>host=None</em>, <em>capabilities=None</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Process a capability update from a service node.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-base-handler-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.base_handler</span></code> Module<a class="headerlink" href="#the-manila-scheduler-base-handler-module" title="Permalink to this headline">¶</a></h2>
<p>A common base for handling extension classes.</p>
<p>Used by BaseFilterHandler and BaseWeightHandler</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">BaseHandler</code><span class="sig-paren">(</span><em>modifier_class_type</em>, <em>modifier_namespace</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class to handle loading filter and weight classes.</p>
<dl class="method">
<dt>
<code class="descname">get_all_classes</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-host-manager-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.host_manager</span></code> Module<a class="headerlink" href="#the-manila-scheduler-host-manager-module" title="Permalink to this headline">¶</a></h2>
<p>Manage hosts in the current zone.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">HostManager</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base HostManager class.</p>
<dl class="method">
<dt>
<code class="descname">get_all_host_states_share</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span></dt>
<dd><p>Returns a dict of all the hosts the HostManager knows about.</p>
<p>Each of the consumable resources in HostState are
populated with capabilities scheduler received from RPC.</p>
<dl class="docutils">
<dt>For example:</dt>
<dd>{&#8216;192.168.1.100&#8217;: HostState(), ...}</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_filtered_hosts</code><span class="sig-paren">(</span><em>hosts</em>, <em>filter_properties</em>, <em>filter_class_names=None</em><span class="sig-paren">)</span></dt>
<dd><p>Filter hosts and return only ones passing all filters.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pools</code><span class="sig-paren">(</span><em>context</em>, <em>filters=None</em><span class="sig-paren">)</span></dt>
<dd><p>Returns a dict of all pools on all hosts HostManager knows about.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_weighed_hosts</code><span class="sig-paren">(</span><em>hosts</em>, <em>weight_properties</em>, <em>weigher_class_names=None</em><span class="sig-paren">)</span></dt>
<dd><p>Weigh the hosts.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">host_state_cls</code></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">HostState</span></code></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_service_capabilities</code><span class="sig-paren">(</span><em>service_name</em>, <em>host</em>, <em>capabilities</em><span class="sig-paren">)</span></dt>
<dd><p>Update the per-service capabilities based on this notification.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">HostState</code><span class="sig-paren">(</span><em>host</em>, <em>capabilities=None</em>, <em>service=None</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Mutable and immutable information tracked for a host.</p>
<dl class="method">
<dt>
<code class="descname">consume_from_share</code><span class="sig-paren">(</span><em>share</em><span class="sig-paren">)</span></dt>
<dd><p>Incrementally update host state from an share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_backend</code><span class="sig-paren">(</span><em>capability</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">update_capabilities</code><span class="sig-paren">(</span><em>capabilities=None</em>, <em>service=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">update_from_share_capability</code><span class="sig-paren">(</span><em>capability</em>, <em>service=None</em>, <em>context=None</em><span class="sig-paren">)</span></dt>
<dd><p>Update information about a host from its share_node info.</p>
<p>&#8216;capability&#8217; is the status info reported by share backend, a typical
capability looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">capability</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;share_backend_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Local NFS&#39;</span><span class="p">,</span>    <span class="c1">#                &#39;vendor_name&#39;: &#39;OpenStack&#39;,           #  backend level</span>
    <span class="s1">&#39;driver_version&#39;</span><span class="p">:</span> <span class="s1">&#39;1.0&#39;</span><span class="p">,</span>              <span class="c1">#  mandatory/fixed</span>
    <span class="s1">&#39;storage_protocol&#39;</span><span class="p">:</span> <span class="s1">&#39;NFS&#39;</span><span class="p">,</span>            <span class="c1">#/ stats&amp;capabilities</span>

    <span class="s1">&#39;active_shares&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>                  <span class="c1">#                &#39;IOPS_provisioned&#39;: 30000,            #  optional custom</span>
    <span class="s1">&#39;fancy_capability_1&#39;</span><span class="p">:</span> <span class="s1">&#39;eat&#39;</span><span class="p">,</span>          <span class="c1">#  stats &amp; capabilities</span>
    <span class="s1">&#39;fancy_capability_2&#39;</span><span class="p">:</span> <span class="s1">&#39;drink&#39;</span><span class="p">,</span>        <span class="c1">#/</span>

    <span class="s1">&#39;pools&#39;</span><span class="p">:[</span>
      <span class="p">{</span>
         <span class="s1">&#39;pool_name&#39;</span><span class="p">:</span> <span class="s1">&#39;1st pool&#39;</span><span class="p">,</span>         <span class="c1">#                     &#39;total_capacity_gb&#39;: 500,        #  mandatory stats</span>
         <span class="s1">&#39;free_capacity_gb&#39;</span><span class="p">:</span> <span class="mi">230</span><span class="p">,</span>         <span class="c1">#   for pools</span>
         <span class="s1">&#39;allocated_capacity_gb&#39;</span><span class="p">:</span> <span class="mi">270</span><span class="p">,</span>    <span class="c1"># |</span>
         <span class="s1">&#39;qos&#39;</span><span class="p">:</span> <span class="s1">&#39;False&#39;</span><span class="p">,</span>                  <span class="c1"># |</span>
         <span class="s1">&#39;reserved_percentage&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>        <span class="c1">#/</span>

         <span class="s1">&#39;dying_disks&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>              <span class="c1">#                     &#39;super_hero_1&#39;: &#39;spider-man&#39;,    #  optional custom</span>
         <span class="s1">&#39;super_hero_2&#39;</span><span class="p">:</span> <span class="s1">&#39;flash&#39;</span><span class="p">,</span>         <span class="c1">#  stats &amp;</span>
         <span class="s1">&#39;super_hero_3&#39;</span><span class="p">:</span> <span class="s1">&#39;neoncat&#39;</span><span class="p">,</span>       <span class="c1">#  capabilities</span>
         <span class="s1">&#39;super_hero_4&#39;</span><span class="p">:</span> <span class="s1">&#39;green lantern&#39;</span><span class="p">,</span> <span class="c1">#/</span>
       <span class="p">},</span>
      <span class="p">{</span>
         <span class="s1">&#39;pool_name&#39;</span><span class="p">:</span> <span class="s1">&#39;2nd pool&#39;</span><span class="p">,</span>
         <span class="s1">&#39;total_capacity_gb&#39;</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span>
         <span class="s1">&#39;free_capacity_gb&#39;</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span>
         <span class="s1">&#39;allocated_capacity_gb&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
         <span class="s1">&#39;qos&#39;</span><span class="p">:</span> <span class="s1">&#39;False&#39;</span><span class="p">,</span>
         <span class="s1">&#39;reserved_percentage&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>

         <span class="s1">&#39;dying_disks&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
         <span class="s1">&#39;super_hero_1&#39;</span><span class="p">:</span> <span class="s1">&#39;superman&#39;</span><span class="p">,</span>
         <span class="s1">&#39;super_hero_2&#39;</span><span class="p">:</span> <span class="s1">&#39;Hulk&#39;</span><span class="p">,</span>
      <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_pools</code><span class="sig-paren">(</span><em>capability</em>, <em>service</em>, <em>context=None</em><span class="sig-paren">)</span></dt>
<dd><p>Update storage pools information from backend reported info.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">PoolState</code><span class="sig-paren">(</span><em>host</em>, <em>capabilities</em>, <em>pool_name</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.host_manager.HostState</span></code></p>
<dl class="method">
<dt>
<code class="descname">update_from_share_capability</code><span class="sig-paren">(</span><em>capability</em>, <em>service=None</em>, <em>context=None</em><span class="sig-paren">)</span></dt>
<dd><p>Update information about a pool from its share_node info.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_pools</code><span class="sig-paren">(</span><em>capability</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">ReadOnlyDict</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">UserDict.IterableUserDict</span></code></p>
<p>A read-only dict.</p>
<dl class="method">
<dt>
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">pop</code><span class="sig-paren">(</span><em>key</em>, <em>*args</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">popitem</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">update</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-rpcapi-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.rpcapi</span></code> Module<a class="headerlink" href="#the-manila-scheduler-rpcapi-module" title="Permalink to this headline">¶</a></h2>
<p>Client side of the scheduler manager RPC API.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">SchedulerAPI</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Client side of the scheduler rpc API.</p>
<p>API version history:</p>
<blockquote>
<div>1.0 - Initial version.
1.1 - Add get_pools method
1.2 - Introduce Share Instances. Replace <code class="docutils literal"><span class="pre">create_share()</span></code> with
<code class="docutils literal"><span class="pre">create_share_instance()</span></code>
1.3 - Add create_consistency_group method (renamed in 1.7)
1.4 - Add migrate_share_to_host method
1.5 - Add create_share_replica
1.6 - Add manage_share
1.7 - Updated migrate_share_to_host method with new parameters
1.8 - Rename create_consistency_group -&gt; create_share_group method</div></blockquote>
<dl class="attribute">
<dt>
<code class="descname">RPC_API_VERSION</code><em class="property"> = '1.8'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share_group</code><span class="sig-paren">(</span><em>context</em>, <em>share_group_id</em>, <em>request_spec=None</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd><p>Casts an rpc to the scheduler to create a share group.</p>
<dl class="docutils">
<dt>Example of &#8216;request_spec&#8217; argument value::</dt>
<dd><dl class="first docutils">
<dt>{</dt>
<dd>&#8216;share_group_type_id&#8217;: ,
&#8216;share_group_id&#8217;: &#8216;some_fake_uuid&#8217;,
&#8216;share_types&#8217;: [models.ShareType],
&#8216;resource_type&#8217;: models.ShareGroup,</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share_instance</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec=None</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share_replica</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec=None</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pools</code><span class="sig-paren">(</span><em>context</em>, <em>filters=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">manage_share</code><span class="sig-paren">(</span><em>context</em>, <em>share_id</em>, <em>driver_options</em>, <em>request_spec=None</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">migrate_share_to_host</code><span class="sig-paren">(</span><em>context</em>, <em>share_id</em>, <em>host</em>, <em>force_host_assisted_migration</em>, <em>preserve_metadata</em>, <em>writable</em>, <em>nondisruptive</em>, <em>preserve_snapshots</em>, <em>new_share_network_id</em>, <em>new_share_type_id</em>, <em>request_spec=None</em>, <em>filter_properties=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">update_service_capabilities</code><span class="sig-paren">(</span><em>context</em>, <em>service_name</em>, <em>host</em>, <em>capabilities</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-scheduler-options-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.scheduler_options</span></code> Module<a class="headerlink" href="#the-manila-scheduler-scheduler-options-module" title="Permalink to this headline">¶</a></h2>
<p>SchedulerOptions monitors a local .json file for changes and loads
it if needed. This file is converted to a data structure and passed
into the filtering and weighing functions which can use it for
dynamic configuration.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">SchedulerOptions</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Monitor and load local .json file for filtering and weighing.</p>
<p>SchedulerOptions monitors a local .json file for changes and loads it
if needed. This file is converted to a data structure and passed into
the filtering and weighing functions which can use it for dynamic
configuration.</p>
<dl class="method">
<dt>
<code class="descname">get_configuration</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span></dt>
<dd><p>Check the json file for changes and load it if needed.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-drivers-filter-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.drivers.filter</span></code> Module<a class="headerlink" href="#the-manila-scheduler-drivers-filter-module" title="Permalink to this headline">¶</a></h2>
<p>The FilterScheduler is for creating shares.
You can customize this scheduler by specifying your own share Filters and
Weighing Functions.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">FilterScheduler</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.drivers.base.Scheduler</span></code></p>
<p>Scheduler that can be used for filtering and weighing.</p>
<dl class="method">
<dt>
<code class="descname">get_pools</code><span class="sig-paren">(</span><em>context</em>, <em>filters</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">host_passes_filters</code><span class="sig-paren">(</span><em>context</em>, <em>host</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">populate_filter_properties_share</code><span class="sig-paren">(</span><em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Stuff things into filter_properties.</p>
<p>Can be overridden in a subclass to add more data.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">schedule_create_replica</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">schedule_create_share</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">schedule_create_share_group</code><span class="sig-paren">(</span><em>context</em>, <em>share_group_id</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-drivers-base-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.drivers.base</span></code> Module<a class="headerlink" href="#the-manila-scheduler-drivers-base-module" title="Permalink to this headline">¶</a></h2>
<p>Scheduler base class that all Schedulers should inherit from</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">Scheduler</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>The base class that all Scheduler classes should inherit from.</p>
<dl class="method">
<dt>
<code class="descname">get_host_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Get a list of hosts from the HostManager.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pools</code><span class="sig-paren">(</span><em>context</em>, <em>filters</em><span class="sig-paren">)</span></dt>
<dd><p>Must override schedule method for scheduler to work.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_service_capabilities</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Get the normalized set of capabilities for the services.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">host_passes_filters</code><span class="sig-paren">(</span><em>context</em>, <em>host</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Must override schedule method for migration to work.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">hosts_up</code><span class="sig-paren">(</span><em>context</em>, <em>topic</em><span class="sig-paren">)</span></dt>
<dd><p>Return the list of hosts that have a running service for topic.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">schedule</code><span class="sig-paren">(</span><em>context</em>, <em>topic</em>, <em>method</em>, <em>*_args</em>, <em>**_kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Must override schedule method for scheduler to work.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">schedule_create_replica</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Must override schedule method for create replica to work.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">schedule_create_share</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Must override schedule method for scheduler to work.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">schedule_create_share_group</code><span class="sig-paren">(</span><em>context</em>, <em>share_group_id</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Must override schedule method for scheduler to work.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_service_capabilities</code><span class="sig-paren">(</span><em>service_name</em>, <em>host</em>, <em>capabilities</em><span class="sig-paren">)</span></dt>
<dd><p>Process a capability update from a service node.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt>
<code class="descname">share_group_update_db</code><span class="sig-paren">(</span><em>context</em>, <em>share_group_id</em>, <em>host</em><span class="sig-paren">)</span></dt>
<dd><p>Set the host and set the updated_at field of a share group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A share group with the updated fields set properly.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descname">share_replica_update_db</code><span class="sig-paren">(</span><em>context</em>, <em>share_replica_id</em>, <em>host</em><span class="sig-paren">)</span></dt>
<dd><p>Set the host and the scheduled_at field of a share replica.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A Share Replica with the updated fields set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descname">share_update_db</code><span class="sig-paren">(</span><em>context</em>, <em>share_id</em>, <em>host</em><span class="sig-paren">)</span></dt>
<dd><p>Set the host and set the scheduled_at field of a share.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A Share with the updated fields set properly.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-drivers-chance-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.drivers.chance</span></code> Module<a class="headerlink" href="#the-manila-scheduler-drivers-chance-module" title="Permalink to this headline">¶</a></h2>
<p>Chance (Random) Scheduler implementation</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">ChanceScheduler</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.drivers.base.Scheduler</span></code></p>
<p>Implements Scheduler as a random node selector.</p>
<dl class="method">
<dt>
<code class="descname">schedule_create_share</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Picks a host that is up at random.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-drivers-simple-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.drivers.simple</span></code> Module<a class="headerlink" href="#the-manila-scheduler-drivers-simple-module" title="Permalink to this headline">¶</a></h2>
<p>Simple Scheduler</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">SimpleScheduler</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.drivers.chance.ChanceScheduler</span></code></p>
<p>Implements Naive Scheduler that tries to find least loaded host.</p>
<dl class="method">
<dt>
<code class="descname">schedule_create_share</code><span class="sig-paren">(</span><em>context</em>, <em>request_spec</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Picks a host that is up and has the fewest shares.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="scheduler-filters">
<h1>Scheduler Filters<a class="headerlink" href="#scheduler-filters" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-manila-scheduler-filters-availability-zone-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.availability_zone</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-availability-zone-filter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">AvailabilityZoneFilter</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.filters.base_host.BaseHostFilter</span></code></p>
<p>Filters Hosts by availability zone.</p>
<dl class="method">
<dt>
<code class="descname">host_passes</code><span class="sig-paren">(</span><em>host_state</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">run_filter_once_per_request</code><em class="property"> = True</em></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-filters-base-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.base</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-base-filter" title="Permalink to this headline">¶</a></h2>
<p>Filter support</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">BaseFilter</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for all filter classes.</p>
<dl class="method">
<dt>
<code class="descname">filter_all</code><span class="sig-paren">(</span><em>filter_obj_list</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Yield objects that pass the filter.</p>
<p>Can be overridden in a subclass, if you need to base filtering
decisions on all objects.  Otherwise, one can just override
_filter_one() to filter a single object.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">run_filter_for_index</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span></dt>
<dd><p>Check if filter needs to be run for the &#8220;index-th&#8221; instance.</p>
<p>Return True if the filter needs to be run for the &#8220;index-th&#8221;
instance in a request.  Only need to override this if a filter
needs anything other than &#8220;first only&#8221; or &#8220;all&#8221; behaviour.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">run_filter_once_per_request</code><em class="property"> = False</em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">BaseFilterHandler</code><span class="sig-paren">(</span><em>modifier_class_type</em>, <em>modifier_namespace</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.base_handler.BaseHandler</span></code></p>
<p>Base class to handle loading filter classes.</p>
<p>This class should be subclassed where one needs to use filters.</p>
<dl class="method">
<dt>
<code class="descname">get_filtered_objects</code><span class="sig-paren">(</span><em>filter_classes</em>, <em>objs</em>, <em>filter_properties</em>, <em>index=0</em><span class="sig-paren">)</span></dt>
<dd><p>Get objects after filter</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filter_classes</strong> &#8211; filters that will be used to filter the
objects</li>
<li><strong>objs</strong> &#8211; objects that will be filtered</li>
<li><strong>filter_properties</strong> &#8211; client filter properties</li>
<li><strong>index</strong> &#8211; This value needs to be increased in the caller
function of get_filtered_objects when handling
each resource.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-filters-base-host-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.base_host</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-base-host-filter" title="Permalink to this headline">¶</a></h2>
<p>Scheduler host filters</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">BaseHostFilter</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.filters.base.BaseFilter</span></code></p>
<p>Base class for host filters.</p>
<dl class="method">
<dt>
<code class="descname">host_passes</code><span class="sig-paren">(</span><em>host_state</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Return True if the HostState passes the filter, otherwise False.</p>
<p>Override this in a subclass.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">HostFilterHandler</code><span class="sig-paren">(</span><em>namespace</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.filters.base.BaseFilterHandler</span></code></p>
</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-filters-capabilities-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.capabilities</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-capabilities-filter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">CapabilitiesFilter</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.filters.base_host.BaseHostFilter</span></code></p>
<p>HostFilter to work with resource (instance &amp; volume) type records.</p>
<dl class="method">
<dt>
<code class="descname">host_passes</code><span class="sig-paren">(</span><em>host_state</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Return a list of hosts that can create resource_type.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-filters-capacity-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.capacity</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-capacity-filter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">CapacityFilter</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.filters.base_host.BaseHostFilter</span></code></p>
<p>CapacityFilter filters based on share host&#8217;s capacity utilization.</p>
<dl class="method">
<dt>
<code class="descname">host_passes</code><span class="sig-paren">(</span><em>host_state</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Return True if host has sufficient capacity.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-filters-consistency-group-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.consistency_group</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-consistency-group-filter" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="the-manila-scheduler-filters-extra-specs-ops-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.extra_specs_ops</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-extra-specs-ops-filter" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt>
<code class="descname">match</code><span class="sig-paren">(</span><em>value</em>, <em>req</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</div>
<div class="section" id="the-manila-scheduler-filters-ignore-attempted-hosts-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.ignore_attempted_hosts</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-ignore-attempted-hosts-filter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">IgnoreAttemptedHostsFilter</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.filters.base_host.BaseHostFilter</span></code></p>
<p>Filter out previously attempted hosts</p>
<p>A host passes this filter if it has not already been attempted for
scheduling. The scheduler needs to add previously attempted hosts
to the &#8216;retry&#8217; key of filter_properties in order for this to work
correctly. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s1">&#39;retry&#39;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s1">&#39;hosts&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;host1&#39;</span><span class="p">,</span> <span class="s1">&#39;host2&#39;</span><span class="p">],</span>
           <span class="s1">&#39;num_attempts&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
          <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="method">
<dt>
<code class="descname">host_passes</code><span class="sig-paren">(</span><em>host_state</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Skip nodes that have already been attempted.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-filters-json-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.json</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-json-filter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">JsonFilter</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.filters.base_host.BaseHostFilter</span></code></p>
<p>Host Filter to allow simple JSON-based grammar for selecting hosts.</p>
<dl class="attribute">
<dt>
<code class="descname">commands</code><em class="property"> = {'=': &lt;function _equals at 0x7f21639c8758&gt;, '&lt;': &lt;function _less_than at 0x7f21639c8b18&gt;, '&gt;': &lt;function _greater_than at 0x7f21639c85f0&gt;, '&gt;=': &lt;function _greater_than_equal at 0x7f216380cf50&gt;, 'in': &lt;function _in at 0x7f21639c8cf8&gt;, 'or': &lt;function _or at 0x7f216380ce60&gt;, '&lt;=': &lt;function _less_than_equal at 0x7f216380ca28&gt;, 'not': &lt;function _not at 0x7f216380ced8&gt;, 'and': &lt;function _and at 0x7f216380cde8&gt;}</em></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">host_passes</code><span class="sig-paren">(</span><em>host_state</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Filters hosts.</p>
<p>Return a list of hosts that can fulfill the requirements
specified in the query.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-filters-retry-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.retry</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-retry-filter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">RetryFilter</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.filters.base_host.BaseHostFilter</span></code></p>
<p>Filter out already tried nodes for scheduling purposes.</p>
<dl class="method">
<dt>
<code class="descname">host_passes</code><span class="sig-paren">(</span><em>host_state</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Skip nodes that have already been attempted.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-filters-share-replication-filter">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.filters.share_replication</span></code> Filter<a class="headerlink" href="#the-manila-scheduler-filters-share-replication-filter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">ShareReplicationFilter</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.filters.base_host.BaseHostFilter</span></code></p>
<p>ShareReplicationFilter filters hosts based on replication support.</p>
<dl class="method">
<dt>
<code class="descname">host_passes</code><span class="sig-paren">(</span><em>host_state</em>, <em>filter_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Return True if &#8216;active&#8217; replica&#8217;s host can replicate with host.</p>
<p>Design of this filter:</p>
<blockquote>
<div><ul class="simple">
<li>Share replication is symmetric. All backends that can
replicate between each other must share the same
&#8216;replication_domain&#8217;.</li>
<li>For scheduling a share that can be replicated in the future,
this filter checks for &#8216;replication_domain&#8217; capability.</li>
<li>For scheduling a replica, it checks for the
&#8216;replication_domain&#8217; compatibility.</li>
</ul>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="scheduler-weighers">
<h1>Scheduler Weighers<a class="headerlink" href="#scheduler-weighers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-manila-scheduler-weighers-base-weigher">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.weighers.base</span></code> Weigher<a class="headerlink" href="#the-manila-scheduler-weighers-base-weigher" title="Permalink to this headline">¶</a></h2>
<p>Pluggable Weighing support</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">BaseWeigher</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for pluggable weighers.</p>
<p>The attributes maxval and minval can be specified to set up the maximum
and minimum values for the weighed objects. These values will then be
taken into account in the normalization step, instead of taking the values
from the calculated weighers.</p>
<dl class="attribute">
<dt>
<code class="descname">maxval</code><em class="property"> = None</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">minval</code><em class="property"> = None</em></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">weigh_objects</code><span class="sig-paren">(</span><em>weighed_obj_list</em>, <em>weight_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Weigh multiple objects.</p>
<p>Override in a subclass if you need access to all objects in order
to calculate weighers. Do not modify the weight of an object here,
just return a list of weighers.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">weight_multiplier</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>How weighted this weigher should be.</p>
<p>Override this method in a subclass, so that the returned value is
read from a configuration option to permit operators specify a
multiplier for the weigher.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">BaseWeightHandler</code><span class="sig-paren">(</span><em>modifier_class_type</em>, <em>modifier_namespace</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.base_handler.BaseHandler</span></code></p>
<dl class="method">
<dt>
<code class="descname">get_weighed_objects</code><span class="sig-paren">(</span><em>weigher_classes</em>, <em>obj_list</em>, <em>weighing_properties</em><span class="sig-paren">)</span></dt>
<dd><p>Return a sorted (descending), normalized list of WeighedObjects.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_class</code></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">WeighedObject</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">WeighedObject</code><span class="sig-paren">(</span><em>obj</em>, <em>weight</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Object with weight information.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descname">normalize</code><span class="sig-paren">(</span><em>weight_list</em>, <em>minval=None</em>, <em>maxval=None</em><span class="sig-paren">)</span></dt>
<dd><p>Normalize the values in a list between 0 and 1.0.</p>
<p>The normalization is made regarding the lower and upper values present in
weight_list. If the minval and/or maxval parameters are set, these values
will be used instead of the minimum and maximum from the list.</p>
<p>If all the values are equal, they are normalized to 0.</p>
</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-weighers-base-host-weigher">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.weighers.base_host</span></code> Weigher<a class="headerlink" href="#the-manila-scheduler-weighers-base-host-weigher" title="Permalink to this headline">¶</a></h2>
<p>Scheduler host weighers</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">BaseHostWeigher</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.weighers.base.BaseWeigher</span></code></p>
<p>Base class for host weighers.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">HostWeightHandler</code><span class="sig-paren">(</span><em>namespace</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.weighers.base.BaseWeightHandler</span></code></p>
<dl class="attribute">
<dt>
<code class="descname">object_class</code></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">WeighedHost</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">WeighedHost</code><span class="sig-paren">(</span><em>obj</em>, <em>weight</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.weighers.base.WeighedObject</span></code></p>
<dl class="method">
<dt>
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-weighers-capacity-weigher">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.weighers.capacity</span></code> Weigher<a class="headerlink" href="#the-manila-scheduler-weighers-capacity-weigher" title="Permalink to this headline">¶</a></h2>
<p>Capacity Weigher.  Weigh hosts by their virtual or actual free capacity.</p>
<p>For thin provisioning, weigh hosts by their virtual free capacity calculated
by the total capacity multiplied by the max over subscription ratio and
subtracting the provisioned capacity; Otherwise, weigh hosts by their actual
free capacity, taking into account the reserved space.</p>
<p>The default is to spread shares across all hosts evenly.  If you prefer
stacking, you can set the &#8216;capacity_weight_multiplier&#8217; option to a negative
number and the weighing has the opposite effect of the default.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">CapacityWeigher</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.weighers.base_host.BaseHostWeigher</span></code></p>
<dl class="method">
<dt>
<code class="descname">weigh_objects</code><span class="sig-paren">(</span><em>weighed_obj_list</em>, <em>weight_properties</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">weight_multiplier</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Override the weight multiplier.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-scheduler-weighers-pool-weigher">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">manila.scheduler.weighers.pool</span></code> Weigher<a class="headerlink" href="#the-manila-scheduler-weighers-pool-weigher" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">PoolWeigher</code></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.scheduler.weighers.base_host.BaseHostWeigher</span></code></p>
<dl class="method">
<dt>
<code class="descname">weight_multiplier</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Override the weight multiplier.</p>
</dd></dl>

</dd></dl>

</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="auth.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Authentication and Authorization"></i></a>
          
          
            <a href="fakes.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Fake Drivers"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 'Tue Feb 14 14:25:27 2017, commit 610baa2'</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#programming-howtos-and-tutorials">Programming HowTos and Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#background-concepts-for-manila">Background Concepts for manila</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other-resources">Other Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#api-reference">API Reference</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#module-reference">Module Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#capabilities-and-extra-specs">Capabilities and Extra-Specs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#share-backends-feature-support-mapping">Share backends feature support mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#share-backends">Share backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../man/index.html">Command-Line Utilities</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../adminref/index.html">Admin Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-1.12.4.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "devref/scheduler" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/manila/tree/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 610baa2fdb702fa4cc2c12eb5c61599bdcad21ce";
        var bugProject = "manila";
        var bugTitle = "Scheduler in manila";
    var fieldTags = "docs";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 4.0.0.0rc2.dev25 on 'Tue Feb 14 14:25:27 2017, commit 610baa2'";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>