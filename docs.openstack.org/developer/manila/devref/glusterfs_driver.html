<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: GlusterFS driver</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">
<link href="../_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>GlusterFS driver</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="generic_driver.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Generic approach for share provisioning"></i></a>
    
    
    <a href="glusterfs_native_driver.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: GlusterFS Native driver"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 'Tue Feb 14 14:25:27 2017, commit 610baa2'</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="../index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">GlusterFS driver</a><ul>
<li><a class="reference internal" href="#supported-shared-filesystems">Supported shared filesystems</a></li>
<li><a class="reference internal" href="#supported-operations">Supported Operations</a></li>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#manila-driver-configuration-setting">Manila driver configuration setting</a></li>
<li><a class="reference internal" href="#layouts">Layouts</a><ul>
<li><a class="reference internal" href="#gluster-nfs-with-volume-mapped-layout">Gluster NFS with volume mapped layout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#known-restrictions">Known Restrictions</a><ul>
<li><a class="reference internal" href="#the-manila-share-drivers-glusterfs-module">The <code class="docutils literal"><span class="pre">manila.share.drivers.glusterfs</span></code> Module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="glusterfs-driver">
<h1>GlusterFS driver<a class="headerlink" href="#glusterfs-driver" title="Permalink to this headline">¶</a></h1>
<p>GlusterFS driver uses GlusterFS, an open source distributed file system,
as the storage backend for serving file shares to manila clients.</p>
<div class="section" id="supported-shared-filesystems">
<h2>Supported shared filesystems<a class="headerlink" href="#supported-shared-filesystems" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>NFS (access by IP)</li>
</ul>
</div>
<div class="section" id="supported-operations">
<h2>Supported Operations<a class="headerlink" href="#supported-operations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Create share</li>
<li>Delete share</li>
<li>Allow share access (rw)</li>
<li>Deny share access</li>
<li>With volume layout:<ul>
<li>Create snapshot</li>
<li>Delete snapshot</li>
<li>Create share from snapshot</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Install glusterfs-server package, version &gt;= 3.5.x, on the storage backend.</li>
<li>Install NFS-Ganesha, version &gt;=2.1, if using NFS-Ganesha as the NFS server
for the GlusterFS backend.</li>
<li>Install glusterfs and glusterfs-fuse package, version &gt;=3.5.x, on the manila
host.</li>
<li>Establish network connection between the manila host and the storage backend.</li>
</ul>
</div>
<div class="section" id="manila-driver-configuration-setting">
<h2>Manila driver configuration setting<a class="headerlink" href="#manila-driver-configuration-setting" title="Permalink to this headline">¶</a></h2>
<p>The following parameters in the manila&#8217;s configuration file need to be
set:</p>
<ul class="simple">
<li><cite>share_driver</cite> = manila.share.drivers.glusterfs.GlusterfsShareDriver</li>
</ul>
<p>The following configuration parameters are optional:</p>
<ul>
<li><dl class="first docutils">
<dt><cite>glusterfs_nfs_server_type</cite> = &lt;NFS server type used by the GlusterFS</dt>
<dd><p class="first last">backend, <cite>Gluster</cite> or <cite>Ganesha</cite>. <cite>Gluster</cite> is the default type&gt;</p>
</dd>
</dl>
</li>
<li><p class="first"><cite>glusterfs_share_layout</cite> = &lt;share layout used&gt;; cf. <a class="reference internal" href="#glusterfs-layouts"><span>Layouts</span></a></p>
</li>
<li><p class="first"><cite>glusterfs_path_to_private_key</cite> = &lt;path to manila host&#8217;s private key file&gt;</p>
</li>
<li><p class="first"><cite>glusterfs_server_password</cite> = &lt;password of remote GlusterFS server machine&gt;</p>
</li>
</ul>
<p>If Ganesha NFS server is used (<code class="docutils literal"><span class="pre">glusterfs_nfs_server_type</span> <span class="pre">=</span> <span class="pre">Ganesha</span></code>),
then by default the Ganesha server is supposed to run on the manila host
and is managed by local commands. If it&#8217;s deployed somewhere else, then
it&#8217;s managed via ssh, which can be configured by the following parameters:</p>
<ul class="simple">
<li><cite>glusterfs_ganesha_server_ip</cite></li>
<li><cite>glusterfs_ganesha_server_username</cite></li>
<li><cite>glusterfs_ganesha_server_password</cite></li>
</ul>
<p>In lack of <code class="docutils literal"><span class="pre">glusterfs_ganesha_server_password</span></code> ssh access will fall
back to key based authentication, using the key specified by
<code class="docutils literal"><span class="pre">glusterfs_path_to_private_key</span></code>, or, in lack of that, a key at
one of the OpenSSH-style default key locations (<em>~/.ssh/id_{r,d,ecd}sa</em>).</p>
<p>For further (non driver specific) configuration of Ganesha, see
<a class="reference internal" href="ganesha.html"><em>Ganesha Library</em></a>. It is recommended to consult with <a class="reference internal" href="ganesha.html"><em>Ganesha Library</em></a>:
<a class="reference internal" href="ganesha.html#ganesha-known-issues"><span>Known Issues</span></a> too.</p>
<p>Layouts have also their set of parameters, see <a class="reference internal" href="#glusterfs-layouts"><span>Layouts</span></a> about
that.</p>
</div>
<div class="section" id="layouts">
<span id="glusterfs-layouts"></span><h2>Layouts<a class="headerlink" href="#layouts" title="Permalink to this headline">¶</a></h2>
<p>New in Liberty, multiple share layouts can be used with glusterfs
driver. A layout is a strategy of allocating storage from GlusterFS
backends for shares. Currently there are two layouts implemented:</p>
<ul>
<li><p class="first"><cite>directory mapped layout</cite> (or <cite>directory layout</cite>, or <cite>dir layout</cite>
for short): a share is backed by top-level subdirectories of a given
GlusterFS volume.</p>
<p>Directory mapped layout is the default and backward compatible with Kilo.
The following setting explicitly specifies its usage:
<code class="docutils literal"><span class="pre">glusterfs_share_layout</span> <span class="pre">=</span> <span class="pre">layout_directory.GlusterfsDirectoryMappedLayout</span></code>.</p>
<p>Options:</p>
<ul>
<li><p class="first"><cite>glusterfs_target</cite>: address of the volume that hosts the directories.
If it&#8217;s of the format <cite>&lt;glustervolserver&gt;:/&lt;glustervolid&gt;</cite>, then the
manila host is expected to be part of the GlusterFS cluster of the volume
and GlusterFS management happens through locally calling the <code class="docutils literal"><span class="pre">gluster</span></code>
utility. If it&#8217;s of the format <cite>&lt;username&gt;&#64;&lt;glustervolserver&gt;:/&lt;glustervolid&gt;</cite>,
then we ssh to <cite>&lt;username&gt;&#64;&lt;glustervolserver&gt;</cite> to execute <code class="docutils literal"><span class="pre">gluster</span></code>
(<cite>&lt;username&gt;</cite> is supposed to have administrative privileges on
<cite>&lt;glustervolserver&gt;</cite>).</p>
</li>
<li><dl class="first docutils">
<dt><cite>glusterfs_mount_point_base</cite> =  &lt;base path of GlusterFS volume mounted on</dt>
<dd><p class="first last">manila host&gt; (optional; defaults to <em>$state_path</em><code class="docutils literal"><span class="pre">/mnt</span></code>, where
<em>$state_path</em> defaults to <code class="docutils literal"><span class="pre">/var/lib/manila</span></code>)</p>
</dd>
</dl>
</li>
</ul>
<p>Limitations:</p>
<ul class="simple">
<li>directory layout does not support snapshot operations.</li>
</ul>
</li>
<li><p class="first"><cite>volume mapped layout</cite> (or <cite>volume layout</cite>, or <cite>vol layout</cite> for short):
a share is backed by a whole GlusterFS volume.</p>
<p>Volume mapped layout is new in Liberty. It can be chosen by setting
<code class="docutils literal"><span class="pre">glusterfs_share_layout</span> <span class="pre">=</span> <span class="pre">layout_volume.GlusterfsVolumeMappedLayout</span></code>.</p>
<p>Options (required):</p>
<ul class="simple">
<li><cite>glusterfs_servers</cite></li>
<li><cite>glusterfs_volume_pattern</cite></li>
</ul>
<p>Volume mapped layout is implemented as a common backend of the glusterfs and
glusterfs-native drivers; see the description of these options in
<a class="reference internal" href="glusterfs_native_driver.html"><em>GlusterFS Native driver</em></a>: <a class="reference internal" href="glusterfs_native_driver.html#gluster-native-manila-conf"><span>Manila driver configuration setting</span></a>.</p>
</li>
</ul>
<div class="section" id="gluster-nfs-with-volume-mapped-layout">
<h3>Gluster NFS with volume mapped layout<a class="headerlink" href="#gluster-nfs-with-volume-mapped-layout" title="Permalink to this headline">¶</a></h3>
<p>A special configuration choice is</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">glusterfs_nfs_server_type</span> <span class="o">=</span> <span class="n">Gluster</span>
<span class="n">glusterfs_share_layout</span> <span class="o">=</span> <span class="n">layout_volume</span><span class="o">.</span><span class="n">GlusterfsVolumeMappedLayout</span>
</pre></div>
</div>
<p>that is, Gluster NFS used to export whole volumes.</p>
<p>All other GlusterFS backend configurations (including GlusterFS set up
with glusterfs-native) require the <code class="docutils literal"><span class="pre">nfs.export-volumes</span> <span class="pre">=</span> <span class="pre">off</span></code>
GlusterFS setting. Gluster NFS with volume layout requires
<code class="docutils literal"><span class="pre">nfs.export-volumes</span> <span class="pre">=</span> <span class="pre">on</span></code>. <code class="docutils literal"><span class="pre">nfs.export-volumes</span></code> is a <em>cluster-wide</em>
setting, so a given GlusterFS cluster cannot host a share backend with
Gluster NFS + volume layout and other share backend configurations at
the same time.</p>
<p>There is another caveat with <code class="docutils literal"><span class="pre">nfs.export-volumes</span></code>: setting it to <code class="docutils literal"><span class="pre">on</span></code>
without enough care is a security risk, as the default access control
for the volume exports is &#8220;allow all&#8221;. For this reason, while the
<code class="docutils literal"><span class="pre">nfs.export-volumes</span> <span class="pre">=</span> <span class="pre">off</span></code> setting is automatically set by manila
for all other share backend configurations, <code class="docutils literal"><span class="pre">nfs.export-volumes</span> <span class="pre">=</span> <span class="pre">on</span></code>
is <em>not</em> set by manila in case of a Gluster NFS with volume layout
setup. It&#8217;s left to the GlusterFS admin to make this setting in conjunction
with the associated safeguards (that is, for those volumes of the cluster
which are not used by manila, access restrictions have to be manually
configured through the <code class="docutils literal"><span class="pre">nfs.rpc-auth-{allow,reject}</span></code> options).</p>
</div>
</div>
<div class="section" id="known-restrictions">
<h2>Known Restrictions<a class="headerlink" href="#known-restrictions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The driver does not support network segmented multi-tenancy model, but
instead works over a flat network, where the tenants share a network.</li>
<li>If NFS Ganesha is the NFS server used by the GlusterFS backend, then the
shares can be accessed by NFSv3 and v4 protocols. However, if Gluster NFS is
used by the GlusterFS backend, then the shares can only be accessed by NFSv3
protocol.</li>
<li>All manila shares, which map to subdirectories within a GlusterFS volume, are
currently created within a single GlusterFS volume of a GlusterFS storage
pool.</li>
<li>The driver does not provide read-only access level for shares.</li>
<li>Assume that share S is exported through Gluster NFS, and tenant machine T
has mounted S. If at this point access of T to S is revoked through
<cite>access-deny</cite>, the pre-existing mount will be still usable and T will still
be able to access the data in S as long as that mount is in place.
(This violates the principle <em>Access deny should always result
in immediate loss of access to the share</em>, see
<a class="reference external" href="http://lists.openstack.org/pipermail/openstack-dev/2015-July/069109.html">http://lists.openstack.org/pipermail/openstack-dev/2015-July/069109.html</a>.)</li>
</ul>
<div class="section" id="the-manila-share-drivers-glusterfs-module">
<h3>The <code class="xref py py-mod docutils literal"><span class="pre">manila.share.drivers.glusterfs</span></code> Module<a class="headerlink" href="#the-manila-share-drivers-glusterfs-module" title="Permalink to this headline">¶</a></h3>
<p>Flat network GlusterFS Driver.</p>
<p>Manila shares are subdirectories within a GlusterFS volume. The backend,
a GlusterFS cluster, uses one of the two NFS servers, Gluster-NFS or
NFS-Ganesha, based on a configuration option, to mediate access to the shares.
NFS-Ganesha server supports NFSv3 and v4 protocols, while Gluster-NFS
server supports only NFSv3 protocol.</p>
<p>TODO(rraja): support SMB protocol.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">GaneshaNFSHelper</code><span class="sig-paren">(</span><em>execute</em>, <em>config_object</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.share.drivers.ganesha.GaneshaNASHelper</span></code></p>
<dl class="method">
<dt>
<code class="descname">get_export</code><span class="sig-paren">(</span><em>share</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">init_helper</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">shared_data</code><em class="property"> = {}</em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">GlusterNFSHelper</code><span class="sig-paren">(</span><em>execute</em>, <em>config_object</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.share.drivers.ganesha.NASHelperBase</span></code></p>
<p>Manage shares with Gluster-NFS server.</p>
<dl class="method">
<dt>
<code class="descname">get_export</code><span class="sig-paren">(</span><em>share</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">supported_access_levels</code><em class="property"> = ('rw',)</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">supported_access_types</code><em class="property"> = ('ip',)</em></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">update_access</code><span class="sig-paren">(</span><em>base_path</em>, <em>share</em>, <em>add_rules</em>, <em>delete_rules</em>, <em>recovery=False</em><span class="sig-paren">)</span></dt>
<dd><p>Update access rules.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">GlusterNFSVolHelper</code><span class="sig-paren">(</span><em>execute</em>, <em>config_object</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.share.drivers.glusterfs.GlusterNFSHelper</span></code></p>
<p>Manage shares with Gluster-NFS server, volume mapped variant.</p>
<dl class="method">
<dt>
<code class="descname">update_access</code><span class="sig-paren">(</span><em>base_path</em>, <em>share</em>, <em>add_rules</em>, <em>delete_rules</em>, <em>recovery=False</em><span class="sig-paren">)</span></dt>
<dd><p>Update access rules.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descname">GlusterfsShareDriver</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.share.driver.ExecuteMixin</span></code>, <code class="xref py py-class docutils literal"><span class="pre">manila.share.driver.GaneshaMixin</span></code>, <code class="xref py py-class docutils literal"><span class="pre">manila.share.drivers.glusterfs.layout.GlusterfsShareDriverBase</span></code></p>
<p>Execute commands relating to Shares.</p>
<dl class="attribute">
<dt>
<code class="descname">GLUSTERFS_VERSION_MIN</code><em class="property"> = (3, 5)</em></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">check_for_setup_error</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">do_setup</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">get_network_allocations_number</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">supported_access_levels</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">supported_access_types</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">supported_layouts</code><em class="property"> = ('layout_directory.GlusterfsDirectoryMappedLayout', 'layout_volume.GlusterfsVolumeMappedLayout')</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">supported_protocols</code><em class="property"> = ('NFS',)</em></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="generic_driver.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Generic approach for share provisioning"></i></a>
          
          
            <a href="glusterfs_native_driver.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: GlusterFS Native driver"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 'Tue Feb 14 14:25:27 2017, commit 610baa2'</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#programming-howtos-and-tutorials">Programming HowTos and Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#background-concepts-for-manila">Background Concepts for manila</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other-resources">Other Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#api-reference">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-reference">Module Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#capabilities-and-extra-specs">Capabilities and Extra-Specs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#share-backends-feature-support-mapping">Share backends feature support mapping</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#share-backends">Share backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../man/index.html">Command-Line Utilities</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../adminref/index.html">Admin Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-1.12.4.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "devref/glusterfs_driver" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/manila/tree/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 610baa2fdb702fa4cc2c12eb5c61599bdcad21ce";
        var bugProject = "manila";
        var bugTitle = "GlusterFS driver in manila";
    var fieldTags = "docs";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 4.0.0.0rc2.dev25 on 'Tue Feb 14 14:25:27 2017, commit 610baa2'";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>