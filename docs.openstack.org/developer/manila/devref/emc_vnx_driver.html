<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: VNX Driver</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">
<link href="../_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>VNX Driver</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="emc_isilon_driver.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Isilon Driver"></i></a>
    
    
    <a href="emc_unity_driver.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Unity Driver"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 'Tue Feb 14 14:25:27 2017, commit 610baa2'</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="../index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">VNX Driver</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#supported-operations">Supported Operations</a></li>
<li><a class="reference internal" href="#pre-configurations-on-vnx">Pre-Configurations on VNX</a></li>
<li><a class="reference internal" href="#backend-configuration">Backend Configuration</a></li>
<li><a class="reference internal" href="#restrictions">Restrictions</a><ul>
<li><a class="reference internal" href="#the-manila-share-drivers-dell-emc-driver-module">The <code class="docutils literal"><span class="pre">manila.share.drivers.dell_emc.driver</span></code> Module</a></li>
<li><a class="reference internal" href="#the-manila-share-drivers-dell-emc-plugins-vnx-connection-module">The <code class="docutils literal"><span class="pre">manila.share.drivers.dell_emc.plugins.vnx.connection</span></code> Module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="vnx-driver">
<h1>VNX Driver<a class="headerlink" href="#vnx-driver" title="Permalink to this headline">¶</a></h1>
<p>EMC manila driver framework (EMCShareDriver) utilizes the EMC storage products
to provide the shared filesystems to OpenStack. The EMC manila driver is a
plugin based driver which is designed to use different plugins to manage
different EMC storage products.</p>
<p>VNX plugin is the plugin which manages the VNX to provide shared filesystems.
EMC driver framework with VNX plugin is referred to as VNX driver in this
document.</p>
<p>This driver performs the operations on VNX by XMLAPI and the File command line.
Each backend manages one Data Mover of VNX. Multiple manila backends need to
be configured to manage multiple Data Movers.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>VNX OE for File version 7.1 or higher.</li>
<li>VNX Unified, File only, or Gateway system with single storage backend.</li>
<li>The following licenses should be activated on VNX for File:
* CIFS
* NFS
* SnapSure (for snapshot)
* ReplicationV2 (for create share from snapshot)</li>
</ul>
</div>
<div class="section" id="supported-operations">
<h2>Supported Operations<a class="headerlink" href="#supported-operations" title="Permalink to this headline">¶</a></h2>
<p>The following operations will be supported on VNX array:</p>
<ul class="simple">
<li>Create CIFS/NFS Share</li>
<li>Delete CIFS/NFS Share</li>
<li>Allow CIFS/NFS Share access
* Only IP access type is supported for NFS.
* Only user access type is supported for CIFS.</li>
<li>Deny CIFS/NFS Share access</li>
<li>Create snapshot</li>
<li>Delete snapshot</li>
<li>Create share from snapshot</li>
</ul>
<p>While the generic driver creates shared filesystems based on Cinder volumes
attached to Nova VMs, the VNX driver performs similar operations using the
Data Movers on the array.</p>
</div>
<div class="section" id="pre-configurations-on-vnx">
<h2>Pre-Configurations on VNX<a class="headerlink" href="#pre-configurations-on-vnx" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Enable Unicode on Data mover</li>
</ol>
<p>VNX driver requires that the Unicode is enabled on Data Mover.</p>
<p>CAUTION: After enabling Unicode, you cannot disable it. If there are some
filesystems created before Unicode is enabled on the VNX, consult the storage
administrator before enabling Unicode.</p>
<p>To check the Unicode status on Data Mover, use the following VNX File command
on VNX control station:</p>
<blockquote>
<div>server_cifs &lt;mover_name&gt; | head
where:
mover_name = &lt;name of the Data Mover&gt;</div></blockquote>
<p>Check the value of <cite>I18N mode</cite> field. UNICODE mode is shown as <cite>I18N mode =
UNICODE</cite></p>
<p>To enable the Unicode for Data Mover:</p>
<blockquote>
<div>uc_config -on -mover &lt;mover_name&gt;
where:
mover_name = &lt;name of the Data Mover&gt;</div></blockquote>
<p>Refer to the document <cite>Using International Character Sets on VNX for File</cite>
on [EMC support site](<a class="reference external" href="http://support.emc.com">http://support.emc.com</a>) for more information.</p>
<ol class="arabic simple" start="2">
<li>Enable CIFS service on Data Mover</li>
</ol>
<p>Ensure the CIFS service is enabled on the Data Mover which is going to be
managed by VNX driver.</p>
<p>To start the CIFS service, use the following command:</p>
<blockquote>
<div>server_setup &lt;mover_name&gt; -Protocol cifs -option start [=&lt;n&gt;]
where:
&lt;mover_name&gt; = &lt;name of the Data Mover&gt;
[=&lt;n&gt;] = &lt;number of threads for CIFS users&gt;</div></blockquote>
<p>Note: If there is 1 GB of memory on the Data Mover, the default is 96 threads;
however, if there is over 1 GB of memory, the default number of threads is 256.</p>
<p>To check the CIFS service status, use this command:</p>
<blockquote>
<div>server_cifs &lt;mover_name&gt; | head
where:
&lt;mover_name&gt; = &lt;name of the Data Mover&gt;</div></blockquote>
<p>The command output will show the number of CIFS threads started.</p>
<ol class="arabic simple" start="3">
<li>NTP settings on Data Mover</li>
</ol>
<p>VNX driver only supports CIFS share creation with share network which has an
Active Directory security-service associated.</p>
<p>Creating CIFS share requires that the time on the Data Mover is in sync with
the Active Directory domain so that the CIFS server can join the domain.
Otherwise, the domain join will fail when creating share with this security
service. There is a limitation that the time of the domains used by
security-services even for different tenants and different share networks
should be in sync. Time difference should be less than 10 minutes.</p>
<p>It is recommended to set the NTP server to the same public NTP server on both
the Data Mover and domains used in security services to ensure the time is in
sync everywhere.</p>
<p>Check the date and time on Data Mover:</p>
<blockquote>
<div>server_date &lt;mover_name&gt;
where:
mover_name = &lt;name of the Data Mover&gt;</div></blockquote>
<p>Set the NTP server for Data Mover:</p>
<blockquote>
<div>server_date &lt;mover_name&gt; timesvc start ntp &lt;host&gt; [&lt;host&gt; ...]
where:
mover_name = &lt;name of the Data Mover&gt;
host = &lt;IP address of the time server host&gt;</div></blockquote>
<p>Note: The host must be running the NTP protocol. Only 4 host entries are
allowed.</p>
<ol class="arabic simple" start="4">
<li>Configure User Mapping on the Data Mover</li>
</ol>
<p>Before creating CIFS share using VNX driver, you must select a method of
mapping Windows SIDs to UIDs and GIDs. EMC recommends using usermapper in
single protocol (CIFS) environment which is enabled on VNX by default.</p>
<p>To check usermapper status, use this command syntax:</p>
<blockquote>
<div>server_usermapper &lt;movername&gt;
where:
&lt;movername&gt; = &lt;name of the Data Mover&gt;</div></blockquote>
<p>If usermapper is not started, the following command can be used to start the
usermapper:</p>
<blockquote>
<div>server_usermapper &lt;movername&gt; -enable
where:
&lt;movername&gt; = &lt;name of the Data Mover&gt;</div></blockquote>
<p>For multiple protocol environment, refer to <cite>Configuring VNX User Mapping</cite> on
[EMC support site](<a class="reference external" href="http://support.emc.com">http://support.emc.com</a>) for additional information.</p>
<ol class="arabic simple" start="5">
<li>Network Connection</li>
</ol>
<p>In the current release, the share created by VNX driver uses the first network
device (physical port on NIC) of Data Mover to access the network.</p>
<p>Go to Unisphere to check the device list:
Settings -&gt; Network -&gt; Settings for File (Unified system only) -&gt; Device.</p>
</div>
<div class="section" id="backend-configuration">
<h2>Backend Configuration<a class="headerlink" href="#backend-configuration" title="Permalink to this headline">¶</a></h2>
<p>The following parameters need to be configured in <cite>/etc/manila/manila.conf</cite>
for the VNX driver:</p>
<blockquote>
<div>emc_share_backend = vnx
emc_nas_server = &lt;IP address&gt;
emc_nas_password = &lt;password&gt;
emc_nas_login = &lt;user&gt;
emc_nas_server_container = &lt;Data Mover name&gt;
emc_nas_pool_name = &lt;pool name&gt;
emc_interface_ports = &lt;Comma separated ports list&gt;
share_driver = manila.share.drivers.dell_emc.driver.EMCShareDriver</div></blockquote>
<ul class="simple">
<li><cite>emc_share_backend</cite> is the plugin name. Set it to <cite>vnx</cite> for the VNX driver.</li>
<li><cite>emc_nas_server</cite> is the control station IP address of the VNX system to be
managed.</li>
<li><cite>emc_nas_password</cite> and <cite>emc_nas_login</cite> fields are used to provide credentials
to the VNX system. Only local users of VNX File is supported.</li>
<li><cite>emc_nas_server_container</cite> field is the name of the Data Mover to serve the
share service.</li>
<li><cite>emc_nas_pool_name</cite> is the pool name user wants to create volume from. The
pools can be created using Unisphere for VNX.</li>
<li><cite>emc_interface_ports</cite> is comma separated list specifying the ports(devices) of
Data Mover that can be used for share server interface.
Members of the list can be Unix-style glob expressions (supports Unix shell-style
wildcards). This list is optional. In the absence of this option, any of the ports
on the Data Mover can be used.</li>
</ul>
<p>Restart of <a class="reference internal" href="../glossary.html#term-manila-share"><span class="xref std std-term">manila-share</span></a> service is needed for the configuration changes to take
effect.</p>
</div>
<div class="section" id="restrictions">
<h2>Restrictions<a class="headerlink" href="#restrictions" title="Permalink to this headline">¶</a></h2>
<p>The VNX driver has the following restrictions:</p>
<ul class="simple">
<li>Only IP access type is supported for NFS.</li>
<li>Only user access type is supported for CIFS.</li>
<li>Only FLAT network and VLAN network are supported.</li>
<li>VLAN network is supported with limitations. The Neutron subnets in different
VLANs that are used to create share networks cannot have overlapped address
spaces. Otherwise, VNX may have a problem to communicate with the hosts in
the VLANs. To create shares for different VLANs with same subnet address, use
different Data Movers.</li>
<li>The &#8216;Active Directory&#8217; security service is the only supported security
service type and it is required to create CIFS shares.</li>
<li>Only one security service can be configured for each share network.</li>
<li>Active Directory domain name of the &#8216;active_directory&#8217; security service
should be unique even for different tenants.</li>
<li>The time on Data Mover and the Active Directory domains used in security
services should be in sync (time difference should be less than 10 minutes).
It is recommended to use same NTP server on both the Data Mover and Active
Directory domains.</li>
<li>On VNX the snapshot is stored in the SavVols. VNX system allows the space
used by SavVol to be created and extended until the sum of the space consumed
by all SavVols on the system exceeds the default 20% of the total space
available on the system. If the 20% threshold value is reached, an alert will
be generated on VNX. Continuing to create snapshot will cause the old
snapshot to be inactivated (and the snapshot data to be abandoned). The limit
percentage value can be changed manually by storage administrator based on
the storage needs. Administrator is recommended to configure the notification
on the SavVol usage. Refer to <cite>Using VNX SnapSure</cite> document on [EMC support
site](<a class="reference external" href="http://support.emc.com">http://support.emc.com</a>) for more information.</li>
<li>VNX has limitations on the overall numbers of Virtual Data Movers,
filesystems, shares, checkpoints, and etc. Virtual Data Mover(VDM) is created
by the VNX driver on the VNX to serve as the manila share server. Similarly,
filesystem is created, mounted, and exported from the VDM over CIFS or NFS
protocol to serve as the manila share. The VNX checkpoint serves as the
manila share snapshot. Refer to the <cite>NAS Support Matrix</cite> document on [EMC
support site](<a class="reference external" href="http://support.emc.com">http://support.emc.com</a>) for the limitations and configure the
quotas accordingly.</li>
</ul>
<div class="section" id="the-manila-share-drivers-dell-emc-driver-module">
<h3>The <code class="xref py py-mod docutils literal"><span class="pre">manila.share.drivers.dell_emc.driver</span></code> Module<a class="headerlink" href="#the-manila-share-drivers-dell-emc-driver-module" title="Permalink to this headline">¶</a></h3>
<p>EMC specific NAS storage driver. This driver is a pluggable driver
that allows specific EMC NAS devices to be plugged-in as the underlying
backend. Use the Manila configuration variable &#8220;share_backend_name&#8221;
to specify, which backend plugins to use.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">EMCShareDriver</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="share_replication.html#manila.share.driver.ShareDriver" title="manila.share.driver.ShareDriver"><code class="xref py py-class docutils literal"><span class="pre">manila.share.driver.ShareDriver</span></code></a></p>
<p>EMC specific NAS driver. Allows for NFS and CIFS NAS storage usage.</p>
<dl class="method">
<dt>
<code class="descname">allow_access</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>access</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Allow access to the share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">check_for_setup_error</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Check for setup error.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Is called to create share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share_from_snapshot</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>snapshot</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Is called to create share from snapshot.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">create_snapshot</code><span class="sig-paren">(</span><em>context</em>, <em>snapshot</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Is called to create snapshot.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_share</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Is called to remove share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_snapshot</code><span class="sig-paren">(</span><em>context</em>, <em>snapshot</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Is called to remove snapshot.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">deny_access</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>access</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Deny access to the share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">do_setup</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span></dt>
<dd><p>Any initialization the share driver does while starting.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">ensure_share</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Invoked to sure that share is exported.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">extend_share</code><span class="sig-paren">(</span><em>share</em>, <em>new_size</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Is called to extend share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_network_allocations_number</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Returns number of network allocations for creating VIFs.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-manila-share-drivers-dell-emc-plugins-vnx-connection-module">
<h3>The <code class="xref py py-mod docutils literal"><span class="pre">manila.share.drivers.dell_emc.plugins.vnx.connection</span></code> Module<a class="headerlink" href="#the-manila-share-drivers-dell-emc-plugins-vnx-connection-module" title="Permalink to this headline">¶</a></h3>
<p>VNX backend for the EMC Manila driver.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">VNXStorageConnection</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">manila.share.drivers.dell_emc.plugins.base.StorageConnection</span></code></p>
<p>Implements VNX specific functionality for EMC Manila driver.</p>
<dl class="method">
<dt>
<code class="descname">allow_access</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>access</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Allow access to a share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">check_for_setup_error</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Check for setup error.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_access</code><span class="sig-paren">(</span><em>share</em>, <em>share_server</em>, <em>white_list</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">connect</code><span class="sig-paren">(</span><em>emc_share_driver</em>, <em>context</em><span class="sig-paren">)</span></dt>
<dd><p>Connect to VNX NAS server.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Create a share and export it based on protocol used.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">create_share_from_snapshot</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>snapshot</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Create a share from a snapshot - clone a snapshot.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">create_snapshot</code><span class="sig-paren">(</span><em>context</em>, <em>snapshot</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Create snapshot from share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_share</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Delete a share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_snapshot</code><span class="sig-paren">(</span><em>context</em>, <em>snapshot</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Delete a snapshot.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">deny_access</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>access</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Deny access to a share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">ensure_share</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd><p>Ensure that the share is exported.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">extend_share</code><span class="sig-paren">(</span><em>share</em>, <em>new_size</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">get_managed_ports</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">get_network_allocations_number</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Returns number of network allocations for creating VIFs.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pool</code><span class="sig-paren">(</span><em>share</em><span class="sig-paren">)</span></dt>
<dd><p>Get the pool name of the share.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">setup_server</code><span class="sig-paren">(</span><em>network_info</em>, <em>metadata=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set up and configures share server with given network parameters.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">teardown_server</code><span class="sig-paren">(</span><em>server_details</em>, <em>security_services=None</em><span class="sig-paren">)</span></dt>
<dd><p>Teardown share server.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_access</code><span class="sig-paren">(</span><em>context</em>, <em>share</em>, <em>access_rules</em>, <em>add_rules</em>, <em>delete_rules</em>, <em>share_server=None</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">update_share_stats</code><span class="sig-paren">(</span><em>stats_dict</em><span class="sig-paren">)</span></dt>
<dd><p>Communicate with EMCNASClient to get the stats.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="emc_isilon_driver.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Isilon Driver"></i></a>
          
          
            <a href="emc_unity_driver.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Unity Driver"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 'Tue Feb 14 14:25:27 2017, commit 610baa2'</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#programming-howtos-and-tutorials">Programming HowTos and Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#background-concepts-for-manila">Background Concepts for manila</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other-resources">Other Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#api-reference">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-reference">Module Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#capabilities-and-extra-specs">Capabilities and Extra-Specs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#share-backends-feature-support-mapping">Share backends feature support mapping</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#share-backends">Share backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../man/index.html">Command-Line Utilities</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../adminref/index.html">Admin Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-1.12.4.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "devref/emc_vnx_driver" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/manila/tree/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 610baa2fdb702fa4cc2c12eb5c61599bdcad21ce";
        var bugProject = "manila";
        var bugTitle = "VNX Driver in manila";
    var fieldTags = "docs";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 4.0.0.0rc2.dev25 on 'Tue Feb 14 14:25:27 2017, commit 610baa2'";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>