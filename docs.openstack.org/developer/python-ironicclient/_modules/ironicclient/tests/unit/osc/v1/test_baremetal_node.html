<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ironicclient.tests.unit.osc.v1.test_baremetal_node &mdash; python-ironicclient 1.11.0 documentation</title>
    
    <link rel="stylesheet" href="../../../../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../../',
        VERSION:     '1.11.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../../_static/doctools.js"></script>
    <link rel="top" title="python-ironicclient 1.11.0 documentation" href="../../../../../../index.html" />
    <link rel="up" title="Module code" href="../../../../../index.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for ironicclient.tests.unit.osc.v1.test_baremetal_node</h1><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1">#   Copyright 2015 Red Hat, Inc.</span>
<span class="c1">#</span>
<span class="c1">#   Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may</span>
<span class="c1">#   not use this file except in compliance with the License. You may obtain</span>
<span class="c1">#   a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#        http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1">#   Unless required by applicable law or agreed to in writing, software</span>
<span class="c1">#   distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT</span>
<span class="c1">#   WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the</span>
<span class="c1">#   License for the specific language governing permissions and limitations</span>
<span class="c1">#   under the License.</span>
<span class="c1">#</span>

<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">mock</span>

<span class="kn">from</span> <span class="nn">osc_lib.tests</span> <span class="kn">import</span> <span class="n">utils</span> <span class="k">as</span> <span class="n">oscutils</span>

<span class="kn">from</span> <span class="nn">ironicclient.common</span> <span class="kn">import</span> <span class="n">utils</span> <span class="k">as</span> <span class="n">commonutils</span>
<span class="kn">from</span> <span class="nn">ironicclient</span> <span class="kn">import</span> <span class="n">exc</span>
<span class="kn">from</span> <span class="nn">ironicclient.osc.v1</span> <span class="kn">import</span> <span class="n">baremetal_node</span>
<span class="kn">from</span> <span class="nn">ironicclient.tests.unit.osc.v1</span> <span class="kn">import</span> <span class="n">fakes</span> <span class="k">as</span> <span class="n">baremetal_fakes</span>
<span class="kn">from</span> <span class="nn">ironicclient.v1</span> <span class="kn">import</span> <span class="n">utils</span> <span class="k">as</span> <span class="n">v1_utils</span>


<div class="viewcode-block" id="TestBaremetal"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetal">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetal</span><span class="p">(</span><span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">TestBaremetal</span><span class="p">):</span>

<div class="viewcode-block" id="TestBaremetal.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetal.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get a shortcut to the baremetal manager mock</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">client_manager</span><span class="o">.</span><span class="n">baremetal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">reset_mock</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="TestAdopt"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestAdopt">[docs]</a><span class="k">class</span> <span class="nc">TestAdopt</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestAdopt.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestAdopt.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestAdopt</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">AdoptBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestAdopt.test_adopt"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestAdopt.test_adopt">[docs]</a>    <span class="k">def</span> <span class="nf">test_adopt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;adopt&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;adopt&#39;</span><span class="p">,</span> <span class="n">cleansteps</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">configdrive</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestAdopt.test_adopt_no_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestAdopt.test_adopt_no_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_adopt_no_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;adopt&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_not_called</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestAdopt.test_adopt_baremetal_provision_state_active_and_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestAdopt.test_adopt_baremetal_provision_state_active_and_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_adopt_baremetal_provision_state_active_and_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">,</span> <span class="s1">&#39;15&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;adopt&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestAdopt.test_adopt_baremetal_provision_state_default_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestAdopt.test_adopt_baremetal_provision_state_default_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_adopt_baremetal_provision_state_default_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;adopt&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBootdeviceSet"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceSet">[docs]</a><span class="k">class</span> <span class="nc">TestBootdeviceSet</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBootdeviceSet.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceSet.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBootdeviceSet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">BootdeviceSetBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBootdeviceSet.test_bootdevice_set"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceSet.test_bootdevice_set">[docs]</a>    <span class="k">def</span> <span class="nf">test_bootdevice_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;bios&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;device&#39;</span><span class="p">,</span> <span class="s1">&#39;bios&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_boot_device</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;bios&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBootdeviceSet.test_bootdevice_set_persistent"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceSet.test_bootdevice_set_persistent">[docs]</a>    <span class="k">def</span> <span class="nf">test_bootdevice_set_persistent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;bios&#39;</span><span class="p">,</span> <span class="s1">&#39;--persistent&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;device&#39;</span><span class="p">,</span> <span class="s1">&#39;bios&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;persistent&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_boot_device</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;bios&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBootdeviceSet.test_bootdevice_set_invalid_device"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceSet.test_bootdevice_set_invalid_device">[docs]</a>    <span class="k">def</span> <span class="nf">test_bootdevice_set_invalid_device</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;device&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBootdeviceSet.test_bootdevice_set_device_only"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceSet.test_bootdevice_set_device_only">[docs]</a>    <span class="k">def</span> <span class="nf">test_bootdevice_set_device_only</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bios&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;device&#39;</span><span class="p">,</span> <span class="s1">&#39;bios&#39;</span><span class="p">)]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBootdeviceShow"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceShow">[docs]</a><span class="k">class</span> <span class="nc">TestBootdeviceShow</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBootdeviceShow.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceShow.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBootdeviceShow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">BootdeviceShowBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_boot_device</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;boot_device&quot;</span><span class="p">:</span> <span class="s2">&quot;pxe&quot;</span><span class="p">,</span> <span class="s2">&quot;persistent&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_supported_boot_devices</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;supported_boot_devices&quot;</span><span class="p">:</span> <span class="n">v1_utils</span><span class="o">.</span><span class="n">BOOT_DEVICES</span><span class="p">}</span></div>

<div class="viewcode-block" id="TestBootdeviceShow.test_bootdevice_show"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceShow.test_bootdevice_show">[docs]</a>    <span class="k">def</span> <span class="nf">test_bootdevice_show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_boot_device</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBootdeviceShow.test_bootdevice_supported_show"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBootdeviceShow.test_bootdevice_supported_show">[docs]</a>    <span class="k">def</span> <span class="nf">test_bootdevice_supported_show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--supported&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;supported&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">mock</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_supported_boot_devices</span>
        <span class="n">mock</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestConsoleDisable"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestConsoleDisable">[docs]</a><span class="k">class</span> <span class="nc">TestConsoleDisable</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestConsoleDisable.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestConsoleDisable.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestConsoleDisable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">ConsoleDisableBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestConsoleDisable.test_console_disable"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestConsoleDisable.test_console_disable">[docs]</a>    <span class="k">def</span> <span class="nf">test_console_disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_console_mode</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestConsoleEnable"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestConsoleEnable">[docs]</a><span class="k">class</span> <span class="nc">TestConsoleEnable</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestConsoleEnable.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestConsoleEnable.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestConsoleEnable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">ConsoleEnableBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestConsoleEnable.test_console_enable"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestConsoleEnable.test_console_enable">[docs]</a>    <span class="k">def</span> <span class="nf">test_console_enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_console_mode</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestConsoleShow"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestConsoleShow">[docs]</a><span class="k">class</span> <span class="nc">TestConsoleShow</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestConsoleShow.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestConsoleShow.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestConsoleShow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">ConsoleShowBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_console</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;console_enabled&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s2">&quot;console_info&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span></div>

<div class="viewcode-block" id="TestConsoleShow.test_console_show"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestConsoleShow.test_console_show">[docs]</a>    <span class="k">def</span> <span class="nf">test_console_show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_console</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalCreate"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalCreate</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalCreate.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalCreate</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">create</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">FakeBaremetalResource</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">BAREMETAL</span><span class="p">),</span>
                <span class="n">loaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="p">))</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">CreateBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--driver&#39;</span><span class="p">,</span> <span class="s1">&#39;fake_driver&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;driver&#39;</span><span class="p">,</span> <span class="s1">&#39;fake_driver&#39;</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collist</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;chassis_uuid&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;instance_uuid&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;maintenance&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;power_state&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;provision_state&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;uuid&#39;</span>
                        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datalist</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_chassis_uuid_empty</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_instance_uuid</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_maintenance</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_name</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_power_state</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_provision_state</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_uuid</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actual_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;driver&#39;</span><span class="p">:</span> <span class="s1">&#39;fake_driver&#39;</span><span class="p">,</span>
        <span class="p">}</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.check_with_options"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.check_with_options">[docs]</a>    <span class="k">def</span> <span class="nf">check_with_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">addl_arglist</span><span class="p">,</span> <span class="n">addl_verifylist</span><span class="p">,</span> <span class="n">addl_kwargs</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arglist</span><span class="p">)</span> <span class="o">+</span> <span class="n">addl_arglist</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verifylist</span><span class="p">)</span> <span class="o">+</span> <span class="n">addl_verifylist</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="n">columns</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">collist</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">collist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">collist</span><span class="p">,</span> <span class="n">columns</span><span class="p">)</span>

        <span class="n">datalist</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">datalist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actual_kwargs</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">addl_kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">create</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_no_options"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_no_options">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_no_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_with_driver"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_with_driver">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_with_driver</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arglist</span><span class="p">)</span>

        <span class="n">verifylist</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verifylist</span><span class="p">)</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="n">columns</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">collist</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">collist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">collist</span><span class="p">,</span> <span class="n">columns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="s1">&#39;ports&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="p">)</span>

        <span class="n">datalist</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">datalist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actual_kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">create</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_with_chassis"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_with_chassis">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_with_chassis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_with_options</span><span class="p">([</span><span class="s1">&#39;--chassis-uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;chassis_uuid&#39;</span><span class="p">],</span>
                                <span class="p">[(</span><span class="s1">&#39;chassis_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;chassis_uuid&#39;</span><span class="p">)],</span>
                                <span class="p">{</span><span class="s1">&#39;chassis_uuid&#39;</span><span class="p">:</span> <span class="s1">&#39;chassis_uuid&#39;</span><span class="p">})</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_with_driver_info"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_with_driver_info">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_with_driver_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_with_options</span><span class="p">([</span><span class="s1">&#39;--driver-info&#39;</span><span class="p">,</span> <span class="s1">&#39;arg1=val1&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;--driver-info&#39;</span><span class="p">,</span> <span class="s1">&#39;arg2=val2&#39;</span><span class="p">],</span>
                                <span class="p">[(</span><span class="s1">&#39;driver_info&#39;</span><span class="p">,</span>
                                  <span class="p">[</span><span class="s1">&#39;arg1=val1&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;arg2=val2&#39;</span><span class="p">])],</span>
                                <span class="p">{</span><span class="s1">&#39;driver_info&#39;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s1">&#39;arg1&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;arg2&#39;</span><span class="p">:</span> <span class="s1">&#39;val2&#39;</span><span class="p">}})</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_with_properties"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_with_properties">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_with_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_with_options</span><span class="p">([</span><span class="s1">&#39;--property&#39;</span><span class="p">,</span> <span class="s1">&#39;arg1=val1&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;--property&#39;</span><span class="p">,</span> <span class="s1">&#39;arg2=val2&#39;</span><span class="p">],</span>
                                <span class="p">[(</span><span class="s1">&#39;properties&#39;</span><span class="p">,</span>
                                  <span class="p">[</span><span class="s1">&#39;arg1=val1&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;arg2=val2&#39;</span><span class="p">])],</span>
                                <span class="p">{</span><span class="s1">&#39;properties&#39;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s1">&#39;arg1&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;arg2&#39;</span><span class="p">:</span> <span class="s1">&#39;val2&#39;</span><span class="p">}})</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_with_extra"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_with_extra">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_with_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_with_options</span><span class="p">([</span><span class="s1">&#39;--extra&#39;</span><span class="p">,</span> <span class="s1">&#39;arg1=val1&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;--extra&#39;</span><span class="p">,</span> <span class="s1">&#39;arg2=val2&#39;</span><span class="p">],</span>
                                <span class="p">[(</span><span class="s1">&#39;extra&#39;</span><span class="p">,</span>
                                  <span class="p">[</span><span class="s1">&#39;arg1=val1&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;arg2=val2&#39;</span><span class="p">])],</span>
                                <span class="p">{</span><span class="s1">&#39;extra&#39;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s1">&#39;arg1&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;arg2&#39;</span><span class="p">:</span> <span class="s1">&#39;val2&#39;</span><span class="p">}})</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_with_uuid"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_with_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_with_uuid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_with_options</span><span class="p">([</span><span class="s1">&#39;--uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;uuid&#39;</span><span class="p">],</span>
                                <span class="p">[(</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;uuid&#39;</span><span class="p">)],</span>
                                <span class="p">{</span><span class="s1">&#39;uuid&#39;</span><span class="p">:</span> <span class="s1">&#39;uuid&#39;</span><span class="p">})</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_with_name"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_with_name">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_with_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_with_options</span><span class="p">([</span><span class="s1">&#39;--name&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">],</span>
                                <span class="p">[(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)],</span>
                                <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;name&#39;</span><span class="p">})</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_with_network_interface"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_with_network_interface">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_with_network_interface</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_with_options</span><span class="p">([</span><span class="s1">&#39;--network-interface&#39;</span><span class="p">,</span> <span class="s1">&#39;neutron&#39;</span><span class="p">],</span>
                                <span class="p">[(</span><span class="s1">&#39;network_interface&#39;</span><span class="p">,</span> <span class="s1">&#39;neutron&#39;</span><span class="p">)],</span>
                                <span class="p">{</span><span class="s1">&#39;network_interface&#39;</span><span class="p">:</span> <span class="s1">&#39;neutron&#39;</span><span class="p">})</span></div>

<div class="viewcode-block" id="TestBaremetalCreate.test_baremetal_create_with_resource_class"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalCreate.test_baremetal_create_with_resource_class">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_create_with_resource_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_with_options</span><span class="p">([</span><span class="s1">&#39;--resource-class&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span>
                                <span class="p">[(</span><span class="s1">&#39;resource_class&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)],</span>
                                <span class="p">{</span><span class="s1">&#39;resource_class&#39;</span><span class="p">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">})</span></div></div>


<div class="viewcode-block" id="TestBaremetalDelete"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalDelete">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalDelete</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalDelete.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalDelete.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalDelete</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">FakeBaremetalResource</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">BAREMETAL</span><span class="p">),</span>
                <span class="n">loaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="p">))</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">DeleteBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalDelete.test_baremetal_delete"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalDelete.test_baremetal_delete">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">args</span> <span class="o">=</span> <span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">delete</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="n">args</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalDelete.test_baremetal_delete_multiple"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalDelete.test_baremetal_delete_multiple">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_delete_multiple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;fakename&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;fakename&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">delete</span><span class="o">.</span><span class="n">has_calls</span><span class="p">(</span>
            <span class="p">[</span><span class="n">mock</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">delete</span><span class="o">.</span><span class="n">call_count</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalDelete.test_baremetal_delete_multiple_with_failure"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalDelete.test_baremetal_delete_multiple_with_failure">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_delete_multiple_with_failure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;badname&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">delete</span><span class="o">.</span><span class="n">side_effect</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">exc</span><span class="o">.</span><span class="n">ClientException</span><span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">ClientException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">,</span>
                          <span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;badname&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">delete</span><span class="o">.</span><span class="n">has_calls</span><span class="p">(</span>
            <span class="p">[</span><span class="n">mock</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">delete</span><span class="o">.</span><span class="n">call_count</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalList"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalList</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>

<div class="viewcode-block" id="TestBaremetalList.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalList</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">FakeBaremetalResource</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">BAREMETAL</span><span class="p">),</span>
                <span class="n">loaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">ListBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_no_options"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_no_options">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_no_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="n">columns</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>

        <span class="n">collist</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;UUID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Instance UUID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Power State&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Provisioning State&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Maintenance&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">collist</span><span class="p">,</span> <span class="n">columns</span><span class="p">)</span>
        <span class="n">datalist</span> <span class="o">=</span> <span class="p">((</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_uuid</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_name</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_instance_uuid</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_power_state</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_provision_state</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_maintenance</span><span class="p">,</span>
        <span class="p">),</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_long"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_long">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_long</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--long&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;long&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="n">columns</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;detail&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>

        <span class="n">collist</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Chassis UUID&#39;</span><span class="p">,</span> <span class="s1">&#39;Created At&#39;</span><span class="p">,</span> <span class="s1">&#39;Clean Step&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Console Enabled&#39;</span><span class="p">,</span> <span class="s1">&#39;Driver&#39;</span><span class="p">,</span> <span class="s1">&#39;Driver Info&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Driver Internal Info&#39;</span><span class="p">,</span> <span class="s1">&#39;Extra&#39;</span><span class="p">,</span> <span class="s1">&#39;Instance Info&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Instance UUID&#39;</span><span class="p">,</span> <span class="s1">&#39;Last Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Maintenance&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Maintenance Reason&#39;</span><span class="p">,</span> <span class="s1">&#39;Power State&#39;</span><span class="p">,</span> <span class="s1">&#39;Properties&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Provisioning State&#39;</span><span class="p">,</span> <span class="s1">&#39;Provision Updated At&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Current RAID configuration&#39;</span><span class="p">,</span> <span class="s1">&#39;Reservation&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Resource Class&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Target Power State&#39;</span><span class="p">,</span> <span class="s1">&#39;Target Provision State&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Target RAID configuration&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Updated At&#39;</span><span class="p">,</span> <span class="s1">&#39;Inspection Finished At&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Inspection Started At&#39;</span><span class="p">,</span> <span class="s1">&#39;UUID&#39;</span><span class="p">,</span> <span class="s1">&#39;Name&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Network Interface&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">collist</span><span class="p">,</span> <span class="n">columns</span><span class="p">)</span>
        <span class="n">datalist</span> <span class="o">=</span> <span class="p">((</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_instance_uuid</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_maintenance</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_power_state</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_provision_state</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_uuid</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_name</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="p">),</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_maintenance"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_maintenance">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_maintenance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--maintenance&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;maintenance&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;maintenance&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_no_maintenance"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_no_maintenance">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_no_maintenance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--no-maintenance&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;no_maintenance&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;maintenance&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_both_maintenances"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_both_maintenances">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_both_maintenances</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--maintenance&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--no-maintenance&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_associated"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_associated">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_associated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--associated&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;associated&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;associated&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_unassociated"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_unassociated">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_unassociated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--unassociated&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;associated&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;associated&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_both_associated_unassociated_not_allowed"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_both_associated_unassociated_not_allowed">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_both_associated_unassociated_not_allowed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--associated&#39;</span><span class="p">,</span> <span class="s1">&#39;--unassociated&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_provision_state"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_provision_state">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_provision_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--provision-state&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;provision_state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_invalid_provision_state"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_invalid_provision_state">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_invalid_provision_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--provision-state&#39;</span><span class="p">,</span> <span class="s1">&#39;invalid&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;invalid&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_resource_class"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_resource_class">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_resource_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--resource-class&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;resource_class&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;resource_class&#39;</span><span class="p">:</span> <span class="s1">&#39;foo&#39;</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_chassis"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_chassis">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_chassis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">chassis_uuid</span> <span class="o">=</span> <span class="s1">&#39;aaaaaaaa-1111-bbbb-2222-cccccccccccc&#39;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--chassis&#39;</span><span class="p">,</span> <span class="n">chassis_uuid</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;chassis&#39;</span><span class="p">,</span> <span class="n">chassis_uuid</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;chassis&#39;</span><span class="p">:</span> <span class="n">chassis_uuid</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_fields"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_fields">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--fields&#39;</span><span class="p">,</span> <span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;fields&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">]]),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;detail&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
            <span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">),</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_fields_multiple"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_fields_multiple">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_fields_multiple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--fields&#39;</span><span class="p">,</span> <span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--fields&#39;</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;fields&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]])</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s1">&#39;detail&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
            <span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalList.test_baremetal_list_invalid_fields"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalList.test_baremetal_list_invalid_fields">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_list_invalid_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;--fields&#39;</span><span class="p">,</span> <span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;invalid&#39;</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;fields&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;invalid&#39;</span><span class="p">]])</span>
        <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalMaintenanceSet"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalMaintenanceSet">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalMaintenanceSet</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalMaintenanceSet.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalMaintenanceSet.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalMaintenanceSet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">MaintenanceSetBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalMaintenanceSet.test_baremetal_maintenance_on"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalMaintenanceSet.test_baremetal_maintenance_on">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_maintenance_on</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--reason&#39;</span><span class="p">,</span> <span class="s1">&#39;maintenance reason&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;reason&#39;</span><span class="p">,</span> <span class="s1">&#39;maintenance reason&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_maintenance</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="bp">True</span><span class="p">,</span>
            <span class="n">maint_reason</span><span class="o">=</span><span class="s1">&#39;maintenance reason&#39;</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalMaintenanceSet.test_baremetal_maintenance_on_no_reason"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalMaintenanceSet.test_baremetal_maintenance_on_no_reason">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_maintenance_on_no_reason</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_maintenance</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="bp">True</span><span class="p">,</span>
            <span class="n">maint_reason</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalMaintenanceUnset"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalMaintenanceUnset">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalMaintenanceUnset</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalMaintenanceUnset.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalMaintenanceUnset.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalMaintenanceUnset</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">MaintenanceUnsetBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalMaintenanceUnset.test_baremetal_maintenance_off"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalMaintenanceUnset.test_baremetal_maintenance_off">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_maintenance_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_maintenance</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="bp">False</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestPassthruCall"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestPassthruCall">[docs]</a><span class="k">class</span> <span class="nc">TestPassthruCall</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestPassthruCall.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestPassthruCall.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestPassthruCall</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">PassthruCallBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestPassthruCall.test_passthru_call"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestPassthruCall.test_passthru_call">[docs]</a>    <span class="k">def</span> <span class="nf">test_passthru_call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;heartbeat&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;heartbeat&#39;</span><span class="p">)]</span>
        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">vendor_passthru</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;heartbeat&#39;</span><span class="p">,</span> <span class="n">http_method</span><span class="o">=</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">{})</span></div>

<div class="viewcode-block" id="TestPassthruCall.test_passthru_call_http_method"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestPassthruCall.test_passthru_call_http_method">[docs]</a>    <span class="k">def</span> <span class="nf">test_passthru_call_http_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;heartbeat&#39;</span><span class="p">,</span> <span class="s1">&#39;--http-method&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;heartbeat&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;http_method&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">)]</span>
        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">vendor_passthru</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;heartbeat&#39;</span><span class="p">,</span> <span class="n">http_method</span><span class="o">=</span><span class="s1">&#39;PUT&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">{})</span></div>

<div class="viewcode-block" id="TestPassthruCall.test_passthru_call_args"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestPassthruCall.test_passthru_call_args">[docs]</a>    <span class="k">def</span> <span class="nf">test_passthru_call_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;heartbeat&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--arg&#39;</span><span class="p">,</span> <span class="s1">&#39;key1=value1&#39;</span><span class="p">,</span> <span class="s1">&#39;--arg&#39;</span><span class="p">,</span> <span class="s1">&#39;key2=value2&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;heartbeat&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;key1=value1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2=value2&#39;</span><span class="p">])]</span>
        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>
        <span class="n">expected_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;key1&#39;</span><span class="p">:</span> <span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="s1">&#39;value2&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">vendor_passthru</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;heartbeat&#39;</span><span class="p">,</span> <span class="n">http_method</span><span class="o">=</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">expected_dict</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestPassthruList"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestPassthruList">[docs]</a><span class="k">class</span> <span class="nc">TestPassthruList</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestPassthruList.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestPassthruList.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestPassthruList</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">PassthruListBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_vendor_passthru_methods</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;send_raw&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;require_exclusive_lock&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s2">&quot;attach&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
                         <span class="s2">&quot;http_methods&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;async&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
            <span class="s2">&quot;bmc_reset&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;require_exclusive_lock&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s2">&quot;attach&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
                          <span class="s2">&quot;http_methods&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;async&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}}</span></div>

<div class="viewcode-block" id="TestPassthruList.test_passthru_list"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestPassthruList.test_passthru_list">[docs]</a>    <span class="k">def</span> <span class="nf">test_passthru_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>
        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>
        <span class="n">mock</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_vendor_passthru_methods</span>
        <span class="n">mock</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalPower"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalPower</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalPower.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalPower</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">PowerBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalPower.test_baremetal_power_just_on"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.test_baremetal_power_just_on">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_power_just_on</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;on&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;power_state&#39;</span><span class="p">,</span> <span class="s1">&#39;on&#39;</span><span class="p">)]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalPower.test_baremetal_power_just_off"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.test_baremetal_power_just_off">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_power_just_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;off&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;power_state&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">)]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalPower.test_baremetal_power_uuid_only"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.test_baremetal_power_uuid_only">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_power_uuid_only</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalPower.test_baremetal_power_on"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.test_baremetal_power_on">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_power_on</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;on&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;power_state&#39;</span><span class="p">,</span> <span class="s1">&#39;on&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;on&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalPower.test_baremetal_power_on_timeout"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.test_baremetal_power_on_timeout">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_power_on_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;on&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--power-timeout&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;power_state&#39;</span><span class="p">,</span> <span class="s1">&#39;on&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;on&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalPower.test_baremetal_power_off"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.test_baremetal_power_off">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_power_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;power_state&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalPower.test_baremetal_power_off_timeout"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.test_baremetal_power_off_timeout">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_power_off_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--power-timeout&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;power_state&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalPower.test_baremetal_soft_power_off"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.test_baremetal_soft_power_off">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_soft_power_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--soft&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;power_state&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalPower.test_baremetal_soft_power_off_timeout"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalPower.test_baremetal_soft_power_off_timeout">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_soft_power_off_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--soft&#39;</span><span class="p">,</span> <span class="s1">&#39;--power-timeout&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;power_state&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestDeployBaremetalProvisionState"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestDeployBaremetalProvisionState">[docs]</a><span class="k">class</span> <span class="nc">TestDeployBaremetalProvisionState</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestDeployBaremetalProvisionState.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestDeployBaremetalProvisionState.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestDeployBaremetalProvisionState</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">DeployBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestDeployBaremetalProvisionState.test_deploy_baremetal_provision_state_active_and_configdrive"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestDeployBaremetalProvisionState.test_deploy_baremetal_provision_state_active_and_configdrive">[docs]</a>    <span class="k">def</span> <span class="nf">test_deploy_baremetal_provision_state_active_and_configdrive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--config-drive&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/drive&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;config_drive&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/drive&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
            <span class="n">cleansteps</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">configdrive</span><span class="o">=</span><span class="s1">&#39;path/to/drive&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestDeployBaremetalProvisionState.test_deploy_no_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestDeployBaremetalProvisionState.test_deploy_no_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_deploy_no_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_not_called</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestDeployBaremetalProvisionState.test_deploy_baremetal_provision_state_active_and_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestDeployBaremetalProvisionState.test_deploy_baremetal_provision_state_active_and_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_deploy_baremetal_provision_state_active_and_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">,</span> <span class="s1">&#39;15&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestDeployBaremetalProvisionState.test_deploy_baremetal_provision_state_default_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestDeployBaremetalProvisionState.test_deploy_baremetal_provision_state_default_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_deploy_baremetal_provision_state_default_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestDeployBaremetalProvisionState.test_deploy_baremetal_provision_state_mismatch"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestDeployBaremetalProvisionState.test_deploy_baremetal_provision_state_mismatch">[docs]</a>    <span class="k">def</span> <span class="nf">test_deploy_baremetal_provision_state_mismatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--provision-state&#39;</span><span class="p">,</span> <span class="s1">&#39;abort&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestManageBaremetalProvisionState"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestManageBaremetalProvisionState">[docs]</a><span class="k">class</span> <span class="nc">TestManageBaremetalProvisionState</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestManageBaremetalProvisionState.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestManageBaremetalProvisionState.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestManageBaremetalProvisionState</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">ManageBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestManageBaremetalProvisionState.test_manage_no_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestManageBaremetalProvisionState.test_manage_no_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_manage_no_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;manage&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_not_called</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestManageBaremetalProvisionState.test_manage_baremetal_provision_state_manageable_and_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestManageBaremetalProvisionState.test_manage_baremetal_provision_state_manageable_and_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_manage_baremetal_provision_state_manageable_and_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">,</span> <span class="s1">&#39;15&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;manage&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;manageable&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestManageBaremetalProvisionState.test_manage_baremetal_provision_state_default_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestManageBaremetalProvisionState.test_manage_baremetal_provision_state_default_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_manage_baremetal_provision_state_default_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;manage&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;manageable&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestCleanBaremetalProvisionState"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestCleanBaremetalProvisionState">[docs]</a><span class="k">class</span> <span class="nc">TestCleanBaremetalProvisionState</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestCleanBaremetalProvisionState.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestCleanBaremetalProvisionState.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestCleanBaremetalProvisionState</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">CleanBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestCleanBaremetalProvisionState.test_clean_no_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestCleanBaremetalProvisionState.test_clean_no_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_clean_no_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--clean-steps&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;clean&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;clean_steps&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_not_called</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestCleanBaremetalProvisionState.test_clean_baremetal_provision_state_manageable_and_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestCleanBaremetalProvisionState.test_clean_baremetal_provision_state_manageable_and_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_clean_baremetal_provision_state_manageable_and_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">,</span> <span class="s1">&#39;15&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--clean-steps&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;clean&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;clean_steps&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;manageable&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestCleanBaremetalProvisionState.test_clean_baremetal_provision_state_default_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestCleanBaremetalProvisionState.test_clean_baremetal_provision_state_default_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_clean_baremetal_provision_state_default_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--clean-steps&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;clean&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;clean_steps&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;manageable&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestInspectBaremetalProvisionState"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestInspectBaremetalProvisionState">[docs]</a><span class="k">class</span> <span class="nc">TestInspectBaremetalProvisionState</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestInspectBaremetalProvisionState.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestInspectBaremetalProvisionState.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestInspectBaremetalProvisionState</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">InspectBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestInspectBaremetalProvisionState.test_inspect_no_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestInspectBaremetalProvisionState.test_inspect_no_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_inspect_no_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;inspect&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_not_called</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestInspectBaremetalProvisionState.test_inspect_baremetal_provision_state_managable_and_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestInspectBaremetalProvisionState.test_inspect_baremetal_provision_state_managable_and_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_inspect_baremetal_provision_state_managable_and_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">,</span> <span class="s1">&#39;15&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;inspect&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;manageable&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestInspectBaremetalProvisionState.test_inspect_baremetal_provision_state_default_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestInspectBaremetalProvisionState.test_inspect_baremetal_provision_state_default_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_inspect_baremetal_provision_state_default_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;inspect&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;manageable&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestProvideBaremetalProvisionState"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestProvideBaremetalProvisionState">[docs]</a><span class="k">class</span> <span class="nc">TestProvideBaremetalProvisionState</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestProvideBaremetalProvisionState.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestProvideBaremetalProvisionState.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestProvideBaremetalProvisionState</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">ProvideBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestProvideBaremetalProvisionState.test_provide_no_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestProvideBaremetalProvisionState.test_provide_no_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_provide_no_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;provide&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_not_called</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestProvideBaremetalProvisionState.test_provide_baremetal_provision_state_available_and_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestProvideBaremetalProvisionState.test_provide_baremetal_provision_state_available_and_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_provide_baremetal_provision_state_available_and_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">,</span> <span class="s1">&#39;15&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;provide&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;available&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestProvideBaremetalProvisionState.test_provide_baremetal_provision_state_default_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestProvideBaremetalProvisionState.test_provide_baremetal_provision_state_default_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_provide_baremetal_provision_state_default_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;provide&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;available&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestRebuildBaremetalProvisionState"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestRebuildBaremetalProvisionState">[docs]</a><span class="k">class</span> <span class="nc">TestRebuildBaremetalProvisionState</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestRebuildBaremetalProvisionState.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestRebuildBaremetalProvisionState.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestRebuildBaremetalProvisionState</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">RebuildBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRebuildBaremetalProvisionState.test_rebuild_no_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestRebuildBaremetalProvisionState.test_rebuild_no_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_rebuild_no_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;rebuild&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_not_called</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestRebuildBaremetalProvisionState.test_rebuild_baremetal_provision_state_active_and_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestRebuildBaremetalProvisionState.test_rebuild_baremetal_provision_state_active_and_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_rebuild_baremetal_provision_state_active_and_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">,</span> <span class="s1">&#39;15&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;rebuild&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRebuildBaremetalProvisionState.test_rebuild_baremetal_provision_state_default_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestRebuildBaremetalProvisionState.test_rebuild_baremetal_provision_state_default_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_rebuild_baremetal_provision_state_default_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;rebuild&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestUndeployBaremetalProvisionState"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestUndeployBaremetalProvisionState">[docs]</a><span class="k">class</span> <span class="nc">TestUndeployBaremetalProvisionState</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestUndeployBaremetalProvisionState.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestUndeployBaremetalProvisionState.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestUndeployBaremetalProvisionState</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">UndeployBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestUndeployBaremetalProvisionState.test_undeploy_no_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestUndeployBaremetalProvisionState.test_undeploy_no_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_undeploy_no_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;deleted&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_not_called</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestUndeployBaremetalProvisionState.test_undeploy_baremetal_provision_state_available_and_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestUndeployBaremetalProvisionState.test_undeploy_baremetal_provision_state_available_and_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_undeploy_baremetal_provision_state_available_and_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">,</span> <span class="s1">&#39;15&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;deleted&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;available&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestUndeployBaremetalProvisionState.test_undeploy_baremetal_provision_state_default_wait"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestUndeployBaremetalProvisionState.test_undeploy_baremetal_provision_state_default_wait">[docs]</a>    <span class="k">def</span> <span class="nf">test_undeploy_baremetal_provision_state_default_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--wait&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;provision_state&#39;</span><span class="p">,</span> <span class="s1">&#39;deleted&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;wait_timeout&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">test_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span>
        <span class="n">test_node</span><span class="o">.</span><span class="n">wait_for_provision_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_state</span><span class="o">=</span><span class="s1">&#39;available&#39;</span><span class="p">,</span>
            <span class="n">poll_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalReboot"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalReboot">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalReboot</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalReboot.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalReboot.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalReboot</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">RebootBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalReboot.test_baremetal_reboot_no_options"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalReboot.test_baremetal_reboot_no_options">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_reboot_no_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalReboot.test_baremetal_reboot_uuid_only"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalReboot.test_baremetal_reboot_uuid_only">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_reboot_uuid_only</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;reboot&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalReboot.test_baremetal_reboot_timeout"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalReboot.test_baremetal_reboot_timeout">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_reboot_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--power-timeout&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;reboot&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalReboot.test_baremetal_soft_reboot"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalReboot.test_baremetal_soft_reboot">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_soft_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--soft&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;reboot&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalReboot.test_baremetal_soft_reboot_timeout"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalReboot.test_baremetal_soft_reboot_timeout">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_soft_reboot_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--soft&#39;</span><span class="p">,</span> <span class="s1">&#39;--power-timeout&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;soft&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;power_timeout&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_power_state</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;reboot&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalSet"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalSet</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalSet.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalSet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">FakeBaremetalResource</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">BAREMETAL</span><span class="p">),</span>
                <span class="n">loaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="p">))</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">SetBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_no_options"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_no_options">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_no_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_no_property"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_no_property">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_no_property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">called</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_one_property"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_one_property">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_one_property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--property&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/property=value&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;property&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;path/to/property=value&#39;</span><span class="p">]),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/properties/path/to/property&#39;</span><span class="p">,</span>
              <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
              <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}])</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_multiple_properties"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_multiple_properties">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_multiple_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--property&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/property=value&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--property&#39;</span><span class="p">,</span> <span class="s1">&#39;other/path=value2&#39;</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;property&#39;</span><span class="p">,</span>
             <span class="p">[</span>
                 <span class="s1">&#39;path/to/property=value&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;other/path=value2&#39;</span><span class="p">,</span>
             <span class="p">]),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/properties/path/to/property&#39;</span><span class="p">,</span>
              <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
              <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">},</span>
             <span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/properties/other/path&#39;</span><span class="p">,</span>
              <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span>
              <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_instance_uuid"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_instance_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_instance_uuid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--instance-uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;instance_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/instance_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_name"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_name">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--name&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/name&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_chassis"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_chassis">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_chassis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">chassis</span> <span class="o">=</span> <span class="s1">&#39;4f4135ea-7e58-4e3d-bcc4-b87ca16e980b&#39;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--chassis-uuid&#39;</span><span class="p">,</span> <span class="n">chassis</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;chassis_uuid&#39;</span><span class="p">,</span> <span class="n">chassis</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/chassis_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">chassis</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_driver"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_driver">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_driver</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--driver&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;driver&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/driver&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_network_interface"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_network_interface">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_network_interface</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--network-interface&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;network_interface&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/network_interface&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_resource_class"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_resource_class">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_resource_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--resource-class&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;resource_class&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/resource_class&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_extra"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_extra">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--extra&#39;</span><span class="p">,</span> <span class="s1">&#39;foo=bar&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;extra&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;foo=bar&#39;</span><span class="p">])</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/extra/foo&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_driver_info"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_driver_info">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_driver_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--driver-info&#39;</span><span class="p">,</span> <span class="s1">&#39;foo=bar&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;driver_info&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;foo=bar&#39;</span><span class="p">])</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/driver_info/foo&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_instance_info"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_instance_info">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_instance_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--instance-info&#39;</span><span class="p">,</span> <span class="s1">&#39;foo=bar&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;instance_info&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;foo=bar&#39;</span><span class="p">])</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/instance_info/foo&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

    <span class="nd">@mock.patch.object</span><span class="p">(</span><span class="n">commonutils</span><span class="p">,</span> <span class="s1">&#39;get_from_stdin&#39;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="nd">@mock.patch.object</span><span class="p">(</span><span class="n">commonutils</span><span class="p">,</span> <span class="s1">&#39;handle_json_or_file_arg&#39;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_target_raid_config"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_target_raid_config">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_target_raid_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mock_handle</span><span class="p">,</span> <span class="n">mock_stdin</span><span class="p">):</span>
        <span class="n">target_raid_config_string</span> <span class="o">=</span> <span class="s1">&#39;{&quot;raid&quot;: &quot;config&quot;}&#39;</span>
        <span class="n">expected_target_raid_config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;raid&#39;</span><span class="p">:</span> <span class="s1">&#39;config&#39;</span><span class="p">}</span>
        <span class="n">mock_handle</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">expected_target_raid_config</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--target-raid-config&#39;</span><span class="p">,</span> <span class="n">target_raid_config_string</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;target_raid_config&#39;</span><span class="p">,</span> <span class="n">target_raid_config_string</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">mock_stdin</span><span class="o">.</span><span class="n">called</span><span class="p">)</span>
        <span class="n">mock_handle</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="n">target_raid_config_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_target_raid_config</span><span class="o">.</span>\
            <span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_target_raid_config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">called</span><span class="p">)</span></div>

    <span class="nd">@mock.patch.object</span><span class="p">(</span><span class="n">commonutils</span><span class="p">,</span> <span class="s1">&#39;get_from_stdin&#39;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="nd">@mock.patch.object</span><span class="p">(</span><span class="n">commonutils</span><span class="p">,</span> <span class="s1">&#39;handle_json_or_file_arg&#39;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_target_raid_config_and_name"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_target_raid_config_and_name">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_target_raid_config_and_name</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">mock_handle</span><span class="p">,</span> <span class="n">mock_stdin</span><span class="p">):</span>
        <span class="n">target_raid_config_string</span> <span class="o">=</span> <span class="s1">&#39;{&quot;raid&quot;: &quot;config&quot;}&#39;</span>
        <span class="n">expected_target_raid_config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;raid&#39;</span><span class="p">:</span> <span class="s1">&#39;config&#39;</span><span class="p">}</span>
        <span class="n">mock_handle</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">expected_target_raid_config</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--name&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--target-raid-config&#39;</span><span class="p">,</span> <span class="n">target_raid_config_string</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;target_raid_config&#39;</span><span class="p">,</span> <span class="n">target_raid_config_string</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">mock_stdin</span><span class="o">.</span><span class="n">called</span><span class="p">)</span>
        <span class="n">mock_handle</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="n">target_raid_config_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_target_raid_config</span><span class="o">.</span>\
            <span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_target_raid_config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/name&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;add&#39;</span><span class="p">}])</span></div>

    <span class="nd">@mock.patch.object</span><span class="p">(</span><span class="n">commonutils</span><span class="p">,</span> <span class="s1">&#39;get_from_stdin&#39;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="nd">@mock.patch.object</span><span class="p">(</span><span class="n">commonutils</span><span class="p">,</span> <span class="s1">&#39;handle_json_or_file_arg&#39;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_target_raid_config_stdin"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_target_raid_config_stdin">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_target_raid_config_stdin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mock_handle</span><span class="p">,</span>
                                                    <span class="n">mock_stdin</span><span class="p">):</span>
        <span class="n">target_value</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span>
        <span class="n">target_raid_config_string</span> <span class="o">=</span> <span class="s1">&#39;{&quot;raid&quot;: &quot;config&quot;}&#39;</span>
        <span class="n">expected_target_raid_config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;raid&#39;</span><span class="p">:</span> <span class="s1">&#39;config&#39;</span><span class="p">}</span>
        <span class="n">mock_stdin</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">target_raid_config_string</span>
        <span class="n">mock_handle</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">expected_target_raid_config</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--target-raid-config&#39;</span><span class="p">,</span> <span class="n">target_value</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;target_raid_config&#39;</span><span class="p">,</span> <span class="n">target_value</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">mock_stdin</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;target_raid_config&#39;</span><span class="p">)</span>
        <span class="n">mock_handle</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="n">target_raid_config_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_target_raid_config</span><span class="o">.</span>\
            <span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="n">expected_target_raid_config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">called</span><span class="p">)</span></div>

    <span class="nd">@mock.patch.object</span><span class="p">(</span><span class="n">commonutils</span><span class="p">,</span> <span class="s1">&#39;get_from_stdin&#39;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="nd">@mock.patch.object</span><span class="p">(</span><span class="n">commonutils</span><span class="p">,</span> <span class="s1">&#39;handle_json_or_file_arg&#39;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<div class="viewcode-block" id="TestBaremetalSet.test_baremetal_set_target_raid_config_stdin_exception"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalSet.test_baremetal_set_target_raid_config_stdin_exception">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_set_target_raid_config_stdin_exception</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">mock_handle</span><span class="p">,</span> <span class="n">mock_stdin</span><span class="p">):</span>
        <span class="n">target_value</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span>
        <span class="n">mock_stdin</span><span class="o">.</span><span class="n">side_effect</span> <span class="o">=</span> <span class="n">exc</span><span class="o">.</span><span class="n">InvalidAttribute</span><span class="p">(</span><span class="s1">&#39;bad&#39;</span><span class="p">)</span>

        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--target-raid-config&#39;</span><span class="p">,</span> <span class="n">target_value</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;target_raid_config&#39;</span><span class="p">,</span> <span class="n">target_value</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">InvalidAttribute</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">,</span> <span class="n">parsed_args</span><span class="p">)</span>

        <span class="n">mock_stdin</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;target_raid_config&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">mock_handle</span><span class="o">.</span><span class="n">called</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_target_raid_config</span><span class="o">.</span><span class="n">called</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">called</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalShow"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalShow">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalShow</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalShow.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalShow.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalShow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">FakeBaremetalResource</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">BAREMETAL</span><span class="p">),</span>
                <span class="n">loaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_by_instance_uuid</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">FakeBaremetalResource</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">BAREMETAL</span><span class="p">),</span>
                <span class="n">loaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="p">))</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">ShowBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalShow.test_baremetal_show"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalShow.test_baremetal_show">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="n">columns</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span>

        <span class="n">collist</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;chassis_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;instance_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;maintenance&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;power_state&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;provision_state&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;uuid&#39;</span>
                   <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">collist</span><span class="p">,</span> <span class="n">columns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="s1">&#39;ports&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="p">)</span>
        <span class="n">datalist</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_chassis_uuid_empty</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_instance_uuid</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_maintenance</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_name</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_power_state</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_provision_state</span><span class="p">,</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">baremetal_uuid</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestBaremetalShow.test_baremetal_show_no_node"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalShow.test_baremetal_show_no_node">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_show_no_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalShow.test_baremetal_show_with_instance_uuid"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalShow.test_baremetal_show_with_instance_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_show_with_instance_uuid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--instance&#39;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;instance_uuid&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxx-xxxxxx-xxxx&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_by_instance_uuid</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalShow.test_baremetal_show_fields"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalShow.test_baremetal_show_fields">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_show_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--fields&#39;</span><span class="p">,</span> <span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;fields&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">]]),</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="c1"># DisplayCommandBase.take_action() returns two tuples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">]</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="n">fields</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalShow.test_baremetal_show_fields_multiple"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalShow.test_baremetal_show_fields_multiple">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_show_fields_multiple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--fields&#39;</span><span class="p">,</span> <span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--fields&#39;</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;fields&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]])</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="c1"># Set expected values</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">]</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="n">fields</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalShow.test_baremetal_show_invalid_fields"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalShow.test_baremetal_show_invalid_fields">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_show_invalid_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--fields&#39;</span><span class="p">,</span> <span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;invalid&#39;</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;fields&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;invalid&#39;</span><span class="p">]])</span>
        <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalUnset"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalUnset</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalUnset.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalUnset</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">FakeBaremetalResource</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">BAREMETAL</span><span class="p">),</span>
                <span class="n">loaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="p">))</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">UnsetBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_no_options"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_no_options">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_no_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_no_property"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_no_property">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_no_property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">called</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_one_property"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_one_property">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_one_property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;--property&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/property&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;property&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;path/to/property&#39;</span><span class="p">])]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/properties/path/to/property&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}])</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_multiple_properties"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_multiple_properties">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_multiple_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--property&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/property&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;--property&#39;</span><span class="p">,</span> <span class="s1">&#39;other/path&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;property&#39;</span><span class="p">,</span>
                       <span class="p">[</span><span class="s1">&#39;path/to/property&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;other/path&#39;</span><span class="p">])]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/properties/path/to/property&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">},</span>
             <span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/properties/other/path&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_instance_uuid"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_instance_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_instance_uuid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--instance-uuid&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;instance_uuid&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/instance_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_name"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_name">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--name&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/name&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_resource_class"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_resource_class">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_resource_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--resource-class&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;resource_class&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/resource_class&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_extra"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_extra">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--extra&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;extra&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">])</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/extra/foo&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_driver_info"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_driver_info">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_driver_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--driver-info&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;driver_info&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">])</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/driver_info/foo&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_instance_info"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_instance_info">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_instance_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--instance-info&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;instance_info&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">])</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/instance_info/foo&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_target_raid_config"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_target_raid_config">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_target_raid_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--target-raid-config&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;target_raid_config&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">called</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_target_raid_config</span><span class="o">.</span>\
            <span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="p">{})</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_target_raid_config_and_name"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_target_raid_config_and_name">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_target_raid_config_and_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--name&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--target-raid-config&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;target_raid_config&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">set_target_raid_config</span><span class="o">.</span>\
            <span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/name&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalUnset.test_baremetal_unset_chassis_uuid"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalUnset.test_baremetal_unset_chassis_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_unset_chassis_uuid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;--chassis-uuid&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;chassis_uuid&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span>
            <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/chassis_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">}]</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="TestValidate"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestValidate">[docs]</a><span class="k">class</span> <span class="nc">TestValidate</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestValidate.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestValidate.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestValidate</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">ValidateBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">validate</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">FakeBaremetalResource</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="p">{</span><span class="s1">&#39;management&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
                 <span class="s1">&#39;console&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="s2">&quot;Missing &#39;ipmi_terminal_port&#39;&quot;</span><span class="p">,</span>
                             <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span>
                 <span class="s1">&#39;network&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
                 <span class="s1">&#39;power&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
                 <span class="s1">&#39;deploy&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
                 <span class="s1">&#39;inspect&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="s2">&quot;not supported&quot;</span><span class="p">,</span> <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span>
                 <span class="s1">&#39;boot&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
                 <span class="s1">&#39;raid&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}},</span>
                <span class="n">loaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="p">))</span></div>

<div class="viewcode-block" id="TestValidate.test_baremetal_validate_no_arg"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestValidate.test_baremetal_validate_no_arg">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_validate_no_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestValidate.test_baremetal_validate"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestValidate.test_baremetal_validate">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">validate</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestVifList"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifList">[docs]</a><span class="k">class</span> <span class="nc">TestVifList</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestVifList.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifList.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestVifList</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">vif_list</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">FakeBaremetalResource</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">baremetal_fakes</span><span class="o">.</span><span class="n">VIFS</span><span class="p">),</span>
                <span class="n">loaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">VifListBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestVifList.test_baremetal_vif_list"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifList.test_baremetal_vif_list">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_vif_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">vif_list</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestVifAttach"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifAttach">[docs]</a><span class="k">class</span> <span class="nc">TestVifAttach</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestVifAttach.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifAttach.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestVifAttach</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">VifAttachBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestVifAttach.test_baremetal_vif_attach"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifAttach.test_baremetal_vif_attach">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_vif_attach</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-aaa&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;vif_id&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-aaa&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">vif_attach</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-aaa&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestVifAttach.test_baremetal_vif_attach_custom_fields"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifAttach.test_baremetal_vif_attach_custom_fields">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_vif_attach_custom_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-aaa&#39;</span><span class="p">,</span> <span class="s1">&#39;--vif-info&#39;</span><span class="p">,</span> <span class="s1">&#39;foo=bar&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;vif_id&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-aaa&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;vif_info&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;foo=bar&#39;</span><span class="p">])]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">vif_attach</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-aaa&#39;</span><span class="p">,</span> <span class="n">foo</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestVifDetach"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifDetach">[docs]</a><span class="k">class</span> <span class="nc">TestVifDetach</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestVifDetach.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifDetach.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestVifDetach</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">VifDetachBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestVifDetach.test_baremetal_vif_detach"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestVifDetach.test_baremetal_vif_detach">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_vif_detach</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-aaa&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;vif_id&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-aaa&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">vif_detach</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-aaa&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestBaremetalInject"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalInject">[docs]</a><span class="k">class</span> <span class="nc">TestBaremetalInject</span><span class="p">(</span><span class="n">TestBaremetal</span><span class="p">):</span>
<div class="viewcode-block" id="TestBaremetalInject.setUp"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalInject.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TestBaremetalInject</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="c1"># Get the command object to test</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">baremetal_node</span><span class="o">.</span><span class="n">InjectNmiBaremetalNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalInject.test_baremetal_inject_no_options"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalInject.test_baremetal_inject_no_options">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_inject_no_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">oscutils</span><span class="o">.</span><span class="n">ParserException</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestBaremetalInject.test_baremetal_inject_nmi_uuid"><a class="viewcode-back" href="../../../../../../api/ironicclient.tests.unit.osc.v1.test_baremetal_node.html#ironicclient.tests.unit.osc.v1.test_baremetal_node.TestBaremetalInject.test_baremetal_inject_nmi_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">test_baremetal_inject_nmi_uuid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;node_uuid&#39;</span><span class="p">]</span>
        <span class="n">verifylist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_uuid&#39;</span><span class="p">)]</span>

        <span class="n">parsed_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_parser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">verifylist</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">take_action</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">baremetal_mock</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">inject_nmi</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span>
            <span class="s1">&#39;node_uuid&#39;</span><span class="p">)</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/python-ironicclient
"
                     rel="nofollow">Project Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../../../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../../index.html">python-ironicclient 1.11.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../../../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/python-ironicclient");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>