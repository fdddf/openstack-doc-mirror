<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Rest Client Usage &mdash; Tempest 14.0.1.dev227 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '14.0.1.dev227',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Tempest 14.0.1.dev227 documentation" href="../index.html" />
    <link rel="up" title="Tempest Library Documentation" href="../library.html" />
    <link rel="next" title="Utils Usage" href="utils.html" />
    <link rel="prev" title="Decorators Usage Guide" href="decorators.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="rest-client-usage">
<span id="rest-client"></span><h1>Rest Client Usage<a class="headerlink" href="#rest-client-usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-tempest.lib.common.rest_client">
<span id="the-rest-client-module"></span><h2>The rest_client module<a class="headerlink" href="#module-tempest.lib.common.rest_client" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tempest.lib.common.rest_client.ResponseBody">
<em class="property">class </em><code class="descname">ResponseBody</code><span class="sig-paren">(</span><em>response</em>, <em>body=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#ResponseBody"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.ResponseBody" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that wraps an http response and dict body into a single value.</p>
<p>Callers that receive this object will normally use it as a dict but
can extract the response if needed.</p>
</dd></dl>

<dl class="class">
<dt id="tempest.lib.common.rest_client.ResponseBodyData">
<em class="property">class </em><code class="descname">ResponseBodyData</code><span class="sig-paren">(</span><em>response</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#ResponseBodyData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.ResponseBodyData" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that wraps an http response and string data into a single value.</p>
</dd></dl>

<dl class="class">
<dt id="tempest.lib.common.rest_client.ResponseBodyList">
<em class="property">class </em><code class="descname">ResponseBodyList</code><span class="sig-paren">(</span><em>response</em>, <em>body=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#ResponseBodyList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.ResponseBodyList" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that wraps an http response and list body into a single value.</p>
<p>Callers that receive this object will normally use it as a list but
can extract the response if needed.</p>
</dd></dl>

<dl class="class">
<dt id="tempest.lib.common.rest_client.RestClient">
<em class="property">class </em><code class="descname">RestClient</code><span class="sig-paren">(</span><em>auth_provider</em>, <em>service</em>, <em>region</em>, <em>endpoint_type='publicURL'</em>, <em>build_interval=1</em>, <em>build_timeout=60</em>, <em>disable_ssl_certificate_validation=False</em>, <em>ca_certs=None</em>, <em>trace_requests=''</em>, <em>name=None</em>, <em>http_timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Unified OpenStack RestClient class</p>
<p>This class is used for building openstack api clients on top of. It is
intended to provide a base layer for wrapping outgoing http requests in
keystone auth as well as providing response code checking and error
handling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>auth_provider</strong> -- an auth provider object used to wrap requests in auth</li>
<li><strong>service</strong> (<em>str</em>) -- The service name to use for the catalog lookup</li>
<li><strong>region</strong> (<em>str</em>) -- The region to use for the catalog lookup</li>
<li><strong>name</strong> (<em>str</em>) -- The endpoint name to use for the catalog lookup; this
returns only if the service exists</li>
<li><strong>endpoint_type</strong> (<em>str</em>) -- The endpoint type to use for the catalog lookup</li>
<li><strong>build_interval</strong> (<em>int</em>) -- Time in seconds between to status checks in
wait loops</li>
<li><strong>build_timeout</strong> (<em>int</em>) -- Timeout in seconds to wait for a wait operation.</li>
<li><strong>disable_ssl_certificate_validation</strong> (<em>bool</em>) -- Set to true to disable ssl
certificate validation</li>
<li><strong>ca_certs</strong> (<em>str</em>) -- File containing the CA Bundle to use in verifying a
TLS server cert</li>
<li><strong>trace_requests</strong> (<em>str</em>) -- Regex to use for specifying logging the entirety
of the request and response payload</li>
<li><strong>http_timeout</strong> (<em>str</em>) -- Timeout in seconds to wait for the http request to
return</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>url</em>, <em>headers=None</em>, <em>extra_headers=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a HTTP COPY request using keystone service catalog and auth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) -- the relative url to send the post request to</li>
<li><strong>headers</strong> (<em>dict</em>) -- The headers to use for the request</li>
<li><strong>extra_headers</strong> (<em>bool</em>) -- Boolean value than indicates if the headers
returned by the get_headers() method are to
be used but additional headers are needed in
the request pass them in as a dict.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple with the first entry containing the response headers
and the second the response body</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>url</em>, <em>headers=None</em>, <em>body=None</em>, <em>extra_headers=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a HTTP DELETE request using keystone service catalog and auth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) -- the relative url to send the post request to</li>
<li><strong>headers</strong> (<em>dict</em>) -- The headers to use for the request</li>
<li><strong>body</strong> (<em>dict</em>) -- the request body</li>
<li><strong>extra_headers</strong> (<em>bool</em>) -- Boolean value than indicates if the headers
returned by the get_headers() method are to
be used but additional headers are needed in
the request pass them in as a dict.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple with the first entry containing the response headers
and the second the response body</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="tempest.lib.common.rest_client.RestClient.expected_success">
<em class="property">classmethod </em><code class="descname">expected_success</code><span class="sig-paren">(</span><em>expected_code</em>, <em>read_code</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.expected_success"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.expected_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Check expected success response code against the http response</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>expected_code</strong> (<em>int</em>) -- The response code that is expected.
Optionally a list of integers can be used
to specify multiple valid success codes</li>
<li><strong>read_code</strong> (<em>int</em>) -- The response code which was returned in the
response</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AssertionError</strong> -- if the expected_code isn't a valid http success
response code</li>
<li><strong>exceptions.InvalidHttpSuccessCode</strong> -- if the read code isn't an
expected http success code</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>url</em>, <em>headers=None</em>, <em>extra_headers=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a HTTP GET request using keystone service catalog and auth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) -- the relative url to send the post request to</li>
<li><strong>headers</strong> (<em>dict</em>) -- The headers to use for the request</li>
<li><strong>extra_headers</strong> (<em>bool</em>) -- Boolean value than indicates if the headers
returned by the get_headers() method are to
be used but additional headers are needed in
the request pass them in as a dict.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple with the first entry containing the response headers
and the second the response body</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.get_headers">
<code class="descname">get_headers</code><span class="sig-paren">(</span><em>accept_type=None</em>, <em>send_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.get_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.get_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default headers which will be used with outgoing requests</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>accept_type</strong> (<em>str</em>) -- The media type to use for the Accept header, if
one isn't provided the object var TYPE will be
used</li>
<li><strong>send_type</strong> (<em>str</em>) -- The media-type to use for the Content-Type
header, if one isn't provided the object var
TYPE will be used</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The dictionary of headers which can be used in the headers
dict for outgoing request</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.get_versions">
<code class="descname">get_versions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.get_versions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.get_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the versions on a endpoint from the keystone catalog</p>
<p>This method will make a GET request on the baseurl from the keystone
catalog to return a list of API versions. It is expected that a GET
on the endpoint in the catalog will return a list of supported API
versions.</p>
<p>:return tuple with response headers and list of version numbers
:rtype: tuple</p>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.head">
<code class="descname">head</code><span class="sig-paren">(</span><em>url</em>, <em>headers=None</em>, <em>extra_headers=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.head"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.head" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a HTTP HEAD request using keystone service catalog and auth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) -- the relative url to send the post request to</li>
<li><strong>headers</strong> (<em>dict</em>) -- The headers to use for the request</li>
<li><strong>extra_headers</strong> (<em>bool</em>) -- Boolean value than indicates if the headers
returned by the get_headers() method are to
be used but additional headers are needed in
the request pass them in as a dict.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple with the first entry containing the response headers
and the second the response body</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.is_resource_deleted">
<code class="descname">is_resource_deleted</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.is_resource_deleted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.is_resource_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses override with specific deletion detection.</p>
</dd></dl>

<dl class="attribute">
<dt id="tempest.lib.common.rest_client.RestClient.password">
<code class="descname">password</code><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.password" title="Permalink to this definition">¶</a></dt>
<dd><p>The password being used for requests</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The password being used for requests</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.patch">
<code class="descname">patch</code><span class="sig-paren">(</span><em>url</em>, <em>body</em>, <em>headers=None</em>, <em>extra_headers=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.patch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a HTTP PATCH request using keystone service catalog and auth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) -- the relative url to send the post request to</li>
<li><strong>body</strong> (<em>dict</em>) -- the request body</li>
<li><strong>headers</strong> (<em>dict</em>) -- The headers to use for the request</li>
<li><strong>extra_headers</strong> (<em>bool</em>) -- Boolean value than indicates if the headers
returned by the get_headers() method are to
be used but additional headers are needed in
the request pass them in as a dict.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple with the first entry containing the response headers
and the second the response body</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.post">
<code class="descname">post</code><span class="sig-paren">(</span><em>url</em>, <em>body</em>, <em>headers=None</em>, <em>extra_headers=False</em>, <em>chunked=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a HTTP POST request using keystone auth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) -- the relative url to send the post request to</li>
<li><strong>body</strong> (<em>dict</em>) -- the request body</li>
<li><strong>headers</strong> (<em>dict</em>) -- The headers to use for the request</li>
<li><strong>extra_headers</strong> (<em>bool</em>) -- Boolean value than indicates if the headers
returned by the get_headers() method are to
be used but additional headers are needed in
the request pass them in as a dict.</li>
<li><strong>chunked</strong> (<em>bool</em>) -- sends the body with chunked encoding</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple with the first entry containing the response headers
and the second the response body</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>url</em>, <em>body</em>, <em>headers=None</em>, <em>extra_headers=False</em>, <em>chunked=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a HTTP PUT request using keystone service catalog and auth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) -- the relative url to send the post request to</li>
<li><strong>body</strong> (<em>dict</em>) -- the request body</li>
<li><strong>headers</strong> (<em>dict</em>) -- The headers to use for the request</li>
<li><strong>extra_headers</strong> (<em>bool</em>) -- Boolean value than indicates if the headers
returned by the get_headers() method are to
be used but additional headers are needed in
the request pass them in as a dict.</li>
<li><strong>chunked</strong> (<em>bool</em>) -- sends the body with chunked encoding</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple with the first entry containing the response headers
and the second the response body</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.raw_request">
<code class="descname">raw_request</code><span class="sig-paren">(</span><em>url</em>, <em>method</em>, <em>headers=None</em>, <em>body=None</em>, <em>chunked=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.raw_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.raw_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a raw HTTP request without the keystone catalog or auth</p>
<p>This method sends a HTTP request in the same manner as the request()
method, however it does so without using keystone auth or the catalog
to determine the base url. Additionally no response handling is done
the results from the request are just returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) -- Full url to send the request</li>
<li><strong>method</strong> (<em>str</em>) -- The HTTP verb to use for the request</li>
<li><strong>headers</strong> (<em>str</em>) -- Headers to use for the request if none are specifed
the headers</li>
<li><strong>body</strong> (<em>str</em>) -- Body to send with the request</li>
<li><strong>chunked</strong> (<em>bool</em>) -- sends the body with chunked encoding</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tuple with the first entry containing the response headers
and the second the response body</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>extra_headers=False</em>, <em>headers=None</em>, <em>body=None</em>, <em>chunked=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a HTTP request with keystone auth and using the catalog</p>
<p>This method will send an HTTP request using keystone auth in the
headers and the catalog to determine the endpoint to use for the
baseurl to send the request to. Additionally</p>
<p>When a response is received it will check it to see if an error
response was received. If it was an exception will be raised to enable
it to be handled quickly.</p>
<p>This method will also handle rate-limiting, if a 413 response code is
received it will retry the request after waiting the 'retry-after'
duration from the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>str</em>) -- The HTTP verb to use for the request</li>
<li><strong>url</strong> (<em>str</em>) -- Relative url to send the request to</li>
<li><strong>extra_headers</strong> (<em>bool</em>) -- Boolean value than indicates if the headers
returned by the get_headers() method are to
be used but additional headers are needed in
the request pass them in as a dict.</li>
<li><strong>headers</strong> (<em>dict</em>) -- Headers to use for the request if none are
specifed the headers returned from the
get_headers() method are used. If the request
explicitly requires no headers use an empty dict.</li>
<li><strong>body</strong> (<em>str</em>) -- Body to send with the request</li>
<li><strong>chunked</strong> (<em>bool</em>) -- sends the body with chunked encoding</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple with the first entry containing the response headers
and the second the response body</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>UnexpectedContentType</strong> -- If the content-type of the response
isn't an expect type</li>
<li><strong>Unauthorized</strong> -- If a 401 response code is received</li>
<li><strong>Forbidden</strong> -- If a 403 response code is received</li>
<li><strong>NotFound</strong> -- If a 404 response code is received</li>
<li><strong>BadRequest</strong> -- If a 400 response code is received</li>
<li><strong>Gone</strong> -- If a 410 response code is received</li>
<li><strong>Conflict</strong> -- If a 409 response code is received</li>
<li><strong>OverLimit</strong> -- If a 413 response code is received and over_limit is
not in the response body</li>
<li><strong>RateLimitExceeded</strong> -- If a 413 response code is received and
over_limit is in the response body</li>
<li><strong>InvalidContentType</strong> -- If a 415 response code is received</li>
<li><strong>UnprocessableEntity</strong> -- If a 422 response code is received</li>
<li><strong>InvalidHTTPResponseBody</strong> -- The response body wasn't valid JSON
and couldn't be parsed</li>
<li><strong>NotImplemented</strong> -- If a 501 response code is received</li>
<li><strong>ServerFault</strong> -- If a 500 response code is received</li>
<li><strong>UnexpectedResponseCode</strong> -- If a response code above 400 is
received and it doesn't fall into any
of the handled checks</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.reset_path">
<code class="descname">reset_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.reset_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.reset_path" title="Permalink to this definition">¶</a></dt>
<dd><p>When reset, use the base URL from the catalog as-is</p>
</dd></dl>

<dl class="attribute">
<dt id="tempest.lib.common.rest_client.RestClient.resource_type">
<code class="descname">resource_type</code><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.resource_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the primary type of resource this client works with.</p>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.response_checker">
<code class="descname">response_checker</code><span class="sig-paren">(</span><em>method</em>, <em>resp</em>, <em>resp_body</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.response_checker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.response_checker" title="Permalink to this definition">¶</a></dt>
<dd><p>A sanity check on the response from a HTTP request</p>
<p>This method does a sanity check on whether the response from an HTTP
request conforms the HTTP RFC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>str</em>) -- The HTTP verb of the request associated with the
response being passed in.</li>
<li><strong>resp</strong> -- The response headers</li>
<li><strong>resp_body</strong> -- The body of the response</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>ResponseWithNonEmptyBody</strong> -- If the response with the status code
is not supposed to have a body</li>
<li><strong>ResponseWithEntity</strong> -- If the response code is 205 but has an
entity</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.skip_path">
<code class="descname">skip_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.skip_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.skip_path" title="Permalink to this definition">¶</a></dt>
<dd><p>When set, ignore the path part of the base URL from the catalog</p>
</dd></dl>

<dl class="attribute">
<dt id="tempest.lib.common.rest_client.RestClient.tenant_id">
<code class="descname">tenant_id</code><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.tenant_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The tenant/project id being used for requests</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The tenant/project id being used for requests</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tempest.lib.common.rest_client.RestClient.tenant_name">
<code class="descname">tenant_name</code><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.tenant_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The tenant/project being used for requests</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The tenant/project name being used for requests</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tempest.lib.common.rest_client.RestClient.user">
<code class="descname">user</code><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.user" title="Permalink to this definition">¶</a></dt>
<dd><p>The username used for requests</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The username being used for requests</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tempest.lib.common.rest_client.RestClient.user_id">
<code class="descname">user_id</code><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.user_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The user_id used for requests</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The user id being used for requests</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tempest.lib.common.rest_client.RestClient.wait_for_resource_deletion">
<code class="descname">wait_for_resource_deletion</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tempest/lib/common/rest_client.html#RestClient.wait_for_resource_deletion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tempest.lib.common.rest_client.RestClient.wait_for_resource_deletion" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for a resource to be deleted</p>
<p>This method will loop over is_resource_deleted until either
is_resource_deleted returns True or the build timeout is reached. This
depends on is_resource_deleted being implemented</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>str</em>) -- The id of the resource to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>TimeoutException</strong> -- If the build_timeout has elapsed and the
resource still hasn't been deleted</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Rest Client Usage</a><ul>
<li><a class="reference internal" href="#module-tempest.lib.common.rest_client">The rest_client module</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="decorators.html"
                                  title="previous chapter">Decorators Usage Guide</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="utils.html"
                                  title="next chapter">Utils Usage</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/tempest
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/library/rest_client.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="utils.html" title="Utils Usage"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="decorators.html" title="Decorators Usage Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Tempest 14.0.1.dev227 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../library.html" accesskey="U">Tempest Library Documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2013, OpenStack QA Team.
      Last updated on &#39;Tue Feb 14 19:22:23 2017, commit f7584fd&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Tempest");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>