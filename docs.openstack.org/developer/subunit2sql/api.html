
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Guide to subunit2sql’s Python API &mdash; subunit2sql 1.8.1.dev8 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.8.1.dev8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="subunit2sql 1.8.1.dev8 documentation" href="index.html" />
    <link rel="next" title="subunit2sql-graph" href="graph.html" />
    <link rel="prev" title="The subunit2sql Data Model" href="data_model.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="guide-to-subunit2sql-s-python-api">
<h1>Guide to subunit2sql&#8217;s Python API<a class="headerlink" href="#guide-to-subunit2sql-s-python-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="db-api-guide">
<h2>DB API Guide<a class="headerlink" href="#db-api-guide" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="function">
<dt>
<tt class="descname">add_run_metadata</tt><big>(</big><em>meta_dict</em>, <em>run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#add_run_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Add a metadata key value pairs for a specific run.</p>
<p>This method will take a dictionary and store key value pair metadata in the
DB associated with the specified run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>meta_dict</strong> (<em>dict</em>) &#8211; A dictionary which will generate a separate key
value pair row associated with the run_id</li>
<li><strong>run_id</strong> (<em>str</em>) &#8211; The uuid of the run to update. (value of the id column
for the row to be updated)</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of created metadata objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.RunMeta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">add_test_metadata</tt><big>(</big><em>meta_dict</em>, <em>test_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#add_test_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Add a metadata key value pairs for a specific test.</p>
<p>This method will take a dictionary and store key value pair metadata in the
DB associated with the specified run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>meta_dict</strong> (<em>dict</em>) &#8211; A dictionary which will generate a separate key
value pair row associated with the test_run_id</li>
<li><strong>test_id</strong> (<em>str</em>) &#8211; The uuid of the test to update. (value of the
id column for the row to be updated)</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of created metadata objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestMeta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">add_test_run_attachments</tt><big>(</big><em>attach_dict</em>, <em>test_run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#add_test_run_attachments"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Add attachments a specific test run.</p>
<p>This method will take a dictionary and store key blob pair attachments in
the DB associated with the specified test_run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>attachments_dict</strong> (<em>dict</em>) &#8211; A dictionary which will generate a separate
key blob pair row associated with the
test_run_id</li>
<li><strong>test_run_id</strong> (<em>str</em>) &#8211; The uuid of the test_run to update. (value of the
id column for the row to be updated)</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of created attachment objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Attachments</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">add_test_run_metadata</tt><big>(</big><em>meta_dict</em>, <em>test_run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#add_test_run_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Add a metadata key value pairs for a specific run.</p>
<p>This method will take a dictionary and store key value pair metadata in the
DB associated with the specified run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>meta_dict</strong> (<em>dict</em>) &#8211; A dictionary which will generate a separate key
value pair row associated with the test_run_id</li>
<li><strong>test_run_id</strong> (<em>str</em>) &#8211; The uuid of the test_run to update. (value of the
id column for the row to be updated)</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of created metadata objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestRunMeta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">create_run</tt><big>(</big><em>skips=0</em>, <em>fails=0</em>, <em>passes=0</em>, <em>run_time=0</em>, <em>artifacts=None</em>, <em>id=None</em>, <em>session=None</em>, <em>run_at=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#create_run"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a new run record in the database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>skips</strong> (<em>int</em>) &#8211; Total number of skipped tests defaults to 0</li>
<li><strong>fails</strong> (<em>int</em>) &#8211; Total number of failed tests defaults to 0</li>
<li><strong>passes</strong> (<em>int</em>) &#8211; Total number of passed tests defaults to 0</li>
<li><strong>run_time</strong> (<em>float</em>) &#8211; Total run timed defaults to 0</li>
<li><strong>artifacts</strong> (<em>str</em>) &#8211; A link to any artifacts from the test run defaults to
None</li>
<li><strong>id</strong> (<em>str</em>) &#8211; The run id for the new run, needs to be a unique value</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
<li><strong>run_at</strong> &#8211; Optional time at which the run was started. If not specified
the time that data is added to the DB will be used instead</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The run object stored in the DB</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Run</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">create_test</tt><big>(</big><em>test_id</em>, <em>run_count=0</em>, <em>success=0</em>, <em>failure=0</em>, <em>run_time=0.0</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#create_test"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a new test record in the database.</p>
<p>This method is used to add a new test in the database. Tests are used to
track the run history of a unique test over all runs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; test_id identifying the test</li>
<li><strong>run_count</strong> (<em>int</em>) &#8211; Total number or runs defaults to 0</li>
<li><strong>success</strong> (<em>int</em>) &#8211; Number of successful runs defaults 0</li>
<li><strong>failure</strong> (<em>int</em>) &#8211; Number of failed runs defaults to 0</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The test object stored in the DB</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">subunit2sql.models.Test</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises InvalidRunCount:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">If the run_count doesn&#8217;t equal the sum of the
successes and failures.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">create_test_run</tt><big>(</big><em>test_id</em>, <em>run_id</em>, <em>status</em>, <em>start_time=None</em>, <em>end_time=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#create_test_run"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a new test run record in the database</p>
<p>This method creates a new record in the database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; UUID for test that was run</li>
<li><strong>run_id</strong> (<em>str</em>) &#8211; UUID for run that this was a member of</li>
<li><strong>status</strong> (<em>str</em>) &#8211; Status of the test run, normally success, fail, or skip</li>
<li><strong>start_time</strong> (<em>datetime.Datetime</em>) &#8211; When the test was started defaults to
None</li>
<li><strong>end_time</strong> (<em>datetime.Datetime</em>) &#8211; When the test was finished defaults to
None</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The test_run object stored in the DB</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestRun</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">delete_old_runs</tt><big>(</big><em>expire_age=186</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#delete_old_runs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete all runs and associated metadata older than the provided age</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expire_age</strong> (<em>int</em>) &#8211; The number of days into the past to use as the
expiration date for deleting the runs</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">delete_old_test_runs</tt><big>(</big><em>expire_age=186</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#delete_old_test_runs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete all test runs and associated metadata older than the provided age</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expire_age</strong> (<em>int</em>) &#8211; The number of days into the past to use as the
expiration date for deleting the test runs</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_all_run_metadata_keys</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_all_run_metadata_keys"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of all the keys used in the run_metadata table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return keys:</th><td class="field-body">A list of all keys used in the run_metadata table</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_all_runs</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_all_runs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all runs from the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body">The list of run objects</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">subunit2sql.models.Run</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_all_runs_by_date</tt><big>(</big><em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_all_runs_by_date"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all runs from the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str</strong> &#8211; Optional start_date, if provided only runs started at or after
the start_date will be included in the response</li>
<li><strong>str</strong> &#8211; Optional end_date, if provided only runs started at or before
the end_date will be included in the response</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of run objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Run</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_all_runs_time_series_by_key</tt><big>(</big><em>key</em>, <em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_all_runs_time_series_by_key"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a time series of run summaries grouped by a key</p>
<p>This method will get a time series dictionary of run summary views which
are grouped by the values of the specified key</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) &#8211; The key to use for grouping the run summaries</li>
<li><strong>start_date</strong> (<em>str</em>) &#8211; Optional start date to filter results on</li>
<li><strong>stop_date</strong> (<em>str</em>) &#8211; Optional stop date to filter results on</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return runs:</th><td class="field-body"><p class="first">A time series dictionary of runs grouped by values of the
specified key</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_all_test_metadata_keys</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_all_test_metadata_keys"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of all the keys used in the test_metadata table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return keys:</th><td class="field-body">A list of all keys used in the test_metadata table</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_all_test_run_metadata_keys</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_all_test_run_metadata_keys"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of all the keys used in the test_run_metadata table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return keys:</th><td class="field-body">A list of all keys used in the test_run_metadata table</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_all_test_runs</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_all_test_runs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all test runs from the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body">The list of test run objects</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">subunit2sql.models.TestRun</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_all_tests</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_all_tests"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all tests from the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body">The list of test objects</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">subunit2sql.models.Test</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_engine</tt><big>(</big><em>use_slave=False</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_engine"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a new sqlalchemy engine instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>use_slave</strong> (<em>bool</em>) &#8211; If possible, use &#8216;slave&#8217; database for this engine</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The engine object for the database connection</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">sqlalchemy.engine.Engine</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_failing_from_run</tt><big>(</big><em>run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_failing_from_run"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the set of failing test runs for a give run.</p>
<p>This method will return all the test run objects that failed during the
specified run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>run_id</strong> (<em>str</em>) &#8211; UUID for the run to find all the failing runs</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of failing test runs for the given run</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestRun</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_failing_test_ids_from_runs_by_key_value</tt><big>(</big><em>key</em>, <em>value</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_failing_test_ids_from_runs_by_key_value"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of failing test_ids from runs with run_metadata.</p>
<p>This method gets a distinct list of test_ids (the test_id column not the id
column) from all runs that match a run metadata key value pair.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) &#8211; The key to use to match runs from in run_metadata</li>
<li><strong>value</strong> (<em>str</em>) &#8211; The value of the key in run_metadata to match runs
against</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of test_ids that failed from runs that match the provided
key value run_metadata pair</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_id_from_test_id</tt><big>(</big><em>test_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_id_from_test_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the id (uuid primary key) for a test given it&#8217;s test_id value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; The test_id&#8217;s string (not UUID) to identify the test</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The id for the specified test</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_ids_for_all_tests</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_ids_for_all_tests"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an iterator of ids (uuid primary key) for all tests in the database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The iterator of all ids for tests in the tests table</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">iterator</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_latest_run</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_latest_run"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the most recently created run from the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The latest run object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">subunit2sql.models.Run</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_recent_failed_runs</tt><big>(</big><em>num_runs=10</em>, <em>session=None</em>, <em>start_date=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_recent_failed_runs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of run uuid strings for the most recent failed runs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_runs</strong> (<em>int</em>) &#8211; The number of runs to return in the list</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
<li><strong>start_date</strong> (<em>datetime</em>) &#8211; An optional date to use as the starting point
for getting recent runs. Only runs after this
date will be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first last">A list of run uuid strings (the id column in the runs table)
for the most recent runs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_recent_failed_runs_by_run_metadata</tt><big>(</big><em>key</em>, <em>value</em>, <em>num_runs=10</em>, <em>start_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_recent_failed_runs_by_run_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of recent failed runs for a given run metadata pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) &#8211; The run_metadata key to get failed runs</li>
<li><strong>value</strong> (<em>str</em>) &#8211; The run_metadata value to get failed runs</li>
<li><strong>num_runs</strong> (<em>int</em>) &#8211; The number of results to fetch, defaults to 10</li>
<li><strong>start_date</strong> (<em>datetime</em>) &#8211; The optional starting dates to get runs from.
Nothing older than this date will be returned</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of recent failed Run objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Run</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_recent_runs_by_key_value_metadata</tt><big>(</big><em>key</em>, <em>value</em>, <em>num_runs=10</em>, <em>session=None</em>, <em>start_date=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_recent_runs_by_key_value_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of runs for recent runs with a key value metadata pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_runs</strong> (<em>int</em>) &#8211; The number of runs to return in the list</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
<li><strong>start_date</strong> (<em>datetime</em>) &#8211; An optional date to use as the starting point
for getting recent runs. Only runs after this
date will be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">A list of run objects for the most recent runs.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.db.models.Run</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_recent_successful_runs</tt><big>(</big><em>num_runs=10</em>, <em>session=None</em>, <em>start_date=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_recent_successful_runs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of run uuid strings for the most recent successful runs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_runs</strong> (<em>int</em>) &#8211; The number of runs to return in the list</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
<li><strong>start_date</strong> (<em>datetime</em>) &#8211; An optional date to use as the starting point
for getting recent runs. Only runs after this
date will be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first last">A list of run uuid strings (the id column in the runs table)
for the most recent runs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_recent_successful_runs_by_run_metadata</tt><big>(</big><em>key</em>, <em>value</em>, <em>num_runs=10</em>, <em>start_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_recent_successful_runs_by_run_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of recent successful runs for a given run metadata pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) &#8211; The run_metadata key to get successful runs</li>
<li><strong>value</strong> (<em>str</em>) &#8211; The run_metadata value to get successful runs</li>
<li><strong>num_runs</strong> (<em>int</em>) &#8211; The number of results to fetch, defaults to 10</li>
<li><strong>start_date</strong> (<em>datetime</em>) &#8211; The optional starting dates to get runs from.
Nothing older than this date will be returned</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of recent failed Run objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Run</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_run_by_id</tt><big>(</big><em>id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_run_by_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get an individual run by it&#8217;s id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>str</em>) &#8211; The id for the run</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The specified run object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Run</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_run_failure_rate_by_key_value_metadata</tt><big>(</big><em>key</em>, <em>value</em>, <em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_run_failure_rate_by_key_value_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the failure percentage of runs with a set of run metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) &#8211; The metadata key to use for matching the runs</li>
<li><strong>value</strong> (<em>str</em>) &#8211; The metadata value to use for matching the runs</li>
<li><strong>start_date</strong> &#8211; Optional start date to filter results on</li>
<li><strong>stop_date</strong> (<em>str</em>) &#8211; Optional stop date to filter results on</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return failure_rate:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">The percentage of runs that failed, will be None if
no runs are found</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_run_id_from_uuid</tt><big>(</big><em>uuid</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_run_id_from_uuid"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the id for a run by it&#8217;s uuid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uuid</strong> (<em>str</em>) &#8211; The uuid for the run</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The id for the run with the provided uuid</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_run_metadata</tt><big>(</big><em>run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_run_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all run metadata objects associated with a given run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>run_id</strong> (<em>str</em>) &#8211; The uuid of the run to get all the metadata</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of metadata objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.RunMetadata</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_run_times_grouped_by_run_metadata_key</tt><big>(</big><em>key</em>, <em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em>, <em>match_key=None</em>, <em>match_value=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_run_times_grouped_by_run_metadata_key"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the aggregate run times for all runs grouped by a metadata key</p>
<p>The results of the output can be limited to runs with a different matching
key value run_metadata pair using the match_key and match_value parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> &#8211; The run_metadata key to use for grouping runs</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
<li><strong>match_key</strong> (<em>str</em>) &#8211; An optional key as part of a key value run_metadata
pair to filter the runs used to. This can not be the
same as the key parameter. If match_value is not also
specified this does nothing</li>
<li><strong>match_value</strong> (<em>str</em>) &#8211; An optional value as part of a key value
run_metadata pair to filter the runs used to. If
match_key is not also specified this does nothing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary where keys are the value of the provided metadata key
and the values are a list of run_times for successful runs with
that metadata value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_run_times_time_series_grouped_by_run_metadata_key</tt><big>(</big><em>key</em>, <em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em>, <em>match_key=None</em>, <em>match_value=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_run_times_time_series_grouped_by_run_metadata_key"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a times series dict of aggregate run times grouped by a metadata key</p>
<p>The results of the output can be limited to runs with a different matching
key value run_metadata pair using the match_key and match_value parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> &#8211; The run_metadata key to use for grouping runs</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
<li><strong>match_key</strong> (<em>str</em>) &#8211; An optional key as part of a key value run_metadata
pair to filter the runs used to. This can not be the
same as the key parameter. If match_value is not also
specified this does nothing</li>
<li><strong>match_value</strong> (<em>str</em>) &#8211; An optional value as part of a key value
run_metadata pair to filter the runs used to. If
match_key is not also specified this does nothing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary where keys are the time stamp and the value is a dict
with the key being the value of the provided metadata key
and the values are run times for the successful runs</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_runs_by_ids</tt><big>(</big><em>ids</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_runs_by_ids"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of runs by their ids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>list</em>) &#8211; A list of run ids for the run</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The list of the specified run objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_runs_by_key_value</tt><big>(</big><em>key</em>, <em>value</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_runs_by_key_value"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all run objects associated with a certain key/value metadata pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> &#8211; The key to be matched</li>
<li><strong>value</strong> &#8211; The value to be matched</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of runs</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Run</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_runs_by_status_grouped_by_run_metadata</tt><big>(</big><em>key</em>, <em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_runs_by_status_grouped_by_run_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_runs_count</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_runs_count"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the number of runs currently in the database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return count:</th><td class="field-body">The number of runs in the DB</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_runs_counts_by_run_metadata</tt><big>(</big><em>key</em>, <em>value</em>, <em>start_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_runs_counts_by_run_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Check runs for a given run metadata pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) &#8211; The run_metadata key to check runs</li>
<li><strong>value</strong> (<em>str</em>) &#8211; The run_metadata value to check runs</li>
<li><strong>start_date</strong> (<em>datetime</em>) &#8211; The optional starting dates to get runs from.
Nothing older than this date will be returned</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return count:</th><td class="field-body"><p class="first">A count for a given run metadata key-value pair</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_session</tt><big>(</big><em>autocommit=True</em>, <em>expire_on_commit=False</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_session"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a new sqlalchemy Session instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>autocommit</strong> (<em>bool</em>) &#8211; Enable autocommit mode for the session.</li>
<li><strong>expire_on_commit</strong> (<em>bool</em>) &#8211; Expire the session on commit defaults False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_by_id</tt><big>(</big><em>id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_by_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get an individual test by it&#8217;s uuid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>str</em>) &#8211; The uuid for the test (the id field in the DB)</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The specified test object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Test</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_by_test_id</tt><big>(</big><em>test_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_by_test_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get an individual test by it&#8217;s test_id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; The id (aka the test name) for the test (the test_id
field in the DB)</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The specified test object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Test</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_counts_in_date_range</tt><big>(</big><em>test_id</em>, <em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_counts_in_date_range"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the number of successes, failures, and skips for a single test.</p>
<p>Optionally you can provide a date to filter the results to be within a
certain date range</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; The test_id&#8217;s ID(big integer) to identify the test</li>
<li><strong>start_date</strong> (<em>datetime</em>) &#8211; The date to use as the start for counting. A
str in the datetime str format &#8220;%b %d %Y&#8221; was
the previous format here and will still work
but is deprecated in favor of passing in a
datetime object.</li>
<li><strong>stop_date</strong> (<em>datetime</em>) &#8211; The date to use as the cutoff for counting. A
str in the datetime str format &#8220;%b %d %Y&#8221; was
the previous format here and will still work but
is deprecated in favor of passing in a datetime.</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dict containing the number of successes, failures, and skips</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_metadata</tt><big>(</big><em>test_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all test metadata objects for associated with a given test.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; The uuid of the test to get all the metadata</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of created metadata objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestMetadata</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_prefixes</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_prefixes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns all test prefixes from the DB.</p>
<p>This returns a list of unique test_id prefixes from the database, defined
as the first dot-separated token in the test id. Prefixes wrapped in
function syntax, such as &#8216;setUpClass (a&#8217;, will have this extra syntax
stripped out of the returned value, up to and including the &#8216;(&#8216; character.</p>
<p>As an example, given an input test with an ID &#8216;prefix.test.Clazz.a_method&#8217;,
the derived prefix would be &#8216;prefix&#8217;. Given a second test with an ID
&#8216;setUpClass (prefix.test.Clazz)&#8217;, the derived prefix would also be
&#8216;prefix&#8217;. If this function were called on a database containing only these
tests, a list with only one entry, &#8216;prefix&#8217;, would be returned.</p>
<p>Note that this implementation assumes that tests ids are semantically
separated by a period. If this is not the case (and no period characters
occur at any position within test ids), the full test id will be considered
the prefix, and the result of this function will be all unique test ids in
the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body">A list of all unique prefix strings, with any extraneous
details removed, e.g. &#8216;setUpClass (&#8216;.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_run_by_id</tt><big>(</big><em>test_run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_run_by_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get an individual test run by it&#8217;s id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_run_id</strong> (<em>str</em>) &#8211; The id for the test run</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The specified test run object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestRun</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_run_dict_by_run_meta_key_value</tt><big>(</big><em>key</em>, <em>value</em>, <em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_run_dict_by_run_meta_key_value"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of test run dicts from runs with a run metadata key value pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) &#8211; The key to use to match runs from in run_metadata</li>
<li><strong>value</strong> (<em>str</em>) &#8211; The value of the key in run_metadata to match runs
against</li>
<li><strong>start_date</strong> &#8211; Optional start date to filter results on</li>
<li><strong>stop_date</strong> &#8211; Optional stop date to filter results on</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return test_runs:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">The dictionary of all the tests run on any run that had
metadata matching the provided key value pair.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_run_duration</tt><big>(</big><em>test_run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_run_duration"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the run duration for a specific test_run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_run_id</strong> (<em>str</em>) &#8211; The test_run&#8217;s uuid (the id column in the test_run
table) to get the duration of</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The duration of the test run in secs</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_run_metadata</tt><big>(</big><em>test_run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_run_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all run metadata objects for associated with a given run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_run_id</strong> (<em>str</em>) &#8211; The uuid of the test_run to get all the metadata</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of created metadata objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.RunMeta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_run_series</tt><big>(</big><em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em>, <em>key='build_queue'</em>, <em>value='gate'</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_run_series"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a time series dict of total daily run counts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start_date</strong> (<em>str</em>) &#8211; Optional start date to filter results on</li>
<li><strong>stop_date</strong> (<em>str</em>) &#8211; Optional stop date to filter results on</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
<li><strong>key</strong> (<em>str</em>) &#8211; Optional run_metadata key to filter the runs used on. Key
must be specified with value for filtering to occur.
This defaults to &#8216;build_queue&#8217; for backwards compatibility
with earlier versions. Note, this default will be removed
in the future.</li>
<li><strong>value</strong> (<em>str</em>) &#8211; Optional run_metadata value to filter the runs used on.
Value must be specified with key for filtering to occur.
This defaults to &#8216;gate&#8217; for backwards
compatibility with earlier versions. Note, this default
will be removed in the future.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return dict:</th><td class="field-body"><p class="first last">A dictionary with the dates as the keys and the values
being the total run count for that day. (The sum of success
and failures from all runs that started that day)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_run_time_series</tt><big>(</big><em>test_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_run_time_series"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a time series dict of run_times for successes of a single test</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; The test&#8217;s uuid (the id column in the test table) which
will be used to get all the test run times for.</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return dict:</th><td class="field-body"><p class="first last">A dictionary with the start times as the keys and the values
being the duration of the test that started at that time in
sec.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_runs_by_run_id</tt><big>(</big><em>run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_runs_by_run_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get all test runs for a specific run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>run_id</strong> (<em>str</em>) &#8211; The run&#8217;s uuid (the uuid column in the run table) which
to get all test runs for</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of test run objects for the specified test</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestRun</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_runs_by_status_for_run_ids</tt><big>(</big><em>status</em>, <em>run_ids</em>, <em>key=None</em>, <em>session=None</em>, <em>include_run_id=False</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_runs_by_status_for_run_ids"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a list of test run dicts by status for all the specified runs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>status</strong> (<em>str</em>) &#8211; The test status to filter the returned test runs on</li>
<li><strong>run_ids</strong> (<em>list</em>) &#8211; A list of run ids (the uuid column from the runs
table) to get the test runs from</li>
<li><strong>key</strong> (<em>str</em>) &#8211; An optional run_metadata key to add the values for a run
to the output dict for each test_run</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
<li><strong>include_run_id</strong> (<em>bool</em>) &#8211; boolean flag to enable including the run uuid
in the test run dicts returned</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return test_runs:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">A list of dicts for the test_runs and associated data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_runs_by_test_id</tt><big>(</big><em>test_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_runs_by_test_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get all test runs for a specific test.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; The test&#8217;s uuid (the id column in the test table) which
to get all test runs for</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of test run objects for the specified test</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestRun</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_runs_by_test_test_id</tt><big>(</big><em>test_id</em>, <em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em>, <em>key=None</em>, <em>value=None</em>, <em>most_recent_first=False</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_runs_by_test_test_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get all test runs for a specific test by the test&#8217;stest_id column</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; The test&#8217;s test_id (the test_id column in the test
table) which to get all test runs for</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
<li><strong>start_date</strong> (<em>datetime.datetime</em>) &#8211; The date to use as the start date for
results</li>
<li><strong>stop_date</strong> (<em>datetime.datetime</em>) &#8211; The date to use as the cutoff date for
results</li>
<li><strong>key</strong> (<em>str</em>) &#8211; An optional key for run metadata to filter the test runs
on. Must be specified with a value otherwise it does
nothing.</li>
<li><strong>value</strong> (<em>str</em>) &#8211; An optional value for run metadata to filter the test
runs on. Must be specified with a key otherwise it does
nothing.</li>
<li><strong>most_recent_first</strong> (<em>bool</em>) &#8211; If true order the results list by date of
test_run start_time in descending order.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of test run objects for the specified test</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestRun</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_test_status_time_series</tt><big>(</big><em>test_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_test_status_time_series"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a time series dict of test_run statuses of a single test</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_id</strong> (<em>str</em>) &#8211; The test&#8217;s uuid (the id column in the test table) which
will be used to get all the test run times for.</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return dict:</th><td class="field-body"><p class="first last">A dictionary with the start times as the keys and the values
being the status of that test run.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_tests_by_prefix</tt><big>(</big><em>prefix</em>, <em>session=None</em>, <em>limit=100</em>, <em>offset=0</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_tests_by_prefix"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns all tests with the given prefix in the DB.</p>
<p>A test prefix is the first segment of a test_id when split using a period
(&#8216;.&#8217;). This function will return a list of tests whose first
period-separated token ends with the specified prefix. As a side-effect,
given an input &#8216;a&#8217;, this will return tests with prefixes &#8216;a&#8217;, but also
prefixes wrapped in function syntax, such as &#8216;setUpClass (a&#8217;.</p>
<p>Note that this implementation assumes that tests ids are semantically
separated by a period. If no period character exists in a test id, its
prefix will be considered the full test id, and this method may return
unexpected results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prefix</strong> (<em>str</em>) &#8211; The test prefix to search for</li>
<li><strong>session</strong> &#8211; Optional session object: if one isn&#8217;t provided, a new
session will be acquired for the duration of this operation</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; The maximum number of results to return</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; The starting index, for pagination purposes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of matching test objects, ordered by their test id</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Test</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_tests_by_test_ids</tt><big>(</big><em>test_ids</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_tests_by_test_ids"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get tests that match input test_ids</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_ids</strong> (<em>list</em>) &#8211; A list of test_ids (aka the test name) for the test</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of the specified test objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_tests_from_run_id</tt><big>(</big><em>run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_tests_from_run_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the all tests for a specific run.</p>
<p>This method returns a list of all the Test objects that were executed as
part of a specified run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>run_id</strong> (<em>str</em>) &#8211; The run&#8217;s uuid (the id column in the run table) which to
get all tests for</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return list:</th><td class="field-body"><p class="first">The list of test objects for the specified test</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Test</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_tests_run_dicts_from_run_id</tt><big>(</big><em>run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_tests_run_dicts_from_run_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns all the stored data about test runs for a specific run.</p>
<p>This method returns a dictionary containing all the information stored in
the database regarding the test_runs. This includes the test_id from the
tests table, all the stored key value pair metadata from the
test_run_metadata table, and from the test_runs table the status,
start_time, and stop_time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>run_id</strong> (<em>str</em>) &#8211; The run&#8217;s uuid (the id column in the run table) which to
use to select it&#8217;s run ids to collect information for.</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return dict:</th><td class="field-body"><p class="first last">A dictionary with the test_id from the tests for keys that
contains all the stored information about the test_runs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">get_time_series_runs_by_key_value</tt><big>(</big><em>key</em>, <em>value</em>, <em>start_date=None</em>, <em>stop_date=None</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#get_time_series_runs_by_key_value"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a time series of runs with meta for all runs with a key value pai</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) &#8211; The metadata key to use for matching the runs</li>
<li><strong>value</strong> (<em>str</em>) &#8211; The metadata value to use for matching the runs</li>
<li><strong>start_date</strong> &#8211; Optional start date to filter results on</li>
<li><strong>stop_date</strong> (<em>str</em>) &#8211; Optional stop date to filter results on</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return runs:</th><td class="field-body"><p class="first">A time series dictionary (where the top level key is a
timestamp) that contains all the runs which</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">update_run</tt><big>(</big><em>values</em>, <em>run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#update_run"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Update an individual run with new data.</p>
<p>This method will take a dictionary of fields to update for a specific run.
If a field is omitted it will not be changed in the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>values</strong> (<em>dict</em>) &#8211; Dict of values to update the test with. The key is the
column name and the value is the new value to be stored
in the DB</li>
<li><strong>run_id</strong> (<em>str</em>) &#8211; The uuid of the run to update. (value of the id column
for the row to be updated)</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The updated run object stored in the DB</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Run</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">update_test</tt><big>(</big><em>values</em>, <em>test_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#update_test"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Update an individual test with new data.</p>
<p>This method will take a dictionary of fields to update for a specific test.
If a field is omitted it will not be changed in the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>values</strong> (<em>dict</em>) &#8211; Dict of values to update the test with. The key is the
column name and the value is the new value to be stored
in the DB</li>
<li><strong>test_id</strong> (<em>str</em>) &#8211; The uuid of the test to update. (value of the id column
for the row to be updated)</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The updated test object stored in the DB</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.Test</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">update_test_run</tt><big>(</big><em>values</em>, <em>test_run_id</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/subunit2sql/db/api.html#update_test_run"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Update an individual test_run with new data.</p>
<p>This method will take a dictionary of fields to update for a specific
test_run. If a field is omitted it will not be changed in the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>values</strong> (<em>dict</em>) &#8211; Dict of values to update the test with. The key is the
column name and the value is the new value to be stored
in the DB</li>
<li><strong>test_run_id</strong> (<em>str</em>) &#8211; The uuid of the test_run to update. (value of the
id column for the row to be updated)</li>
<li><strong>session</strong> &#8211; Optional session object if one isn&#8217;t provided a new session
will be acquired for the duration of this operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The updated test_run object stored in the DB</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">subunit2sql.models.TestRun</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="example-usage-patterns">
<h2>Example usage patterns<a class="headerlink" href="#example-usage-patterns" title="Permalink to this headline">¶</a></h2>
<div class="section" id="initializing-subunit2sql">
<h3>Initializing subunit2sql<a class="headerlink" href="#initializing-subunit2sql" title="Permalink to this headline">¶</a></h3>
<p>The first step to using subunit2sql inside your program is to initialize the db
layer client. This can be accomplished just by loading the config followed by
setting the necessary values:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">subunit2sql</span> <span class="kn">import</span> <span class="n">shell</span>


<span class="c1"># Load default config</span>
<span class="n">shell</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([])</span>
<span class="c1"># Set database connection</span>
<span class="n">db_uri</span> <span class="o">=</span> <span class="s1">&#39;mysql://subunit:subunit@localhost/subunit&#39;</span>
<span class="n">shell</span><span class="o">.</span><span class="n">CONF</span><span class="o">.</span><span class="n">set_override</span><span class="p">(</span><span class="s1">&#39;connection&#39;</span><span class="p">,</span> <span class="n">db_uri</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s1">&#39;database&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>However, if your already using oslo.config in your program you should just use
the options from subunit2sql instead of this step. See the oslo.config
documentation on how to do this. These steps are provided to avoid using
oslo.config in any consumers of subunit2sql.</p>
<p>Additionally you can use a separate subunit2sql config file in your program to
specify these options and just pass that config file into subunit2sql:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">subunit2sql</span> <span class="kn">import</span> <span class="n">shell</span>

<span class="n">subunit2sql_conf_path</span> <span class="o">=</span> <span class="s1">&#39;./subunit2sql.conf&#39;</span>
<span class="c1"># Initialize subunit2sql config</span>
<span class="n">shell</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([],</span> <span class="p">[</span><span class="n">subunit2sql_conf_path</span><span class="p">])</span>
</pre></div>
</div>
<p>The tradeoff here is that you have to have a file available to configure
subunit2sql.</p>
<p>Another alternative is to initialize a sqlalchemy engine to create a session
with the appropriate db url. This session can then be passed to all API calls
without having to deal with oslo.config:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">sessionmaker</span>

<span class="c1"># Create engine with db url for session generation</span>
<span class="n">engine</span><span class="o">=</span><span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;mysql://subunit:subunit@localhost/subunit&#39;</span><span class="p">)</span>
<span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>

<span class="c1"># Create a new session to pass to API calls</span>
<span class="c1"># EX: api.get_run_metadata(session=session)</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="parsing-subunit-stream-and-storing-it-in-a-db">
<h3>Parsing subunit stream and storing it in a DB<a class="headerlink" href="#parsing-subunit-stream-and-storing-it-in-a-db" title="Permalink to this headline">¶</a></h3>
<p>If your program is generating a subunit stream or reading one from somewhere
and you&#8217;d like to integrate storing it into a subunit2sql db inline this can
easily be accomplished by first parsing the file object and then writing that to the
db.:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">subunit2sql</span> <span class="kn">import</span> <span class="n">shell</span>
<span class="kn">from</span> <span class="nn">subunit2sql</span> <span class="kn">import</span> <span class="n">read_subunit</span>


<span class="n">subunit_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;subunit_file&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="c1"># Load default config</span>
<span class="n">shell</span><span class="o">.</span><span class="n">cli_opts</span><span class="p">()</span>
<span class="n">shell</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([])</span>
<span class="c1"># Set database connection</span>
<span class="n">db_uri</span> <span class="o">=</span> <span class="s1">&#39;mysql://subunit:subunit@localhost/subunit&#39;</span>
<span class="n">shell</span><span class="o">.</span><span class="n">CONF</span><span class="o">.</span><span class="n">set_override</span><span class="p">(</span><span class="s1">&#39;connection&#39;</span><span class="p">,</span> <span class="n">db_uri</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s1">&#39;database&#39;</span><span class="p">)</span>
<span class="c1"># Parse results and write to DB</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">read_subunit</span><span class="o">.</span><span class="n">ReadSubunit</span><span class="p">(</span><span class="n">subunit_file</span><span class="p">)</span>
<span class="n">shell</span><span class="o">.</span><span class="n">process_results</span><span class="p">(</span><span class="n">stream</span><span class="o">.</span><span class="n">get_results</span><span class="p">())</span>
</pre></div>
</div>
<p>If you&#8217;d like to set additional metadata for the runs you are adding to the DB
you can do this by overriding the conf variables. However, you&#8217;ll need to load
the options (which would normally be set on the cli todo this, which looks
like:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">subunit2sql</span> <span class="kn">import</span> <span class="n">shell</span>
<span class="kn">from</span> <span class="nn">subunit2sql</span> <span class="kn">import</span> <span class="n">read_subunit</span>


<span class="n">subunit_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;subunit_file&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="c1"># Load default config</span>
<span class="n">shell</span><span class="o">.</span><span class="n">cli_opts</span><span class="p">()</span>
<span class="n">shell</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([])</span>
<span class="c1"># Set database connection</span>
<span class="n">db_uri</span> <span class="o">=</span> <span class="s1">&#39;mysql://subunit:subunit@localhost/subunit&#39;</span>
<span class="n">shell</span><span class="o">.</span><span class="n">CONF</span><span class="o">.</span><span class="n">set_override</span><span class="p">(</span><span class="s1">&#39;connection&#39;</span><span class="p">,</span> <span class="n">db_uri</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s1">&#39;database&#39;</span><span class="p">)</span>
<span class="c1"># Set run metadata and artifact path</span>
<span class="n">artifacts</span> <span class="o">=</span> <span class="s1">&#39;http://fake_url.com&#39;</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;job_type&#39;</span><span class="p">:</span> <span class="s1">&#39;full-run&#39;</span><span class="p">,</span>
    <span class="s1">&#39;job_queue&#39;</span><span class="p">:</span> <span class="s1">&#39;gate&#39;</span><span class="p">,</span>
    <span class="s1">&#39;build_id&#39;</span><span class="p">:</span> <span class="s1">&#39;fun_hash&#39;</span>
<span class="p">}</span>
<span class="n">shell</span><span class="o">.</span><span class="n">CONF</span><span class="o">.</span><span class="n">set_override</span><span class="p">(</span><span class="s1">&#39;artifacts&#39;</span><span class="p">,</span> <span class="n">artifacts</span><span class="p">)</span>
<span class="n">shell</span><span class="o">.</span><span class="n">CONF</span><span class="o">.</span><span class="n">set_override</span><span class="p">(</span><span class="s1">&#39;run_meta&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
<span class="c1"># Parse results and write to DB</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">read_subunit</span><span class="o">.</span><span class="n">ReadSubunit</span><span class="p">(</span><span class="n">subunit_file</span><span class="p">)</span>
<span class="n">shell</span><span class="o">.</span><span class="n">process_results</span><span class="p">(</span><span class="n">stream</span><span class="o">.</span><span class="n">get_results</span><span class="p">())</span>
</pre></div>
</div>
<p>keep in mind that oslo.config uses a global object to store options so if you&#8217;re
considering doing this in parallel somehow that may be something to consider.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Guide to subunit2sql&#8217;s Python API</a><ul>
<li><a class="reference internal" href="#db-api-guide">DB API Guide</a></li>
<li><a class="reference internal" href="#example-usage-patterns">Example usage patterns</a><ul>
<li><a class="reference internal" href="#initializing-subunit2sql">Initializing subunit2sql</a></li>
<li><a class="reference internal" href="#parsing-subunit-stream-and-storing-it-in-a-db">Parsing subunit stream and storing it in a DB</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="data_model.html"
                                  title="previous chapter">The subunit2sql Data Model</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="graph.html"
                                  title="next chapter">subunit2sql-graph</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack-infra/subunit2sql
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/api.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="graph.html" title="subunit2sql-graph"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="data_model.html" title="The subunit2sql Data Model"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">subunit2sql 1.8.1.dev8 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2014, Matthew Treinish.
      Last updated on Wed Feb 8 12:17:36 2017, commit 8d400f9.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/subunit2sql");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>