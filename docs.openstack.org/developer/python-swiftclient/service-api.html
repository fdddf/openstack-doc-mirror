<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The swiftclient.SwiftService API &mdash; python-swiftclient 3.2.1.dev16 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.2.1.dev16',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="python-swiftclient 3.2.1.dev16 documentation" href="index.html" />
    <link rel="next" title="The swiftclient.Connection API" href="client-api.html" />
    <link rel="prev" title="CLI" href="cli.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-swiftclient-swiftservice-api">
<h1>The swiftclient.SwiftService API<a class="headerlink" href="#the-swiftclient-swiftservice-api" title="Permalink to this headline">¶</a></h1>
<p>A higher-level API aimed at allowing developers an easy way to perform multiple
operations asynchronously using a configurable thread pool. Documentation for
each service method call can be found here: <a class="reference internal" href="swiftclient.html#module-swiftclient.service" title="swiftclient.service"><code class="xref py py-mod docutils literal"><span class="pre">swiftclient.service</span></code></a>.</p>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>This section covers the various options for authenticating with a swift
object store. The combinations of options required for each authentication
version are detailed below. Once again, these are just a subset of those that
can be used to successfully authenticate, but they are the most common and
recommended.</p>
<p>The relevant authentication options are presented as python dictionaries that
should be added to any other options you are supplying to your <code class="docutils literal"><span class="pre">SwiftService</span></code>
instance. As indicated in the python code, you can also set these options as
environment variables that will be loaded automatically if the relevant option
is not specified.</p>
<p>The <code class="docutils literal"><span class="pre">SwiftService</span></code> authentication attempts to automatically select
the auth version based on the combination of options specified, but
supplying options from multiple different auth versions can cause unexpected
behaviour.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Leftover environment variables are a common source of confusion when
authorization fails.</p>
</div>
</div></blockquote>
<div class="section" id="keystone-v3">
<h3>Keystone V3<a class="headerlink" href="#keystone-v3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;auth_version&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ST_AUTH_VERSION&#39;</span><span class="p">),</span>  <span class="c1"># Should be &#39;3&#39;</span>
    <span class="s2">&quot;os_username&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_USERNAME&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_password&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_PASSWORD&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_project_name&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_PROJECT_NAME&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_project_domain_name&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_PROJECT_DOMAIN_NAME&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_auth_url&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_AUTH_URL&#39;</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;auth_version&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ST_AUTH_VERSION&#39;</span><span class="p">),</span>  <span class="c1"># Should be &#39;3&#39;</span>
    <span class="s2">&quot;os_username&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_USERNAME&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_password&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_PASSWORD&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_project_id&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_PROJECT_ID&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_project_domain_id&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_PROJECT_DOMAIN_ID&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_auth_url&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_AUTH_URL&#39;</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="keystone-v2">
<h3>Keystone V2<a class="headerlink" href="#keystone-v2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;auth_version&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ST_AUTH_VERSION&#39;</span><span class="p">),</span>  <span class="c1"># Should be &#39;2.0&#39;</span>
    <span class="s2">&quot;os_username&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_USERNAME&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_password&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_PASSWORD&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_tenant_name&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_TENANT_NAME&#39;</span><span class="p">),</span>
    <span class="s2">&quot;os_auth_url&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OS_AUTH_URL&#39;</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="legacy-auth">
<h3>Legacy Auth<a class="headerlink" href="#legacy-auth" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;auth_version&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ST_AUTH_VERSION&#39;</span><span class="p">),</span>  <span class="c1"># Should be &#39;1.0&#39;</span>
    <span class="s2">&quot;auth&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ST_AUTH&#39;</span><span class="p">),</span>
    <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ST_USER&#39;</span><span class="p">),</span>
    <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ST_KEY&#39;</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>When you create an instance of a <code class="docutils literal"><span class="pre">SwiftService</span></code>, you can override a collection
of default options to suit your use case. Typically, the defaults are sensible to
get us started, but depending on your needs you might want to tweak them to
improve performance (options affecting large objects and thread counts can
significantly alter performance in the right situation).</p>
<p>Service level defaults and some extra options can also be overridden on a
per-operation (or even in some cases per-object) basis, and you will call out
which options affect which operations later in the document.</p>
<p>The configuration of the service API is performed using an options dictionary
passed to the <code class="docutils literal"><span class="pre">SwiftService</span></code> during initialisation. The options available
in this dictionary are described below, along with their defaults:</p>
<div class="section" id="options">
<h3>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="docutils">
<dt><code class="docutils literal"><span class="pre">retries</span></code>: <code class="docutils literal"><span class="pre">5</span></code></dt>
<dd>The number of times that the library should attempt to retry HTTP
actions before giving up and reporting a failure.</dd>
</dl>
<p><code class="docutils literal"><span class="pre">container_threads</span></code>: <code class="docutils literal"><span class="pre">10</span></code></p>
<p><code class="docutils literal"><span class="pre">object_dd_threads</span></code>: <code class="docutils literal"><span class="pre">10</span></code></p>
<p><code class="docutils literal"><span class="pre">object_uu_threads</span></code>: <code class="docutils literal"><span class="pre">10</span></code></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">segment_threads</span></code>: <code class="docutils literal"><span class="pre">10</span></code></dt>
<dd><p class="first">The above options determine the size of the available thread pools for
performing swift operations. Container operations (such as listing a
container) operate in the container threads, and a similar pattern
applies to object and segment threads.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Object threads are separated into two separate thread pools:
<code class="docutils literal"><span class="pre">uu</span></code> and <code class="docutils literal"><span class="pre">dd</span></code>. This stands for &#8220;upload/update&#8221; and &#8220;download/delete&#8221;,
and the corresponding actions will be run on separate threads pools.</p>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">segment_size</span></code>: <code class="docutils literal"><span class="pre">None</span></code></dt>
<dd>If specified, this option enables uploading of large objects. Should the
object being uploaded be larger than 5G in size, this option is
mandatory otherwise the upload will fail. This option should be
specified as a size in bytes.</dd>
<dt><code class="docutils literal"><span class="pre">use_slo</span></code>: <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Used in combination with the above option, <code class="docutils literal"><span class="pre">use_slo</span></code> will upload large
objects as static rather than dynamic. Only static large objects provide
error checking for the downloaded object, so we recommend this option.</dd>
<dt><code class="docutils literal"><span class="pre">segment_container</span></code>: <code class="docutils literal"><span class="pre">None</span></code></dt>
<dd>Allows the user to select the container into which large object segments
will be uploaded. We do not recommend changing this value as it could make
locating orphaned segments more difficult in the case of errors.</dd>
<dt><code class="docutils literal"><span class="pre">leave_segments</span></code>: <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Setting this option to true means that when deleting or overwriting a large
object, its segments will be left in the object store and must be cleaned
up manually. This option can be useful when sharing large object segments
between multiple objects in more advanced scenarios, but must be treated
with care, as it could lead to ever increasing storage usage.</dd>
<dt><code class="docutils literal"><span class="pre">changed</span></code>: <code class="docutils literal"><span class="pre">None</span></code></dt>
<dd>This option affects uploads and simply means that those objects which
already exist in the object store will not be overwritten if the <code class="docutils literal"><span class="pre">mtime</span></code>
and size of the source is the same as the existing object.</dd>
<dt><code class="docutils literal"><span class="pre">skip_identical</span></code>: <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>A slightly more thorough case of the above, but rather than <code class="docutils literal"><span class="pre">mtime</span></code> and size
uses an object&#8217;s <code class="docutils literal"><span class="pre">MD5</span> <span class="pre">sum</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">yes_all</span></code>: <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>This options affects only download and delete, and in each case must be
specified in order to download/delete the entire contents of an account.
This option has no effect on any other calls.</dd>
<dt><code class="docutils literal"><span class="pre">no_download</span></code>: <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>This option only affects download and means that all operations proceed as
normal with the exception that no data is written to disk.</dd>
<dt><code class="docutils literal"><span class="pre">header</span></code>: <code class="docutils literal"><span class="pre">[]</span></code></dt>
<dd>Used with upload and post operations to set headers on objects. Headers
are specified as colon separated strings, e.g. &#8220;content-type:text/plain&#8221;.</dd>
<dt><code class="docutils literal"><span class="pre">meta</span></code>: <code class="docutils literal"><span class="pre">[]</span></code></dt>
<dd><p class="first">Used to set metadata on an object similarly to headers.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Setting metadata is a destructive operation, so when updating one
of many metadata values all desired metadata for an object must be re-applied.</p>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">long</span></code>: <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Affects only list operations, and results in more metrics being made
available in the results at the expense of lower performance.</dd>
<dt><code class="docutils literal"><span class="pre">fail_fast</span></code>: <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Applies to delete and upload operations, and attempts to abort queued
tasks in the event of errors.</dd>
<dt><code class="docutils literal"><span class="pre">prefix</span></code>: <code class="docutils literal"><span class="pre">None</span></code></dt>
<dd>Affects list operations; only objects with the given prefix will be
returned/affected. It is not advisable to set at the service level, as
those operations that call list to discover objects on which they should
operate will also be affected.</dd>
<dt><code class="docutils literal"><span class="pre">delimiter</span></code>: <code class="docutils literal"><span class="pre">None</span></code></dt>
<dd>Affects list operations, and means that listings only contain results up
to the first instance of the delimiter in the object name. This is useful
for working with objects containing &#8216;/&#8217; in their names to simulate folder
structures.</dd>
<dt><code class="docutils literal"><span class="pre">dir_marker</span></code>: <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Affects uploads, and allows empty &#8216;pseudofolder&#8217; objects to be created
when the source of an upload is <code class="docutils literal"><span class="pre">None</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">checksum</span></code>: <code class="docutils literal"><span class="pre">True</span></code></dt>
<dd>Affects uploads and downloads. If set check md5 sum for the transfer.</dd>
<dt><code class="docutils literal"><span class="pre">shuffle</span></code>: <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>When downloading objects, the default behaviour of the CLI is to shuffle
lists of objects in order to spread the load on storage drives when multiple
clients are downloading the same files to multiple locations (e.g. in the
event of distributing an update). When using the <code class="docutils literal"><span class="pre">SwiftService</span></code> directly,
object downloads are scheduled in the same order as they appear in the container
listing. When combined with a single download thread this means that objects
are downloaded in lexically-sorted order. Setting this option to <code class="docutils literal"><span class="pre">True</span></code>
gives the same shuffling behaviour as the CLI.</dd>
<dt><code class="docutils literal"><span class="pre">destination</span></code>: <code class="docutils literal"><span class="pre">None</span></code></dt>
<dd>When copying objects, this specifies the destination where the object
will be copied to.  The default of None means copy will be the same as
source.</dd>
<dt><code class="docutils literal"><span class="pre">fresh_metadata</span></code>: <code class="docutils literal"><span class="pre">None</span></code></dt>
<dd>When copying objects, this specifies that the object metadata on the
source will <em>not</em> be applied to the destination object - the
destination object will have a new fresh set of metadata that includes
<em>only</em> the metadata specified in the meta option if any at all.</dd>
</dl>
</div></blockquote>
<p>Other available options can be found in <code class="docutils literal"><span class="pre">swiftclient/service.py</span></code> in the
source code for <code class="docutils literal"><span class="pre">python-swiftclient</span></code>. Each <code class="docutils literal"><span class="pre">SwiftService</span></code> method also allows
for an optional dictionary to override those specified at init time, and the
appropriate docstrings show which options modify each method&#8217;s behaviour.</p>
</div>
</div>
<div class="section" id="available-operations">
<h2>Available Operations<a class="headerlink" href="#available-operations" title="Permalink to this headline">¶</a></h2>
<p>Each operation provided by the service API may raise a <code class="docutils literal"><span class="pre">SwiftError</span></code> or
<code class="docutils literal"><span class="pre">ClientException</span></code> for any call that fails completely (or a call which
performs only one operation at an account or container level). In the case of a
successful call an operation returns one of the following:</p>
<ul class="simple">
<li>A dictionary detailing the results of a single operation.</li>
<li>An iterator that produces result dictionaries (for calls that perform
multiple sub-operations).</li>
</ul>
<p>A result dictionary can indicate either the success or failure of an individual
operation (detailed in the <code class="docutils literal"><span class="pre">success</span></code> key), and will either contain the
successful result, or an <code class="docutils literal"><span class="pre">error</span></code> key detailing the error encountered
(usually an instance of Exception).</p>
<p>An example result dictionary is given below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;download_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="n">container</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="n">obj</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="n">path</span><span class="p">,</span>
    <span class="s1">&#39;start_time&#39;</span><span class="p">:</span> <span class="n">start_time</span><span class="p">,</span>
    <span class="s1">&#39;finish_time&#39;</span><span class="p">:</span> <span class="n">finish_time</span><span class="p">,</span>
    <span class="s1">&#39;headers_receipt&#39;</span><span class="p">:</span> <span class="n">headers_receipt</span><span class="p">,</span>
    <span class="s1">&#39;auth_end_time&#39;</span><span class="p">:</span> <span class="n">conn</span><span class="o">.</span><span class="n">auth_end_time</span><span class="p">,</span>
    <span class="s1">&#39;read_length&#39;</span><span class="p">:</span> <span class="n">bytes_read</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="n">conn</span><span class="o">.</span><span class="n">attempts</span>
<span class="p">}</span>
</pre></div>
</div>
<p>All the possible <code class="docutils literal"><span class="pre">action</span></code> values are detailed below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="s1">&#39;stat_account&#39;</span><span class="p">,</span>
    <span class="s1">&#39;stat_container&#39;</span><span class="p">,</span>
    <span class="s1">&#39;stat_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;post_account&#39;</span><span class="p">,</span>
    <span class="s1">&#39;post_container&#39;</span><span class="p">,</span>
    <span class="s1">&#39;post_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;list_part&#39;</span><span class="p">,</span>          <span class="c1"># list yields zero or more &#39;list_part&#39; results</span>
    <span class="s1">&#39;download_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;create_container&#39;</span><span class="p">,</span>   <span class="c1"># from upload</span>
    <span class="s1">&#39;create_dir_marker&#39;</span><span class="p">,</span>  <span class="c1"># from upload</span>
    <span class="s1">&#39;upload_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;upload_segment&#39;</span><span class="p">,</span>
    <span class="s1">&#39;delete_container&#39;</span><span class="p">,</span>
    <span class="s1">&#39;delete_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;delete_segment&#39;</span><span class="p">,</span>     <span class="c1"># from delete_object operations</span>
    <span class="s1">&#39;capabilities&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="section" id="stat">
<h3>Stat<a class="headerlink" href="#stat" title="Permalink to this headline">¶</a></h3>
<p>Stat can be called against an account, a container, or a list of objects to
get account stats, container stats or information about the given objects. In
the first two cases a dictionary is returned containing the results of the
operation, and in the case of a list of object names being supplied, an
iterator over the results generated for each object is returned.</p>
<p>Information returned includes the amount of data used by the given
object/container/account and any headers or metadata set (this includes
user set data as well as content-type and modification times).</p>
<p>See <a class="reference internal" href="swiftclient.html#swiftclient.service.SwiftService.stat" title="swiftclient.service.SwiftService.stat"><code class="xref py py-mod docutils literal"><span class="pre">swiftclient.service.SwiftService.stat</span></code></a> for docs generated from the
method docstring.</p>
<p>Valid calls for this method are as follows:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">stat([options])</span></code>: Returns stats for the configured account.</li>
<li><code class="docutils literal"><span class="pre">stat(&lt;container&gt;,</span> <span class="pre">[options])</span></code>: Returns stats for the given container.</li>
<li><code class="docutils literal"><span class="pre">stat(&lt;container&gt;,</span> <span class="pre">&lt;object_list&gt;,</span> <span class="pre">[options])</span></code>: Returns stats for each
of the given objects in the given container (through the returned
iterator).</li>
</ul>
<p>Results from stat are dictionaries indicating the success or failure of each
operation. In the case of a successful stat against an account or container,
the method returns immediately with one of the following results:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;stat_account&#39;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">items</span><span class="p">,</span>
    <span class="s1">&#39;headers&#39;</span><span class="p">:</span> <span class="n">headers</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;stat_container&#39;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">items</span><span class="p">,</span>
    <span class="s1">&#39;headers&#39;</span><span class="p">:</span> <span class="n">headers</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the case of stat called against a list of objects, the method returns a
generator that returns the results of individual object stat operations as they
are performed on the thread pool:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;stat_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">object_name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">items</span><span class="p">,</span>
    <span class="s1">&#39;headers&#39;</span><span class="p">:</span> <span class="n">headers</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the case of a failure the dictionary returned will indicate that the
operation was not successful, and will include the keys below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="s1">&#39;stat_object&#39;</span><span class="o">|</span><span class="s1">&#39;stat_container&#39;</span><span class="o">|</span><span class="s1">&#39;stat_account&#39;</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="s1">&#39;object_name&#39;</span><span class="o">&gt;</span><span class="p">,</span>      <span class="c1"># Only for stat with objects list</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>       <span class="c1"># Only for stat with objects list or container</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">error</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;traceback&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">trace</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error_timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">timestamp</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>The code below demonstrates the use of <code class="docutils literal"><span class="pre">stat</span></code> to retrieve the headers for
a given list of objects in a container using 20 threads. The code creates a
mapping from object name to headers which is then pretty printed to the log.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">pprint</span>

<span class="kn">from</span> <span class="nn">swiftclient.service</span> <span class="kn">import</span> <span class="n">SwiftService</span>
<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;swiftclient&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">_opts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;object_dd_threads&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="k">with</span> <span class="n">SwiftService</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">_opts</span><span class="p">)</span> <span class="k">as</span> <span class="n">swift</span><span class="p">:</span>
    <span class="n">container</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
    <span class="n">header_data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">stats_it</span> <span class="o">=</span> <span class="n">swift</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">,</span> <span class="n">objects</span><span class="o">=</span><span class="n">objects</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">stat_res</span> <span class="ow">in</span> <span class="n">stats_it</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">stat_res</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
            <span class="n">header_data</span><span class="p">[</span><span class="n">stat_res</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">stat_res</span><span class="p">[</span><span class="s1">&#39;headers&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s1">&#39;Failed to retrieve stats for </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">stat_res</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">]</span>
            <span class="p">)</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">header_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list">
<h3>List<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<p>List can be called against an account or a container to retrieve the containers
or objects contained within them. Each call returns an iterator that returns
pages of results (by default, up to 10000 results in each page).</p>
<p>See <a class="reference internal" href="swiftclient.html#swiftclient.service.SwiftService.list" title="swiftclient.service.SwiftService.list"><code class="xref py py-mod docutils literal"><span class="pre">swiftclient.service.SwiftService.list</span></code></a> for docs generated from the
method docstring.</p>
<p>If the given container or account does not exist, the list method will raise
a <code class="docutils literal"><span class="pre">SwiftError</span></code>, but for all other success/failures a dictionary is returned.
Each successfully listed page returns a dictionary as described below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="s1">&#39;list_account_part&#39;</span><span class="o">|</span><span class="s1">&#39;list_container_part&#39;</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>      <span class="c1"># Only for listing a container</span>
    <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">prefix</span><span class="o">&gt;</span><span class="p">,</span>            <span class="c1"># The prefix of returned objects/containers</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;listing&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Item</span><span class="p">],</span>             <span class="c1"># A list of results</span>
                                   <span class="c1"># (only in the event of success)</span>
    <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">marker</span><span class="o">&gt;</span>             <span class="c1"># The last item name in the list</span>
                                   <span class="c1"># (only in the event of success)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where an item contains the following keys:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;bytes&#39;</span><span class="p">:</span> <span class="mi">10485760</span><span class="p">,</span>
    <span class="s1">&#39;last_modified&#39;</span><span class="p">:</span> <span class="s1">&#39;2014-12-11T12:02:38.774540&#39;</span><span class="p">,</span>
    <span class="s1">&#39;hash&#39;</span><span class="p">:</span> <span class="s1">&#39;fb938269cbeabe4c234e1127bbd3b74a&#39;</span><span class="p">,</span>
    <span class="s1">&#39;content_type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/octet-stream&#39;</span><span class="p">,</span>
    <span class="s1">&#39;meta&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">metadata</span><span class="o">&gt;</span>    <span class="c1"># Full metadata listing from stat&#39;ing each object</span>
                          <span class="c1"># this key only exists if &#39;long&#39; is specified in options</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Any failure listing an account or container that exists will return a failure
dictionary as described below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="s1">&#39;list_account_part&#39;</span><span class="o">|</span><span class="s1">&#39;list_container_part&#39;</span><span class="o">&gt;</span><span class="p">,,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="n">container</span><span class="p">,</span>         <span class="c1"># Only for listing a container</span>
    <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="n">options</span><span class="p">[</span><span class="s1">&#39;prefix&#39;</span><span class="p">],</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="n">success</span><span class="p">,</span>
    <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="n">marker</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
    <span class="s1">&#39;traceback&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">trace</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error_timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">timestamp</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>The code below demonstrates the use of <code class="docutils literal"><span class="pre">list</span></code> to list all items in a
container that are over 10MiB in size:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">from</span> <span class="nn">swiftclient.service</span> <span class="kn">import</span> <span class="n">SwiftService</span><span class="p">,</span> <span class="n">SwiftError</span>
<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;swiftclient&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">minimum_size</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="mi">1024</span><span class="o">**</span><span class="mi">2</span>
<span class="k">with</span> <span class="n">SwiftService</span><span class="p">()</span> <span class="k">as</span> <span class="n">swift</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">list_parts_gen</span> <span class="o">=</span> <span class="n">swift</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">list_parts_gen</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;success&quot;</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;listing&quot;</span><span class="p">]:</span>

                    <span class="n">i_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;bytes&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">i_size</span> <span class="o">&gt;</span> <span class="n">minimum_size</span><span class="p">:</span>
                        <span class="n">i_name</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                        <span class="n">i_etag</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;hash&quot;</span><span class="p">]</span>
                        <span class="k">print</span><span class="p">(</span>
                            <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> [size: </span><span class="si">%s</span><span class="s2">] [etag: </span><span class="si">%s</span><span class="s2">]&quot;</span> <span class="o">%</span>
                            <span class="p">(</span><span class="n">i_name</span><span class="p">,</span> <span class="n">i_size</span><span class="p">,</span> <span class="n">i_etag</span><span class="p">)</span>
                        <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>

    <span class="k">except</span> <span class="n">SwiftError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="post">
<h3>Post<a class="headerlink" href="#post" title="Permalink to this headline">¶</a></h3>
<p>Post can be called against an account, container or list of objects in order to
update the metadata attached to the given items. In the first two cases a single
dictionary is returned containing the results of the operation, and in the case
of a list of objects being supplied, an iterator over the results generated for
each object post is returned.</p>
<p>Each element of the object list may be a plain string of the object name, or a
<code class="docutils literal"><span class="pre">SwiftPostObject</span></code> that allows finer control over the options and metadata
applied to each of the individual post operations. When a string is given for
the object name, the options and metadata applied are a combination of those
supplied to the call to <code class="docutils literal"><span class="pre">post()</span></code> and the defaults of the <code class="docutils literal"><span class="pre">SwiftService</span></code>
object.</p>
<p>If the given container or account does not exist, the <code class="docutils literal"><span class="pre">post</span></code> method will
raise a <code class="docutils literal"><span class="pre">SwiftError</span></code>. Successful metadata update results are dictionaries as
described below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="s1">&#39;post_account&#39;</span><span class="o">|</span><span class="s1">&#39;post_container&#39;</span><span class="o">|</span><span class="s1">&#39;post_object&#39;</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;headers&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Updating user metadata keys will not only add any specified keys, but
will also remove user metadata that has previously been set. This means
that each time user metadata is updated, the complete set of desired
key-value pairs must be specified.</p>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>The code below demonstrates the use of <code class="docutils literal"><span class="pre">post</span></code> to set an archive folder in
a given container to expire after a 24 hour delay:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">from</span> <span class="nn">swiftclient.service</span> <span class="kn">import</span> <span class="n">SwiftService</span><span class="p">,</span> <span class="n">SwiftError</span>
<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;swiftclient&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="k">with</span> <span class="n">SwiftService</span><span class="p">()</span> <span class="k">as</span> <span class="n">swift</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">list_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;archive_2016-01-01/&quot;</span><span class="p">}</span>
        <span class="n">list_parts_gen</span> <span class="o">=</span> <span class="n">swift</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">list_parts_gen</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;success&quot;</span><span class="p">]:</span>
                <span class="n">objects</span> <span class="o">=</span> <span class="p">[</span><span class="n">obj</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;listing&quot;</span><span class="p">]]</span>
                <span class="n">post_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="s2">&quot;X-Delete-After:86400&quot;</span><span class="p">}</span>
                <span class="k">for</span> <span class="n">post_res</span> <span class="ow">in</span> <span class="n">swift</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                        <span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">,</span>
                        <span class="n">objects</span><span class="o">=</span><span class="n">objects</span><span class="p">,</span>
                        <span class="n">options</span><span class="o">=</span><span class="n">post_options</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">post_res</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Object &#39;</span><span class="si">%s</span><span class="s2">&#39; POST success&quot;</span> <span class="o">%</span> <span class="n">post_res</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Object &#39;</span><span class="si">%s</span><span class="s2">&#39; POST failed&quot;</span> <span class="o">%</span> <span class="n">post_res</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="n">SwiftError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="download">
<h3>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h3>
<p>Download can be called against an entire account, a single container, or a list
of objects in a given container. Each element of the object list is a string
detailing the full name of an object to download.</p>
<p>In order to download the full contents of an entire account, you must set the
value of <code class="docutils literal"><span class="pre">yes_all</span></code> to <code class="docutils literal"><span class="pre">True</span></code> in the <code class="docutils literal"><span class="pre">options</span></code> dictionary supplied to
either the <code class="docutils literal"><span class="pre">SwiftService</span></code> instance or the call to <code class="docutils literal"><span class="pre">download</span></code>.</p>
<p>If the given container or account does not exist, the <code class="docutils literal"><span class="pre">download</span></code> method will
raise a <code class="docutils literal"><span class="pre">SwiftError</span></code>, otherwise an iterator over the results generated for
each object download is returned.</p>
<p>See <a class="reference internal" href="swiftclient.html#swiftclient.service.SwiftService.download" title="swiftclient.service.SwiftService.download"><code class="xref py py-mod docutils literal"><span class="pre">swiftclient.service.SwiftService.download</span></code></a> for docs generated from the
method docstring.</p>
<p>For each successfully downloaded object, the results returned by the iterator
will be a dictionary as described below (results are not returned for completed
container or object segment downloads):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;download_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">local</span> <span class="n">path</span> <span class="n">to</span> <span class="n">downloaded</span> <span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;pseudodir&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">if</span> <span class="n">true</span><span class="p">,</span> <span class="n">the</span> <span class="n">download</span> <span class="n">created</span> <span class="n">an</span> <span class="n">empty</span> <span class="n">directory</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;start_time&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">time</span> <span class="n">download</span> <span class="n">started</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;end_time&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">time</span> <span class="n">download</span> <span class="n">completed</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;headers_receipt&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">time</span> <span class="n">the</span> <span class="n">headers</span> <span class="kn">from</span> <span class="nn">the</span> <span class="nn">object</span> <span class="nn">were</span> <span class="nn">retrieved</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;auth_end_time&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">time</span> <span class="n">authentication</span> <span class="n">completed</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;read_length&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">bytes_read</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Any failure uploading an object will return a failure dictionary as described
below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;download_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">local</span> <span class="n">path</span> <span class="n">of</span> <span class="n">the</span> <span class="n">failed</span> <span class="n">download</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;pseudodir&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">if</span> <span class="n">true</span><span class="p">,</span> <span class="n">the</span> <span class="n">failed</span> <span class="n">download</span> <span class="n">was</span> <span class="n">an</span> <span class="n">empty</span> <span class="n">directory</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">error</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;traceback&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">trace</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error_timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">timestamp</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>The code below demonstrates the use of <code class="docutils literal"><span class="pre">download</span></code> to download all PNG
images from a dated archive folder in a given container:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">from</span> <span class="nn">swiftclient.service</span> <span class="kn">import</span> <span class="n">SwiftService</span><span class="p">,</span> <span class="n">SwiftError</span>
<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;swiftclient&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">is_png</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">obj</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.png&#39;</span><span class="p">)</span> <span class="ow">or</span>
        <span class="n">obj</span><span class="p">[</span><span class="s2">&quot;content_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;image/png&#39;</span>
    <span class="p">)</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="k">with</span> <span class="n">SwiftService</span><span class="p">()</span> <span class="k">as</span> <span class="n">swift</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">list_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;archive_2016-01-01/&quot;</span><span class="p">}</span>
        <span class="n">list_parts_gen</span> <span class="o">=</span> <span class="n">swift</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">list_parts_gen</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;success&quot;</span><span class="p">]:</span>
                <span class="n">objects</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">obj</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;listing&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="n">is_png</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">down_res</span> <span class="ow">in</span> <span class="n">swift</span><span class="o">.</span><span class="n">download</span><span class="p">(</span>
                        <span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">,</span>
                        <span class="n">objects</span><span class="o">=</span><span class="n">objects</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">down_res</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; downloaded&quot;</span> <span class="o">%</span> <span class="n">down_res</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; download failed&quot;</span> <span class="o">%</span> <span class="n">down_res</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="n">SwiftError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="upload">
<h3>Upload<a class="headerlink" href="#upload" title="Permalink to this headline">¶</a></h3>
<p>Upload is always called against an account and container and with a list of
objects to upload. Each element of the object list may be a plain string
detailing the path of the object to upload, or a <code class="docutils literal"><span class="pre">SwiftUploadObject</span></code> that
allows finer control over some aspects of the individual operations.</p>
<p>When a simple string is supplied to specify a file to upload, the name of the
object uploaded is the full path of the specified file and the options used for
the upload are those supplied to the call to <code class="docutils literal"><span class="pre">upload</span></code>.</p>
<p>Constructing a <code class="docutils literal"><span class="pre">SwiftUploadObject</span></code> allows the user to supply an object name
for the uploaded file, and modify the options used by <code class="docutils literal"><span class="pre">upload</span></code> at the
granularity of individual files.</p>
<p>If the given container or account does not exist, the <code class="docutils literal"><span class="pre">upload</span></code> method will
raise a <code class="docutils literal"><span class="pre">SwiftError</span></code>, otherwise an iterator over the results generated for
each object upload is returned.</p>
<p>See <a class="reference internal" href="swiftclient.html#swiftclient.service.SwiftService.upload" title="swiftclient.service.SwiftService.upload"><code class="xref py py-mod docutils literal"><span class="pre">swiftclient.service.SwiftService.upload</span></code></a> for docs generated from the
method docstring.</p>
<p>For each successfully uploaded object (or object segment), the results returned
by the iterator will be a dictionary as described below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;upload_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="s1">&#39;uploaded&#39;</span><span class="o">|</span><span class="s1">&#39;skipped-identical&#39;</span><span class="o">|</span><span class="s1">&#39;skipped-changed&#39;</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;upload_segment&#39;</span><span class="p">,</span>
    <span class="s1">&#39;for_container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;for_object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;segment_index&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">segment_index</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;segment_size&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">segment_size</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;segment_location&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">segment_path</span><span class="o">&gt;</span>
    <span class="s1">&#39;segment_etag&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">etag</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;log_line&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">segment</span> <span class="n">n</span><span class="o">&gt;</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Any failure uploading an object will return a failure dictionary as described
below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;upload_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">error</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;traceback&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">trace</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error_timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">timestamp</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;upload_segment&#39;</span><span class="p">,</span>
    <span class="s1">&#39;for_container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;for_object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;segment_index&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">segment_index</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;segment_size&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">segment_size</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;segment_location&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">segment_path</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;log_line&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">segment</span> <span class="n">n</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">error</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;traceback&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">trace</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error_timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">timestamp</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>The code below demonstrates the use of <code class="docutils literal"><span class="pre">upload</span></code> to upload all files and
folders in a given directory, and rename each object by replacing the root
directory name with &#8216;my-&lt;d&gt;-objects&#8217;, where &lt;d&gt; is the name of the uploaded
directory:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">walk</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span>
<span class="kn">from</span> <span class="nn">swiftclient.multithreading</span> <span class="kn">import</span> <span class="n">OutputManager</span>
<span class="kn">from</span> <span class="nn">swiftclient.service</span> <span class="kn">import</span> <span class="n">SwiftError</span><span class="p">,</span> <span class="n">SwiftService</span><span class="p">,</span> <span class="n">SwiftUploadObject</span>
<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;swiftclient&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">_opts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;object_uu_threads&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="nb">dir</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">container</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="k">with</span> <span class="n">SwiftService</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">_opts</span><span class="p">)</span> <span class="k">as</span> <span class="n">swift</span><span class="p">,</span> <span class="n">OutputManager</span><span class="p">()</span> <span class="k">as</span> <span class="n">out_manager</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Collect all the files and folders in the given directory</span>
        <span class="n">objs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">dir_markers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">_dir</span><span class="p">,</span> <span class="n">_ds</span><span class="p">,</span> <span class="n">_fs</span><span class="p">)</span> <span class="ow">in</span> <span class="n">walk</span><span class="p">(</span><span class="nb">dir</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">_ds</span> <span class="o">+</span> <span class="n">_fs</span><span class="p">):</span>
                <span class="n">dir_markers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_dir</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">objs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">join</span><span class="p">(</span><span class="n">_dir</span><span class="p">,</span> <span class="n">_f</span><span class="p">)</span> <span class="k">for</span> <span class="n">_f</span> <span class="ow">in</span> <span class="n">_fs</span><span class="p">])</span>

        <span class="c1"># Now that we&#39;ve collected all the required files and dir markers</span>
        <span class="c1"># build the ``SwiftUploadObject``s for the call to upload</span>
        <span class="n">objs</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">SwiftUploadObject</span><span class="p">(</span>
                <span class="n">o</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="n">o</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                    <span class="nb">dir</span><span class="p">,</span> <span class="s1">&#39;my-</span><span class="si">%s</span><span class="s1">-objects&#39;</span> <span class="o">%</span> <span class="nb">dir</span><span class="p">,</span> <span class="mi">1</span>
                <span class="p">)</span>
            <span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">objs</span>
        <span class="p">]</span>
        <span class="n">dir_markers</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">SwiftUploadObject</span><span class="p">(</span>
                <span class="bp">None</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                    <span class="nb">dir</span><span class="p">,</span> <span class="s1">&#39;my-</span><span class="si">%s</span><span class="s1">-objects&#39;</span> <span class="o">%</span> <span class="nb">dir</span><span class="p">,</span> <span class="mi">1</span>
                <span class="p">),</span> <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;dir_marker&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
            <span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dir_markers</span>
        <span class="p">]</span>

        <span class="c1"># Schedule uploads on the SwiftService thread pool and iterate</span>
        <span class="c1"># over the results</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">swift</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">objs</span> <span class="o">+</span> <span class="n">dir_markers</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="s1">&#39;object&#39;</span> <span class="ow">in</span> <span class="n">r</span><span class="p">:</span>
                    <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">])</span>
                <span class="k">elif</span> <span class="s1">&#39;for_object&#39;</span> <span class="ow">in</span> <span class="n">r</span><span class="p">:</span>
                    <span class="k">print</span><span class="p">(</span>
                        <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> segment </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;for_object&#39;</span><span class="p">],</span>
                                           <span class="n">r</span><span class="p">[</span><span class="s1">&#39;segment_index&#39;</span><span class="p">])</span>
                        <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">error</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;create_container&quot;</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s1">&#39;Warning: failed to create container &#39;</span>
                        <span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">container</span><span class="p">,</span> <span class="n">error</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;upload_object&quot;</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Failed to upload object </span><span class="si">%s</span><span class="s2"> to container </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                        <span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">],</span> <span class="n">error</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">error</span><span class="p">)</span>

    <span class="k">except</span> <span class="n">SwiftError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete">
<h3>Delete<a class="headerlink" href="#delete" title="Permalink to this headline">¶</a></h3>
<p>Delete can be called against an account or a container to remove the containers
or objects contained within them. Each call to <code class="docutils literal"><span class="pre">delete</span></code> returns an iterator
over results of each resulting sub-request.</p>
<p>If the number of requested delete operations is large and the target swift
cluster is running the bulk middleware, the call to <code class="docutils literal"><span class="pre">SwiftService.delete</span></code> will
make use of bulk operations and the returned result iterator will return
<code class="docutils literal"><span class="pre">bulk_delete</span></code> results rather than individual <code class="docutils literal"><span class="pre">delete_object</span></code>,
<code class="docutils literal"><span class="pre">delete_container</span></code> or <code class="docutils literal"><span class="pre">delete_segment</span></code> results.</p>
<p>See <a class="reference internal" href="swiftclient.html#swiftclient.service.SwiftService.delete" title="swiftclient.service.SwiftService.delete"><code class="xref py py-mod docutils literal"><span class="pre">swiftclient.service.SwiftService.delete</span></code></a> for docs generated from the
method docstring.</p>
<p>For each successfully deleted container, object or segment, the results returned
by the iterator will be a dictionary as described below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="s1">&#39;delete_object&#39;</span><span class="o">|</span><span class="s1">&#39;delete_segment&#39;</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;delete_container&#39;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;bulk_delete&#39;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;objects&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="p">[</span><span class="n">objects</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Any failure in a delete operation will return a failure dictionary as described
below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;delete_object&#39;</span><span class="o">|</span><span class="s1">&#39;delete_segment&#39;</span><span class="p">),</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">error</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;traceback&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">trace</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error_timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">timestamp</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;delete_container&#39;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">error</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;traceback&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">trace</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error_timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">timestamp</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;bulk_delete&#39;</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;objects&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="p">[</span><span class="n">objects</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s1">&#39;attempts&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attempt</span> <span class="n">count</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">error</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;traceback&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">trace</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error_timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">timestamp</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>The code below demonstrates the use of <code class="docutils literal"><span class="pre">delete</span></code> to remove a given list of
objects from a specified container. As the objects are deleted the
transaction ID of the relevant request is printed along with the object name
and number of attempts required. By printing the transaction ID, the printed
operations can be easily linked to events in the swift server logs:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">from</span> <span class="nn">swiftclient.service</span> <span class="kn">import</span> <span class="n">SwiftService</span>
<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span>


<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;swiftclient&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">_opts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;object_dd_threads&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="n">container</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">objects</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="k">with</span> <span class="n">SwiftService</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">_opts</span><span class="p">)</span> <span class="k">as</span> <span class="n">swift</span><span class="p">:</span>
    <span class="n">del_iter</span> <span class="o">=</span> <span class="n">swift</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">,</span> <span class="n">objects</span><span class="o">=</span><span class="n">objects</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">del_res</span> <span class="ow">in</span> <span class="n">del_iter</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">del_res</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">o</span> <span class="o">=</span> <span class="n">del_res</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">del_res</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;attempts&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">del_res</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">del_res</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;bulk_delete&#39;</span><span class="p">:</span>
            <span class="n">rd</span> <span class="o">=</span> <span class="n">del_res</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;response_dict&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">rd</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">t</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">rd</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;headers&#39;</span><span class="p">,</span> <span class="p">{}))</span>
                <span class="k">if</span> <span class="n">t</span><span class="p">:</span>
                    <span class="k">print</span><span class="p">(</span>
                        <span class="s1">&#39;Successfully deleted {0}/{1} in {2} attempts &#39;</span>
                        <span class="s1">&#39;(transaction id: {3})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">print</span><span class="p">(</span>
                        <span class="s1">&#39;Successfully deleted {0}/{1} in {2} &#39;</span>
                        <span class="s1">&#39;attempts&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
                    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="copy">
<h3>Copy<a class="headerlink" href="#copy" title="Permalink to this headline">¶</a></h3>
<p>Copy can be called to copy an object or update the metadata on the given items.</p>
<p>Each element of the object list may be a plain string of the object name, or a
<code class="docutils literal"><span class="pre">SwiftCopyObject</span></code> that allows finer control over the options applied to each
of the individual copy operations (destination, fresh_metadata, options).</p>
<p>Destination should be in format /container/object; if not set, the object will be
copied onto itself. Fresh_metadata sets mode of operation on metadata. If not set,
current object user metadata will be copied/preserved; if set, all current user
metadata will be removed.</p>
<p>Returns an iterator over the results generated for each object copy (and may
also include the results of creating destination containers).</p>
<p>When a string is given for the object name, destination and fresh metadata will
default to None and None, which result in adding metadata to existing objects.</p>
<p>Successful copy results are dictionaries as described below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;copy_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;destination&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">destination</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;headers&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s1">&#39;fresh_metadata&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">boolean</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Any failure in a copy operation will return a failure dictionary as described
below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;copy_object&#39;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">container</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;destination&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">destination</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;headers&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s1">&#39;fresh_metadata&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">boolean</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;response_dict&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">response</span> <span class="n">details</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">error</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;traceback&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">traceback</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;error_timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">timestamp</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>The code below demonstrates the use of <code class="docutils literal"><span class="pre">copy</span></code> to add new user metadata for
objects a and b, and to copy object c to d (with added metadata).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">from</span> <span class="nn">swiftclient.service</span> <span class="kn">import</span> <span class="n">SwiftService</span><span class="p">,</span> <span class="n">SwiftCopyObject</span><span class="p">,</span> <span class="n">SwiftError</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;swiftclient&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">with</span> <span class="n">SwiftService</span><span class="p">()</span> <span class="k">as</span> <span class="n">swift</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">SwiftCopyObject</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;Destination&quot;</span><span class="p">:</span> <span class="s2">&quot;/cont/d&quot;</span><span class="p">})</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">swift</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span>
                <span class="s2">&quot;cont&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">obj</span><span class="p">],</span>
                <span class="p">{</span><span class="s2">&quot;meta&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;foo:bar&quot;</span><span class="p">],</span> <span class="s2">&quot;Destination&quot;</span><span class="p">:</span> <span class="s2">&quot;/cc&quot;</span><span class="p">}):</span>
            <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;success&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;action&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;copy_object&quot;</span><span class="p">:</span>
                    <span class="k">print</span><span class="p">(</span>
                        <span class="s2">&quot;object </span><span class="si">%s</span><span class="s2"> copied from /</span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                        <span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s2">&quot;destination&quot;</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;container&quot;</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;object&quot;</span><span class="p">])</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;action&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;create_container&quot;</span><span class="p">:</span>
                    <span class="k">print</span><span class="p">(</span>
                        <span class="s2">&quot;container </span><span class="si">%s</span><span class="s2"> created&quot;</span> <span class="o">%</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;container&quot;</span><span class="p">]</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;error&quot;</span> <span class="ow">in</span> <span class="n">i</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">],</span> <span class="ne">Exception</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="n">SwiftError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="capabilities">
<h3>Capabilities<a class="headerlink" href="#capabilities" title="Permalink to this headline">¶</a></h3>
<p>Capabilities can be called against an account or a particular proxy URL in
order to determine the capabilities of the swift cluster. These capabilities
include details about configuration options and the middlewares that are
installed in the proxy pipeline.</p>
<p>See <a class="reference internal" href="swiftclient.html#swiftclient.service.SwiftService.capabilities" title="swiftclient.service.SwiftService.capabilities"><code class="xref py py-mod docutils literal"><span class="pre">swiftclient.service.SwiftService.capabilities</span></code></a> for docs generated from
the method docstring.</p>
<p>For each successful call to list capabilities, a result dictionary will be
returned with the contents described below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;capabilities&#39;</span><span class="p">,</span>
    <span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">time</span> <span class="n">of</span> <span class="n">the</span> <span class="n">call</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;capabilities&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">dictionary</span> <span class="n">containing</span> <span class="n">capability</span> <span class="n">details</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The contents of the capabilities dictionary contain the core swift capabilities
under the key <code class="docutils literal"><span class="pre">swift</span></code>; all other keys show the configuration options for
additional middlewares deployed in the proxy pipeline. An example capabilities
dictionary is given below:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;account_quotas&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s1">&#39;bulk_delete&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;max_deletes_per_request&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
        <span class="s1">&#39;max_failed_deletes&#39;</span><span class="p">:</span> <span class="mi">1000</span>
    <span class="p">},</span>
    <span class="s1">&#39;bulk_upload&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;max_containers_per_extraction&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
        <span class="s1">&#39;max_failed_extractions&#39;</span><span class="p">:</span> <span class="mi">1000</span>
    <span class="p">},</span>
    <span class="s1">&#39;container_quotas&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s1">&#39;container_sync&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;realms&#39;</span><span class="p">:</span> <span class="p">{}},</span>
    <span class="s1">&#39;formpost&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s1">&#39;keystoneauth&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s1">&#39;slo&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;max_manifest_segments&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s1">&#39;max_manifest_size&#39;</span><span class="p">:</span> <span class="mi">2097152</span><span class="p">,</span>
        <span class="s1">&#39;min_segment_size&#39;</span><span class="p">:</span> <span class="mi">1048576</span>
    <span class="p">},</span>
    <span class="s1">&#39;swift&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;account_autocreate&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="s1">&#39;account_listing_limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
        <span class="s1">&#39;allow_account_management&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="s1">&#39;container_listing_limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
        <span class="s1">&#39;extra_header_count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;max_account_name_length&#39;</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span>
        <span class="s1">&#39;max_container_name_length&#39;</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span>
        <span class="s1">&#39;max_file_size&#39;</span><span class="p">:</span> <span class="mi">5368709122</span><span class="p">,</span>
        <span class="s1">&#39;max_header_size&#39;</span><span class="p">:</span> <span class="mi">8192</span><span class="p">,</span>
        <span class="s1">&#39;max_meta_count&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
        <span class="s1">&#39;max_meta_name_length&#39;</span><span class="p">:</span> <span class="mi">128</span><span class="p">,</span>
        <span class="s1">&#39;max_meta_overall_size&#39;</span><span class="p">:</span> <span class="mi">4096</span><span class="p">,</span>
        <span class="s1">&#39;max_meta_value_length&#39;</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span>
        <span class="s1">&#39;max_object_name_length&#39;</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span>
        <span class="s1">&#39;policies&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Policy-0&#39;</span><span class="p">}</span>
        <span class="p">],</span>
        <span class="s1">&#39;strict_cors_mode&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
        <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;2.2.2&#39;</span>
    <span class="p">},</span>
    <span class="s1">&#39;tempurl&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;methods&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;HEAD&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">Example</p>
<p>The code below demonstrates the use of <code class="docutils literal"><span class="pre">capabilities</span></code> to determine if the
Swift cluster supports static large objects, and if so, the maximum number
of segments that can be described in a single manifest file, along with the
size restrictions on those objects:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">from</span> <span class="nn">swiftclient.exceptions</span> <span class="kn">import</span> <span class="n">ClientException</span>
<span class="kn">from</span> <span class="nn">swiftclient.service</span> <span class="kn">import</span> <span class="n">SwiftService</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;swiftclient&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">with</span> <span class="n">SwiftService</span><span class="p">()</span> <span class="k">as</span> <span class="n">swift</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">capabilities_result</span> <span class="o">=</span> <span class="n">swift</span><span class="o">.</span><span class="n">capabilities</span><span class="p">()</span>
        <span class="n">capabilities</span> <span class="o">=</span> <span class="n">capabilities_result</span><span class="p">[</span><span class="s1">&#39;capabilities&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;slo&#39;</span> <span class="ow">in</span> <span class="n">capabilities</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;SLO is supported&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;SLO is not supported&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ClientException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">The swiftclient.SwiftService API</a><ul>
<li><a class="reference internal" href="#authentication">Authentication</a><ul>
<li><a class="reference internal" href="#keystone-v3">Keystone V3</a></li>
<li><a class="reference internal" href="#keystone-v2">Keystone V2</a></li>
<li><a class="reference internal" href="#legacy-auth">Legacy Auth</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">Configuration</a><ul>
<li><a class="reference internal" href="#options">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#available-operations">Available Operations</a><ul>
<li><a class="reference internal" href="#stat">Stat</a></li>
<li><a class="reference internal" href="#list">List</a></li>
<li><a class="reference internal" href="#post">Post</a></li>
<li><a class="reference internal" href="#download">Download</a></li>
<li><a class="reference internal" href="#upload">Upload</a></li>
<li><a class="reference internal" href="#delete">Delete</a></li>
<li><a class="reference internal" href="#copy">Copy</a></li>
<li><a class="reference internal" href="#capabilities">Capabilities</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="cli.html"
                                  title="previous chapter">CLI</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="client-api.html"
                                  title="next chapter">The swiftclient.Connection API</a></p>
              <h3>Other Versions</h3>
              <ul class="this-page-menu">
                  <li><a href="index.html" rel="nofollow">Current</a></li>
                    <li><a href="3.2.0" rel="nofollow">3.2.0</a></li>
                    <li><a href="3.1.0" rel="nofollow">3.1.0</a></li>
                    <li><a href="3.0.0" rel="nofollow">3.0.0</a></li>
                    <li><a href="2.7.0" rel="nofollow">2.7.0</a></li>
              </ul>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/python-swiftclient
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/service-api.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="client-api.html" title="The swiftclient.Connection API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cli.html" title="CLI"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">python-swiftclient 3.2.1.dev16 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2013-2016 OpenStack, LLC..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/python-swiftclient");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>