<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>glance.api.v1 package &mdash; glance 14.0.0.0rc2.dev4 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '14.0.0.0rc2.dev4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="glance 14.0.0.0rc2.dev4 documentation" href="../index.html" />
    <link rel="up" title="glance.api package" href="glance.api.html" />
    <link rel="next" title="glance.api.v2 package" href="glance.api.v2.html" />
    <link rel="prev" title="glance.api.middleware package" href="glance.api.middleware.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="glance-api-v1-package">
<h1>glance.api.v1 package<a class="headerlink" href="#glance-api-v1-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-glance.api.v1.controller">
<span id="glance-api-v1-controller-module"></span><h2>glance.api.v1.controller module<a class="headerlink" href="#module-glance.api.v1.controller" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="glance.api.v1.controller.BaseController">
<em class="property">class </em><code class="descclassname">glance.api.v1.controller.</code><code class="descname">BaseController</code><a class="reference internal" href="../_modules/glance/api/v1/controller.html#BaseController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.controller.BaseController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="glance.api.v1.controller.BaseController.get_active_image_meta_or_error">
<code class="descname">get_active_image_meta_or_error</code><span class="sig-paren">(</span><em>request</em>, <em>image_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/controller.html#BaseController.get_active_image_meta_or_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.controller.BaseController.get_active_image_meta_or_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as get_image_meta_or_404 except that it will raise a 403 if the
image is deactivated or 404 if the image is otherwise not &#8216;active&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.controller.BaseController.get_image_meta_or_404">
<code class="descname">get_image_meta_or_404</code><span class="sig-paren">(</span><em>request</em>, <em>image_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/controller.html#BaseController.get_image_meta_or_404"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.controller.BaseController.get_image_meta_or_404" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs the image metadata for an image with a supplied
identifier or raises an HTTPNotFound (404) response</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> &#8211; The WSGI/Webob Request object</li>
<li><strong>image_id</strong> &#8211; The opaque image identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">HTTPNotFound if image does not exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.controller.BaseController.update_store_acls">
<code class="descname">update_store_acls</code><span class="sig-paren">(</span><em>req</em>, <em>image_id</em>, <em>location_uri</em>, <em>public=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/controller.html#BaseController.update_store_acls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.controller.BaseController.update_store_acls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.api.v1.filters">
<span id="glance-api-v1-filters-module"></span><h2>glance.api.v1.filters module<a class="headerlink" href="#module-glance.api.v1.filters" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="glance.api.v1.filters.validate">
<code class="descclassname">glance.api.v1.filters.</code><code class="descname">validate</code><span class="sig-paren">(</span><em>filter</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/filters.html#validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.filters.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="glance.api.v1.filters.validate_boolean">
<code class="descclassname">glance.api.v1.filters.</code><code class="descname">validate_boolean</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/filters.html#validate_boolean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.filters.validate_boolean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="glance.api.v1.filters.validate_int_in_range">
<code class="descclassname">glance.api.v1.filters.</code><code class="descname">validate_int_in_range</code><span class="sig-paren">(</span><em>min=0</em>, <em>max=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/filters.html#validate_int_in_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.filters.validate_int_in_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-glance.api.v1.images">
<span id="glance-api-v1-images-module"></span><h2>glance.api.v1.images module<a class="headerlink" href="#module-glance.api.v1.images" title="Permalink to this headline">¶</a></h2>
<p>/images endpoint for Glance v1 API</p>
<dl class="class">
<dt id="glance.api.v1.images.Controller">
<em class="property">class </em><code class="descclassname">glance.api.v1.images.</code><code class="descname">Controller</code><a class="reference internal" href="../_modules/glance/api/v1/images.html#Controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.Controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.api.v1.controller.BaseController" title="glance.api.v1.controller.BaseController"><code class="xref py py-class docutils literal"><span class="pre">glance.api.v1.controller.BaseController</span></code></a></p>
<p>WSGI controller for images resource in Glance v1 API</p>
<p>The images resource API is a RESTful web service for image data. The API
is as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>GET /images -- Returns a set of brief metadata about images
GET /images/detail -- Returns a set of detailed metadata about
                      images
HEAD /images/&lt;ID&gt; -- Return metadata about an image with id &lt;ID&gt;
GET /images/&lt;ID&gt; -- Return image data for image with id &lt;ID&gt;
POST /images -- Store image data and return metadata about the
                newly-stored image
PUT /images/&lt;ID&gt; -- Update image metadata and/or upload image
                    data for a previously-reserved image
DELETE /images/&lt;ID&gt; -- Delete the image with id &lt;ID&gt;
</pre></div>
</div>
<dl class="method">
<dt id="glance.api.v1.images.Controller.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>req</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#Controller.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.Controller.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new image to Glance. Four scenarios exist when creating an
image:</p>
<ol class="arabic simple">
<li>If the image data is available directly for upload, create can be
passed the image data as the request body and the metadata as the
request headers. The image will initially be &#8216;queued&#8217;, during
upload it will be in the &#8216;saving&#8217; status, and then &#8216;killed&#8217; or
&#8216;active&#8217; depending on whether the upload completed successfully.</li>
<li>If the image data exists somewhere else, you can upload indirectly
from the external source using the x-glance-api-copy-from header.
Once the image is uploaded, the external store is not subsequently
consulted, i.e. the image content is served out from the configured
glance image store.  State transitions are as for option #1.</li>
<li>If the image data exists somewhere else, you can reference the
source using the x-image-meta-location header. The image content
will be served out from the external store, i.e. is never uploaded
to the configured glance image store.</li>
<li>If the image data is not available yet, but you&#8217;d like reserve a
spot for it, you can omit the data and a record will be created in
the &#8216;queued&#8217; state. This exists primarily to maintain backwards
compatibility with OpenStack/Rackspace API semantics.</li>
</ol>
<p>The request body <em>must</em> be encoded as application/octet-stream,
otherwise an HTTPBadRequest is returned.</p>
<p>Upon a successful save of the image data and metadata, a response
containing metadata about the image is returned, including its
opaque identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>req</strong> &#8211; The WSGI/Webob Request object</li>
<li><strong>image_meta</strong> &#8211; Mapping of metadata about image</li>
<li><strong>image_data</strong> &#8211; Actual image data that is to be stored</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">HTTPBadRequest if x-image-meta-location is missing
and the request body is not application/octet-stream
image data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.Controller.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>req</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#Controller.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.Controller.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the image and all its chunks from the Glance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>req</strong> &#8211; The WSGI/Webob Request object</li>
<li><strong>id</strong> &#8211; The opaque image identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first">HttpBadRequest if image registry is invalid</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first">HttpNotFound if image or any chunk is not available</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">HttpUnauthorized if image or any chunk is not
deleteable by the requesting user</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.Controller.detail">
<code class="descname">detail</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#Controller.detail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.Controller.detail" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns detailed information for all available images</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>req</strong> &#8211; The WSGI/Webob Request object</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The response body is a mapping of the following form</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{&#39;images&#39;:
    [{
        &#39;id&#39;: &lt;ID&gt;,
        &#39;name&#39;: &lt;NAME&gt;,
        &#39;size&#39;: &lt;SIZE&gt;,
        &#39;disk_format&#39;: &lt;DISK_FORMAT&gt;,
        &#39;container_format&#39;: &lt;CONTAINER_FORMAT&gt;,
        &#39;checksum&#39;: &lt;CHECKSUM&gt;,
        &#39;min_disk&#39;: &lt;MIN_DISK&gt;,
        &#39;min_ram&#39;: &lt;MIN_RAM&gt;,
        &#39;store&#39;: &lt;STORE&gt;,
        &#39;status&#39;: &lt;STATUS&gt;,
        &#39;created_at&#39;: &lt;TIMESTAMP&gt;,
        &#39;updated_at&#39;: &lt;TIMESTAMP&gt;,
        &#39;deleted_at&#39;: &lt;TIMESTAMP&gt;|&lt;NONE&gt;,
        &#39;properties&#39;: {&#39;distro&#39;: &#39;Ubuntu 10.04 LTS&#39;, {...}}
     }, {...}]
}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.Controller.get_store_or_400">
<code class="descname">get_store_or_400</code><span class="sig-paren">(</span><em>request</em>, <em>scheme</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#Controller.get_store_or_400"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.Controller.get_store_or_400" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs the storage backend for the supplied store name
or raises an HTTPBadRequest (400) response</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> &#8211; The WSGI/Webob Request object</li>
<li><strong>scheme</strong> &#8211; The backend store scheme</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">HTTPBadRequest if store does not exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.Controller.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#Controller.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.Controller.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the following information for all public, available images:</p>
<blockquote>
<div><ul class="simple">
<li>id &#8211; The opaque image identifier</li>
<li>name &#8211; The name of the image</li>
<li>disk_format &#8211; The disk image format</li>
<li>container_format &#8211; The &#8220;container&#8221; format of the image</li>
<li>checksum &#8211; MD5 checksum of the image data</li>
<li>size &#8211; Size of image data in bytes</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>req</strong> &#8211; The WSGI/Webob Request object</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The response body is a mapping of the following form</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{&#39;images&#39;: [
    {&#39;id&#39;: &lt;ID&gt;,
     &#39;name&#39;: &lt;NAME&gt;,
     &#39;disk_format&#39;: &lt;DISK_FORMAT&gt;,
     &#39;container_format&#39;: &lt;DISK_FORMAT&gt;,
     &#39;checksum&#39;: &lt;CHECKSUM&gt;,
     &#39;size&#39;: &lt;SIZE&gt;}, {...}]
}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.Controller.meta">
<code class="descname">meta</code><span class="sig-paren">(</span><em>req</em>, <em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#Controller.meta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.Controller.meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns metadata about an image in the HTTP headers of the
response object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>req</strong> &#8211; The WSGI/Webob Request object</li>
<li><strong>id</strong> &#8211; The opaque image identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">similar to &#8216;show&#8217; method but without image_data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">HTTPNotFound if image metadata is not available to user</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.Controller.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>req</em>, <em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#Controller.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.Controller.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator that can be used to retrieve an image&#8217;s
data along with the image metadata.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>req</strong> &#8211; The WSGI/Webob Request object</li>
<li><strong>id</strong> &#8211; The opaque image identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">HTTPNotFound if image is not available to user</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.Controller.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>req</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#Controller.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.Controller.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing image with the registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> &#8211; The WSGI/Webob Request object</li>
<li><strong>id</strong> &#8211; The opaque image identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Returns the updated image information as a mapping</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.api.v1.images.ImageDeserializer">
<em class="property">class </em><code class="descclassname">glance.api.v1.images.</code><code class="descname">ImageDeserializer</code><a class="reference internal" href="../_modules/glance/api/v1/images.html#ImageDeserializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.ImageDeserializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="glance.common.html#glance.common.wsgi.JSONRequestDeserializer" title="glance.common.wsgi.JSONRequestDeserializer"><code class="xref py py-class docutils literal"><span class="pre">glance.common.wsgi.JSONRequestDeserializer</span></code></a></p>
<p>Handles deserialization of specific controller method requests.</p>
<dl class="method">
<dt id="glance.api.v1.images.ImageDeserializer.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#ImageDeserializer.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.ImageDeserializer.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.ImageDeserializer.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#ImageDeserializer.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.ImageDeserializer.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.api.v1.images.ImageSerializer">
<em class="property">class </em><code class="descclassname">glance.api.v1.images.</code><code class="descname">ImageSerializer</code><a class="reference internal" href="../_modules/glance/api/v1/images.html#ImageSerializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.ImageSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="glance.common.html#glance.common.wsgi.JSONResponseSerializer" title="glance.common.wsgi.JSONResponseSerializer"><code class="xref py py-class docutils literal"><span class="pre">glance.common.wsgi.JSONResponseSerializer</span></code></a></p>
<p>Handles serialization of specific controller method responses.</p>
<dl class="method">
<dt id="glance.api.v1.images.ImageSerializer.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>response</em>, <em>result</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#ImageSerializer.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.ImageSerializer.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.ImageSerializer.meta">
<code class="descname">meta</code><span class="sig-paren">(</span><em>response</em>, <em>result</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#ImageSerializer.meta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.ImageSerializer.meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.ImageSerializer.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>response</em>, <em>result</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#ImageSerializer.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.ImageSerializer.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.api.v1.images.ImageSerializer.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>response</em>, <em>result</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#ImageSerializer.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.ImageSerializer.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="glance.api.v1.images.create_resource">
<code class="descclassname">glance.api.v1.images.</code><code class="descname">create_resource</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#create_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.create_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Images resource factory method</p>
</dd></dl>

<dl class="function">
<dt id="glance.api.v1.images.redact_loc">
<code class="descclassname">glance.api.v1.images.</code><code class="descname">redact_loc</code><span class="sig-paren">(</span><em>image_meta</em>, <em>copy_dict=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#redact_loc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.redact_loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a shallow copy of image meta with &#8216;location&#8217; removed
for security (as it can contain credentials).</p>
</dd></dl>

<dl class="function">
<dt id="glance.api.v1.images.validate_image_meta">
<code class="descclassname">glance.api.v1.images.</code><code class="descname">validate_image_meta</code><span class="sig-paren">(</span><em>req</em>, <em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/images.html#validate_image_meta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.images.validate_image_meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-glance.api.v1.members">
<span id="glance-api-v1-members-module"></span><h2>glance.api.v1.members module<a class="headerlink" href="#module-glance.api.v1.members" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="glance.api.v1.members.Controller">
<em class="property">class </em><code class="descclassname">glance.api.v1.members.</code><code class="descname">Controller</code><a class="reference internal" href="../_modules/glance/api/v1/members.html#Controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.members.Controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.api.v1.controller.BaseController" title="glance.api.v1.controller.BaseController"><code class="xref py py-class docutils literal"><span class="pre">glance.api.v1.controller.BaseController</span></code></a></p>
<dl class="method">
<dt id="glance.api.v1.members.Controller.default">
<code class="descname">default</code><span class="sig-paren">(</span><em>req</em>, <em>image_id</em>, <em>id</em>, <em>body=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/members.html#Controller.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.members.Controller.default" title="Permalink to this definition">¶</a></dt>
<dd><p>This will cover the missing &#8216;show&#8217; and &#8216;create&#8217; actions</p>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.members.Controller.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>req</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/members.html#Controller.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.members.Controller.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a membership from the image.</p>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.members.Controller.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>req</em>, <em>image_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/members.html#Controller.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.members.Controller.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of dictionaries indicating the members of the
image, i.e., those tenants the image is shared with.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>req</strong> &#8211; the Request object coming from the wsgi layer</li>
<li><strong>image_id</strong> &#8211; The opaque image identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The response body is a mapping of the following form</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{&#39;members&#39;: [
    {&#39;member_id&#39;: &lt;MEMBER&gt;,
     &#39;can_share&#39;: &lt;SHARE_PERMISSION&gt;, ...}, ...
]}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.members.Controller.index_shared_images">
<code class="descname">index_shared_images</code><span class="sig-paren">(</span><em>req</em>, <em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/members.html#Controller.index_shared_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.members.Controller.index_shared_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves list of image memberships for the given member.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>req</strong> &#8211; the Request object coming from the wsgi layer</li>
<li><strong>id</strong> &#8211; the opaque member identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The response body is a mapping of the following form</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{&#39;shared_images&#39;: [
    {&#39;image_id&#39;: &lt;IMAGE&gt;,
     &#39;can_share&#39;: &lt;SHARE_PERMISSION&gt;, ...}, ...
]}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.members.Controller.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>req</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/members.html#Controller.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.members.Controller.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a membership to the image, or updates an existing one.
If a body is present, it is a dict with the following format</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>{&#39;member&#39;: {
    &#39;can_share&#39;: [True|False]
}}
</pre></div>
</div>
<p>If <cite>can_share</cite> is provided, the member&#8217;s ability to share is
set accordingly.  If it is not provided, existing memberships
remain unchanged and new memberships default to False.</p>
</dd></dl>

<dl class="method">
<dt id="glance.api.v1.members.Controller.update_all">
<code class="descname">update_all</code><span class="sig-paren">(</span><em>req</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/members.html#Controller.update_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.members.Controller.update_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces the members of the image with those specified in the
body.  The body is a dict with the following format</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>{&#39;memberships&#39;: [
    {&#39;member_id&#39;: &lt;MEMBER_ID&gt;,
     [&#39;can_share&#39;: [True|False]]}, ...
]}
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="glance.api.v1.members.create_resource">
<code class="descclassname">glance.api.v1.members.</code><code class="descname">create_resource</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/members.html#create_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.members.create_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Image members resource factory method</p>
</dd></dl>

</div>
<div class="section" id="module-glance.api.v1.router">
<span id="glance-api-v1-router-module"></span><h2>glance.api.v1.router module<a class="headerlink" href="#module-glance.api.v1.router" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="glance.api.v1.router.API">
<em class="property">class </em><code class="descclassname">glance.api.v1.router.</code><code class="descname">API</code><span class="sig-paren">(</span><em>mapper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/router.html#API"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.router.API" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="glance.common.html#glance.common.wsgi.Router" title="glance.common.wsgi.Router"><code class="xref py py-class docutils literal"><span class="pre">glance.common.wsgi.Router</span></code></a></p>
<p>WSGI router for Glance v1 API requests.</p>
</dd></dl>

</div>
<div class="section" id="module-glance.api.v1.upload_utils">
<span id="glance-api-v1-upload-utils-module"></span><h2>glance.api.v1.upload_utils module<a class="headerlink" href="#module-glance.api.v1.upload_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="glance.api.v1.upload_utils.initiate_deletion">
<code class="descclassname">glance.api.v1.upload_utils.</code><code class="descname">initiate_deletion</code><span class="sig-paren">(</span><em>req</em>, <em>location_data</em>, <em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/upload_utils.html#initiate_deletion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.upload_utils.initiate_deletion" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes image data from the location of backend store.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>req</strong> &#8211; The WSGI/Webob Request object</li>
<li><strong>location_data</strong> &#8211; Location to the image data in a data store</li>
<li><strong>id</strong> &#8211; Opaque image identifier</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="glance.api.v1.upload_utils.safe_kill">
<code class="descclassname">glance.api.v1.upload_utils.</code><code class="descname">safe_kill</code><span class="sig-paren">(</span><em>req</em>, <em>image_id</em>, <em>from_state</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/upload_utils.html#safe_kill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.upload_utils.safe_kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark image killed without raising exceptions if it fails.</p>
<p>Since _kill is meant to be called from exceptions handlers, it should
not raise itself, rather it should just log its error.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>req</strong> &#8211; The WSGI/Webob Request object</li>
<li><strong>image_id</strong> &#8211; Opaque image identifier</li>
<li><strong>from_state</strong> &#8211; Permitted current status for transition to &#8216;killed&#8217;</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="glance.api.v1.upload_utils.upload_data_to_store">
<code class="descclassname">glance.api.v1.upload_utils.</code><code class="descname">upload_data_to_store</code><span class="sig-paren">(</span><em>req</em>, <em>image_meta</em>, <em>image_data</em>, <em>store</em>, <em>notifier</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/api/v1/upload_utils.html#upload_data_to_store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.api.v1.upload_utils.upload_data_to_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload image data to specified store.</p>
<p>Upload image data to the store and cleans up on error.</p>
</dd></dl>

</div>
<div class="section" id="module-glance.api.v1">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-glance.api.v1" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">glance.api.v1 package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-glance.api.v1.controller">glance.api.v1.controller module</a></li>
<li><a class="reference internal" href="#module-glance.api.v1.filters">glance.api.v1.filters module</a></li>
<li><a class="reference internal" href="#module-glance.api.v1.images">glance.api.v1.images module</a></li>
<li><a class="reference internal" href="#module-glance.api.v1.members">glance.api.v1.members module</a></li>
<li><a class="reference internal" href="#module-glance.api.v1.router">glance.api.v1.router module</a></li>
<li><a class="reference internal" href="#module-glance.api.v1.upload_utils">glance.api.v1.upload_utils module</a></li>
<li><a class="reference internal" href="#module-glance.api.v1">Module contents</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="glance.api.middleware.html"
                                  title="previous chapter">glance.api.middleware package</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="glance.api.v2.html"
                                  title="next chapter">glance.api.v2 package</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/glance
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/glance.api.v1.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="glance.api.v2.html" title="glance.api.v2 package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="glance.api.middleware.html" title="glance.api.middleware package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">glance 14.0.0.0rc2.dev4 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Modules</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="glance.html" >glance package</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="glance.api.html" accesskey="U">glance.api package</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2010-present, OpenStack Foundation..
      Last updated on &#39;Fri Feb 10 09:39:49 2017, commit 65dd7ae&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/glance");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>