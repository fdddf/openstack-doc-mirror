<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>glance.tests.functional package &mdash; glance 14.0.0.0rc2.dev4 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '14.0.0.0rc2.dev4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="glance 14.0.0.0rc2.dev4 documentation" href="../index.html" />
    <link rel="up" title="glance.tests package" href="glance.tests.html" />
    <link rel="next" title="glance.tests.functional.db package" href="glance.tests.functional.db.html" />
    <link rel="prev" title="glance.tests package" href="glance.tests.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="glance-tests-functional-package">
<h1>glance.tests.functional package<a class="headerlink" href="#glance-tests-functional-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="glance.tests.functional.db.html">glance.tests.functional.db package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="glance.tests.functional.db.migrations.html">glance.tests.functional.db.migrations package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="glance.tests.functional.db.migrations.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="glance.tests.functional.db.migrations.html#module-glance.tests.functional.db.migrations.test_mitaka01">glance.tests.functional.db.migrations.test_mitaka01 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="glance.tests.functional.db.migrations.html#module-glance.tests.functional.db.migrations.test_mitaka02">glance.tests.functional.db.migrations.test_mitaka02 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="glance.tests.functional.db.migrations.html#module-glance.tests.functional.db.migrations.test_ocata01">glance.tests.functional.db.migrations.test_ocata01 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="glance.tests.functional.db.migrations.html#module-glance.tests.functional.db.migrations.test_ocata_contract01">glance.tests.functional.db.migrations.test_ocata_contract01 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="glance.tests.functional.db.migrations.html#module-glance.tests.functional.db.migrations.test_ocata_expand01">glance.tests.functional.db.migrations.test_ocata_expand01 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="glance.tests.functional.db.migrations.html#module-glance.tests.functional.db.migrations.test_ocata_migrate01">glance.tests.functional.db.migrations.test_ocata_migrate01 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="glance.tests.functional.db.migrations.html#module-glance.tests.functional.db.migrations">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#module-glance.tests.functional.db.base">glance.tests.functional.db.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#module-glance.tests.functional.db.base_glare">glance.tests.functional.db.base_glare module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#module-glance.tests.functional.db.base_metadef">glance.tests.functional.db.base_metadef module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#module-glance.tests.functional.db.test_migrations">glance.tests.functional.db.test_migrations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#module-glance.tests.functional.db.test_registry">glance.tests.functional.db.test_registry module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#module-glance.tests.functional.db.test_rpc_endpoint">glance.tests.functional.db.test_rpc_endpoint module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#module-glance.tests.functional.db.test_simple">glance.tests.functional.db.test_simple module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#module-glance.tests.functional.db.test_sqlalchemy">glance.tests.functional.db.test_sqlalchemy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.db.html#module-glance.tests.functional.db">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glance.tests.functional.glare.html">glance.tests.functional.glare package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.glare.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.glare.html#module-glance.tests.functional.glare.test_glare">glance.tests.functional.glare.test_glare module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.glare.html#module-glance.tests.functional.glare">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glance.tests.functional.v1.html">glance.tests.functional.v1 package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v1.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v1.html#module-glance.tests.functional.v1.test_api">glance.tests.functional.v1.test_api module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v1.html#module-glance.tests.functional.v1.test_copy_to_file">glance.tests.functional.v1.test_copy_to_file module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v1.html#module-glance.tests.functional.v1.test_misc">glance.tests.functional.v1.test_misc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v1.html#module-glance.tests.functional.v1.test_multiprocessing">glance.tests.functional.v1.test_multiprocessing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v1.html#module-glance.tests.functional.v1">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glance.tests.functional.v2.html">glance.tests.functional.v2 package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2.registry_data_api">glance.tests.functional.v2.registry_data_api module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2.test_images">glance.tests.functional.v2.test_images module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2.test_metadef_namespaces">glance.tests.functional.v2.test_metadef_namespaces module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2.test_metadef_objects">glance.tests.functional.v2.test_metadef_objects module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2.test_metadef_properties">glance.tests.functional.v2.test_metadef_properties module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2.test_metadef_resourcetypes">glance.tests.functional.v2.test_metadef_resourcetypes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2.test_metadef_tags">glance.tests.functional.v2.test_metadef_tags module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2.test_schemas">glance.tests.functional.v2.test_schemas module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2.test_tasks">glance.tests.functional.v2.test_tasks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="glance.tests.functional.v2.html#module-glance.tests.functional.v2">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-glance.tests.functional.store_utils">
<span id="glance-tests-functional-store-utils-module"></span><h2>glance.tests.functional.store_utils module<a class="headerlink" href="#module-glance.tests.functional.store_utils" title="Permalink to this headline">¶</a></h2>
<p>Utility methods to set testcases up for Swift tests.</p>
<dl class="class">
<dt id="glance.tests.functional.store_utils.RemoteImageHandler">
<em class="property">class </em><code class="descclassname">glance.tests.functional.store_utils.</code><code class="descname">RemoteImageHandler</code><span class="sig-paren">(</span><em>request</em>, <em>client_address</em>, <em>server</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/store_utils.html#RemoteImageHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.store_utils.RemoteImageHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">BaseHTTPServer.BaseHTTPRequestHandler</span></code></p>
<dl class="method">
<dt id="glance.tests.functional.store_utils.RemoteImageHandler.do_GET">
<code class="descname">do_GET</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/store_utils.html#RemoteImageHandler.do_GET"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.store_utils.RemoteImageHandler.do_GET" title="Permalink to this definition">¶</a></dt>
<dd><p>Respond to an image GET request with fake image content.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.store_utils.RemoteImageHandler.do_HEAD">
<code class="descname">do_HEAD</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/store_utils.html#RemoteImageHandler.do_HEAD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.store_utils.RemoteImageHandler.do_HEAD" title="Permalink to this definition">¶</a></dt>
<dd><p>Respond to an image HEAD request fake metadata</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.store_utils.RemoteImageHandler.log_message">
<code class="descname">log_message</code><span class="sig-paren">(</span><em>format</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/store_utils.html#RemoteImageHandler.log_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.store_utils.RemoteImageHandler.log_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple override to prevent writing crap to stderr...</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="glance.tests.functional.store_utils.get_http_uri">
<code class="descclassname">glance.tests.functional.store_utils.</code><code class="descname">get_http_uri</code><span class="sig-paren">(</span><em>test</em>, <em>image_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/store_utils.html#get_http_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.store_utils.get_http_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="glance.tests.functional.store_utils.setup_http">
<code class="descclassname">glance.tests.functional.store_utils.</code><code class="descname">setup_http</code><span class="sig-paren">(</span><em>test</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/store_utils.html#setup_http"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.store_utils.setup_http" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_api">
<span id="glance-tests-functional-test-api-module"></span><h2>glance.tests.functional.test_api module<a class="headerlink" href="#module-glance.tests.functional.test_api" title="Permalink to this headline">¶</a></h2>
<p>Version-independent api tests</p>
<dl class="class">
<dt id="glance.tests.functional.test_api.TestApiPaths">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_api.</code><code class="descname">TestApiPaths</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_images_path">
<code class="descname">test_get_images_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_images_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_images_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /images with <cite>no Accept:</cite> header.
Verify version choices returned.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_images_path_with_openstack_header">
<code class="descname">test_get_images_path_with_openstack_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_images_path_with_openstack_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_images_path_with_openstack_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /images with a
<cite>Accept: application/vnd.openstack.compute-v1</cite> header.
Verify version choices returned. Verify message in API log
about unknown accept header.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_images_path_with_openstack_v2_header">
<code class="descname">test_get_images_path_with_openstack_v2_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_images_path_with_openstack_v2_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_images_path_with_openstack_v2_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /images with a
<cite>Accept: application/vnd.openstack.compute-v2</cite> header.
Verify version choices returned. Verify message in API log
about unknown version in accept header.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_root_path">
<code class="descname">test_get_root_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_root_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_root_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET / with <cite>no Accept:</cite> header.
Verify version choices returned.
Bug lp:803260  no Accept header causes a 500 in glance-api</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_root_path_with_openstack_header">
<code class="descname">test_get_root_path_with_openstack_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_root_path_with_openstack_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_root_path_with_openstack_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET / with an Accept: application/vnd.openstack.images-v1
Verify empty image list returned</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_root_path_with_unknown_header">
<code class="descname">test_get_root_path_with_unknown_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_root_path_with_unknown_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_root_path_with_unknown_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET / with Accept: unknown header
Verify version choices returned. Verify message in API log about
unknown accept header.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_v10_images_path">
<code class="descname">test_get_v10_images_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_v10_images_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_v10_images_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /v1.0/images with no Accept: header
Verify version choices returned</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_v12_images_path">
<code class="descname">test_get_v12_images_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_v12_images_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_v12_images_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /v1.2/images with <cite>no Accept:</cite> header
Verify version choices returned</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_v1_images_path">
<code class="descname">test_get_v1_images_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_v1_images_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_v1_images_path" title="Permalink to this definition">¶</a></dt>
<dd><p>GET /v1/images with <cite>no Accept:</cite> header.
Verify empty images list returned.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_v1_versions_path">
<code class="descname">test_get_v1_versions_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_v1_versions_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_v1_versions_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /v1/versions with <cite>no Accept:</cite> header
Verify 404 returned</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_v1a_images_path">
<code class="descname">test_get_v1a_images_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_v1a_images_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_v1a_images_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /v1.a/images with no Accept: header
Verify version choices returned</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_va1_images_path">
<code class="descname">test_get_va1_images_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_va1_images_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_va1_images_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /va.1/images with no Accept: header
Verify version choices returned</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_versions_choices">
<code class="descname">test_get_versions_choices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_versions_choices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_versions_choices" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify version choices returned</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_versions_path">
<code class="descname">test_get_versions_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_versions_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_versions_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /versions with no Accept: header
Verify version choices returned</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiPaths.test_get_versions_path_with_openstack_header">
<code class="descname">test_get_versions_path_with_openstack_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiPaths.test_get_versions_path_with_openstack_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiPaths.test_get_versions_path_with_openstack_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert GET /versions with the
<cite>Accept: application/vnd.openstack.images-v1</cite> header.
Verify version choices returned.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.test_api.TestApiVersions">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_api.</code><code class="descname">TestApiVersions</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiVersions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiVersions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiVersions.test_v1_api_configuration">
<code class="descname">test_v1_api_configuration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiVersions.test_v1_api_configuration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiVersions.test_v1_api_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiVersions.test_v2_api_configuration">
<code class="descname">test_v2_api_configuration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiVersions.test_v2_api_configuration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiVersions.test_v2_api_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_api.TestApiVersions.test_version_configurations">
<code class="descname">test_version_configurations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_api.html#TestApiVersions.test_version_configurations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_api.TestApiVersions.test_version_configurations" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that versioning is handled properly through all channels</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_bin_glance_cache_manage">
<span id="glance-tests-functional-test-bin-glance-cache-manage-module"></span><h2>glance.tests.functional.test_bin_glance_cache_manage module<a class="headerlink" href="#module-glance.tests.functional.test_bin_glance_cache_manage" title="Permalink to this headline">¶</a></h2>
<p>Functional test case that utilizes the bin/glance-cache-manage CLI tool</p>
<dl class="class">
<dt id="glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_bin_glance_cache_manage.</code><code class="descname">TestBinGlanceCacheManage</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_bin_glance_cache_manage.html#TestBinGlanceCacheManage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<p>Functional tests for the bin/glance CLI tool</p>
<dl class="method">
<dt id="glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.add_image">
<code class="descname">add_image</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_bin_glance_cache_manage.html#TestBinGlanceCacheManage.add_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.add_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an image with supplied name and returns the newly-created
image identifier.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.is_image_cached">
<code class="descname">is_image_cached</code><span class="sig-paren">(</span><em>image_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_bin_glance_cache_manage.html#TestBinGlanceCacheManage.is_image_cached"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.is_image_cached" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if supplied image ID is cached, False otherwise</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.iso_date">
<code class="descname">iso_date</code><span class="sig-paren">(</span><em>image_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_bin_glance_cache_manage.html#TestBinGlanceCacheManage.iso_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.iso_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if supplied image ID is cached, False otherwise</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_bin_glance_cache_manage.html#TestBinGlanceCacheManage.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.test_cache_index">
<code class="descname">test_cache_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_bin_glance_cache_manage.html#TestBinGlanceCacheManage.test_cache_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.test_cache_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that cache index command works</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.test_no_cache_enabled">
<code class="descname">test_no_cache_enabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_bin_glance_cache_manage.html#TestBinGlanceCacheManage.test_no_cache_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.test_no_cache_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that cache index command works</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.test_queue">
<code class="descname">test_queue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_bin_glance_cache_manage.html#TestBinGlanceCacheManage.test_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_bin_glance_cache_manage.TestBinGlanceCacheManage.test_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that we can queue and fetch images using the
CLI utility</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_cache_middleware">
<span id="glance-tests-functional-test-cache-middleware-module"></span><h2>glance.tests.functional.test_cache_middleware module<a class="headerlink" href="#module-glance.tests.functional.test_cache_middleware" title="Permalink to this headline">¶</a></h2>
<p>Tests a Glance API server which uses the caching middleware that
uses the default SQLite cache driver. We use the filesystem store,
but that is really not relevant, as the image cache is transparent
to the backend store.</p>
<dl class="class">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_cache_middleware.</code><code class="descname">BaseCacheManageMiddlewareTest</code><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheManageMiddlewareTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base test class for testing cache management middleware</p>
<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.add_image">
<code class="descname">add_image</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheManageMiddlewareTest.add_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.add_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an image and returns the newly-added image
identifier</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_cache_manage_delete_cached_images">
<code class="descname">test_cache_manage_delete_cached_images</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheManageMiddlewareTest.test_cache_manage_delete_cached_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_cache_manage_delete_cached_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests that cached images may be deleted</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_cache_manage_delete_queued_images">
<code class="descname">test_cache_manage_delete_queued_images</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheManageMiddlewareTest.test_cache_manage_delete_queued_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_cache_manage_delete_queued_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests that all queued images may be deleted at once</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_cache_manage_get_cached_images">
<code class="descname">test_cache_manage_get_cached_images</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheManageMiddlewareTest.test_cache_manage_get_cached_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_cache_manage_get_cached_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests that cached images are queryable</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_queue_and_prefetch">
<code class="descname">test_queue_and_prefetch</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheManageMiddlewareTest.test_queue_and_prefetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_queue_and_prefetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests that images may be queued and prefetched</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_user_not_authorized">
<code class="descname">test_user_not_authorized</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheManageMiddlewareTest.test_user_not_authorized"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.test_user_not_authorized" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.verify_no_cached_images">
<code class="descname">verify_no_cached_images</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheManageMiddlewareTest.verify_no_cached_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.verify_no_cached_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify no images in the image cache</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.verify_no_images">
<code class="descname">verify_no_images</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheManageMiddlewareTest.verify_no_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest.verify_no_images" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_cache_middleware.</code><code class="descname">BaseCacheMiddlewareTest</code><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheMiddlewareTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_trans_v1_without_download_image_policy">
<code class="descname">test_cache_middleware_trans_v1_without_download_image_policy</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheMiddlewareTest.test_cache_middleware_trans_v1_without_download_image_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_trans_v1_without_download_image_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the image v1 API image transfer applied &#8216;download_image&#8217;
policy enforcement.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_trans_v2_without_download_image_policy">
<code class="descname">test_cache_middleware_trans_v2_without_download_image_policy</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheMiddlewareTest.test_cache_middleware_trans_v2_without_download_image_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_trans_v2_without_download_image_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the image v2 API image transfer applied &#8216;download_image&#8217;
policy enforcement.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_trans_with_deactivated_image">
<code class="descname">test_cache_middleware_trans_with_deactivated_image</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheMiddlewareTest.test_cache_middleware_trans_with_deactivated_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_trans_with_deactivated_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the image v1/v2 API image transfer forbids downloading
deactivated images.
Image deactivation is not available in v1. So, we&#8217;ll deactivate the
image using v2 but test image transfer with both v1 and v2.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_transparent_v1">
<code class="descname">test_cache_middleware_transparent_v1</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheMiddlewareTest.test_cache_middleware_transparent_v1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_transparent_v1" title="Permalink to this definition">¶</a></dt>
<dd><p>We test that putting the cache middleware into the
application pipeline gives us transparent image caching</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_transparent_v2">
<code class="descname">test_cache_middleware_transparent_v2</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheMiddlewareTest.test_cache_middleware_transparent_v2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_middleware_transparent_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the v2 API image transfer calls trigger caching</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_remote_image">
<code class="descname">test_cache_remote_image</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#BaseCacheMiddlewareTest.test_cache_remote_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest.test_cache_remote_image" title="Permalink to this definition">¶</a></dt>
<dd><p>We test that caching is no longer broken for remote images</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheManageSqlite">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_cache_middleware.</code><code class="descname">TestImageCacheManageSqlite</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheManageSqlite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheManageSqlite" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a>, <a class="reference internal" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest" title="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest</span></code></a></p>
<p>Functional tests that exercise the image cache management using the
SQLite driver</p>
<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheManageSqlite.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheManageSqlite.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheManageSqlite.setUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to see if the pre-requisites for the image cache
are working (python-xattr installed and xattr support on the
filesystem)</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheManageSqlite.tearDown">
<code class="descname">tearDown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheManageSqlite.tearDown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheManageSqlite.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheManageXattr">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_cache_middleware.</code><code class="descname">TestImageCacheManageXattr</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheManageXattr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheManageXattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a>, <a class="reference internal" href="#glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest" title="glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.test_cache_middleware.BaseCacheManageMiddlewareTest</span></code></a></p>
<p>Functional tests that exercise the image cache management
with the Xattr cache driver</p>
<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheManageXattr.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheManageXattr.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheManageXattr.setUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to see if the pre-requisites for the image cache
are working (python-xattr installed and xattr support on the
filesystem)</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheManageXattr.tearDown">
<code class="descname">tearDown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheManageXattr.tearDown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheManageXattr.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheSqlite">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_cache_middleware.</code><code class="descname">TestImageCacheSqlite</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheSqlite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheSqlite" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a>, <a class="reference internal" href="#glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest" title="glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest</span></code></a></p>
<p>Functional tests that exercise the image cache using the
SQLite driver</p>
<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheSqlite.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheSqlite.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheSqlite.setUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to see if the pre-requisites for the image cache
are working (python-xattr installed and xattr support on the
filesystem)</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheSqlite.tearDown">
<code class="descname">tearDown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheSqlite.tearDown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheSqlite.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheXattr">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_cache_middleware.</code><code class="descname">TestImageCacheXattr</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheXattr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheXattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a>, <a class="reference internal" href="#glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest" title="glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.test_cache_middleware.BaseCacheMiddlewareTest</span></code></a></p>
<p>Functional tests that exercise the image cache using the xattr driver</p>
<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheXattr.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheXattr.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheXattr.setUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to see if the pre-requisites for the image cache
are working (python-xattr installed and xattr support on the
filesystem)</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cache_middleware.TestImageCacheXattr.tearDown">
<code class="descname">tearDown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cache_middleware.html#TestImageCacheXattr.tearDown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cache_middleware.TestImageCacheXattr.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_client_exceptions">
<span id="glance-tests-functional-test-client-exceptions-module"></span><h2>glance.tests.functional.test_client_exceptions module<a class="headerlink" href="#module-glance.tests.functional.test_client_exceptions" title="Permalink to this headline">¶</a></h2>
<p>Functional test asserting strongly typed exceptions from glance client</p>
<dl class="class">
<dt id="glance.tests.functional.test_client_exceptions.ExceptionTestApp">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_client_exceptions.</code><code class="descname">ExceptionTestApp</code><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#ExceptionTestApp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.ExceptionTestApp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Test WSGI application which can respond with multiple kinds of HTTP
status codes</p>
</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.test_client_exceptions.TestClientExceptions">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_client_exceptions.</code><code class="descname">TestClientExceptions</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#TestClientExceptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.TestClientExceptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<dl class="method">
<dt id="glance.tests.functional.test_client_exceptions.TestClientExceptions.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#TestClientExceptions.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.TestClientExceptions.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_exceptions.TestClientExceptions.test_expectation_failed">
<code class="descname">test_expectation_failed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#TestClientExceptions.test_expectation_failed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.TestClientExceptions.test_expectation_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Test expectation failed response</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_exceptions.TestClientExceptions.test_rate_limited">
<code class="descname">test_rate_limited</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#TestClientExceptions.test_rate_limited"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.TestClientExceptions.test_rate_limited" title="Permalink to this definition">¶</a></dt>
<dd><p>Test rate limited response</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_exceptions.TestClientExceptions.test_rate_limited_retry">
<code class="descname">test_rate_limited_retry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#TestClientExceptions.test_rate_limited_retry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.TestClientExceptions.test_rate_limited_retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Test rate limited response with retry</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_exceptions.TestClientExceptions.test_server_error">
<code class="descname">test_server_error</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#TestClientExceptions.test_server_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.TestClientExceptions.test_server_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Test server error response</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_exceptions.TestClientExceptions.test_server_traceback">
<code class="descname">test_server_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#TestClientExceptions.test_server_traceback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.TestClientExceptions.test_server_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that the wsgi server does not return tracebacks to the client on
500 errors (bug 1192132)</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_exceptions.TestClientExceptions.test_service_unavailable">
<code class="descname">test_service_unavailable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#TestClientExceptions.test_service_unavailable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.TestClientExceptions.test_service_unavailable" title="Permalink to this definition">¶</a></dt>
<dd><p>Test service unavailable response</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_exceptions.TestClientExceptions.test_service_unavailable_retry">
<code class="descname">test_service_unavailable_retry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_exceptions.html#TestClientExceptions.test_service_unavailable_retry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_exceptions.TestClientExceptions.test_service_unavailable_retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Test service unavailable response with retry</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_client_redirects">
<span id="glance-tests-functional-test-client-redirects-module"></span><h2>glance.tests.functional.test_client_redirects module<a class="headerlink" href="#module-glance.tests.functional.test_client_redirects" title="Permalink to this headline">¶</a></h2>
<p>Functional test cases testing glance client redirect-following.</p>
<dl class="function">
<dt id="glance.tests.functional.test_client_redirects.RedirectTestApp">
<code class="descclassname">glance.tests.functional.test_client_redirects.</code><code class="descname">RedirectTestApp</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_redirects.html#RedirectTestApp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_redirects.RedirectTestApp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="glance.tests.functional.test_client_redirects.TestClientRedirects">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_client_redirects.</code><code class="descname">TestClientRedirects</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_redirects.html#TestClientRedirects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_redirects.TestClientRedirects" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<dl class="method">
<dt id="glance.tests.functional.test_client_redirects.TestClientRedirects.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_redirects.html#TestClientRedirects.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_redirects.TestClientRedirects.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_redirects.TestClientRedirects.test_get_with_max_redirects">
<code class="descname">test_get_with_max_redirects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_redirects.html#TestClientRedirects.test_get_with_max_redirects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_redirects.TestClientRedirects.test_get_with_max_redirects" title="Permalink to this definition">¶</a></dt>
<dd><p>Test we don&#8217;t redirect forever.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_redirects.TestClientRedirects.test_get_with_one_redirect">
<code class="descname">test_get_with_one_redirect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_redirects.html#TestClientRedirects.test_get_with_one_redirect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_redirects.TestClientRedirects.test_get_with_one_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Test GET with one 302 FOUND redirect</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_redirects.TestClientRedirects.test_get_with_one_redirect_query_string">
<code class="descname">test_get_with_one_redirect_query_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_redirects.html#TestClientRedirects.test_get_with_one_redirect_query_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_redirects.TestClientRedirects.test_get_with_one_redirect_query_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Test GET with one 302 FOUND redirect w/ a query string</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_redirects.TestClientRedirects.test_get_without_redirect">
<code class="descname">test_get_without_redirect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_redirects.html#TestClientRedirects.test_get_without_redirect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_redirects.TestClientRedirects.test_get_without_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Test GET with no redirect</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_redirects.TestClientRedirects.test_post_redirect">
<code class="descname">test_post_redirect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_redirects.html#TestClientRedirects.test_post_redirect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_redirects.TestClientRedirects.test_post_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Test POST with 302 redirect</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_client_redirects.TestClientRedirects.test_redirect_to_new_host">
<code class="descname">test_redirect_to_new_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_client_redirects.html#TestClientRedirects.test_redirect_to_new_host"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_client_redirects.TestClientRedirects.test_redirect_to_new_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Test redirect to one host and then another.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_cors_middleware">
<span id="glance-tests-functional-test-cors-middleware-module"></span><h2>glance.tests.functional.test_cors_middleware module<a class="headerlink" href="#module-glance.tests.functional.test_cors_middleware" title="Permalink to this headline">¶</a></h2>
<p>Tests cors middleware.</p>
<dl class="class">
<dt id="glance.tests.functional.test_cors_middleware.TestCORSMiddleware">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_cors_middleware.</code><code class="descname">TestCORSMiddleware</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cors_middleware.html#TestCORSMiddleware"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cors_middleware.TestCORSMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<p>Provide a basic smoke test to ensure CORS middleware is active.</p>
<p>The tests below provide minimal confirmation that the CORS middleware
is active, and may be configured. For comprehensive tests, please consult
the test suite in oslo_middleware.</p>
<dl class="method">
<dt id="glance.tests.functional.test_cors_middleware.TestCORSMiddleware.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cors_middleware.html#TestCORSMiddleware.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cors_middleware.TestCORSMiddleware.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cors_middleware.TestCORSMiddleware.test_invalid_cors_get_request">
<code class="descname">test_invalid_cors_get_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cors_middleware.html#TestCORSMiddleware.test_invalid_cors_get_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cors_middleware.TestCORSMiddleware.test_invalid_cors_get_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cors_middleware.TestCORSMiddleware.test_invalid_cors_options_request">
<code class="descname">test_invalid_cors_options_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cors_middleware.html#TestCORSMiddleware.test_invalid_cors_options_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cors_middleware.TestCORSMiddleware.test_invalid_cors_options_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cors_middleware.TestCORSMiddleware.test_valid_cors_get_request">
<code class="descname">test_valid_cors_get_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cors_middleware.html#TestCORSMiddleware.test_valid_cors_get_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cors_middleware.TestCORSMiddleware.test_valid_cors_get_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_cors_middleware.TestCORSMiddleware.test_valid_cors_options_request">
<code class="descname">test_valid_cors_options_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_cors_middleware.html#TestCORSMiddleware.test_valid_cors_options_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_cors_middleware.TestCORSMiddleware.test_valid_cors_options_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_glance_manage">
<span id="glance-tests-functional-test-glance-manage-module"></span><h2>glance.tests.functional.test_glance_manage module<a class="headerlink" href="#module-glance.tests.functional.test_glance_manage" title="Permalink to this headline">¶</a></h2>
<p>Functional test cases for glance-manage</p>
<dl class="class">
<dt id="glance.tests.functional.test_glance_manage.TestGlanceManage">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_glance_manage.</code><code class="descname">TestGlanceManage</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_glance_manage.html#TestGlanceManage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_glance_manage.TestGlanceManage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<p>Functional tests for glance-manage</p>
<dl class="method">
<dt id="glance.tests.functional.test_glance_manage.TestGlanceManage.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_glance_manage.html#TestGlanceManage.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_glance_manage.TestGlanceManage.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_glance_manage.TestGlanceManage.test_db_creation">
<code class="descname">test_db_creation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#glance.tests.functional.test_glance_manage.TestGlanceManage.test_db_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Test schema creation by db_sync on a fresh DB</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_glance_replicator">
<span id="glance-tests-functional-test-glance-replicator-module"></span><h2>glance.tests.functional.test_glance_replicator module<a class="headerlink" href="#module-glance.tests.functional.test_glance_replicator" title="Permalink to this headline">¶</a></h2>
<p>Functional test cases for glance-replicator</p>
<dl class="class">
<dt id="glance.tests.functional.test_glance_replicator.TestGlanceReplicator">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_glance_replicator.</code><code class="descname">TestGlanceReplicator</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_glance_replicator.html#TestGlanceReplicator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_glance_replicator.TestGlanceReplicator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<p>Functional tests for glance-replicator</p>
<dl class="method">
<dt id="glance.tests.functional.test_glance_replicator.TestGlanceReplicator.test_compare">
<code class="descname">test_compare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_glance_replicator.html#TestGlanceReplicator.test_compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_glance_replicator.TestGlanceReplicator.test_compare" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_gzip_middleware">
<span id="glance-tests-functional-test-gzip-middleware-module"></span><h2>glance.tests.functional.test_gzip_middleware module<a class="headerlink" href="#module-glance.tests.functional.test_gzip_middleware" title="Permalink to this headline">¶</a></h2>
<p>Tests gzip middleware.</p>
<dl class="class">
<dt id="glance.tests.functional.test_gzip_middleware.GzipMiddlewareTest">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_gzip_middleware.</code><code class="descname">GzipMiddlewareTest</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_gzip_middleware.html#GzipMiddlewareTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_gzip_middleware.GzipMiddlewareTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<dl class="method">
<dt id="glance.tests.functional.test_gzip_middleware.GzipMiddlewareTest.test_gzip_requests">
<code class="descname">test_gzip_requests</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_gzip_middleware.html#GzipMiddlewareTest.test_gzip_requests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_gzip_middleware.GzipMiddlewareTest.test_gzip_requests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_healthcheck_middleware">
<span id="glance-tests-functional-test-healthcheck-middleware-module"></span><h2>glance.tests.functional.test_healthcheck_middleware module<a class="headerlink" href="#module-glance.tests.functional.test_healthcheck_middleware" title="Permalink to this headline">¶</a></h2>
<p>Tests healthcheck middleware.</p>
<dl class="class">
<dt id="glance.tests.functional.test_healthcheck_middleware.HealthcheckMiddlewareTest">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_healthcheck_middleware.</code><code class="descname">HealthcheckMiddlewareTest</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_healthcheck_middleware.html#HealthcheckMiddlewareTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_healthcheck_middleware.HealthcheckMiddlewareTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<dl class="method">
<dt id="glance.tests.functional.test_healthcheck_middleware.HealthcheckMiddlewareTest.request">
<code class="descname">request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_healthcheck_middleware.html#HealthcheckMiddlewareTest.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_healthcheck_middleware.HealthcheckMiddlewareTest.request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_healthcheck_middleware.HealthcheckMiddlewareTest.test_healthcheck_disabled">
<code class="descname">test_healthcheck_disabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_healthcheck_middleware.html#HealthcheckMiddlewareTest.test_healthcheck_disabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_healthcheck_middleware.HealthcheckMiddlewareTest.test_healthcheck_disabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_healthcheck_middleware.HealthcheckMiddlewareTest.test_healthcheck_enabled">
<code class="descname">test_healthcheck_enabled</code><span class="sig-paren">(</span><em>*a</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_healthcheck_middleware.html#HealthcheckMiddlewareTest.test_healthcheck_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_healthcheck_middleware.HealthcheckMiddlewareTest.test_healthcheck_enabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_logging">
<span id="glance-tests-functional-test-logging-module"></span><h2>glance.tests.functional.test_logging module<a class="headerlink" href="#module-glance.tests.functional.test_logging" title="Permalink to this headline">¶</a></h2>
<p>Functional test case that tests logging output</p>
<dl class="class">
<dt id="glance.tests.functional.test_logging.TestLogging">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_logging.</code><code class="descname">TestLogging</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_logging.html#TestLogging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_logging.TestLogging" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<p>Functional tests for Glance&#8217;s logging output</p>
<dl class="method">
<dt id="glance.tests.functional.test_logging.TestLogging.assertNotEmptyFile">
<code class="descname">assertNotEmptyFile</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_logging.html#TestLogging.assertNotEmptyFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_logging.TestLogging.assertNotEmptyFile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_logging.TestLogging.test_debug">
<code class="descname">test_debug</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_logging.html#TestLogging.test_debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_logging.TestLogging.test_debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Test logging output proper when debug is on.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_logging.TestLogging.test_logrotate">
<code class="descname">test_logrotate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_logging.html#TestLogging.test_logrotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_logging.TestLogging.test_logrotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that we notice when our log file has been rotated</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_logging.TestLogging.test_no_debug">
<code class="descname">test_no_debug</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_logging.html#TestLogging.test_no_debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_logging.TestLogging.test_no_debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Test logging output proper when debug is off.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_reload">
<span id="glance-tests-functional-test-reload-module"></span><h2>glance.tests.functional.test_reload module<a class="headerlink" href="#module-glance.tests.functional.test_reload" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="glance.tests.functional.test_reload.TestReload">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_reload.</code><code class="descname">TestReload</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_reload.html#TestReload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_reload.TestReload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<p>Test configuration reload</p>
<dl class="method">
<dt id="glance.tests.functional.test_reload.TestReload.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_reload.html#TestReload.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_reload.TestReload.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_reload.TestReload.tearDown">
<code class="descname">tearDown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_reload.html#TestReload.tearDown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_reload.TestReload.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_reload.TestReload.test_reload">
<code class="descname">test_reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_reload.html#TestReload.test_reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_reload.TestReload.test_reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Test SIGHUP picks up new config values</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_reload.TestReload.ticker">
<code class="descname">ticker</code><span class="sig-paren">(</span><em>message</em>, <em>seconds=60</em>, <em>tick=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_reload.html#TestReload.ticker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_reload.TestReload.ticker" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows repeatedly testing for an expected result
for a finite amount of time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>message</strong> &#8211; Message to display on timeout</li>
<li><strong>seconds</strong> &#8211; Time in seconds after which we timeout</li>
<li><strong>tick</strong> &#8211; Time to sleep before rechecking for expected result</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">&#8216;True&#8217; or fails the test with &#8216;message&#8217; on timeout</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="glance.tests.functional.test_reload.set_config_value">
<code class="descclassname">glance.tests.functional.test_reload.</code><code class="descname">set_config_value</code><span class="sig-paren">(</span><em>filepath</em>, <em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_reload.html#set_config_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_reload.set_config_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Set &#8216;key = value&#8217; in config file</p>
</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_scrubber">
<span id="glance-tests-functional-test-scrubber-module"></span><h2>glance.tests.functional.test_scrubber module<a class="headerlink" href="#module-glance.tests.functional.test_scrubber" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="glance.tests.functional.test_scrubber.TestScrubber">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_scrubber.</code><code class="descname">TestScrubber</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_scrubber.html#TestScrubber"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_scrubber.TestScrubber" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<p>Test that delayed_delete works and the scrubber deletes</p>
<dl class="method">
<dt id="glance.tests.functional.test_scrubber.TestScrubber.test_delayed_delete">
<code class="descname">test_delayed_delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_scrubber.html#TestScrubber.test_delayed_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_scrubber.TestScrubber.test_delayed_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>test that images don&#8217;t get deleted immediately and that the scrubber
scrubs them</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_scrubber.TestScrubber.test_delayed_delete_with_trustedauth_registry">
<code class="descname">test_delayed_delete_with_trustedauth_registry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_scrubber.html#TestScrubber.test_delayed_delete_with_trustedauth_registry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_scrubber.TestScrubber.test_delayed_delete_with_trustedauth_registry" title="Permalink to this definition">¶</a></dt>
<dd><p>test that images don&#8217;t get deleted immediately and that the scrubber
scrubs them when registry is operating in trustedauth mode</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_scrubber.TestScrubber.test_scrubber_app">
<code class="descname">test_scrubber_app</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_scrubber.html#TestScrubber.test_scrubber_app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_scrubber.TestScrubber.test_scrubber_app" title="Permalink to this definition">¶</a></dt>
<dd><p>test that the glance-scrubber script runs successfully when not in
daemon mode</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_scrubber.TestScrubber.test_scrubber_app_queue_errors_not_daemon">
<code class="descname">test_scrubber_app_queue_errors_not_daemon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_scrubber.html#TestScrubber.test_scrubber_app_queue_errors_not_daemon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_scrubber.TestScrubber.test_scrubber_app_queue_errors_not_daemon" title="Permalink to this definition">¶</a></dt>
<dd><p>test that the glance-scrubber exits with an exit code &gt; 0 when it
fails to lookup images, indicating a configuration error when not
in daemon mode.</p>
<p>Related-Bug: #1548289</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_scrubber.TestScrubber.test_scrubber_app_with_trustedauth_registry">
<code class="descname">test_scrubber_app_with_trustedauth_registry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_scrubber.html#TestScrubber.test_scrubber_app_with_trustedauth_registry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_scrubber.TestScrubber.test_scrubber_app_with_trustedauth_registry" title="Permalink to this definition">¶</a></dt>
<dd><p>test that the glance-scrubber script runs successfully when not in
daemon mode and with a registry that operates in trustedauth mode</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_scrubber.TestScrubber.test_scrubber_delete_handles_exception">
<code class="descname">test_scrubber_delete_handles_exception</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_scrubber.html#TestScrubber.test_scrubber_delete_handles_exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_scrubber.TestScrubber.test_scrubber_delete_handles_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that the scrubber handles the case where an
exception occurs when _delete() is called. The scrubber
should not write out queue files in this case.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_scrubber.TestScrubber.wait_for_scrub">
<code class="descname">wait_for_scrub</code><span class="sig-paren">(</span><em>path</em>, <em>headers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_scrubber.html#TestScrubber.wait_for_scrub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_scrubber.TestScrubber.wait_for_scrub" title="Permalink to this definition">¶</a></dt>
<dd><p>NOTE(jkoelker) The build servers sometimes take longer than 15 seconds
to scrub. Give it up to 5 min, checking checking every 15 seconds.
When/if it flips to deleted, bail immediately.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_sqlite">
<span id="glance-tests-functional-test-sqlite-module"></span><h2>glance.tests.functional.test_sqlite module<a class="headerlink" href="#module-glance.tests.functional.test_sqlite" title="Permalink to this headline">¶</a></h2>
<p>Functional test cases for sqlite-specific logic</p>
<dl class="class">
<dt id="glance.tests.functional.test_sqlite.TestSqlite">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_sqlite.</code><code class="descname">TestSqlite</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_sqlite.html#TestSqlite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_sqlite.TestSqlite" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<p>Functional tests for sqlite-specific logic</p>
<dl class="method">
<dt id="glance.tests.functional.test_sqlite.TestSqlite.test_big_int_mapping">
<code class="descname">test_big_int_mapping</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#glance.tests.functional.test_sqlite.TestSqlite.test_big_int_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure BigInteger not mapped to BIGINT</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_ssl">
<span id="glance-tests-functional-test-ssl-module"></span><h2>glance.tests.functional.test_ssl module<a class="headerlink" href="#module-glance.tests.functional.test_ssl" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="glance.tests.functional.test_ssl.TestSSL">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_ssl.</code><code class="descname">TestSSL</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_ssl.html#TestSSL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_ssl.TestSSL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.FunctionalTest" title="glance.tests.functional.FunctionalTest"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.FunctionalTest</span></code></a></p>
<p>Functional tests verifying SSL communication</p>
<dl class="method">
<dt id="glance.tests.functional.test_ssl.TestSSL.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_ssl.html#TestSSL.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_ssl.TestSSL.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_ssl.TestSSL.tearDown">
<code class="descname">tearDown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_ssl.html#TestSSL.tearDown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_ssl.TestSSL.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.test_ssl.TestSSL.test_ssl_ok">
<code class="descname">test_ssl_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_ssl.html#TestSSL.test_ssl_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_ssl.TestSSL.test_ssl_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the public API works with HTTPS.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional.test_wsgi">
<span id="glance-tests-functional-test-wsgi-module"></span><h2>glance.tests.functional.test_wsgi module<a class="headerlink" href="#module-glance.tests.functional.test_wsgi" title="Permalink to this headline">¶</a></h2>
<p>Tests for <cite>glance.wsgi</cite>.</p>
<dl class="class">
<dt id="glance.tests.functional.test_wsgi.TestWSGIServer">
<em class="property">class </em><code class="descclassname">glance.tests.functional.test_wsgi.</code><code class="descname">TestWSGIServer</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_wsgi.html#TestWSGIServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_wsgi.TestWSGIServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">testtools.testcase.TestCase</span></code></p>
<p>WSGI server tests.</p>
<dl class="method">
<dt id="glance.tests.functional.test_wsgi.TestWSGIServer.test_client_socket_timeout">
<code class="descname">test_client_socket_timeout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional/test_wsgi.html#TestWSGIServer.test_client_socket_timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.test_wsgi.TestWSGIServer.test_client_socket_timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-glance.tests.functional">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-glance.tests.functional" title="Permalink to this headline">¶</a></h2>
<p>Base test class for running non-stubbed tests (functional tests)</p>
<p>The FunctionalTest class contains helper methods for starting the API
and Registry server, grabbing the logs of each, cleaning up pidfiles,
and spinning down the servers.</p>
<dl class="class">
<dt id="glance.tests.functional.ApiServer">
<em class="property">class </em><code class="descclassname">glance.tests.functional.</code><code class="descname">ApiServer</code><span class="sig-paren">(</span><em>test_dir</em>, <em>port</em>, <em>policy_file</em>, <em>delayed_delete=False</em>, <em>pid_file=None</em>, <em>sock=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#ApiServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.ApiServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.Server" title="glance.tests.functional.Server"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.Server</span></code></a></p>
<p>Server object that starts/stops/manages the API server</p>
</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.FunctionalTest">
<em class="property">class </em><code class="descclassname">glance.tests.functional.</code><code class="descname">FunctionalTest</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="glance.tests.html#glance.tests.utils.BaseTestCase" title="glance.tests.utils.BaseTestCase"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.utils.BaseTestCase</span></code></a></p>
<p>Base test class for any test that wants to test the actual
servers and clients and not just the stubbed out interfaces</p>
<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.add_log_details">
<code class="descname">add_log_details</code><span class="sig-paren">(</span><em>servers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.add_log_details"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.add_log_details" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes sure anything we created or started up in the
tests are destroyed or spun down</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.copy_data_file">
<code class="descname">copy_data_file</code><span class="sig-paren">(</span><em>file_name</em>, <em>dst_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.copy_data_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.copy_data_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="glance.tests.functional.FunctionalTest.disabled">
<code class="descname">disabled</code><em class="property"> = False</em><a class="headerlink" href="#glance.tests.functional.FunctionalTest.disabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="glance.tests.functional.FunctionalTest.inited">
<code class="descname">inited</code><em class="property"> = False</em><a class="headerlink" href="#glance.tests.functional.FunctionalTest.inited" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="glance.tests.functional.FunctionalTest.launched_servers">
<code class="descname">launched_servers</code><em class="property"> = []</em><a class="headerlink" href="#glance.tests.functional.FunctionalTest.launched_servers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.ping_server">
<code class="descname">ping_server</code><span class="sig-paren">(</span><em>port</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.ping_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.ping_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple ping on the port. If responsive, return True, else
return False.</p>
<p>:note We use raw sockets, not ping here, since ping uses ICMP and
has no concept of ports...</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.ping_server_ipv6">
<code class="descname">ping_server_ipv6</code><span class="sig-paren">(</span><em>port</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.ping_server_ipv6"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.ping_server_ipv6" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple ping on the port. If responsive, return True, else
return False.</p>
<p>:note We use raw sockets, not ping here, since ping uses ICMP and
has no concept of ports...</p>
<p>The function uses IPv6 (therefore AF_INET6 and ::1).</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.run_sql_cmd">
<code class="descname">run_sql_cmd</code><span class="sig-paren">(</span><em>sql</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.run_sql_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.run_sql_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a crude mechanism to run manual SQL commands for backend
DB verification within the functional tests.
The raw result set is returned.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.set_policy_rules">
<code class="descname">set_policy_rules</code><span class="sig-paren">(</span><em>rules</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.set_policy_rules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.set_policy_rules" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.start_server">
<code class="descname">start_server</code><span class="sig-paren">(</span><em>server</em>, <em>expect_launch</em>, <em>expect_exit=True</em>, <em>expected_exitcode=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.start_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.start_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a server on an unused port.</p>
<p>Any kwargs passed to this method will override the configuration
value in the conf file used in starting the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> &#8211; the server to launch</li>
<li><strong>expect_launch</strong> &#8211; true iff the server is expected to
successfully start</li>
<li><strong>expect_exit</strong> &#8211; true iff the launched process is expected
to exit in a timely fashion</li>
<li><strong>expected_exitcode</strong> &#8211; expected exitcode from the launcher</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.start_servers">
<code class="descname">start_servers</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.start_servers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.start_servers" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the API and Registry servers (glance-control api start
&amp; glance-control registry start) on unused ports.  glance-control
should be installed into the python path</p>
<p>Any kwargs passed to this method will override the configuration
value in the conf file used in starting the servers.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.start_with_retry">
<code class="descname">start_with_retry</code><span class="sig-paren">(</span><em>server</em>, <em>port_name</em>, <em>max_retries</em>, <em>expect_launch=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.start_with_retry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.start_with_retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a server, with retries if the server launches but
fails to start listening on the expected port.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> &#8211; the server to launch</li>
<li><strong>port_name</strong> &#8211; the name of the port attribute</li>
<li><strong>max_retries</strong> &#8211; the maximum number of attempts</li>
<li><strong>expect_launch</strong> &#8211; true iff the server is expected to
successfully start</li>
<li><strong>expect_exit</strong> &#8211; true iff the launched process is expected
to exit in a timely fashion</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.stop_server">
<code class="descname">stop_server</code><span class="sig-paren">(</span><em>server</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.stop_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.stop_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Called to stop a single server in a normal fashion using the
glance-control stop method to gracefully shut the server down.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>server</strong> &#8211; the server to stop</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.stop_servers">
<code class="descname">stop_servers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.stop_servers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.stop_servers" title="Permalink to this definition">¶</a></dt>
<dd><p>Called to stop the started servers in a normal fashion. Note
that cleanup() will stop the servers using a fairly draconian
method of sending a SIGTERM signal to the servers. Here, we use
the glance-control stop method to gracefully shut the server down.
This method also asserts that the shutdown was clean, and so it
is meant to be called during a normal test case sequence.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.tearDown">
<code class="descname">tearDown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.tearDown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.FunctionalTest.wait_for_servers">
<code class="descname">wait_for_servers</code><span class="sig-paren">(</span><em>servers</em>, <em>expect_launch=True</em>, <em>timeout=30</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#FunctionalTest.wait_for_servers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.FunctionalTest.wait_for_servers" title="Permalink to this definition">¶</a></dt>
<dd><p>Tight loop, waiting for the given server port(s) to be available.
Returns when all are pingable. There is a timeout on waiting
for the servers to come up.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>servers</strong> &#8211; Glance server ports to ping</li>
<li><strong>expect_launch</strong> &#8211; Optional, true iff the server(s) are
expected to successfully start</li>
<li><strong>timeout</strong> &#8211; Optional, defaults to 30 seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None if launch expectation is met, otherwise an
assertion message</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.RegistryServer">
<em class="property">class </em><code class="descclassname">glance.tests.functional.</code><code class="descname">RegistryServer</code><span class="sig-paren">(</span><em>test_dir</em>, <em>port</em>, <em>policy_file</em>, <em>sock=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#RegistryServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.RegistryServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.Server" title="glance.tests.functional.Server"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.Server</span></code></a></p>
<p>Server object that starts/stops/manages the Registry server</p>
</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.ScrubberDaemon">
<em class="property">class </em><code class="descclassname">glance.tests.functional.</code><code class="descname">ScrubberDaemon</code><span class="sig-paren">(</span><em>test_dir</em>, <em>policy_file</em>, <em>daemon=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#ScrubberDaemon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.ScrubberDaemon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#glance.tests.functional.Server" title="glance.tests.functional.Server"><code class="xref py py-class docutils literal"><span class="pre">glance.tests.functional.Server</span></code></a></p>
<p>Server object that starts/stops/manages the Scrubber server</p>
<dl class="method">
<dt id="glance.tests.functional.ScrubberDaemon.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>expect_exit=True</em>, <em>expected_exitcode=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#ScrubberDaemon.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.ScrubberDaemon.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="glance.tests.functional.Server">
<em class="property">class </em><code class="descclassname">glance.tests.functional.</code><code class="descname">Server</code><span class="sig-paren">(</span><em>test_dir</em>, <em>port</em>, <em>sock=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#Server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.Server" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class used to easily manage starting and stopping
a server during functional test runs.</p>
<dl class="method">
<dt id="glance.tests.functional.Server.create_database">
<code class="descname">create_database</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#Server.create_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.Server.create_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Create database if required for this server</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.Server.dump_log">
<code class="descname">dump_log</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#Server.dump_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.Server.dump_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="glance.tests.functional.Server.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><em>expect_exit=True</em>, <em>expected_exitcode=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#Server.reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.Server.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Start and stop the service to reload</p>
<p>Any kwargs passed to this method will override the configuration
value in the conf file used in starting the servers.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.Server.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>expect_exit=True</em>, <em>expected_exitcode=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#Server.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.Server.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the server.</p>
<p>Any kwargs passed to this method will override the configuration
value in the conf file used in starting the servers.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.Server.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#Server.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.Server.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Spin down the server.</p>
</dd></dl>

<dl class="method">
<dt id="glance.tests.functional.Server.write_conf">
<code class="descname">write_conf</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/glance/tests/functional.html#Server.write_conf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#glance.tests.functional.Server.write_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the configuration file for the server to its intended
destination.  Returns the name of the configuration file and
the over-ridden config content (may be useful for populating
error messages).</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">glance.tests.functional package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.store_utils">glance.tests.functional.store_utils module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_api">glance.tests.functional.test_api module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_bin_glance_cache_manage">glance.tests.functional.test_bin_glance_cache_manage module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_cache_middleware">glance.tests.functional.test_cache_middleware module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_client_exceptions">glance.tests.functional.test_client_exceptions module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_client_redirects">glance.tests.functional.test_client_redirects module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_cors_middleware">glance.tests.functional.test_cors_middleware module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_glance_manage">glance.tests.functional.test_glance_manage module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_glance_replicator">glance.tests.functional.test_glance_replicator module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_gzip_middleware">glance.tests.functional.test_gzip_middleware module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_healthcheck_middleware">glance.tests.functional.test_healthcheck_middleware module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_logging">glance.tests.functional.test_logging module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_reload">glance.tests.functional.test_reload module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_scrubber">glance.tests.functional.test_scrubber module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_sqlite">glance.tests.functional.test_sqlite module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_ssl">glance.tests.functional.test_ssl module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional.test_wsgi">glance.tests.functional.test_wsgi module</a></li>
<li><a class="reference internal" href="#module-glance.tests.functional">Module contents</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="glance.tests.html"
                                  title="previous chapter">glance.tests package</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="glance.tests.functional.db.html"
                                  title="next chapter">glance.tests.functional.db package</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/glance
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/glance.tests.functional.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="glance.tests.functional.db.html" title="glance.tests.functional.db package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="glance.tests.html" title="glance.tests package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">glance 14.0.0.0rc2.dev4 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Modules</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="glance.html" >glance package</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="glance.tests.html" accesskey="U">glance.tests package</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2010-present, OpenStack Foundation..
      Last updated on &#39;Fri Feb 10 09:39:49 2017, commit 65dd7ae&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/glance");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>