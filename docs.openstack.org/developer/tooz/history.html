<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CHANGES &mdash; tooz 1.48.1.dev1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.48.1.dev1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="tooz 1.48.1.dev1 documentation" href="index.html" />
    <link rel="prev" title="Developers" href="developers.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changes">
<h1>CHANGES<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Update reno for stable/ocata</li>
</ul>
<div class="section" id="id1">
<h2>1.48.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix test function name with two underscores to have only one</li>
</ul>
</div>
<div class="section" id="id2">
<h2>1.47.0<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add partitioner implementation</li>
<li>Stop making tooz.utils depending on tooz.coordination</li>
<li>[doc] Note lack of constraints is a choice</li>
<li>The &#8216;moves.moved_class&#8217; function creates a new class</li>
<li>Add weight support to the hashring</li>
<li>coordination: allow to pass capabilities in join_group_create()</li>
<li>coordination: fix moved_class usage for ToozError</li>
<li>zookeeper: switch to standard group membership watching</li>
<li>Add a hashring implementation</li>
<li>Move ToozError to root module</li>
<li>Fixup concurrent modification</li>
<li>Replaces uuid.uuid4 with uuidutils.generate_uuid()</li>
</ul>
</div>
<div class="section" id="id3">
<h2>1.46.0<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Do not re-set the members cache for watchers by default</li>
<li>coordination: add __repr__ for join/leave events</li>
<li>coordination: renforce event based testing</li>
<li>Factorize member_id in the base coordinator class</li>
<li>Use the internal group of list rather than listing the groups</li>
<li>Move the cached-based watcher implementation into its own class</li>
</ul>
</div>
<div class="section" id="id4">
<h2>1.45.0<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Factorize group quit on stop()</li>
<li>coordination: make get_members() return a set</li>
<li>Replace &#8216;assertTrue(a (not)in b)&#8217; with &#8216;assert(Not)In(a, b)&#8217;</li>
<li>Changed author and author-email</li>
<li>redis: make sure we don&#8217;t release and heartbeat a lock at the same time</li>
<li>coordinator: add join_group_create</li>
<li>Replace retrying with tenacity</li>
<li>Add CONTRIBUTING.rst</li>
<li>Replace &#8216;assertTrue(a in b)&#8217; with &#8216;assertIn(a, b)&#8217; and &#8216;assertFalse(a in b)&#8217; with &#8216;assertNotIn(a, b)&#8217;</li>
<li>Using assertIsNone() instead of assertEqual(None, ...)</li>
<li>tox: use pretty tox output</li>
<li>tox: install docs dependency in docs target and reno</li>
<li>Bump hacking to 0.12</li>
<li>Add reno for release notes management</li>
</ul>
</div>
<div class="section" id="id5">
<h2>1.44.0<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Changed the home-page link</li>
<li>file: update .metadata atomically</li>
<li>file: return converted voluptuous data</li>
<li>file: move _load_and_validate to a method</li>
<li>file: move _read_{group,member}_id to staticmethod-s</li>
<li>etcd: run tests in clustering mode too</li>
<li>Use method ensure_tree from oslo.utils</li>
<li>Switch from Python 3.4 to Python 3.5</li>
<li>Install only needed packages</li>
<li>Fix a typo in file.py</li>
<li>Update etcd version in tests</li>
</ul>
</div>
<div class="section" id="id6">
<h2>1.43.0<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Makedirs only throws oserror, so only catch that</li>
</ul>
</div>
<div class="section" id="id7">
<h2>1.42.0<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>etcd: don&#8217;t run heartbeat() concurrently</li>
<li>Raise tooz error when unexpected last entries found</li>
<li>etcd: properly block when using &#8216;wait&#8217;</li>
<li>Share _get_random_uuid() among all tests</li>
<li>Updated from global requirements</li>
<li>Clean leave group hooks when unwatching</li>
<li>Fix the test test_unwatch_elected_as_leader</li>
<li>Updated from global requirements</li>
</ul>
</div>
<div class="section" id="id8">
<h2>1.41.0<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>File driver: properly handle Windows paths</li>
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
</ul>
</div>
<div class="section" id="id9">
<h2>1.40.0<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add docs for new consul driver</li>
<li>Change dependency to use flavors</li>
<li>Run doc8 only in pep8 target</li>
<li>Move pep8 requirements in their own target</li>
<li>zookeeper: do not hard depend on eventlet</li>
<li>Remove unused iso8601 dependency</li>
<li>tests: remove testscenario usage</li>
<li>file: set no timeout by default</li>
<li>tests: move bad_url from scenarios to static test</li>
<li>Expose timeout capabilities and use them for tests</li>
<li>Use pifpaf to setup daemons</li>
</ul>
</div>
<div class="section" id="id10">
<h2>1.39.0<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
</ul>
</div>
<div class="section" id="id11">
<h2>1.38.0<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Using LOG.warning instead of LOG.warn</li>
<li>Updated from global requirements</li>
<li>redis: do not force LuaLock</li>
<li>Fix coordinator typo</li>
<li>Updated from global requirements</li>
<li>Ensure etcd is in developer and driver docs</li>
</ul>
</div>
<div class="section" id="id12">
<h2>1.37.0<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Remove unused consul future result</li>
<li>Updated from global requirements</li>
<li>Add a consul based driver</li>
<li>file: make python2 payload readable from python3</li>
</ul>
</div>
<div class="section" id="id13">
<h2>1.36.0<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
</ul>
</div>
<div class="section" id="id14">
<h2>1.35.0<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Drop babel as requirement since its not used</li>
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>coordination: expose a heartbeat loop method</li>
</ul>
</div>
<div class="section" id="id15">
<h2>1.34.0<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="id16">
<h2>1.33.0<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Compute requires_beating</li>
<li>Fix calling acquire(blocking=False) twice leads to a deadlock</li>
</ul>
</div>
<div class="section" id="id17">
<h2>1.32.0<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Raises proper error when unwatching a group</li>
</ul>
</div>
<div class="section" id="id18">
<h2>1.31.0<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>Add .tox, <a href="#id19"><span class="problematic" id="id20">*</span></a>.pyo and <a href="#id21"><span class="problematic" id="id22">*</span></a>.egg to .gitignore</li>
<li>Enable OS_LOG_CAPTURE so that logs can be seen (on error)</li>
</ul>
</div>
<div class="section" id="id23">
<h2>1.30.0<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Add lock breaking</li>
<li>pgsql: fix hostname parsing</li>
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>Update voluptuous requirement</li>
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>Have zookeeper heartbeat perform basic get</li>
<li>Add desired characteristics strict subset validation</li>
<li>Add base64 key encoder (and validations)</li>
<li>Use voluptuous instead of jsonschema</li>
<li>Add programatic introspection of drivers characteristic(s)</li>
<li>Updated from global requirements</li>
<li>pep8: fix remaining errors and enable all checks</li>
<li>Use utils.convert_blocking to convert blocking argument</li>
<li>Adjust some of the zookeeper exception message</li>
<li>Fix etcd env setup</li>
<li>tests: do not hardcode /tmp</li>
<li>utils: replace exception_message by exception_to_unicode</li>
<li>Add a default port and default host</li>
<li>etcd: driver with lock support</li>
<li>Use utils.to_binary instead of using redis module equivalent</li>
<li>Remove tested under 2.6 from docs</li>
</ul>
</div>
<div class="section" id="id24">
<h2>1.29.0<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Add basic file content schema validation</li>
<li>Spice up the driver summary/info page</li>
<li>Make all locks operate the same when fetched from different coordinators</li>
<li>Add noted driver weaknesses onto the drivers docs</li>
<li>Updated from global requirements</li>
<li>File: read member id from file with suffix &#8221;.raw&#8221;</li>
<li>Reduce duplication of code in handling multi-type blocking argument</li>
<li>Updated from global requirements</li>
<li>Add comment in memcache explaining the current situation with lock release</li>
</ul>
</div>
<div class="section" id="id25">
<h2>1.28.0<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add &#8216;requires_beating&#8217; property to coordination driver</li>
<li>{pg,my}sql: fix AttributeError on connection failure</li>
<li>tests: allow ipc to bypass blocking=False test</li>
<li>pgsql: remove unused left-over code</li>
<li>Add &#8216;is_still_owner&#8217; lock test function</li>
</ul>
</div>
<div class="section" id="id26">
<h2>1.27.0<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>Remove python 2.6 and cleanup tox.ini</li>
</ul>
</div>
<div class="section" id="id27">
<h2>1.26.0<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Allow specifying a kazoo async handler &#8216;kind&#8217;</li>
<li>Updated from global requirements</li>
</ul>
</div>
<div class="section" id="id28">
<h2>1.25.0<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Add standard code coverage configuration file</li>
<li>docs - Set pbr &#8216;warnerrors&#8217; option for doc build</li>
<li>Include changelog/history in docs</li>
<li>Updated from global requirements</li>
<li>Expose Znode Stats and Capabilities</li>
<li>Allow more kazoo specific client options to be proxied through</li>
</ul>
</div>
<div class="section" id="id29">
<h2>1.24.0<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
</ul>
</div>
<div class="section" id="id30">
<h2>1.23.0<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Changes to add driver list to the documentation</li>
<li>Updated from global requirements</li>
</ul>
</div>
<div class="section" id="id31">
<h2>1.22.0<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Accept blocking argument in lock&#8217;s context manager</li>
<li>Make RedisLock&#8217;s init consistent with other locks</li>
<li>Updated from global requirements</li>
</ul>
</div>
<div class="section" id="id32">
<h2>1.21.0<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Raise exception on failed lock&#8217;s CM acquire fail</li>
<li>Be more restrictive on the executors users can provide</li>
</ul>
</div>
<div class="section" id="id33">
<h2>1.20.0<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>Use futurist to allow for executor providing and unifying</li>
<li>Use a lua script(s) instead of transactions</li>
</ul>
</div>
<div class="section" id="id34">
<h2>1.19.0<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Change Lock.name to a property</li>
<li>Update .gitignore</li>
<li>Updated from global requirements</li>
<li>Fixup dependencies</li>
<li>Expose started state of coordinator to external</li>
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
</ul>
</div>
<div class="section" id="id35">
<h2>1.18.0<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Remove tooz/openstack as it is empty and not used</li>
<li>Fix sp &#8216;seonds&#8217; -&gt; &#8216;seconds&#8217;</li>
<li>Ensure run_watchers called from mixin, not base class</li>
<li>Updated from global requirements</li>
<li>Update compatibility matrix due to file drivers new abilities</li>
</ul>
</div>
<div class="section" id="id36">
<h2>0.17.0<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>No longer need kazoo lock custom retry code</li>
<li>Ensure unwatch_elected_as_leader correctly clears hooks</li>
</ul>
</div>
<div class="section" id="id37">
<h2>0.16.0<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>Ensure lock(s) acquire/release returns boolean values</li>
<li>Expose &#8216;run_elect_coordinator&#8217; and call it from &#8216;run_watchers&#8217;</li>
<li>Share most of the <cite>run_watchers</cite> code via a common mixin</li>
<li>Remove 2.6 classifier</li>
<li>Remove file-driver special no-async abilities</li>
<li>Delay interpolating the LOG string</li>
<li>Use <cite>encodeutils.exception_to_unicode</cite> for exception -&gt; string function</li>
<li>Use the <cite>excutils.raise_with_cause</cite> after doing our type check</li>
<li>Updated from global requirements</li>
<li>Use the &#8216;driver_lock&#8217; around read operations</li>
<li>Updated from global requirements</li>
<li>Switch badges from &#8216;pypip.in&#8217; to &#8216;shields.io&#8217;</li>
<li>Updated from global requirements</li>
<li>Add watch file driver support</li>
<li>Make the file driver more capable (with regard to groups)</li>
<li>Ensure locks can not be created outside of the root file driver directory</li>
<li>Updated from global requirements</li>
<li>Use MySQL default port when not set explicitly</li>
<li>Use fasteners library for interprocess locks</li>
<li>Implement watch/unwatch elected_as_leader for redis driver</li>
<li>Updated from global requirements</li>
<li>Use lua locks instead of pipeline locks</li>
<li>Move more string constants to class constants with docstrings</li>
<li>Updated from global requirements</li>
<li>Updated from global requirements</li>
<li>Remove support for redis &lt; 2.6.0</li>
<li>Expose Zookeeper client class constants</li>
<li>Expose redis client class constants</li>
<li>Use a serialization/deserialization specific exception</li>
<li>Expose memcache coord. class constants</li>
<li>Explicitly start and execute most transactions</li>
<li>Provide and use a options collapsing function</li>
<li>Add zookeeper tag in setup.cfg</li>
<li>Use pymemcache pooled client</li>
<li>Use oslo.serialization msgpackutils</li>
<li>Provide ability for namespace customization for Zookeeper and Zake drivers</li>
<li>Typo in Locking doc</li>
<li>Move optional driver requirements to test-requirements.txt</li>
<li>Have run_watchers take a timeout and respect it</li>
<li>Heartbeat on acquired locks copy</li>
<li>Avoid using a thread local token storage</li>
</ul>
</div>
<div class="section" id="id38">
<h2>0.15.0<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix param name to be its right name</li>
<li>Replace more instance(s) of exception chaining with helper</li>
<li>Just use staticmethod functions to create _dumps/_loads</li>
<li>Uncap library requirements for liberty</li>
<li>Link AOF to redis persistence docs</li>
<li>Add exception docs to developer docs</li>
<li>Add + use helper to raise + chain exceptions</li>
<li>Allow the acquired file to be closed manually</li>
<li>Updated from global requirements</li>
<li>Silence logs + errors when stopping and group membership lost</li>
<li>Make and use a thread safe pymemcache client subclass</li>
<li>Handle errors that come out of pymemcache better</li>
<li>Use rst inline code structure + link to sentinel</li>
</ul>
</div>
<div class="section" id="id39">
<h2>0.14.0<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Beef up the docstrings on the various drivers</li>
<li>fix lock concurrency issues with certain drivers</li>
<li>Add pypi download + version badges</li>
<li>Denote that 2.6 testing is still happening</li>
<li>Updated from global requirements</li>
<li>Use a sentinel connection pool to manage failover</li>
<li>fix mysql driver url parsing</li>
</ul>
</div>
<div class="section" id="id40">
<h2>0.13.1<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Switch to non-namespaced module imports</li>
<li>Add a driver feature compatibility matrix</li>
<li>Remove support for 3.3</li>
</ul>
</div>
<div class="section" id="id41">
<h2>0.13.0<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Two locks acquired from one coord must works</li>
<li>Updated from global requirements</li>
<li>Releases locks in tests</li>
<li>Allow coordinator non-string options and use them</li>
<li>Since we use msgpack this can be more than a str</li>
<li>Updated from global requirements</li>
<li>Avoid re-using the same timeout for further watcher ops</li>
</ul>
</div>
<div class="section" id="id42">
<h2>0.12<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>retry: fix decorator</li>
<li>file: fix typo in errno.EACCES</li>
</ul>
</div>
<div class="section" id="id43">
<h2>0.11<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add a file based driver</li>
<li>Upgrade to hacking 0.10</li>
<li>Update sentinel support to allow multiple sentinel hosts</li>
<li>Allow to pass arguments to retry()</li>
<li>IPC simplification</li>
</ul>
</div>
<div class="section" id="id44">
<h2>0.10<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add support for an optional redis-sentinel</li>
<li>README.rst tweaks</li>
<li>A few more documentation tweaks</li>
<li>Sync requirements to global requirements</li>
<li>Add create/join/leave group support in IPC driver</li>
<li>Add driver autogenerated docs</li>
<li>Update links + python version supported</li>
<li>zookeeper: add support for delete group</li>
<li>redis: add support for group deletion</li>
<li>tests: minor code simplification</li>
<li>memcached: add support for group deletion</li>
<li>memcached: add support for _destroy_group</li>
<li>Switch to using oslosphinx</li>
<li>Add doc on how transaction is itself retrying internally</li>
<li>Fix .gitreview after rename/transfer</li>
<li>tests: use scenarios attributes for timeout capability</li>
<li>tests: check for leave group events on dead members cleanup</li>
<li>memcached: delete stale/dead group members on get_members()</li>
<li>tests: remove check_port</li>
<li>tests: do not skip test on connection error</li>
</ul>
</div>
<div class="section" id="id45">
<h2>0.9<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>doc: add missing new drivers</li>
<li>doc: switch examples to Zake</li>
<li>doc: add locking</li>
<li>Fix tox envlist</li>
<li>Drop Python 3.3 tests in tox</li>
<li>Allow tox with py34 and MySQL</li>
<li>Test connection error scenarios on more drivers</li>
<li>Translate psycopg2 errors/exceptions into tooz exceptions</li>
<li>Ensure &#8216;leave_group&#8217; result gotten before further work</li>
<li>watch_leave_group not triggering callback on expired members</li>
<li>Add MySQL driver</li>
<li>Discard &#8216;self&#8217; from &#8216;_joined_groups&#8217; if we got booted out</li>
<li>Implement non-blocking locks with PostgreSQL</li>
<li>More retry code out of memcached</li>
<li>Add a PostgreSQL driver</li>
<li>Fix gate</li>
<li>Handle when a group used to exist but no longer does</li>
<li>tox: split redis/memcached env</li>
<li>Fix memcached heartbeat on start()</li>
<li>tox: splits test scenarios</li>
<li>Add a minimum redis version check while starting</li>
<li>Make requirement on redis 2.10.x explicit</li>
<li>Try to use PSETEX when possible</li>
<li>Use hdel with many keys where supported</li>
<li>Avoid logging warnings when group deleted or member gone</li>
<li>Ensure that we correctly expire (and cleanup) redis members</li>
<li>Various fixes for locks and version compatibility</li>
<li>Move sysv_ipc deps to test-requirements</li>
</ul>
</div>
<div class="section" id="id46">
<h2>0.8<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>test: try to stop() first</li>
<li>Convert the rest of memcached driver functions to futures</li>
<li>Add a assertRaisesAny helper method</li>
<li>Allow zake to be tested</li>
<li>Add a redis driver</li>
<li>Ensure groups leaving returns are gotten</li>
<li>Raise the new OperationTimedOut when futures don&#8217;t finish</li>
<li>Start to add a catch and reraise of timed out exceptions</li>
<li>Adjust the timeout to reflect the repeated retries</li>
<li>ipc: do not delete the lock if we never acquired it</li>
<li>Add home-page field</li>
</ul>
</div>
<div class="section" id="id47">
<h2>0.7<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Split up the requirements for py2.x and py3.x</li>
<li>ipc: Fix acquire lock loop logic</li>
</ul>
</div>
<div class="section" id="id48">
<h2>0.6<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make lock blocking with no time out by default</li>
</ul>
</div>
<div class="section" id="id49">
<h2>0.5<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>coordination: remove destroy() from the lock protocol</li>
<li>IPC: fix a potential race condition at init</li>
<li>Fix IPC driver on OS X</li>
<li>Switch to oslo.utils</li>
<li>Blacklist retrying 1.3.0</li>
<li>Use futures to make parts of the memcached driver async</li>
<li>Have examples run in the py27 environment and make them work</li>
</ul>
</div>
<div class="section" id="id50">
<h2>0.4<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Standardize the async result subclasses</li>
<li>Fix the comment which was borrowed from the IPC driver</li>
<li>Be more tolerant of unicode exceptions</li>
<li>Standardize on the same lock acquire method definition</li>
<li>Standardize on hiding the lock implementation</li>
<li>On lock removal validate that they key was actually deleted</li>
<li>Use a thread safe deque instead of a queue</li>
<li>Change inline docs about class fake storage variable</li>
<li>LOG a warning if the heartbeat can not be validated</li>
<li>Add doc8 to the py27 test running</li>
<li>Use the more reliable sysv_ipc instead of posix_ipc+lockutils</li>
<li>Only start zookeeper/memcached when not already running</li>
<li>Let zake act as a in-memory fully functional driver</li>
<li>Switch to a custom NotImplemented error</li>
<li>Ensure lock list isn&#8217;t mutated while iterating</li>
<li>Move Zake driver code to separated Python module</li>
<li>Work toward Python 3.4 support and testing</li>
<li>Unlock the kazoo version</li>
<li>Bump up zake to be using the newer 0.1 or greater</li>
<li>Fix zake driver with latest release</li>
<li>memcached: switch leader election implementation to a lock</li>
<li>Add the generation of the documentation in tox.ini</li>
<li>Add coverage report</li>
</ul>
</div>
<div class="section" id="id51">
<h2>0.3<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Switch to URL for loading backends</li>
<li>Import network_utils from Oslo</li>
<li>coordination: add IPC driver</li>
<li>coordination: raise NotImplementedError as default</li>
<li>Add documentation</li>
<li>Upgrade hacking requirement</li>
<li>memcached: use retrying rather than sleeping</li>
<li>Use retrying instead of our custom code</li>
<li>Update requirements file matching global requ</li>
</ul>
</div>
<div class="section" id="id52">
<h2>0.2<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>memcached: implement leader election</li>
<li>Fix a race condition in one of the test</li>
</ul>
</div>
<div class="section" id="id53">
<h2>0.1<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>memcached: add locking</li>
<li>coordination: implement lock mechanism in ZK</li>
<li>coordination, zookeeper: add get_leader()</li>
<li>coordination, zookeeper: implement leader election</li>
<li>coordination: remove wrong comment in tests</li>
<li>memcached: add support for leave events</li>
<li>memcached: implement {un,}watch_join_group()</li>
<li>coordination: raise GroupNotCreated when watching uncreated group</li>
<li>coordination, zookeeper: add {un,}watch_leave_group</li>
<li>coordination, zookeeper: add watch_join_group</li>
<li>tests: skip test if function is not implemented</li>
<li>coordination: add hooks system</li>
<li>Add memcached driver</li>
<li>zookeeper: use bytes as input/output type</li>
<li>tests: test client disconnection</li>
<li>coordination: add heartbeat method</li>
<li>Add pbr generated and testr files to gitignore</li>
<li>coordination: enhance MemberAlreadyExist exception</li>
<li>coordination: enhance GroupNotCreated exception</li>
<li>coordination: enhance MemberNotJoined</li>
<li>coordination: enhance GroupAlreadyExist exception</li>
<li>tests: test capabilities on non existent group/member</li>
<li>tests: add a test for group already existing</li>
<li>tests: fix variable name</li>
<li>Fix the default prototype for join_group</li>
<li>Adds basic tests which deals with exceptions</li>
<li>Fixes TypeError in _leave_group_handler</li>
<li>Remove _wrap_call_kazoo</li>
<li>Add asynchronous API</li>
<li>Delete models.py and clean get_members()</li>
<li>Add a fake ZooKeeper driver</li>
<li>Allow passing in a handler</li>
<li>First commit of Tooz</li>
<li>Added .gitreview</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">CHANGES</a><ul>
<li><a class="reference internal" href="#id1">1.48.0</a></li>
<li><a class="reference internal" href="#id2">1.47.0</a></li>
<li><a class="reference internal" href="#id3">1.46.0</a></li>
<li><a class="reference internal" href="#id4">1.45.0</a></li>
<li><a class="reference internal" href="#id5">1.44.0</a></li>
<li><a class="reference internal" href="#id6">1.43.0</a></li>
<li><a class="reference internal" href="#id7">1.42.0</a></li>
<li><a class="reference internal" href="#id8">1.41.0</a></li>
<li><a class="reference internal" href="#id9">1.40.0</a></li>
<li><a class="reference internal" href="#id10">1.39.0</a></li>
<li><a class="reference internal" href="#id11">1.38.0</a></li>
<li><a class="reference internal" href="#id12">1.37.0</a></li>
<li><a class="reference internal" href="#id13">1.36.0</a></li>
<li><a class="reference internal" href="#id14">1.35.0</a></li>
<li><a class="reference internal" href="#id15">1.34.0</a></li>
<li><a class="reference internal" href="#id16">1.33.0</a></li>
<li><a class="reference internal" href="#id17">1.32.0</a></li>
<li><a class="reference internal" href="#id18">1.31.0</a></li>
<li><a class="reference internal" href="#id23">1.30.0</a></li>
<li><a class="reference internal" href="#id24">1.29.0</a></li>
<li><a class="reference internal" href="#id25">1.28.0</a></li>
<li><a class="reference internal" href="#id26">1.27.0</a></li>
<li><a class="reference internal" href="#id27">1.26.0</a></li>
<li><a class="reference internal" href="#id28">1.25.0</a></li>
<li><a class="reference internal" href="#id29">1.24.0</a></li>
<li><a class="reference internal" href="#id30">1.23.0</a></li>
<li><a class="reference internal" href="#id31">1.22.0</a></li>
<li><a class="reference internal" href="#id32">1.21.0</a></li>
<li><a class="reference internal" href="#id33">1.20.0</a></li>
<li><a class="reference internal" href="#id34">1.19.0</a></li>
<li><a class="reference internal" href="#id35">1.18.0</a></li>
<li><a class="reference internal" href="#id36">0.17.0</a></li>
<li><a class="reference internal" href="#id37">0.16.0</a></li>
<li><a class="reference internal" href="#id38">0.15.0</a></li>
<li><a class="reference internal" href="#id39">0.14.0</a></li>
<li><a class="reference internal" href="#id40">0.13.1</a></li>
<li><a class="reference internal" href="#id41">0.13.0</a></li>
<li><a class="reference internal" href="#id42">0.12</a></li>
<li><a class="reference internal" href="#id43">0.11</a></li>
<li><a class="reference internal" href="#id44">0.10</a></li>
<li><a class="reference internal" href="#id45">0.9</a></li>
<li><a class="reference internal" href="#id46">0.8</a></li>
<li><a class="reference internal" href="#id47">0.7</a></li>
<li><a class="reference internal" href="#id48">0.6</a></li>
<li><a class="reference internal" href="#id49">0.5</a></li>
<li><a class="reference internal" href="#id50">0.4</a></li>
<li><a class="reference internal" href="#id51">0.3</a></li>
<li><a class="reference internal" href="#id52">0.2</a></li>
<li><a class="reference internal" href="#id53">0.1</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="developers.html"
                                  title="previous chapter">Developers</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/tooz
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/history.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="developers.html" title="Developers"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">tooz 1.48.1.dev1 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2017, OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/tooz");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>