<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>oslo_policy package &mdash; oslo.policy 1.18.1.dev10 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.18.1.dev10',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="oslo.policy 1.18.1.dev10 documentation" href="../index.html" />
    <link rel="up" title="Modules" href="modules.html" />
    <link rel="next" title="Usage" href="../usage.html" />
    <link rel="prev" title="Modules" href="modules.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="oslo-policy-package">
<h1>oslo_policy package<a class="headerlink" href="#oslo-policy-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-oslo_policy.fixture">
<span id="oslo-policy-fixture-module"></span><h2>oslo_policy.fixture module<a class="headerlink" href="#module-oslo_policy.fixture" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="oslo_policy.fixture.HttpCheckFixture">
<em class="property">class </em><code class="descclassname">oslo_policy.fixture.</code><code class="descname">HttpCheckFixture</code><span class="sig-paren">(</span><em>return_value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.fixture.HttpCheckFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">fixtures._fixtures.mockpatch.MockPatchObject</span></code></p>
<p>Helps short circuit the external http call</p>
</dd></dl>

</div>
<div class="section" id="module-oslo_policy.generator">
<span id="oslo-policy-generator-module"></span><h2>oslo_policy.generator module<a class="headerlink" href="#module-oslo_policy.generator" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="oslo_policy.generator.generate_policy">
<code class="descclassname">oslo_policy.generator.</code><code class="descname">generate_policy</code><span class="sig-paren">(</span><em>args=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.generator.generate_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="oslo_policy.generator.generate_sample">
<code class="descclassname">oslo_policy.generator.</code><code class="descname">generate_sample</code><span class="sig-paren">(</span><em>args=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.generator.generate_sample" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="oslo_policy.generator.list_redundant">
<code class="descclassname">oslo_policy.generator.</code><code class="descname">list_redundant</code><span class="sig-paren">(</span><em>args=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.generator.list_redundant" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="oslo_policy.generator.on_load_failure_callback">
<code class="descclassname">oslo_policy.generator.</code><code class="descname">on_load_failure_callback</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.generator.on_load_failure_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-oslo_policy.opts">
<span id="oslo-policy-opts-module"></span><h2>oslo_policy.opts module<a class="headerlink" href="#module-oslo_policy.opts" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="oslo_policy.opts.list_opts">
<code class="descclassname">oslo_policy.opts.</code><code class="descname">list_opts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.opts.list_opts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of oslo.config options available in the library.</p>
<p>The returned list includes all oslo.config options which may be registered
at runtime by the library.
Each element of the list is a tuple. The first element is the name of the
group under which the list of elements in the second element will be
registered. A group name of None corresponds to the [DEFAULT] group in
config files.
This function is also discoverable via the &#8216;oslo_messaging&#8217; entry point
under the &#8216;oslo.config.opts&#8217; namespace.
The purpose of this is to allow tools like the Oslo sample config file
generator to discover the options exposed to users by this library.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of (group_name, opts) tuples</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="oslo_policy.opts.set_defaults">
<code class="descclassname">oslo_policy.opts.</code><code class="descname">set_defaults</code><span class="sig-paren">(</span><em>conf</em>, <em>policy_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.opts.set_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Set defaults for configuration variables.</p>
<p>Overrides default options values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>conf</strong> (<em>oslo.config.cfg.ConfigOpts</em>) &#8211; Configuration object, managed by the caller.</li>
<li><strong>policy_file</strong> (<em>unicode</em>) &#8211; The base filename for the file that
defines policies.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-oslo_policy.policy">
<span id="oslo-policy-policy-module"></span><h2>oslo_policy.policy module<a class="headerlink" href="#module-oslo_policy.policy" title="Permalink to this headline">¶</a></h2>
<p>Common Policy Engine Implementation</p>
<p>Policies are expressed as a target and an associated rule:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&quot;&lt;target&gt;&quot;: &lt;rule&gt;
</pre></div>
</div>
<p>The <cite>target</cite> is specific to the service that is conducting policy
enforcement.  Typically, the target refers to an API call.</p>
<p>For the <cite>&lt;rule&gt;</cite> part, see <cite>Policy Rule Expressions</cite>.</p>
<div class="section" id="policy-rule-expressions">
<h3>Policy Rule Expressions<a class="headerlink" href="#policy-rule-expressions" title="Permalink to this headline">¶</a></h3>
<p>Policy rules can be expressed in one of two forms: a string written in the new
policy language or a list of lists. The string format is preferred since it&#8217;s
easier for most people to understand.</p>
<p>In the policy language, each check is specified as a simple &#8220;a:b&#8221; pair that is
matched to the correct class to perform that check:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">TYPE</th>
<th class="head">SYNTAX</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>User&#8217;s Role</td>
<td>role:admin</td>
</tr>
<tr class="row-odd"><td>Rules already defined on policy</td>
<td>rule:admin_required</td>
</tr>
<tr class="row-even"><td>Against URLs¹</td>
<td><a class="reference external" href="http://my-url.org/check">http://my-url.org/check</a></td>
</tr>
<tr class="row-odd"><td>User attributes²</td>
<td>project_id:%(target.project.id)s</td>
</tr>
<tr class="row-even"><td>Strings</td>
<td><ul class="first last simple">
<li>&lt;variable&gt;:&#8217;xpto2035abc&#8217;</li>
<li>&#8216;myproject&#8217;:&lt;variable&gt;</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Literals</td>
<td><ul class="first last simple">
<li>project_id:xpto2035abc</li>
<li>domain_id:20</li>
<li>True:%(user.enabled)s</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>¹URL checking must return <code class="docutils literal"><span class="pre">True</span></code> to be valid</p>
<p>²User attributes (obtained through the token): user_id, domain_id or project_id</p>
<p>Conjunction operators <code class="docutils literal"><span class="pre">and</span></code> and <code class="docutils literal"><span class="pre">or</span></code> are available, allowing for more
expressiveness in crafting policies. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="s2">&quot;role:admin or (project_id:</span><span class="si">%(project_id)s</span><span class="s2"> and role:projectadmin)&quot;</span>
</pre></div>
</div>
<p>The policy language also has the <code class="docutils literal"><span class="pre">not</span></code> operator, allowing a richer
policy rule:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="s2">&quot;project_id:</span><span class="si">%(project_id)s</span><span class="s2"> and not role:dunce&quot;</span>
</pre></div>
</div>
<p>Operator precedence is below:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="34%" />
<col width="34%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">PRECEDENCE</th>
<th class="head">TYPE</th>
<th class="head">EXPRESSION</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>4</td>
<td>Grouping</td>
<td>(...)</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>Logical NOT</td>
<td>not ...</td>
</tr>
<tr class="row-even"><td>2</td>
<td>Logical AND</td>
<td>... and ...</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>Logical OR</td>
<td>... or ...</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Operator with larger precedence number precedes others with smaller numbers.</p>
<p>In the list-of-lists representation, each check inside the innermost
list is combined as with an &#8220;and&#8221; conjunction &#8211; for that check to pass,
all the specified checks must pass.  These innermost lists are then
combined as with an &#8220;or&#8221; conjunction. As an example, take the following
rule, expressed in the list-of-lists representation:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="s2">&quot;role:admin&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;project_id:</span><span class="si">%(project_id)s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;role:projectadmin&quot;</span><span class="p">]]</span>
</pre></div>
</div>
<p>Finally, two special policy checks should be mentioned; the policy
check &#8220;&#64;&#8221; will always accept an access, and the policy check &#8221;!&#8221; will
always reject an access.  (Note that if a rule is either the empty
list (<code class="docutils literal"><span class="pre">[]</span></code>) or the empty string (<code class="docutils literal"><span class="pre">&quot;&quot;</span></code>), this is equivalent to the &#8220;&#64;&#8221;
policy check.)  Of these, the &#8221;!&#8221; policy check is probably the most useful,
as it allows particular rules to be explicitly disabled.</p>
</div>
<div class="section" id="generic-checks">
<h3>Generic Checks<a class="headerlink" href="#generic-checks" title="Permalink to this headline">¶</a></h3>
<p>A <cite>generic</cite> check is used to perform matching against attributes that are sent
along with the API calls.  These attributes can be used by the policy engine
(on the right side of the expression), by using the following syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&lt;some_attribute&gt;:%(user.id)s
</pre></div>
</div>
<p>The value on the right-hand side is either a string or resolves to a
string using regular Python string substitution.  The available attributes
and values are dependent on the program that is using the common policy
engine.</p>
<p>All of these attributes (related to users, API calls, and context) can be
checked against each other or against constants.  It is important to note
that these attributes are specific to the service that is conducting
policy enforcement.</p>
<p>Generic checks can be used to perform policy checks on the following user
attributes obtained through a token:</p>
<blockquote>
<div><ul class="simple">
<li>user_id</li>
<li>domain_id or project_id (depending on the token scope)</li>
<li>list of roles held for the given token scope</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some resources which are exposed by the API do not support policy</p>
</div>
<p>enforcement by user_id, and only support policy enforcement by project_id.
Some global resources do not support policy enforcement by combination of
user_id and project_id.</p>
<p>For example, a check on the user_id would be defined as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>user_id:&lt;some_value&gt;
</pre></div>
</div>
<p>Together with the previously shown example, a complete generic check
would be:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>user_id:%(user.id)s
</pre></div>
</div>
<p>It is also possible to perform checks against other attributes that
represent the credentials.  This is done by adding additional values to
the <code class="docutils literal"><span class="pre">creds</span></code> dict that is passed to the
<a class="reference internal" href="#oslo_policy.policy.Enforcer.enforce" title="oslo_policy.policy.Enforcer.enforce"><code class="xref py py-meth docutils literal"><span class="pre">enforce()</span></code></a> method.</p>
</div>
<div class="section" id="special-checks">
<h3>Special Checks<a class="headerlink" href="#special-checks" title="Permalink to this headline">¶</a></h3>
<p>Special checks allow for more flexibility than is possible using generic
checks.  The built-in special check types are <code class="docutils literal"><span class="pre">role</span></code>, <code class="docutils literal"><span class="pre">rule</span></code>, and <code class="docutils literal"><span class="pre">http</span></code>
checks.</p>
<div class="section" id="role-check">
<h4>Role Check<a class="headerlink" href="#role-check" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal"><span class="pre">role</span></code> check is used to check if a specific role is present in the supplied
credentials.  A role check is expressed as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="s2">&quot;role:&lt;role_name&gt;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="rule-check">
<h4>Rule Check<a class="headerlink" href="#rule-check" title="Permalink to this headline">¶</a></h4>
<p>A <a class="reference internal" href="#oslo_policy.policy.RuleCheck" title="oslo_policy.policy.RuleCheck"><code class="xref py py-class docutils literal"><span class="pre">rule</span> <span class="pre">check</span></code></a> is used to
reference another defined rule by its name.  This allows for common
checks to be defined once as a reusable rule, which is then referenced
within other rules.  It also allows one to define a set of checks as a
more descriptive name to aid in readability of policy.  A rule check is
expressed as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="s2">&quot;rule:&lt;rule_name&gt;&quot;</span>
</pre></div>
</div>
<p>The following example shows a role check that is defined as a rule,
which is then used via a rule check:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&quot;admin_required&quot;: &quot;role:admin&quot;
&quot;&lt;target&gt;&quot;: &quot;rule:admin_required&quot;
</pre></div>
</div>
</div>
<div class="section" id="http-check">
<h4>HTTP Check<a class="headerlink" href="#http-check" title="Permalink to this headline">¶</a></h4>
<p>An <code class="docutils literal"><span class="pre">http</span></code> check is used to make an HTTP request to a remote server to
determine the results of the check.  The target and credentials are passed to
the remote server for evaluation.  The action is authorized if the remote
server returns a response of <code class="docutils literal"><span class="pre">True</span></code>. An http check is expressed as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="s2">&quot;http:&lt;target URI&gt;&quot;</span>
</pre></div>
</div>
<p>It is expected that the target URI contains a string formatting keyword,
where the keyword is a key from the target dictionary.  An example of an
http check where the <cite>name</cite> key from the target is used to construct the
URL is would be defined as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="s2">&quot;http://server.test/</span><span class="si">%(name)s</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="registering-new-special-checks">
<h4>Registering New Special Checks<a class="headerlink" href="#registering-new-special-checks" title="Permalink to this headline">¶</a></h4>
<p>It is also possible for additional special check types to be registered
using the <a class="reference internal" href="#oslo_policy.policy.register" title="oslo_policy.policy.register"><code class="xref py py-func docutils literal"><span class="pre">register()</span></code></a> function.</p>
<p>The following classes can be used as parents for custom special check types:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#oslo_policy.policy.AndCheck" title="oslo_policy.policy.AndCheck"><code class="xref py py-class docutils literal"><span class="pre">AndCheck</span></code></a></li>
<li><a class="reference internal" href="#oslo_policy.policy.NotCheck" title="oslo_policy.policy.NotCheck"><code class="xref py py-class docutils literal"><span class="pre">NotCheck</span></code></a></li>
<li><a class="reference internal" href="#oslo_policy.policy.OrCheck" title="oslo_policy.policy.OrCheck"><code class="xref py py-class docutils literal"><span class="pre">OrCheck</span></code></a></li>
<li><a class="reference internal" href="#oslo_policy.policy.RuleCheck" title="oslo_policy.policy.RuleCheck"><code class="xref py py-class docutils literal"><span class="pre">RuleCheck</span></code></a></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="default-rule">
<h3>Default Rule<a class="headerlink" href="#default-rule" title="Permalink to this headline">¶</a></h3>
<p>A default rule can be defined, which will be enforced when a rule does
not exist for the target that is being checked.  By default, the rule
associated with the rule name of <code class="docutils literal"><span class="pre">default</span></code> will be used as the default
rule.  It is possible to use a different rule name as the default rule
by setting the <code class="docutils literal"><span class="pre">policy_default_rule</span></code> configuration setting to the
desired rule name.</p>
<dl class="class">
<dt id="oslo_policy.policy.AndCheck">
<em class="property">class </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">AndCheck</code><span class="sig-paren">(</span><em>rules</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.AndCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">oslo_policy._checks.BaseCheck</span></code></p>
<p>Implements the &#8220;and&#8221; logical operator.</p>
<p>A policy check that requires that a list of other checks all return True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rules</strong> (<em>list</em>) &#8211; rules that will be tested.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="oslo_policy.policy.AndCheck.add_check">
<code class="descname">add_check</code><span class="sig-paren">(</span><em>rule</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.AndCheck.add_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds rule to be tested.</p>
<p>Allows addition of another rule to the list of rules that will
be tested.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">self</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#oslo_policy.policy.AndCheck" title="oslo_policy.policy.AndCheck"><code class="xref py py-class docutils literal"><span class="pre">AndCheck</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="oslo_policy.policy.Check">
<em class="property">class </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">Check</code><span class="sig-paren">(</span><em>kind</em>, <em>match</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Check" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">oslo_policy._checks.BaseCheck</span></code></p>
<p>A base class to allow for user-defined policy checks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kind</strong> &#8211; The kind of the check, i.e., the field before the <code class="docutils literal"><span class="pre">:</span></code>.</li>
<li><strong>match</strong> &#8211; The match of the check, i.e., the field after the <code class="docutils literal"><span class="pre">:</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="exception">
<dt id="oslo_policy.policy.DuplicatePolicyError">
<em class="property">exception </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">DuplicatePolicyError</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.DuplicatePolicyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="oslo_policy.policy.Enforcer">
<em class="property">class </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">Enforcer</code><span class="sig-paren">(</span><em>conf</em>, <em>policy_file=None</em>, <em>rules=None</em>, <em>default_rule=None</em>, <em>use_conf=True</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Enforcer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Responsible for loading and enforcing rules.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>conf</strong> &#8211; A configuration object.</li>
<li><strong>policy_file</strong> &#8211; Custom policy file to use, if none is
specified, <code class="docutils literal"><span class="pre">conf.oslo_policy.policy_file</span></code> will be
used.</li>
<li><strong>rules</strong> &#8211; Default dictionary / Rules to use. It will be
considered just in the first instantiation. If
<a class="reference internal" href="#oslo_policy.policy.Enforcer.load_rules" title="oslo_policy.policy.Enforcer.load_rules"><code class="xref py py-meth docutils literal"><span class="pre">load_rules()</span></code></a> with <code class="docutils literal"><span class="pre">force_reload=True</span></code>,
<a class="reference internal" href="#oslo_policy.policy.Enforcer.clear" title="oslo_policy.policy.Enforcer.clear"><code class="xref py py-meth docutils literal"><span class="pre">clear()</span></code></a> or <a class="reference internal" href="#oslo_policy.policy.Enforcer.set_rules" title="oslo_policy.policy.Enforcer.set_rules"><code class="xref py py-meth docutils literal"><span class="pre">set_rules()</span></code></a> with <code class="docutils literal"><span class="pre">overwrite=True</span></code>
is called this will be overwritten.</li>
<li><strong>default_rule</strong> &#8211; Default rule to use, conf.default_rule will
be used if none is specified.</li>
<li><strong>use_conf</strong> &#8211; Whether to load rules from cache or config file.</li>
<li><strong>overwrite</strong> &#8211; Whether to overwrite existing rules when reload rules
from config file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="oslo_policy.policy.Enforcer.authorize">
<code class="descname">authorize</code><span class="sig-paren">(</span><em>rule</em>, <em>target</em>, <em>creds</em>, <em>do_raise=False</em>, <em>exc=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Enforcer.authorize" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper around &#8216;enforce&#8217; that checks for policy registration.</p>
<p>To ensure that a policy being checked has been registered this method
should be used rather than enforce. By doing so a project can be sure
that all of it&#8217;s used policies are registered and therefore available
for sample file generation.</p>
<p>The parameters match the enforce method and a description of them can
be found there.</p>
</dd></dl>

<dl class="method">
<dt id="oslo_policy.policy.Enforcer.check_rules">
<code class="descname">check_rules</code><span class="sig-paren">(</span><em>raise_on_violation=False</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Enforcer.check_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for rule definitions that are obviously incorrect.</p>
</dd></dl>

<dl class="method">
<dt id="oslo_policy.policy.Enforcer.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Enforcer.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears <a class="reference internal" href="#oslo_policy.policy.Enforcer" title="oslo_policy.policy.Enforcer"><code class="xref py py-class docutils literal"><span class="pre">Enforcer</span></code></a> contents.</p>
<p>This will clear this instances rules, policy&#8217;s cache, file cache
and policy&#8217;s path.</p>
</dd></dl>

<dl class="method">
<dt id="oslo_policy.policy.Enforcer.enforce">
<code class="descname">enforce</code><span class="sig-paren">(</span><em>rule</em>, <em>target</em>, <em>creds</em>, <em>do_raise=False</em>, <em>exc=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Enforcer.enforce" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks authorization of a rule against the target and credentials.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rule</strong> (string or <code class="xref py py-class docutils literal"><span class="pre">BaseCheck</span></code>) &#8211; The rule to evaluate.</li>
<li><strong>target</strong> (<em>dict</em>) &#8211; As much information about the object being operated
on as possible.</li>
<li><strong>creds</strong> (<em>dict</em>) &#8211; As much information about the user performing the
action as possible.</li>
<li><strong>do_raise</strong> &#8211; Whether to raise an exception or not if check
fails.</li>
<li><strong>exc</strong> &#8211; Class of the exception to raise if the check fails.
Any remaining arguments passed to <a class="reference internal" href="#oslo_policy.policy.Enforcer.enforce" title="oslo_policy.policy.Enforcer.enforce"><code class="xref py py-meth docutils literal"><span class="pre">enforce()</span></code></a> (both
positional and keyword arguments) will be passed to
the exception class. If not specified,
<a class="reference internal" href="#oslo_policy.policy.PolicyNotAuthorized" title="oslo_policy.policy.PolicyNotAuthorized"><code class="xref py py-class docutils literal"><span class="pre">PolicyNotAuthorized</span></code></a> will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">False</span></code> if the policy does not allow the action and <cite>exc</cite> is
not provided; otherwise, returns a value that evaluates to
<code class="docutils literal"><span class="pre">True</span></code>.  Note: for rules using the &#8220;case&#8221; expression, this
<code class="docutils literal"><span class="pre">True</span></code> value will be the specified string from the
expression.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="oslo_policy.policy.Enforcer.load_rules">
<code class="descname">load_rules</code><span class="sig-paren">(</span><em>force_reload=False</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Enforcer.load_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads policy_path&#8217;s rules.</p>
<p>Policy file is cached and will be reloaded if modified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force_reload</strong> &#8211; Whether to reload rules from config file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="oslo_policy.policy.Enforcer.register_default">
<code class="descname">register_default</code><span class="sig-paren">(</span><em>default</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Enforcer.register_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a RuleDefault.</p>
<p>Adds a RuleDefault to the list of registered rules. Rules must be
registered before using the Enforcer.authorize method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>default</strong> &#8211; A RuleDefault object to register.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="oslo_policy.policy.Enforcer.register_defaults">
<code class="descname">register_defaults</code><span class="sig-paren">(</span><em>defaults</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Enforcer.register_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a list of RuleDefaults.</p>
<p>Adds each RuleDefault to the list of registered rules. Rules must be
registered before using the Enforcer.authorize method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>default</strong> &#8211; A list of RuleDefault objects to register.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="oslo_policy.policy.Enforcer.set_rules">
<code class="descname">set_rules</code><span class="sig-paren">(</span><em>rules</em>, <em>overwrite=True</em>, <em>use_conf=False</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Enforcer.set_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#oslo_policy.policy.Rules" title="oslo_policy.policy.Rules"><code class="xref py py-class docutils literal"><span class="pre">Rules</span></code></a> based on the provided dict of rules.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rules</strong> (<em>dict</em>) &#8211; New rules to use.</li>
<li><strong>overwrite</strong> &#8211; Whether to overwrite current rules or update them
with the new rules.</li>
<li><strong>use_conf</strong> &#8211; Whether to reload rules from cache or config file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="oslo_policy.policy.InvalidDefinitionError">
<em class="property">exception </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">InvalidDefinitionError</code><span class="sig-paren">(</span><em>names</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.InvalidDefinitionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="oslo_policy.policy.NotCheck">
<em class="property">class </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">NotCheck</code><span class="sig-paren">(</span><em>rule</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.NotCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">oslo_policy._checks.BaseCheck</span></code></p>
<p>Implements the &#8220;not&#8221; logical operator.</p>
<p>A policy check that inverts the result of another policy check.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rule</strong> &#8211; The rule to negate.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="oslo_policy.policy.OrCheck">
<em class="property">class </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">OrCheck</code><span class="sig-paren">(</span><em>rules</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.OrCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">oslo_policy._checks.BaseCheck</span></code></p>
<p>Implements the &#8220;or&#8221; operator.</p>
<p>A policy check that requires that at least one of a list of other
checks returns <code class="docutils literal"><span class="pre">True</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rules</strong> &#8211; A list of rules that will be tested.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="oslo_policy.policy.OrCheck.add_check">
<code class="descname">add_check</code><span class="sig-paren">(</span><em>rule</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.OrCheck.add_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds rule to be tested.</p>
<p>Allows addition of another rule to the list of rules that will
be tested.  Returns the OrCheck object for convenience.</p>
</dd></dl>

<dl class="method">
<dt id="oslo_policy.policy.OrCheck.pop_check">
<code class="descname">pop_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.OrCheck.pop_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Pops the last check from the list and returns them</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">self, the popped check</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#oslo_policy.policy.OrCheck" title="oslo_policy.policy.OrCheck"><code class="xref py py-class docutils literal"><span class="pre">OrCheck</span></code></a>, class:<cite>.Check</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="oslo_policy.policy.PolicyNotAuthorized">
<em class="property">exception </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">PolicyNotAuthorized</code><span class="sig-paren">(</span><em>rule</em>, <em>target</em>, <em>creds</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.PolicyNotAuthorized" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Default exception raised for policy enforcement failure.</p>
</dd></dl>

<dl class="exception">
<dt id="oslo_policy.policy.PolicyNotRegistered">
<em class="property">exception </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">PolicyNotRegistered</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.PolicyNotRegistered" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="oslo_policy.policy.RuleCheck">
<em class="property">class </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">RuleCheck</code><span class="sig-paren">(</span><em>kind</em>, <em>match</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.RuleCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">oslo_policy._checks.Check</span></code></p>
<p>Recursively checks credentials based on the defined rules.</p>
</dd></dl>

<dl class="class">
<dt id="oslo_policy.policy.RuleDefault">
<em class="property">class </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">RuleDefault</code><span class="sig-paren">(</span><em>name</em>, <em>check_str</em>, <em>description=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.RuleDefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A class for holding policy definitions.</p>
<p>It is required to supply a name and value at creation time. It is
encouraged to also supply a description to assist operators.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; The name of the policy. This is used when referencing it
from another rule or during policy enforcement.</li>
<li><strong>check_str</strong> &#8211; The policy. This is a string  defining a policy that
conforms to the policy language outlined at the top of
the file.</li>
<li><strong>description</strong> &#8211; A plain text description of the policy. This will be
used to comment sample policy files for use by
deployers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="oslo_policy.policy.Rules">
<em class="property">class </em><code class="descclassname">oslo_policy.policy.</code><code class="descname">Rules</code><span class="sig-paren">(</span><em>rules=None</em>, <em>default_rule=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>A store for rules. Handles the default_rule setting directly.</p>
<dl class="classmethod">
<dt id="oslo_policy.policy.Rules.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>rules_dict</em>, <em>default_rule=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Rules.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow loading of rule data from a dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="oslo_policy.policy.Rules.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>data</em>, <em>default_rule=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Rules.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow loading of YAML/JSON rule data.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.5.0.</span></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="oslo_policy.policy.Rules.load_json">
<em class="property">classmethod </em><code class="descname">load_json</code><span class="sig-paren">(</span><em>data</em>, <em>default_rule=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.Rules.load_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow loading of YAML/JSON rule data.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method is deprecated as of the 1.5.0 release in favor of
<a class="reference internal" href="#oslo_policy.policy.Rules.load" title="oslo_policy.policy.Rules.load"><code class="xref py py-meth docutils literal"><span class="pre">load()</span></code></a> and may be removed in the 2.0 release.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="oslo_policy.policy.parse_file_contents">
<code class="descclassname">oslo_policy.policy.</code><code class="descname">parse_file_contents</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.parse_file_contents" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the raw contents of a policy file.</p>
<p>Parses the contents of a policy file which currently can be in either
yaml or json format. Both can be parsed as yaml.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; A string containing the contents of a policy file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict of the form {&#8216;policy_name1&#8217;: &#8216;policy1&#8217;,
&#8216;policy_name2&#8217;: &#8216;policy2,...}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="oslo_policy.policy.register">
<code class="descclassname">oslo_policy.policy.</code><code class="descname">register</code><span class="sig-paren">(</span><em>name</em>, <em>func=None</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.policy.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a function or <a class="reference internal" href="#oslo_policy.policy.Check" title="oslo_policy.policy.Check"><code class="xref py py-class docutils literal"><span class="pre">Check</span></code></a> class as a policy check.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; Gives the name of the check type, e.g., &#8220;rule&#8221;,
&#8220;role&#8221;, etc.  If name is <code class="docutils literal"><span class="pre">None</span></code>, a default check type
will be registered.</li>
<li><strong>func</strong> &#8211; If given, provides the function or class to register.
If not given, returns a function taking one argument
to specify the function or class to register,
allowing use as a decorator.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-oslo_policy.shell">
<span id="oslo-policy-shell-module"></span><h2>oslo_policy.shell module<a class="headerlink" href="#module-oslo_policy.shell" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="oslo_policy.shell.main">
<code class="descclassname">oslo_policy.shell.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.shell.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="oslo_policy.shell.tool">
<code class="descclassname">oslo_policy.shell.</code><code class="descname">tool</code><span class="sig-paren">(</span><em>policy_file</em>, <em>access_file</em>, <em>apply_rule</em>, <em>is_admin=False</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.shell.tool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-oslo_policy.sphinxpolicygen">
<span id="oslo-policy-sphinxpolicygen-module"></span><h2>oslo_policy.sphinxpolicygen module<a class="headerlink" href="#module-oslo_policy.sphinxpolicygen" title="Permalink to this headline">¶</a></h2>
<p>Generate a sample policy file.</p>
<dl class="function">
<dt id="oslo_policy.sphinxpolicygen.generate_sample">
<code class="descclassname">oslo_policy.sphinxpolicygen.</code><code class="descname">generate_sample</code><span class="sig-paren">(</span><em>app</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.sphinxpolicygen.generate_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a sample policy file.</p>
</dd></dl>

<dl class="function">
<dt id="oslo_policy.sphinxpolicygen.setup">
<code class="descclassname">oslo_policy.sphinxpolicygen.</code><code class="descname">setup</code><span class="sig-paren">(</span><em>app</em><span class="sig-paren">)</span><a class="headerlink" href="#oslo_policy.sphinxpolicygen.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-oslo_policy.version">
<span id="oslo-policy-version-module"></span><h2>oslo_policy.version module<a class="headerlink" href="#module-oslo_policy.version" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-oslo_policy">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-oslo_policy" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">oslo_policy package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-oslo_policy.fixture">oslo_policy.fixture module</a></li>
<li><a class="reference internal" href="#module-oslo_policy.generator">oslo_policy.generator module</a></li>
<li><a class="reference internal" href="#module-oslo_policy.opts">oslo_policy.opts module</a></li>
<li><a class="reference internal" href="#module-oslo_policy.policy">oslo_policy.policy module</a><ul>
<li><a class="reference internal" href="#policy-rule-expressions">Policy Rule Expressions</a></li>
<li><a class="reference internal" href="#generic-checks">Generic Checks</a></li>
<li><a class="reference internal" href="#special-checks">Special Checks</a><ul>
<li><a class="reference internal" href="#role-check">Role Check</a></li>
<li><a class="reference internal" href="#rule-check">Rule Check</a></li>
<li><a class="reference internal" href="#http-check">HTTP Check</a></li>
<li><a class="reference internal" href="#registering-new-special-checks">Registering New Special Checks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#default-rule">Default Rule</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-oslo_policy.shell">oslo_policy.shell module</a></li>
<li><a class="reference internal" href="#module-oslo_policy.sphinxpolicygen">oslo_policy.sphinxpolicygen module</a></li>
<li><a class="reference internal" href="#module-oslo_policy.version">oslo_policy.version module</a></li>
<li><a class="reference internal" href="#module-oslo_policy">Module contents</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="modules.html"
                                  title="previous chapter">Modules</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../usage.html"
                                  title="next chapter">Usage</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/oslo.policy
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/oslo_policy.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../usage.html" title="Usage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="Modules"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">oslo.policy 1.18.1.dev10 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">Modules</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/oslo.policy");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>