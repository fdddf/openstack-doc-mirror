<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: API Microversioning</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">
<link href="../_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>API Microversioning</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="../scenarios/autoscaling_heat.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Autoscaling with Heat"></i></a>
    
    
    <a href="authorization.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Senlin Authorization"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: None</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="../index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">API Microversioning</a><ul>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#when-to-bump-the-microversion">When to Bump the Microversion?</a></li>
<li><a class="reference internal" href="#when-a-microversion-is-not-needed">When a Microversion Is Not Needed</a></li>
<li><a class="reference internal" href="#working-with-microversions">Working with Microversions</a><ul>
<li><a class="reference internal" href="#adding-a-new-api-method">Adding a New API Method</a></li>
<li><a class="reference internal" href="#removing-an-api-method">Removing an API Method</a></li>
<li><a class="reference internal" href="#changing-a-method-s-behavior">Changing a Method&#8217;s Behavior</a></li>
<li><a class="reference internal" href="#when-not-using-decorators">When Not Using Decorators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#planning-and-committing-changes">Planning and Committing Changes</a></li>
<li><a class="reference internal" href="#allocating-a-microversion">Allocating a microversion</a></li>
<li><a class="reference internal" href="#api-version-history">API Version History</a><ul>
<li><a class="reference internal" href="#id1">1.1</a></li>
<li><a class="reference internal" href="#id2">1.2</a></li>
<li><a class="reference internal" href="#id3">1.3</a></li>
<li><a class="reference internal" href="#id4">1.4</a></li>
<li><a class="reference internal" href="#id5">1.5</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="api-microversioning">
<h1>API Microversioning<a class="headerlink" href="#api-microversioning" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>The <em>API Microversioning</em> is a framework in Senlin to enable smooth evolution
of the Senlin REST API while preserving its backward compatibility. The basic
idea is that a user has to explicitly specify the particular version of API
requested in the request. Disruptive changes to the API can then be added
without breaking existing users who don&#8217;t specifically ask for it. This is
done with an HTTP header <code class="docutils literal"><span class="pre">OpenStack-API-Version</span></code> as suggested by the
OpenStack API Working Group. The value of the header should contain the
service name (<code class="docutils literal"><span class="pre">clustering</span></code>) and the desired API version which is a
monotonically increasing semantic version number starting from <code class="docutils literal"><span class="pre">1.0</span></code>.</p>
<p>If a user makes a request without specifying a version, they will get the
<code class="docutils literal"><span class="pre">DEFAULT_API_VERSION</span></code> as defined in <code class="docutils literal"><span class="pre">senlin.api.common.wsgi</span></code>.  This value
is currently <code class="docutils literal"><span class="pre">1.0</span></code> and is expected to remain so for quite a long time.</p>
<p>There is a special value &#8220;<code class="docutils literal"><span class="pre">latest</span></code>&#8221; which can be specified, which will allow
a client to always invoke the most recent version of APIs from the server.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <code class="docutils literal"><span class="pre">latest</span></code> value is mostly meant for integration testing and
would be dangerous to rely on in client code since Senlin microversions are
not following semver and therefore backward compatibility is not guaranteed.
Clients, like python-senlinclient or python-openstacksdk,
python-openstackclient should always require a specific microversion but
limit what is acceptable to the version range that it understands at the
time.</p>
</div>
</div>
<div class="section" id="when-to-bump-the-microversion">
<h2>When to Bump the Microversion?<a class="headerlink" href="#when-to-bump-the-microversion" title="Permalink to this headline">¶</a></h2>
<p>A microversion is needed when the contract to the user is changed. The user
contract covers many kinds of information such as:</p>
<ul>
<li><p class="first">the Request</p>
<ul>
<li><p class="first">the list of resource URLs which exist on the server</p>
<p>Example: adding a new <code class="docutils literal"><span class="pre">GET</span> <span class="pre">clusters/{ID}/foo</span></code> resource which didn&#8217;t exist
in a previous version of the code</p>
</li>
<li><p class="first">the list of query parameters that are valid on URLs</p>
<p>Example: adding a new parameter <code class="docutils literal"><span class="pre">is_healthy</span></code> when querying a node by
<code class="docutils literal"><span class="pre">GET</span> <span class="pre">nodes/{ID}?is_healthy=True</span></code></p>
</li>
<li><p class="first">the list of query parameter values for non-freeform fields</p>
<p>Example: parameter <code class="docutils literal"><span class="pre">filters</span></code> takes a small set of properties &#8220;<code class="docutils literal"><span class="pre">A</span></code>&#8221;,
&#8220;<code class="docutils literal"><span class="pre">B</span></code>&#8221;, &#8220;<code class="docutils literal"><span class="pre">C</span></code>&#8221;, now support for new property &#8220;<code class="docutils literal"><span class="pre">D</span></code>&#8221; is added</p>
</li>
<li><p class="first">new headers accepted on a request</p>
</li>
<li><p class="first">the list of attributes and data structures accepted.</p>
<p>Example: adding a new attribute <code class="docutils literal"><span class="pre">'locked':</span> <span class="pre">True/False</span></code> to a request body</p>
</li>
</ul>
</li>
<li><p class="first">the Response</p>
<ul>
<li><p class="first">the list of attributes and data structures returned</p>
<p>Example: adding a new attribute <code class="docutils literal"><span class="pre">'locked':</span> <span class="pre">True/False</span></code> to the output
of <code class="docutils literal"><span class="pre">GET</span> <span class="pre">clusters/{ID}</span></code></p>
</li>
<li><p class="first">the allowed values of non-freeform fields</p>
<p>Example: adding a new allowed &#8220;<code class="docutils literal"><span class="pre">status</span></code>&#8221; field to <code class="docutils literal"><span class="pre">GET</span> <span class="pre">servers/{ID}</span></code></p>
</li>
<li><p class="first">the list of status codes allowed for a particular request</p>
<p>Example: an API previously could return 200, 400, 403, 404 and the
change would make the API now also be allowed to return 409.</p>
</li>
<li><p class="first">changing a status code on a particular response</p>
<p>Example: changing the return code of an API from 501 to 400.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">According to the OpenStack API Working Group, a
<strong>500 Internal Server Error</strong> should <strong>NOT</strong> be returned to the user for
failures due to user error that can be fixed by changing the request on
the client side. This kind of a fix doesn&#8217;t require a change to the
microversion.</p>
</div>
</li>
<li><p class="first">new headers returned on a response</p>
</li>
</ul>
</li>
</ul>
<p>The following flow chart attempts to walk through the process of &#8220;do
we need a microversion&#8221;.</p>
<p class="graphviz">
<img src="../_images/graphviz-cf265976d01ecf816f1c5c4d2600f53a69959bed.png" alt="digraph states {

 label=&quot;Do I need a microversion?&quot;

 silent_fail[shape=&quot;diamond&quot;, style=&quot;&quot;, group=g1, label=&quot;Did we silently
fail to do what is asked?&quot;];
 ret_500[shape=&quot;diamond&quot;, style=&quot;&quot;, group=g1, label=&quot;Did we return a 500
before?&quot;];
 new_error[shape=&quot;diamond&quot;, style=&quot;&quot;, group=g1, label=&quot;Are we changing the
 status code returned?&quot;];
 new_attr[shape=&quot;diamond&quot;, style=&quot;&quot;, group=g1, label=&quot;Did we add or remove
 an attribute to a resource?&quot;];
 new_param[shape=&quot;diamond&quot;, style=&quot;&quot;, group=g1, label=&quot;Did we add or remove
 an accepted query string parameter or value?&quot;];
 new_resource[shape=&quot;diamond&quot;, style=&quot;&quot;, group=g1, label=&quot;Did we add or
 remove a resource url?&quot;];


no[shape=&quot;box&quot;, style=rounded, label=&quot;No microversion needed&quot;];
yes[shape=&quot;box&quot;, style=rounded, label=&quot;Yes, you need a microversion&quot;];
no2[shape=&quot;box&quot;, style=rounded, label=&quot;No microversion needed, it's a bug&quot;];

silent_fail -&gt; ret_500[label=&quot; no&quot;];
silent_fail -&gt; no2[label=&quot;yes&quot;];

 ret_500 -&gt; no2[label=&quot;yes [1]&quot;];
 ret_500 -&gt; new_error[label=&quot; no&quot;];

 new_error -&gt; new_attr[label=&quot; no&quot;];
 new_error -&gt; yes[label=&quot;yes&quot;];

 new_attr -&gt; new_param[label=&quot; no&quot;];
 new_attr -&gt; yes[label=&quot;yes&quot;];

 new_param -&gt; new_resource[label=&quot; no&quot;];
 new_param -&gt; yes[label=&quot;yes&quot;];

 new_resource -&gt; no[label=&quot; no&quot;];
 new_resource -&gt; yes[label=&quot;yes&quot;];

{rank=same; yes new_attr}
{rank=same; no2 ret_500}
{rank=min; silent_fail}
}" />
</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The reason behind such a strict contract is that we want application
developers to be sure what the contract is at every microversion in Senlin.</p>
<p class="last">When in doubt, consider application authors. If it would work with no client
side changes on both Nova versions, you probably don&#8217;t need a microversion.
If, however, there is any ambiguity, a microversion is likely needed.</p>
</div>
</div>
<div class="section" id="when-a-microversion-is-not-needed">
<h2>When a Microversion Is Not Needed<a class="headerlink" href="#when-a-microversion-is-not-needed" title="Permalink to this headline">¶</a></h2>
<p>A microversion is not needed in the following situations:</p>
<ul class="simple">
<li>the response<ul>
<li>Changing the error message without changing the response code does not
require a new microversion.</li>
<li>Removing an inapplicable HTTP header, for example, suppose the Retry-After
HTTP header is being returned with a 4xx code. This header should only be
returned with a 503 or 3xx response, so it may be removed without bumping
the microversion.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="working-with-microversions">
<h2>Working with Microversions<a class="headerlink" href="#working-with-microversions" title="Permalink to this headline">¶</a></h2>
<p>In the <code class="docutils literal"><span class="pre">senlin.api.common.wsgi</span></code> module, we define an <code class="docutils literal"><span class="pre">&#64;api_version</span></code>
decorator which is intended to be used on top-level methods of controllers.
It is not appropriate for lower-level methods.</p>
<div class="section" id="adding-a-new-api-method">
<h3>Adding a New API Method<a class="headerlink" href="#adding-a-new-api-method" title="Permalink to this headline">¶</a></h3>
<p>In the controller class:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@wsgi.Controller.api_version</span><span class="p">(</span><span class="s2">&quot;2.4&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_api_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="o">....</span>
</pre></div>
</div>
<p>This method is only available if the caller had specified a request header
<code class="docutils literal"><span class="pre">OpenStack-API-Version</span></code> with value <code class="docutils literal"><span class="pre">clustering</span> <span class="pre">&lt;ver&gt;</span></code> and <code class="docutils literal"><span class="pre">&lt;ver&gt;</span></code> is &gt;=
<code class="docutils literal"><span class="pre">2.4</span></code>. If they had specified a lower version (or omitted it thus got the
default of <code class="docutils literal"><span class="pre">1.0</span></code>) the server would respond with HTTP 404.</p>
</div>
<div class="section" id="removing-an-api-method">
<h3>Removing an API Method<a class="headerlink" href="#removing-an-api-method" title="Permalink to this headline">¶</a></h3>
<p>In the controller class:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@wsgi.Controller.api_version</span><span class="p">(</span><span class="s2">&quot;2.1&quot;</span><span class="p">,</span> <span class="s2">&quot;2.4&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_api_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="o">....</span>
</pre></div>
</div>
<p>This method would only be available if the caller had specified an
<code class="docutils literal"><span class="pre">OpenStack-API-Version</span></code> with value <code class="docutils literal"><span class="pre">clustering</span> <span class="pre">&lt;ver&gt;</span></code> and the <code class="docutils literal"><span class="pre">&lt;ver&gt;</span></code> is
&lt;= <code class="docutils literal"><span class="pre">2.4</span></code>. If <code class="docutils literal"><span class="pre">2.5</span></code> or later is specified the server will respond with
HTTP 404.</p>
</div>
<div class="section" id="changing-a-method-s-behavior">
<h3>Changing a Method&#8217;s Behavior<a class="headerlink" href="#changing-a-method-s-behavior" title="Permalink to this headline">¶</a></h3>
<p>In the controller class:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@wsgi.Controller.api_version</span><span class="p">(</span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span> <span class="s2">&quot;2.3&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_api_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="o">....</span> <span class="n">method_1</span> <span class="o">...</span>

<span class="nd">@wsgi.Controller.api_version</span><span class="p">(</span><span class="s2">&quot;2.4&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
<span class="k">def</span> <span class="nf">my_api_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="o">....</span> <span class="n">method_2</span> <span class="o">...</span>
</pre></div>
</div>
<p>If a caller specified <code class="docutils literal"><span class="pre">2.1</span></code>, <code class="docutils literal"><span class="pre">2.2</span></code> or <code class="docutils literal"><span class="pre">2.3</span></code> (or received the default of
<code class="docutils literal"><span class="pre">1.0</span></code>) they would see the result from <code class="docutils literal"><span class="pre">method_1</span></code>, <code class="docutils literal"><span class="pre">2.4</span></code> or later
<code class="docutils literal"><span class="pre">method_2</span></code>.</p>
<p>It is vital that the two methods have the same name, so the second one will
need <code class="docutils literal"><span class="pre">#</span> <span class="pre">noqa</span></code> to avoid failing flake8&#8217;s <code class="docutils literal"><span class="pre">F811</span></code> rule. The two methods may
be different in any kind of semantics (schema validation, return values,
response codes, etc.)</p>
</div>
<div class="section" id="when-not-using-decorators">
<h3>When Not Using Decorators<a class="headerlink" href="#when-not-using-decorators" title="Permalink to this headline">¶</a></h3>
<p>When you don&#8217;t want to use the <code class="docutils literal"><span class="pre">&#64;api_version</span></code> decorator on a method or you
want to change behavior within a method (say it leads to simpler or simply a
lot less code) you can directly test for the requested version with a method
as long as you have access to the API request object. Every API method has an
<code class="docutils literal"><span class="pre">version_request</span></code> object attached to the <code class="docutils literal"><span class="pre">Request</span></code> object and that can be
used to modify behavior based on its value:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">senlin.api.common.version_request</span> <span class="kn">as</span> <span class="nn">vr</span>

<span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">):</span>
    <span class="c1"># common code ...</span>

    <span class="n">req_version</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="n">version_request</span>
    <span class="n">req1_min</span> <span class="o">=</span> <span class="n">vr</span><span class="o">.</span><span class="n">APIVersionRequest</span><span class="p">(</span><span class="s2">&quot;2.1&quot;</span><span class="p">)</span>
    <span class="n">req1_max</span> <span class="o">=</span> <span class="n">vr</span><span class="o">.</span><span class="n">APIVersionRequest</span><span class="p">(</span><span class="s2">&quot;2.5&quot;</span><span class="p">)</span>
    <span class="n">req2_min</span> <span class="o">=</span> <span class="n">vr</span><span class="o">.</span><span class="n">APIVersionRequest</span><span class="p">(</span><span class="s2">&quot;2.6&quot;</span><span class="p">)</span>
    <span class="n">req2_max</span> <span class="o">=</span> <span class="n">vr</span><span class="o">.</span><span class="n">APIVersionRequest</span><span class="p">(</span><span class="s2">&quot;2.10&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">req_version</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">req1_min</span><span class="p">,</span> <span class="n">req1_max</span><span class="p">):</span>
        <span class="c1"># stuff...</span>
    <span class="k">elif</span> <span class="n">req_version</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">req2min</span><span class="p">,</span> <span class="n">req2_max</span><span class="p">):</span>
        <span class="c1"># other stuff...</span>
    <span class="k">elif</span> <span class="n">req_version</span> <span class="o">&gt;</span> <span class="n">vr</span><span class="o">.</span><span class="n">APIVersionRequest</span><span class="p">(</span><span class="s2">&quot;2.10&quot;</span><span class="p">):</span>
        <span class="c1"># more stuff...</span>

    <span class="c1"># common code ...</span>
</pre></div>
</div>
<p>The first argument to the matches method is the minimum acceptable version
and the second is maximum acceptable version. A specified version can be null:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">null_version</span> <span class="o">=</span> <span class="n">APIVersionRequest</span><span class="p">()</span>
</pre></div>
</div>
<p>If the minimum version specified is null then there is no restriction on
the minimum version, and likewise if the maximum version is null there
is no restriction the maximum version. Alternatively a one sided comparison
can be used as in the example above.</p>
</div>
</div>
<div class="section" id="planning-and-committing-changes">
<h2>Planning and Committing Changes<a class="headerlink" href="#planning-and-committing-changes" title="Permalink to this headline">¶</a></h2>
<p>Once the idea of an API change is discussed with the core team and the
concensus has been reached to bump the micro-version of Senlin API, you can
start working on the changes in the following order:</p>
<ol class="arabic simple">
<li>Prepare the engine and possibly the action layer for the change. One STRICT
requirement is that the newly proposed change(s) should not break any
existing users.</li>
<li>Add a new versioned object if a new API is introduced; or modify the fields
of an existing object representing the API request. You are expected to
override the <code class="docutils literal"><span class="pre">obj_make_compatible()</span></code> method to ensure the request formed
will work on an older version of engine.</li>
<li>If the change is about modifying an existing API, you will need to bump the
version of the request object. You are also required to add or change the
<code class="docutils literal"><span class="pre">VERSION_MAP</span></code> dictionary of the request object class where the key is the
API microversion and the value is the object version. For example:</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@base.SenlinObjectRegistry.register</span>
<span class="k">class</span> <span class="nc">ClusterDanceRequest</span><span class="p">(</span><span class="n">base</span><span class="o">.</span><span class="n">SenlinObject</span><span class="p">):</span>

    <span class="c1"># VERSION 1.0: Initial version</span>
    <span class="c1"># VERSION 1.1: Add field &#39;style&#39;</span>
    <span class="n">VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.1&#39;</span>
    <span class="n">VERSION_MAP</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s1">&#39;x.y&#39;</span><span class="p">:</span> <span class="s1">&#39;1.1&#39;</span>
    <span class="p">}</span>

    <span class="n">fields</span> <span class="o">=</span> <span class="p">{</span>
      <span class="o">...</span>
      <span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="n">fields</span><span class="o">.</span><span class="n">StringField</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">obj_make_compatible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">,</span> <span class="n">target_version</span><span class="p">):</span>
       <span class="c1"># add the logic to convert the request for a target version</span>
       <span class="o">...</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>Patch the API layer to introduce the change. This involves changing the
<code class="docutils literal"><span class="pre">senlin/api/openstack/history.rst</span></code> file to include the descriptive
information about the changes made.</li>
<li>Revise the API reference documentation so that the changes are properly
documented.</li>
<li>Add a release note entry for the API change.</li>
<li>Add tempest based API test and functional tests.</li>
<li>Update <code class="docutils literal"><span class="pre">_MAX_API_VERSION</span></code> in <code class="docutils literal"><span class="pre">senlin.api.openstack.versions</span></code>, if needed.
Note that each time we bump the API microversion, we may introduce two or
more changes rather than one single change, the update of
<code class="docutils literal"><span class="pre">_MAX_API_VERSION</span></code> needs to be done only once if this is the case.</li>
<li>Commit patches to the <code class="docutils literal"><span class="pre">python-openstacksdk</span></code> project so that new API
changes are accessible from client side.</li>
<li>Wait for the new release of <code class="docutils literal"><span class="pre">python-openstacksdk</span></code> project that includes
the new changes and then propose changes to <code class="docutils literal"><span class="pre">python-senlinclient</span></code>
project.</li>
</ol>
</div>
<div class="section" id="allocating-a-microversion">
<h2>Allocating a microversion<a class="headerlink" href="#allocating-a-microversion" title="Permalink to this headline">¶</a></h2>
<p>If you are adding a patch which adds a new microversion, it is necessary to
allocate the next microversion number. Except under extremely unusual
circumstances, the minor number of <code class="docutils literal"><span class="pre">_MAX_API_VERSION</span></code> will be incremented.
This will also be the new microversion number for the API change.</p>
<p>It is possible that multiple microversion patches would be proposed in
parallel and the microversions would conflict between patches.  This will
cause a merge conflict. We don&#8217;t reserve a microversion for each patch in
advance as we don&#8217;t know the final merge order. Developers may need over time
to rebase their patch calculating a new version number as above based on the
updated value of <code class="docutils literal"><span class="pre">_MAX_API_VERSION</span></code>.</p>
</div>
<div class="section" id="api-version-history">
<h2>API Version History<a class="headerlink" href="#api-version-history" title="Permalink to this headline">¶</a></h2>
<p>This document summarizes the changes made to the REST API with every bump of
API microversion. The description for each version should be verbose so that
it can be used by both users and developers.</p>
<div class="section" id="id1">
<h3>1.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">This is the initial version of the v1 API which supports microversions.
The v1.1 API is identical to that of v1.0 except for the new supports to
microversion checking.</p>
<p>A user can specify a header in the API request:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>OpenStack-API-Version: clustering &lt;version&gt;
</pre></div>
</div>
<p>where the <code class="docutils literal"><span class="pre">&lt;version&gt;</span></code> is any valid API version supported. If such a
header is not provided, the API behaves as if a version request of v1.0
is received.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id2">
<h3>1.2<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">cluster_collect</span></code> API. This API takes a single parameter <code class="docutils literal"><span class="pre">path</span></code>
and interprets it as a JSON path for extracting node properties. Properties
values from all nodes are aggregated into a list and returned to users.</li>
<li>Added <code class="docutils literal"><span class="pre">profile_validate</span></code> API. This API is provided to validate the spec
of a profile without really creating a profile object.</li>
<li>Added <code class="docutils literal"><span class="pre">policy_validate</span></code> API. This API validates the spec of a policy
without creating a policy object.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id3">
<h3>1.3<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">cluster_replace_nodes</span></code> API. This API enables users to replace the
specified existing nodes with ones that were not members of any clusters.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id4">
<h3>1.4<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">profile_type_ops</span></code> API. This API returns a dictionary containing
the operations and parameters supported by a specific profile type.</li>
<li>Added <code class="docutils literal"><span class="pre">node_operation</span></code> API. This API enables users to trigger an
operation on a node. The operation and its parameters are determined by the
profile type.</li>
<li>Added <code class="docutils literal"><span class="pre">cluster_operation</span></code> API. This API enables users to trigger an
operation on a cluster. The operation and its parameters are determined by
the profile type.</li>
<li>Added <code class="docutils literal"><span class="pre">user</span></code> query parameter for listing receivers.</li>
<li>Added <code class="docutils literal"><span class="pre">destroy_after_deletion</span></code> parameter for deleting cluster members.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id5">
<h3>1.5<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">support_status</span></code> to profile type list.</li>
<li>Added <code class="docutils literal"><span class="pre">support_status</span></code> to policy type list.</li>
<li>Added <code class="docutils literal"><span class="pre">support_status</span></code> to profile type show.</li>
<li>Added <code class="docutils literal"><span class="pre">support_status</span></code> to policy type show.</li>
</ul>
</div></blockquote>
</div>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="../scenarios/autoscaling_heat.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Autoscaling with Heat"></i></a>
          
          
            <a href="authorization.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Senlin Authorization"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: None</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration Options</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/basics.html">Senlin Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/policies.html">Working with Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/receivers.html">Working with Receivers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/profile_types.html">Profile Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/profiles.html">Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/clusters.html">Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/membership.html">Cluster Membership</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/policy_types.html">Policy Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/policies.html">Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/bindings.html">Cluster-Policy Bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/receivers.html">Receiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/actions.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/events.html">Events</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/policy_types/affinity.html">Affinity Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/policy_types/deletion.html">Deletion Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/policy_types/load_balancing.html">Load-Balancing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/policy_types/scaling.html">Scaling Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/policy_types/region_placement.html">Region Placement Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/policy_types/zone_placement.html">Zone Placement Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scenarios/affinity.html">Managing Node Affinity</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scenarios/autoscaling_overview.html">Support to AutoScaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scenarios/autoscaling_ceilometer.html">Autoscaling using Ceilometer/Aodh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scenarios/autoscaling_heat.html">Autoscaling with Heat</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">API Microversioning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="#when-to-bump-the-microversion">When to Bump the Microversion?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#when-a-microversion-is-not-needed">When a Microversion Is Not Needed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-microversions">Working with Microversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#planning-and-committing-changes">Planning and Committing Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#allocating-a-microversion">Allocating a microversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-version-history">API Version History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authorization.html">Senlin Authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="profile.html">Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="cluster.html">Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="node.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="policy.html">Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="action.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="receiver.html">Receiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Senlin testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin_guide.html">Plugin Writer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="osprofiler.html">OSProfiler</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="policies/affinity_v1.html">Affinity Policy V1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies/deletion_v1.html">Deletion Policy V1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies/health_v1.html">Health Policy V1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies/load_balance_v1.html">Load Balancing Policy V1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies/region_v1.html">Region Placement Policy V1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies/scaling_v1.html">Scaling Policy V1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies/zone_v1.html">Zone Placement Policy V1.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reviews.html">Reviews</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../man/index.html">Man Pages</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-1.12.4.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "developer/api_microversion" + ".rst";
        gitURL = "Source: https://git.openstack.org/cgit/openstack/senlin/tree/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 'Tue Feb 14 14:27:25 2017, commit e2451a7";
        var bugProject = "senlin";
        var bugTitle = "API Microversioning in senlin";
    var fieldTags = "docs";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 3.0.0.0rc2.dev62 on None";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>