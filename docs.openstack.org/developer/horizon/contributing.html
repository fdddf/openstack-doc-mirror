<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Contributing Guide &mdash; horizon 11.0.0.0rc2.dev56 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '11.0.0.0rc2.dev56',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="horizon 11.0.0.0rc2.dev56 documentation" href="index.html" />
    <link rel="next" title="Horizon’s tests and you" href="testing.html" />
    <link rel="prev" title="Quickstart" href="quickstart.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="contributing-guide">
<h1>Contributing Guide<a class="headerlink" href="#contributing-guide" title="Permalink to this headline">¶</a></h1>
<p>First and foremost, thank you for wanting to contribute! It&#8217;s the only way
open source works!</p>
<p>Before you dive into writing patches, here are some of the basics:</p>
<ul class="simple">
<li>Project page: <a class="reference external" href="http://launchpad.net/horizon">http://launchpad.net/horizon</a></li>
<li>Bug tracker: <a class="reference external" href="https://bugs.launchpad.net/horizon">https://bugs.launchpad.net/horizon</a></li>
<li>Source code: <a class="reference external" href="https://github.com/openstack/horizon">https://github.com/openstack/horizon</a></li>
<li>Code review: <a class="reference external" href="https://review.openstack.org/#q,status:open+project:openstack/horizon,n,z">https://review.openstack.org/#q,status:open+project:openstack/horizon,n,z</a></li>
<li>Continuous integration:
* Jenkins: <a class="reference external" href="https://jenkins.openstack.org">https://jenkins.openstack.org</a>
* Zuul: <a class="reference external" href="http://status.openstack.org/zuul">http://status.openstack.org/zuul</a></li>
<li>IRC Channel: #openstack-horizon on Freenode.</li>
</ul>
<div class="section" id="making-contributions">
<h2>Making Contributions<a class="headerlink" href="#making-contributions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="getting-started">
<h3>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h3>
<p>We&#8217;ll start by assuming you&#8217;ve got a working checkout of the repository (if
not then please see the <a class="reference internal" href="quickstart.html"><em>Quickstart</em></a>).</p>
<p>Second, you&#8217;ll need to take care of a couple administrative tasks:</p>
<ol class="arabic simple">
<li>Create an account on Launchpad.</li>
<li>Sign the <a class="reference external" href="http://wiki.openstack.org/CLA">OpenStack Contributor License Agreement</a> and follow the associated
instructions to verify your signature.</li>
<li>Join the <a class="reference external" href="https://launchpad.net/~horizon">Horizon Developers</a> team on Launchpad.</li>
<li>Follow the <a class="reference external" href="http://docs.openstack.org/infra/manual/developers.html#development-workflow">instructions for setting up git-review</a> in your
development environment.</li>
</ol>
<p>Whew! Got all that? Okay! You&#8217;re good to go.</p>
</div>
<div class="section" id="ways-to-contribute">
<h3>Ways To Contribute<a class="headerlink" href="#ways-to-contribute" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to get started with Horizon&#8217;s code is to pick a bug on
Launchpad that interests you, and start working on that. Bugs tagged as
<code class="docutils literal"><span class="pre">low-hanging-fruit</span></code> are a good place to start. Alternatively, if there&#8217;s an
OpenStack API feature you would like to see implemented in Horizon feel free
to try building it.</p>
<p>If those are too big, there are lots of great ways to get involved without
plunging in head-first:</p>
<ul class="simple">
<li>Report bugs, triage new tickets, and review old tickets on
the <a class="reference external" href="https://bugs.launchpad.net/horizon">bug tracker</a>.</li>
<li>Propose ideas for improvements via <a class="reference external" href="https://blueprints.launchpad.net/horizon">Launchpad Blueprints</a>, via the
mailing list on the project page, or on IRC.</li>
<li>Write documentation!</li>
<li>Write unit tests for untested code!</li>
<li>Help improve the <a class="reference external" href="https://wiki.openstack.org/wiki/UX#Getting_Started">User Experience Design</a> or contribute to the <a class="reference external" href="https://wiki.openstack.org/wiki/Personas">Persona Working Group</a>.</li>
</ul>
</div>
<div class="section" id="choosing-issues-to-work-on">
<h3>Choosing Issues To Work On<a class="headerlink" href="#choosing-issues-to-work-on" title="Permalink to this headline">¶</a></h3>
<p>In general, if you want to write code, there are three cases for issues
you might want to work on:</p>
<ol class="arabic simple">
<li>Confirmed bugs</li>
<li>Approved blueprints (features)</li>
<li>New bugs you&#8217;ve discovered</li>
</ol>
<p>If you have an idea for a new feature that isn&#8217;t in a blueprint yet, it&#8217;s
a good idea to write the blueprint first, so you don&#8217;t end up writing a bunch
of code that may not go in the direction the community wants.</p>
<p>For bugs, open the bug first, but if you can reproduce the bug reliably and
identify its cause then it&#8217;s usually safe to start working on it. However,
getting independent confirmation (and verifying that it&#8217;s not a duplicate)
is always a good idea if you can be patient.</p>
</div>
<div class="section" id="after-you-write-your-patch">
<h3>After You Write Your Patch<a class="headerlink" href="#after-you-write-your-patch" title="Permalink to this headline">¶</a></h3>
<p>Once you&#8217;ve made your changes, there are a few things to do:</p>
<ul class="simple">
<li>Make sure the unit tests and linting tasks pass by running <code class="docutils literal"><span class="pre">tox</span></code></li>
<li>Take a look at your patch in API profiler, i.e. how it impacts the performance. See <a class="reference internal" href="#profiling-pages">Profiling Pages</a>.</li>
<li>Make sure your code is ready for translation: See <a class="reference internal" href="topics/translation.html#pseudo-translation"><span>Pseudo translation tool</span></a>.</li>
<li>Make sure your code is up-to-date with the latest master: <code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">--rebase</span></code></li>
<li>Finally, run <code class="docutils literal"><span class="pre">git</span> <span class="pre">review</span></code> to upload your changes to Gerrit for review.</li>
</ul>
<p>The Horizon core developers will be notified of the new review and will examine
it in a timely fashion, either offering feedback or approving it to be merged.
If the review is approved, it is sent to Jenkins to verify the unit tests pass
and it can be merged cleanly. Once Jenkins approves it, the change will be
merged to the master repository and it&#8217;s time to celebrate!</p>
</div>
<div class="section" id="profiling-pages">
<h3>Profiling Pages<a class="headerlink" href="#profiling-pages" title="Permalink to this headline">¶</a></h3>
<p>In Ocata release of Horizon a new &#8220;OpenStack Profiler&#8221; panel is introduced within
a Developer dashboard. Once it is enabled and all prerequisites are set up, you
can see what API calls Horizon actually makes when rendering a specific page. To
re-render the page while profiling it, you&#8217;ll need to use &#8220;Profile&#8221; drop-down
menu located left to the User menu in top right corner of the screen. In order to
be able to use &#8220;Profile&#8221; menu the following steps need to be done:</p>
<p>#. Ensure that the Developer dashboard is enabled (copy _9001_developer.py file
from the openstack_dashboard/contrib/developer/enabled folder into the
openstack_dashboard/local/enabled folder if it is not already there).
#. Copy openstack_dashboard/local/local_settings.d/_9030_profiler_settings.py.example
file to openstack_dashboard/local/local_settings.d/_9030_profiler_settings.py
#. Copy openstack_dashboard/contrib/developer/enabled/_9030_profiler.py to
openstack_dashboard/local/enabled/_9030_profiler.py .
#. To support storing profiler data on server-side, MongoDB cluster needs
to be installed on Devstack host (default configuration), see <a class="reference external" href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/#install-mongodb-community-edition">Installing MongoDB</a>.
Then, change net:bindIp: key to 0.0.0.0 inside /etc/mongod.conf and invoke
<code class="docutils literal"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">mongod</span> <span class="pre">restart</span></code> for the changes to have an effect.
#. Re-collect and re-compress static assets.
#. Re-start the production web-server in case you are serving Horizon from it.
#. The &#8220;Profile&#8221; drop-down menu should appear in the top-right corner, you are
ready to profile your pages!</p>
</div>
</div>
<div class="section" id="etiquette">
<h2>Etiquette<a class="headerlink" href="#etiquette" title="Permalink to this headline">¶</a></h2>
<p>The community&#8217;s guidelines for etiquette are fairly simple:</p>
<ul class="simple">
<li>Treat everyone respectfully and professionally.</li>
<li>If a bug is &#8220;in progress&#8221; in the bug tracker, don&#8217;t start working on it
without contacting the author. Try on IRC, or via the launchpad email
contact link. If you don&#8217;t get a response after a reasonable time, then go
ahead. Checking first avoids duplicate work and makes sure nobody&#8217;s toes
get stepped on.</li>
<li>If a blueprint is assigned, even if it hasn&#8217;t been started, be sure you
contact the assignee before taking it on. These larger issues often have a
history of discussion or specific implementation details that the assignee
may be aware of that you are not.</li>
<li>Please don&#8217;t re-open tickets closed by a core developer. If you disagree with
the decision on the ticket, the appropriate solution is to take it up on
IRC or the mailing list.</li>
<li>Give credit where credit is due; if someone helps you substantially with
a piece of code, it&#8217;s polite (though not required) to thank them in your
commit message.</li>
</ul>
</div>
<div class="section" id="code-style">
<h2>Code Style<a class="headerlink" href="#code-style" title="Permalink to this headline">¶</a></h2>
<p>As a project, Horizon adheres to code quality standards.</p>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>We follow <a class="reference external" href="http://www.python.org/dev/peps/pep-0008/">PEP8</a> for all our Python code, and use <code class="docutils literal"><span class="pre">pep8.py</span></code> (available
via the shortcut <code class="docutils literal"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">pep8</span></code>) to validate that our code
meets proper Python style guidelines.</p>
</div>
<div class="section" id="django">
<h3>Django<a class="headerlink" href="#django" title="Permalink to this headline">¶</a></h3>
<p>Additionally, we follow <a class="reference external" href="https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style/">Django&#8217;s style guide</a> for templates, views, and
other miscellany.</p>
</div>
<div class="section" id="javascript">
<h3>JavaScript<a class="headerlink" href="#javascript" title="Permalink to this headline">¶</a></h3>
<p>The following standards are divided into required and recommended sections.
Our main goal in establishing these best practices is to have code that is
reliable, readable, and maintainable.</p>
<div class="section" id="required">
<h4>Required<a class="headerlink" href="#required" title="Permalink to this headline">¶</a></h4>
<p><strong>Reliable</strong></p>
<ul class="simple">
<li>The code has to work on the stable and latest versions of Firefox, Chrome,
Safari, and Opera web browsers, and on Microsoft Internet Explorer 11 and
later.</li>
<li>If you turned compression off during development via <code class="docutils literal"><span class="pre">COMPRESS_ENABLED</span> <span class="pre">=</span>
<span class="pre">False</span></code> in local_settings.py, re-enable compression and test your code
before submitting.</li>
<li>Use <code class="docutils literal"><span class="pre">===</span></code> as opposed to <code class="docutils literal"><span class="pre">==</span></code> for equality checks. The <code class="docutils literal"><span class="pre">==</span></code> will do a
type cast before comparing, which can lead to unwanted results.</li>
</ul>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If typecasting is desired, explicit casting is preferred to keep the
meaning of your code clear.</p>
</div>
</div></blockquote>
<ul>
<li><p class="first">Keep document reflows to a minimum. DOM manipulation is expensive, and can
become a performance issue. If you are accessing the DOM, make sure that you
are doing it in the most optimized way. One example is to build up a document
fragment and then append the fragment to the DOM in one pass instead of doing
multiple smaller DOM updates.</p>
</li>
<li><p class="first">Use “strict”, enclosing each JavaScript file inside a self-executing
function. The self-executing function keeps the strict scoped to the file,
so its variables and methods are not exposed to other JavaScript files in
the product.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using strict will throw exceptions for common coding errors, like
accessing global vars, that normally are not flagged.</p>
</div>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>(function(){
  &#39;use strict&#39;;
  // code...
})();
</pre></div>
</div>
</li>
<li><p class="first">Use <code class="docutils literal"><span class="pre">forEach</span></code> | <code class="docutils literal"><span class="pre">each</span></code> when looping whenever possible. AngularJS and
jQuery both provide for each loops that provide both iteration and scope.</p>
<p>AngularJS:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>angular.forEach(objectToIterateOver, function(value, key) {
  // loop logic
});
</pre></div>
</div>
<p>jQuery:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$.each(objectToIterateOver, function(key, value) {
  // loop logic
});
</pre></div>
</div>
</li>
<li><p class="first">Do not put variables or functions in the global namespace. There are several
reasons why globals are bad, one being that all JavaScript included in an
application runs in the same scope. The issue with that is if another script
has the same method or variable names they overwrite each other.</p>
</li>
<li><p class="first">Always put <code class="docutils literal"><span class="pre">var</span></code> in front of your variables. Not putting <code class="docutils literal"><span class="pre">var</span></code> in front
of a variable puts that variable into the global space, see above.</p>
</li>
<li><p class="first">Do not use <code class="docutils literal"><span class="pre">eval(</span> <span class="pre">)</span></code>. The eval (expression) evaluates the expression
passed to it. This can open up your code to security vulnerabilities and
other issues.</p>
</li>
<li><p class="first">Do not use &#8216;<code class="docutils literal"><span class="pre">with</span></code> object {code}&#8217;. The <code class="docutils literal"><span class="pre">with</span></code> statement is used to access
properties of an object. The issue with <code class="docutils literal"><span class="pre">with</span></code> is that its execution is not
consistent, so by reading the statement in the code it is not always clear
how it is being used.</p>
</li>
</ul>
<p><strong>Readable &amp; Maintainable</strong></p>
<ul>
<li><p class="first">Give meaningful names to methods and variables.</p>
</li>
<li><p class="first">Avoid excessive nesting.</p>
</li>
<li><p class="first">Avoid HTML and CSS in JS code. HTML and CSS belong in templates and
stylesheets respectively. For example:</p>
<ul>
<li><p class="first">In our HTML files, we should focus on layout.</p>
<ol class="arabic simple">
<li>Reduce the small/random <code class="docutils literal"><span class="pre">&lt;script&gt;</span></code> and <code class="docutils literal"><span class="pre">&lt;style&gt;</span></code> elements in HTML.</li>
<li>Avoid in-lining styles into element in HTML. Use attributes and
classes instead.</li>
</ol>
</li>
<li><p class="first">In our JS files, we should focus on logic rather than attempting to
manipulate/style elements.</p>
<ol class="arabic">
<li><p class="first">Avoid statements such as <code class="docutils literal"><span class="pre">element.css({property1,property2...})</span></code> they
belong in a CSS class.</p>
</li>
<li><p class="first">Avoid statements such as <code class="docutils literal"><span class="pre">$(&quot;&lt;div&gt;&lt;span&gt;abc&lt;/span&gt;&lt;/div&gt;&quot;)</span></code> they
belong in a HTML template file. Use <code class="docutils literal"><span class="pre">show</span></code> | <code class="docutils literal"><span class="pre">hide</span></code> | <code class="docutils literal"><span class="pre">clone</span></code>
elements if dynamic content is required.</p>
</li>
<li><p class="first">Avoid using classes for detection purposes only, instead, defer to
attributes. For example to find a div:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&lt;div class=&quot;something&quot;&gt;&lt;/div&gt;
  $(&quot;.something&quot;).html(&quot;Don&#39;t find me this way!&quot;);
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>Is better found like:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&lt;div data-something&gt;&lt;/div&gt;
  $(&quot;div[data-something]&quot;).html(&quot;You found me correctly!&quot;);
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">Avoid commented-out code.</p>
</li>
<li><p class="first">Avoid dead code.</p>
</li>
</ul>
<p><strong>Performance</strong></p>
<ul>
<li><p class="first">Avoid creating instances of the same object repeatedly within the same scope.
Instead, assign the object to a variable and re-use the existing object. For
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$(document).on(&#39;click&#39;, function() { /* do something. */ });
$(document).on(&#39;mouseover&#39;, function() { /* do something. */ });
</pre></div>
</div>
<p>A better approach:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>var $document = $(document);
$document.on(&#39;click&#39;, function() { /* do something. */ });
$document.on(&#39;mouseover&#39;, function() { /* do something. */ });
</pre></div>
</div>
<p>In the first approach a jQuery object for <code class="docutils literal"><span class="pre">document</span></code> is created each time.
The second approach creates only one jQuery object and reuses it. Each object
needs to be created, uses memory, and needs to be garbage collected.</p>
</li>
</ul>
</div>
<div class="section" id="recommended">
<h4>Recommended<a class="headerlink" href="#recommended" title="Permalink to this headline">¶</a></h4>
<p><strong>Readable &amp; Maintainable</strong></p>
<ul>
<li><p class="first">Put a comment at the top of every file explaining what the purpose of this
file is when the naming is not obvious. This guideline also applies to
methods and variables.</p>
</li>
<li><p class="first">Source-code formatting – (or “beautification”) is recommended but should be
used with caution. Keep in mind that if you reformat an entire file that was
not previously formatted the same way, it will mess up the diff during the
code review. It is best to use a formatter when you are working on a new file
by yourself, or with others who are using the same formatter. You can also
choose to format a selected portion of a file only. Instructions for setting
up ESLint for Eclipse, Sublime Text, Notepad++ and WebStorm/PyCharm are
<a class="reference external" href="https://wiki.openstack.org/wiki/Horizon/Javascript/EditorConfig">provided</a>.</p>
</li>
<li><p class="first">Use 2 spaces for code indentation.</p>
</li>
<li><p class="first">Use <code class="docutils literal"><span class="pre">{</span> <span class="pre">}</span></code> for <code class="docutils literal"><span class="pre">if</span></code>, <code class="docutils literal"><span class="pre">for</span></code>, <code class="docutils literal"><span class="pre">while</span></code> statements, and don&#8217;t combine them
on one line.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>// Do this          //Not this          // Not this
if(x) {             if(x)               if(x) y =x;
  y=x;                y=x;
}
</pre></div>
</div>
</li>
<li><p class="first">Use ESLint in your development environment.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="angularjs">
<h3>AngularJS<a class="headerlink" href="#angularjs" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This section is intended as a quick intro to contributing with AngularJS. For
more detailed information, check the <a class="reference internal" href="topics/angularjs.html"><em>AngularJS Topic Guide</em></a>.</p>
</div>
<div class="section" id="john-papa-style-guide">
<h4>&#8220;John Papa Style Guide&#8221;<a class="headerlink" href="#john-papa-style-guide" title="Permalink to this headline">¶</a></h4>
<p>The John Papa Style Guide is the primary point of reference for Angular
code style. This style guide has been endorsed by the AngularJS
team:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&quot;The most current and detailed Angular Style Guide is the
community-driven effort led by John Papa and Todd Motto.&quot;

- http://angularjs.blogspot.com/2014/02/an-angularjs-style-guide-and-best.html
</pre></div>
</div>
<p>The style guide is found at the below location:</p>
<p><a class="reference external" href="https://github.com/johnpapa/angular-styleguide">https://github.com/johnpapa/angular-styleguide</a></p>
<p>When reviewing / writing, please refer to the sections of this guide.
If an issue is encountered, note it with a comment and provide a link back
to the specific issue. For example, code should use named functions. A
review noting this should provide the following link in the comments:</p>
<p><a class="reference external" href="https://github.com/johnpapa/angular-styleguide#style-y024">https://github.com/johnpapa/angular-styleguide#style-y024</a></p>
<p>In addition to John Papa, the following guidelines are divided into
required and recommended sections.</p>
</div>
<div class="section" id="id1">
<h4>Required<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Scope is not the model (model is your JavaScript Objects). The scope
references the model. Use isolate scopes wherever possible.<ul>
<li><a class="reference external" href="https://github.com/angular/angular.js/wiki/Understanding-Scopes">https://github.com/angular/angular.js/wiki/Understanding-Scopes</a></li>
<li>Read-only in templates.</li>
<li>Write-only in controllers.</li>
</ul>
</li>
<li>Since Django already uses <code class="docutils literal"><span class="pre">{{</span> <span class="pre">}}</span></code>, use <code class="docutils literal"><span class="pre">{$</span> <span class="pre">$}</span></code> or <code class="docutils literal"><span class="pre">{%</span> <span class="pre">verbatim</span> <span class="pre">%}</span></code>
instead.</li>
</ul>
</div>
</div>
<div class="section" id="eslint">
<h3>ESLint<a class="headerlink" href="#eslint" title="Permalink to this headline">¶</a></h3>
<p>ESLint is a great tool to be used during your code editing to improve
JavaScript quality by checking your code against a configurable list of checks.
Therefore, JavaScript developers should configure their editors to use ESLint
to warn them of any such errors so they can be addressed. Since ESLint has a
ton of configuration options to choose from, links are provided below to the
options Horizon wants enforced along with the instructions for setting up
ESLint for Eclipse, Sublime Text, Notepad++ and WebStorm/PyCharm.</p>
<p>Instructions for setting up ESLint: <a class="reference external" href="https://wiki.openstack.org/wiki/Horizon/Javascript/EditorConfig">ESLint setup instructions</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">ESLint is part of the automated unit tests performed by Jenkins. The
automated test use the default configurations, which are less strict than
the configurations we recommended to run in your local development
environment.</p>
</div>
</div>
<div class="section" id="css">
<h3>CSS<a class="headerlink" href="#css" title="Permalink to this headline">¶</a></h3>
<p>Style guidelines for CSS are currently quite minimal. Do your best to make the
code readable and well-organized. Two spaces are preferred for indentation
so as to match both the JavaScript and HTML files.</p>
</div>
<div class="section" id="javascript-and-css-libraries-using-xstatic">
<h3>JavaScript and CSS libraries using xstatic<a class="headerlink" href="#javascript-and-css-libraries-using-xstatic" title="Permalink to this headline">¶</a></h3>
<p>We do not bundle third-party code in Horizon&#8217;s source tree. Instead, we package
the required files as xstatic Python packages and add them as dependencies to
Horizon.</p>
<p>To create a new xstatic package:</p>
<ol class="arabic simple">
<li>Check if the library is already packaged as xstatic on PyPi, by searching
for the library name. If it already is, go to step 5. If it is, but not in
the right version, contact the original packager to have them update it.</li>
<li>Package the library as an xstatic package by following the instructions in
xstatic <a class="reference external" href="http://xstatic.rtfd.org/en/latest/packaging.html">documentation</a>. Install the <a class="reference external" href="https://pypi.python.org/pypi/xstatic-release">xstatic-release</a> script and follow
the instructions that come with it.</li>
<li><a class="reference external" href="http://docs.openstack.org/infra/manual/creators.html">Create a new repository under OpenStack</a>. Use &#8220;xstatic-core&#8221; and
&#8220;xstatic-ptl&#8221; groups for the ACLs. Make sure to include the
<code class="docutils literal"><span class="pre">-pypi-wheel-upload</span></code> job in the project config.</li>
<li><a class="reference external" href="http://docs.openstack.org/infra/manual/creators.html#give-openstack-permission-to-publish-releases">Set up PyPi</a> to allow OpenStack (the &#8220;openstackci&#8221; user) to publish your
package.</li>
<li>Add the new package to <a class="reference external" href="https://github.com/openstack/requirements/blob/master/global-requirements.txt">global-requirements</a>.</li>
</ol>
<p>To make a new release of the package, you need to:</p>
<ol class="arabic simple">
<li>Ensure the version information in the <cite>xstatic/pkg/&lt;package name&gt;/__init__.py</cite>
file is up to date, especially the <cite>BUILD</cite>.</li>
<li>Push your updated package up for review in gerrit.</li>
<li>Once the review is approved and the change merged, <a class="reference external" href="http://git.openstack.org/cgit/openstack/releases/tree/README.rst">request a release</a> by
updating or creating the appropriate file for the xstatic package
in the <a class="reference external" href="http://git.openstack.org/cgit/openstack/releases">releases repository</a> under <cite>deliverables/_independent</cite>. That
will cause it to be automatically packaged and released to PyPi.</li>
</ol>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Note that once a package is released, you can not &#8220;un-release&#8221; it. You
should never attempt to modify, delete or rename a released package without
a lot of careful planning and feedback from all projects that use it.</p>
<p class="last">For the purpose of fixing packaging mistakes, xstatic has the build number
mechanism. Simply fix the error, increment the build number and release the
newer package.</p>
</div>
<div class="section" id="integrating-a-new-xstatic-package-into-horizon">
<h4>Integrating a new xstatic package into Horizon<a class="headerlink" href="#integrating-a-new-xstatic-package-into-horizon" title="Permalink to this headline">¶</a></h4>
<p>Having done a release of an xstatic package:</p>
<ol class="arabic simple">
<li>Look for the <a class="reference external" href="https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt">upper-constraints.txt</a> edit related to the xstatic release that was just
performed. One will be created automatically by the release process in the
<code class="docutils literal"><span class="pre">openstack/requirements</span></code> project with the topic <a class="reference external" href="https://review.openstack.org/#/q/status:open+project:openstack/requirements+branch:master+topic:new-release">new-release</a>. You should -1 that
patch until you are confident Horizon does not break (or you have generated a patch to
fix Horizon for that release.) If no upper-constraints.txt patch is automatically
generated, ensure the releases yaml file created in the <a class="reference external" href="http://git.openstack.org/cgit/openstack/releases">releases repository</a> has the
&#8220;include-pypi-link: yes&#8221; setting.</li>
<li>Pull that patch down so you have the edited upper-constraints.txt file locally.</li>
<li>Set the environment variable <cite>UPPER_CONSTRAINTS_FILE</cite> to the edited upper-constraints.txt
file name and run tests or local development server through tox. This will pull in the
precise version of the xstatic package that you need.</li>
<li>Move on to releasing once you&#8217;re happy the Horizon changes are stable.</li>
</ol>
<p>Releasing a new compatible version of Horizon to address issues in the new xstatic release:</p>
<ol class="arabic simple">
<li>Continue to -1 the upper-constraints.txt patch above until this process is complete. A +1
from a Horizon developer will indicate to the requirements team that the upper-constraints.txt
patch is OK to merge.</li>
<li>When submitting your changes to Horizon to address issues around the new xstatic release,
use a Depends-On: referencing the upper-constraints.txt review. This will cause the OpenStack
testing infrastructure to pull in your updated xstatic package as well.</li>
<li>Merge the upper-constraints.txt patch and the Horizon patch noting that Horizon&#8217;s gate may be
broken in the interim between these steps, so try to minimise any delay there. With the
Depends-On it&#8217;s actually safe to +W the Horizon patch, which will be held up until the
related upper-constraints.txt patch merges.</li>
<li>Once the upper-constraints.txt patch merges, you should propose a patch to global-requirements
which bumps the minimum version of the package up to the upper-constraints version so that
deployers / packagers who don&#8217;t honor upper-constraints still get compatible versions of
the packages.</li>
</ol>
</div>
</div>
<div class="section" id="html">
<h3>HTML<a class="headerlink" href="#html" title="Permalink to this headline">¶</a></h3>
<p>Again, readability is paramount; however be conscientious of how the browser
will handle whitespace when rendering the output. Two spaces is the preferred
indentation style to match all front-end code.</p>
</div>
<div class="section" id="exception-handling">
<h3>Exception Handling<a class="headerlink" href="#exception-handling" title="Permalink to this headline">¶</a></h3>
<p>Avoid propogating direct exception messages thrown by OpenStack APIs to the UI.
It is a precaution against giving obscure or possibly sensitive data to a user.
These error messages from the API are also not translatable. Until there is a
standard error handling framework implemented by the services which presents
clean and translated messages, horizon catches all the exceptions thrown by the
API and normalizes them in <a class="reference internal" href="ref/exceptions.html#horizon.exceptions.handle" title="horizon.exceptions.handle"><code class="xref py py-func docutils literal"><span class="pre">horizon.exceptions.handle()</span></code></a>.</p>
</div>
<div class="section" id="id2">
<h3>Documentation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Horizon&#8217;s documentation is written in reStructuredText (reST) and uses Sphinx
for additional parsing and functionality, and should follow standard practices
for writing reST. This includes:</p>
<ul class="simple">
<li>Flow paragraphs such that lines wrap at 80 characters or less.</li>
<li>Use proper grammar, spelling, capitalization and punctuation at all times.</li>
<li>Make use of Sphinx&#8217;s autodoc feature to document modules, classes
and functions. This keeps the docs close to the source.</li>
<li>Where possible, use Sphinx&#8217;s cross-reference syntax (e.g.
<code class="docutils literal"><span class="pre">:class:`~horizon.foo.Bar</span></code>) when referring to other Horizon components.
The better-linked our docs are, the easier they are to use.</li>
</ul>
<p>Be sure to generate the documentation before submitting a patch for review.
Unexpected warnings often appear when building the documentation, and slight
reST syntax errors frequently cause links or cross-references not to work
correctly.</p>
<p>Documentation is generated with Sphinx using the tox command. To create HTML docs and man pages:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ tox -e docs
</pre></div>
</div>
<p>The results are in the doc/build/html and doc/build/man directories respectively.</p>
</div>
<div class="section" id="conventions">
<h3>Conventions<a class="headerlink" href="#conventions" title="Permalink to this headline">¶</a></h3>
<p>Simply by convention, we have a few rules about naming:</p>
<blockquote>
<div><ul class="simple">
<li>The term &#8220;project&#8221; is used in place of Keystone&#8217;s &#8220;tenant&#8221; terminology
in all user-facing text. The term &#8220;tenant&#8221; is still used in API code to
make things more obvious for developers.</li>
<li>The term &#8220;dashboard&#8221; refers to a top-level dashboard class, and &#8220;panel&#8221; to
the sub-items within a dashboard. Referring to a panel as a dashboard is
both confusing and incorrect.</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="release-notes">
<h2>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h2>
<p>Release notes for a patch should be included in the patch with the
associated changes whenever possible. This allow for simpler tracking. It also
enables a single cherry pick to be done if the change is backported to a
previous release. In some cases, such as a feature that is provided via
multiple patches, release notes can be done in a follow-on review.</p>
<p>If the following applies to the patch, a release note is required:</p>
<ul class="simple">
<li>The deployer needs to take an action when upgrading</li>
<li>A new feature is implemented</li>
<li>Function was removed (hopefully it was deprecated)</li>
<li>Current behavior is changed</li>
<li>A new config option is added that the deployer should consider changing from
the default</li>
<li>A security bug is fixed</li>
</ul>
<p>A release note is suggested if a long-standing or important bug is fixed.
Otherwise, a release note is not required.</p>
<p>Horizon uses <a class="reference external" href="http://docs.openstack.org/developer/reno/usage.html">reno</a> to
generate release notes. Please read the docs for details. In summary, use</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ tox -e venv -- reno new &lt;bug-,bp-,whatever&gt;
</pre></div>
</div>
<p>Then edit the sample file that was created and push it with your change.</p>
<p>To see the results:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git commit  <span class="c1"># Commit the change because reno scans git log.</span>

$ tox -e releasenotes
</pre></div>
</div>
<p>Then look at the generated release notes files in releasenotes/build/html in
your favorite browser.</p>
</div>
<div class="section" id="core-reviewer-team">
<h2>Core Reviewer Team<a class="headerlink" href="#core-reviewer-team" title="Permalink to this headline">¶</a></h2>
<p>The Horizon Core Reviewer Team is responsible for many aspects of the
Horizon project. These include, but are not limited to:</p>
<ul class="simple">
<li>Mentor community contributors in solution design, testing, and the
review process</li>
<li>Actively reviewing patch submissions, considering whether the patch:
- is functional
- fits the use-cases and vision of the project
- is complete in terms of testing, documentation, and release notes
- takes into consideration upgrade concerns from previous versions</li>
<li>Assist in bug triage and delivery of bug fixes</li>
<li>Curating the gate and triaging failures</li>
<li>Maintaining accurate, complete, and relevant documentation</li>
<li>Ensuring the level of testing is adequate and remains relevant as
features are added</li>
<li>Answering questions and participating in mailing list discussions</li>
<li>Interfacing with other OpenStack teams</li>
</ul>
<p>In essence, core reviewers share the following common ideals:</p>
<ul class="simple">
<li>They share responsibility in the project&#8217;s success in its mission.</li>
<li>They value a healthy, vibrant, and active developer and user community.</li>
<li>They have made a long-term, recurring time investment to improve the project.</li>
<li>They spend their time doing what needs to be done to ensure the
project&#8217;s success, not necessarily what is the most interesting or
fun.</li>
<li>A core reviewer&#8217;s responsibility doesn&#8217;t end with merging code.</li>
</ul>
<div class="section" id="core-reviewer-expectations">
<h3>Core Reviewer Expectations<a class="headerlink" href="#core-reviewer-expectations" title="Permalink to this headline">¶</a></h3>
<p>Members of the core reviewer team are expected to:</p>
<ul class="simple">
<li>Attend and participate in the weekly IRC meetings (if your timezone allows)</li>
<li>Monitor and participate in-channel at #openstack-horizon</li>
<li>Monitor and participate in [Horizon] discussions on the mailing list</li>
<li>Participate in related design summit sessions at the OpenStack
Summits and Project Team Gatherings</li>
<li>Review patch submissions actively and consistently</li>
</ul>
<p>Please note in-person attendance at design summits, mid-cycles, and
other code sprints is not a requirement to be a core reviewer.
Participation can also include contributing to the design documents
discussed at the design sessions.</p>
<p>Active and consistent review of review activity, bug triage and other
activity will be performed monthly and fed back to the Core Reviewer Team
so everyone knows how things are progressing.</p>
</div>
<div class="section" id="code-merge-responsibilities">
<h3>Code Merge Responsibilities<a class="headerlink" href="#code-merge-responsibilities" title="Permalink to this headline">¶</a></h3>
<p>While everyone is encouraged to review changes, members of the core
reviewer team have the ability to +2/-2 and +A changes to these
repositories. This is an extra level of responsibility not to be taken
lightly. Correctly merging code requires not only understanding the
code itself, but also how the code affects things like documentation,
testing, upgrade impacts and interactions with other projects. It also
means you pay attention to release milestones and understand if a
patch you are merging is marked for the release, especially critical
during the feature freeze.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Contributing Guide</a><ul>
<li><a class="reference internal" href="#making-contributions">Making Contributions</a><ul>
<li><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li><a class="reference internal" href="#ways-to-contribute">Ways To Contribute</a></li>
<li><a class="reference internal" href="#choosing-issues-to-work-on">Choosing Issues To Work On</a></li>
<li><a class="reference internal" href="#after-you-write-your-patch">After You Write Your Patch</a></li>
<li><a class="reference internal" href="#profiling-pages">Profiling Pages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#etiquette">Etiquette</a></li>
<li><a class="reference internal" href="#code-style">Code Style</a><ul>
<li><a class="reference internal" href="#python">Python</a></li>
<li><a class="reference internal" href="#django">Django</a></li>
<li><a class="reference internal" href="#javascript">JavaScript</a><ul>
<li><a class="reference internal" href="#required">Required</a></li>
<li><a class="reference internal" href="#recommended">Recommended</a></li>
</ul>
</li>
<li><a class="reference internal" href="#angularjs">AngularJS</a><ul>
<li><a class="reference internal" href="#john-papa-style-guide">&#8220;John Papa Style Guide&#8221;</a></li>
<li><a class="reference internal" href="#id1">Required</a></li>
</ul>
</li>
<li><a class="reference internal" href="#eslint">ESLint</a></li>
<li><a class="reference internal" href="#css">CSS</a></li>
<li><a class="reference internal" href="#javascript-and-css-libraries-using-xstatic">JavaScript and CSS libraries using xstatic</a><ul>
<li><a class="reference internal" href="#integrating-a-new-xstatic-package-into-horizon">Integrating a new xstatic package into Horizon</a></li>
</ul>
</li>
<li><a class="reference internal" href="#html">HTML</a></li>
<li><a class="reference internal" href="#exception-handling">Exception Handling</a></li>
<li><a class="reference internal" href="#id2">Documentation</a></li>
<li><a class="reference internal" href="#conventions">Conventions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-notes">Release Notes</a></li>
<li><a class="reference internal" href="#core-reviewer-team">Core Reviewer Team</a><ul>
<li><a class="reference internal" href="#core-reviewer-expectations">Core Reviewer Expectations</a></li>
<li><a class="reference internal" href="#code-merge-responsibilities">Code Merge Responsibilities</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="quickstart.html"
                                  title="previous chapter">Quickstart</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="testing.html"
                                  title="next chapter">Horizon&#8217;s tests and you</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/horizon
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/contributing.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="testing.html" title="Horizon’s tests and you"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quickstart"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">horizon 11.0.0.0rc2.dev56 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, OpenStack Foundation.
      Last updated on &#39;Tue Feb 14 01:44:33 2017, commit d07a02a&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/horizon");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>