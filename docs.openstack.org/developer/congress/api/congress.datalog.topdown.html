<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The congress.datalog.topdown Module &mdash; congress 5.0.0.0rc2.dev7 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.0.0.0rc2.dev7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="congress 5.0.0.0rc2.dev7 documentation" href="../index.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-congress.datalog.topdown">
<span id="the-congress-datalog-topdown-module"></span><h1>The <a class="reference internal" href="#module-congress.datalog.topdown" title="congress.datalog.topdown"><code class="xref py py-mod docutils literal"><span class="pre">congress.datalog.topdown</span></code></a> Module<a class="headerlink" href="#module-congress.datalog.topdown" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="congress.datalog.topdown.TopDownTheory">
<em class="property">class </em><code class="descclassname">congress.datalog.topdown.</code><code class="descname">TopDownTheory</code><span class="sig-paren">(</span><em>name=None</em>, <em>abbr=None</em>, <em>theories=None</em>, <em>schema=None</em>, <em>desc=None</em>, <em>owner=None</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="congress.datalog.base.html#congress.datalog.base.Theory" title="congress.datalog.base.Theory"><code class="xref py py-class docutils literal"><span class="pre">congress.datalog.base.Theory</span></code></a></p>
<p>Class that holds the Top-Down evaluation routines.</p>
<p>Classes will inherit from this class if they want to import and specialize
those routines.</p>
<dl class="class">
<dt id="congress.datalog.topdown.TopDownTheory.TopDownCaller">
<em class="property">class </em><code class="descname">TopDownCaller</code><span class="sig-paren">(</span><em>variables</em>, <em>binding</em>, <em>theory</em>, <em>find_all=True</em>, <em>save=None</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.TopDownCaller" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Struct for info about the original caller of top-down evaluation.</p>
<dl class="docutils">
<dt>VARIABLES is the list of variables (from the initial query)</dt>
<dd>that we want bindings for.</dd>
</dl>
<p>BINDING is the initially empty BiUnifier.
FIND_ALL controls whether just the first or all answers are found.
ANSWERS is populated by top-down evaluation: it is the list of</p>
<blockquote>
<div>VARIABLES instances that the search process proved true.</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="congress.datalog.topdown.TopDownTheory.TopDownContext">
<em class="property">class </em><code class="descclassname">TopDownTheory.</code><code class="descname">TopDownContext</code><span class="sig-paren">(</span><em>literals</em>, <em>literal_index</em>, <em>binding</em>, <em>context</em>, <em>theory</em>, <em>depth</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.TopDownContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Struct for storing the search state of top-down evaluation.</p>
</dd></dl>

<dl class="class">
<dt id="congress.datalog.topdown.TopDownTheory.TopDownResult">
<em class="property">class </em><code class="descclassname">TopDownTheory.</code><code class="descname">TopDownResult</code><span class="sig-paren">(</span><em>binding</em>, <em>support</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.TopDownResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Stores a single result for top-down-evaluation.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.abduce">
<code class="descclassname">TopDownTheory.</code><code class="descname">abduce</code><span class="sig-paren">(</span><em>query</em>, <em>tablenames</em>, <em>find_all=True</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.abduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute additional literals.</p>
<p>Computes additional literals that if true would make
(some instance of) QUERY true.  Returns a list of rules
where the head represents an instance of the QUERY and
the body is the collection of literals that must be true
in order to make that instance true.  If QUERY is a rule,
each result is an instance of the head of that rule, and
the computed literals if true make the body of that rule
(and hence the head) true.  If FIND_ALL is true, the
return list has at most one element.
Limitation: every negative literal relevant to a proof of
QUERY is unconditionally true, i.e. no literals are saved
when proving a negative literal is true.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.bi_unify">
<code class="descclassname">TopDownTheory.</code><code class="descname">bi_unify</code><span class="sig-paren">(</span><em>head</em>, <em>unifier1</em>, <em>body_element</em>, <em>unifier2</em>, <em>theoryname</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.bi_unify" title="Permalink to this definition">¶</a></dt>
<dd><p>Unify atoms.</p>
<p>Given something returned by self.head HEAD and an element in
the return of self.body BODY_ELEMENT, modify UNIFIER1 and UNIFIER2
so that HEAD.plug(UNIFIER1) == BODY_ELEMENT.plug(UNIFIER2).
Returns changes that can be undone via unify.undo-all.
THEORYNAME is the name of the theory for HEAD.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.body">
<code class="descclassname">TopDownTheory.</code><code class="descname">body</code><span class="sig-paren">(</span><em>formula</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.body" title="Permalink to this definition">¶</a></dt>
<dd><p>Return formula body.</p>
<p>Given a FORMULA, return a list of things to push onto the
top-down eval stack.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.consequences">
<code class="descclassname">TopDownTheory.</code><code class="descname">consequences</code><span class="sig-paren">(</span><em>filter=None</em>, <em>table_theories=None</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.consequences" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the true instances of any table in this theory.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.defined_tablenames">
<code class="descclassname">TopDownTheory.</code><code class="descname">defined_tablenames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.defined_tablenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of table names defined in/written to this theory.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.explain">
<code class="descclassname">TopDownTheory.</code><code class="descname">explain</code><span class="sig-paren">(</span><em>query</em>, <em>tablenames</em>, <em>find_all=True</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.explain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of instances of QUERY that are true.</p>
<p>Same as select except stores instances of TABLENAMES
that participated in each proof. If QUERY is an atom,
returns list of rules with QUERY in the head and
the stored instances of TABLENAMES in the body; if QUERY is
a rule, the rules returned have QUERY&#8217;s head in the head
and the stored instances of TABLENAMES in the body.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.head">
<code class="descclassname">TopDownTheory.</code><code class="descname">head</code><span class="sig-paren">(</span><em>formula</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.head" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the output from head_index(), return the formula head.</p>
<p>Given a FORMULA, return the thing to unify against.
Usually, FORMULA is a compile.Rule, but it could be anything
returned by HEAD_INDEX.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.head_index">
<code class="descclassname">TopDownTheory.</code><code class="descname">head_index</code><span class="sig-paren">(</span><em>table</em>, <em>match_literal=None</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.head_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return head index.</p>
<p>This routine must return all the formulas pertinent for
top-down evaluation when a literal with TABLE is at the top
of the stack.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.instances">
<code class="descclassname">TopDownTheory.</code><code class="descname">instances</code><span class="sig-paren">(</span><em>rule</em>, <em>possibilities=None</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.instances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="congress.datalog.topdown.TopDownTheory.new_bi_unifier">
<em class="property">classmethod </em><code class="descclassname">TopDownTheory.</code><code class="descname">new_bi_unifier</code><span class="sig-paren">(</span><em>dictionary=None</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.new_bi_unifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a unifier compatible with unify.bi_unify.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.select">
<code class="descclassname">TopDownTheory.</code><code class="descname">select</code><span class="sig-paren">(</span><em>query</em>, <em>find_all=True</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of instances of QUERY that are true.</p>
<p>If FIND_ALL is False, the return list has at most 1 element.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.top_down_abduction">
<code class="descclassname">TopDownTheory.</code><code class="descname">top_down_abduction</code><span class="sig-paren">(</span><em>variables</em>, <em>literals</em>, <em>binding=None</em>, <em>find_all=True</em>, <em>save=None</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.top_down_abduction" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute bindings.</p>
<p>Compute all bindings of VARIABLES that make LITERALS
true according to the theory (after applying the
unifier BINDING), if we add some number of additional
literals.  Note: will not save any literals that are
needed to prove a negated literal since the results
would not make sense.  Returns a list of TopDownResults.</p>
</dd></dl>

<dl class="method">
<dt id="congress.datalog.topdown.TopDownTheory.top_down_evaluation">
<code class="descclassname">TopDownTheory.</code><code class="descname">top_down_evaluation</code><span class="sig-paren">(</span><em>variables</em>, <em>literals</em>, <em>binding=None</em>, <em>find_all=True</em><span class="sig-paren">)</span><a class="headerlink" href="#congress.datalog.topdown.TopDownTheory.top_down_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute bindings.</p>
<p>Compute all bindings of VARIABLES that make LITERALS
true according to the theory (after applying the unifier BINDING).
If FIND_ALL is False, stops after finding one such binding.
Returns a list of dictionary bindings.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/congress
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/congress.datalog.topdown.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">congress 5.0.0.0rc2.dev7 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2013, OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/congress");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>