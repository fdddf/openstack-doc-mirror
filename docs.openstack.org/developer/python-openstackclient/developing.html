<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Developing with OpenStackClient &mdash; python-openstackclient 3.8.1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.8.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="python-openstackclient 3.8.1 documentation" href="index.html" />
    <link rel="next" title="Command Beta" href="command-beta.html" />
    <link rel="prev" title="CHANGES" href="history.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="developing-with-openstackclient">
<h1>Developing with OpenStackClient<a class="headerlink" href="#developing-with-openstackclient" title="Permalink to this headline">¶</a></h1>
<div class="section" id="communication">
<h2>Communication<a class="headerlink" href="#communication" title="Permalink to this headline">¶</a></h2>
<div class="section" id="meetings">
<h3>Meetings<a class="headerlink" href="#meetings" title="Permalink to this headline">¶</a></h3>
<p>The OpenStackClient team meets regularly on every Thursday.  For details
please refer to the <a class="reference external" href="http://eavesdrop.openstack.org/#OpenStackClient_Team_Meeting">OpenStack IRC meetings</a> page.</p>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tox-prerequisites-and-installation">
<h3>Tox prerequisites and installation<a class="headerlink" href="#tox-prerequisites-and-installation" title="Permalink to this headline">¶</a></h3>
<p>Install the prerequisites for Tox:</p>
<ul>
<li><p class="first">On Ubuntu or Debian:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ apt-get install gcc gettext python-dev libxml2-dev libxslt1-dev <span class="se">\</span>
  zlib1g-dev
</pre></div>
</div>
<p>You may need to use pip install for some packages.</p>
</li>
<li><p class="first">On RHEL or CentOS including Fedora:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ yum install gcc python-devel libxml2-devel libxslt-devel
</pre></div>
</div>
</li>
<li><p class="first">On openSUSE or SUSE linux Enterprise:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ zypper install gcc python-devel libxml2-devel libxslt-devel
</pre></div>
</div>
</li>
</ul>
<p>Install python-tox:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip install tox
</pre></div>
</div>
<p>To run the full suite of tests maintained within OpenStackClient.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ tox
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The first time you run <code class="docutils literal"><span class="pre">tox</span></code>, it will take additional time to build
virtualenvs. You can later use the <code class="docutils literal"><span class="pre">-r</span></code> option with <code class="docutils literal"><span class="pre">tox</span></code> to rebuild
your virtualenv in a similar manner.</p>
</div>
<p>To run tests for one or more specific test environments(for example, the most common configuration of
Python 2.7 and PEP-8), list the environments with the <code class="docutils literal"><span class="pre">-e</span></code> option, separated by spaces:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ tox -e py27,pep8
</pre></div>
</div>
<p>See <code class="docutils literal"><span class="pre">tox.ini</span></code> for the full list of available test environments.</p>
</div>
<div class="section" id="running-functional-tests">
<h3>Running functional tests<a class="headerlink" href="#running-functional-tests" title="Permalink to this headline">¶</a></h3>
<p>OpenStackClient also maintains a set of functional tests that are optimally
designed to be run against OpenStack&#8217;s gate. Optionally, a developer may
choose to run these tests against any OpenStack deployment, however depending
on the services available, results vary.</p>
<p>To run the entire suite of functional tests:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ tox -e functional
</pre></div>
</div>
<p>To run a specific functional test:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ tox -e functional -- --regex functional.tests.compute.v2.test_server
</pre></div>
</div>
</div>
<div class="section" id="running-with-pdb">
<h3>Running with PDB<a class="headerlink" href="#running-with-pdb" title="Permalink to this headline">¶</a></h3>
<p>Using PDB breakpoints with <code class="docutils literal"><span class="pre">tox</span></code> and <code class="docutils literal"><span class="pre">testr</span></code> normally does not work since
the tests fail with a <cite>BdbQuit</cite> exception rather than stopping at the
breakpoint.</p>
<p>To run with PDB breakpoints during testing, use the <cite>debug</cite> <code class="docutils literal"><span class="pre">tox</span></code> environment
rather than <code class="docutils literal"><span class="pre">py27</span></code>. For example, passing a test name since you will normally
only want to run the test that hits your breakpoint:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ tox -e debug openstackclient.tests.identity.v3.test_group
</pre></div>
</div>
<p>For reference, the <a class="reference external" href="https://wiki.openstack.org/wiki/Testr#Debugging_.28pdb.29_Tests">debug</a> <code class="docutils literal"><span class="pre">tox</span></code> environment implements the instructions</p>
</div>
</div>
<div class="section" id="building-the-documentation">
<h2>Building the Documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this headline">¶</a></h2>
<p>The documentation is generated with Sphinx using the <code class="docutils literal"><span class="pre">tox</span></code> command. To
create HTML docs, run the commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ tox -e docs
</pre></div>
</div>
<p>The resultant HTML will be in the <code class="docutils literal"><span class="pre">doc/build/html</span></code> directory.</p>
</div>
<div class="section" id="release-notes">
<h2>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h2>
<p>The release notes for a patch should be included in the patch.  See the
<a class="reference external" href="http://docs.openstack.org/project-team-guide/release-management.html#managing-release-notes">Project Team Guide</a> for more information on using reno in OpenStack.</p>
<p>If any of the following applies to the patch, a release note is required:</p>
<ul class="simple">
<li>The deployer needs to take an action when upgrading</li>
<li>The plugin interface changes</li>
<li>A new feature is implemented</li>
<li>A command or option is removed</li>
<li>Current behavior is changed</li>
<li>A security bug is fixed</li>
</ul>
<p>Reno is used to generate release notes. Use the commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ tox -e venv -- reno new &lt;bug-,bp-,whatever&gt;
</pre></div>
</div>
<p>Then edit the sample file that was created and push it with your change.</p>
<p>To run the commands and see results:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git commit  <span class="c1"># Commit the change because reno scans git log.</span>

$ tox -e releasenotes
</pre></div>
</div>
<p>At last, look at the generated release notes files in <code class="docutils literal"><span class="pre">releasenotes/build/html</span></code> in your browser.</p>
</div>
<div class="section" id="testing-new-code">
<h2>Testing new code<a class="headerlink" href="#testing-new-code" title="Permalink to this headline">¶</a></h2>
<p>If a developer wants to test new code (feature, command or option) that
they have written, OpenStackClient may be installed from source by running
the following commands in the base directory of the project:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ python setup.py develop
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip install -e .
</pre></div>
</div>
<div class="section" id="standardize-import-format">
<h3>Standardize Import Format<a class="headerlink" href="#standardize-import-format" title="Permalink to this headline">¶</a></h3>
<p>The import order shows below:</p>
<ul class="simple">
<li>{{stdlib imports in human alphabetical order}}</li>
<li>n</li>
<li>{{third-party lib imports in human alphabetical order}}</li>
<li>n</li>
<li>{{project imports in human alphabetical order}}</li>
<li>n</li>
<li>n</li>
<li>{{begin your code}}</li>
</ul>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">fixtures</span>
<span class="kn">import</span> <span class="nn">mock</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">osc_lib.api</span> <span class="kn">import</span> <span class="n">auth</span>
<span class="kn">from</span> <span class="nn">osc_lib</span> <span class="kn">import</span> <span class="n">utils</span>
<span class="kn">import</span> <span class="nn">six</span>

<span class="kn">from</span> <span class="nn">openstackclient</span> <span class="kn">import</span> <span class="n">shell</span>
<span class="kn">from</span> <span class="nn">openstackclient.tests</span> <span class="kn">import</span> <span class="n">utils</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Developing with OpenStackClient</a><ul>
<li><a class="reference internal" href="#communication">Communication</a><ul>
<li><a class="reference internal" href="#meetings">Meetings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing">Testing</a><ul>
<li><a class="reference internal" href="#tox-prerequisites-and-installation">Tox prerequisites and installation</a></li>
<li><a class="reference internal" href="#running-functional-tests">Running functional tests</a></li>
<li><a class="reference internal" href="#running-with-pdb">Running with PDB</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-the-documentation">Building the Documentation</a></li>
<li><a class="reference internal" href="#release-notes">Release Notes</a></li>
<li><a class="reference internal" href="#testing-new-code">Testing new code</a><ul>
<li><a class="reference internal" href="#standardize-import-format">Standardize Import Format</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="history.html"
                                  title="previous chapter">CHANGES</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="command-beta.html"
                                  title="next chapter">Command Beta</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/python-openstackclient
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/developing.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="command-beta.html" title="Command Beta"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="history.html" title="CHANGES"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">python-openstackclient 3.8.1 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2012-2013 OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/python-openstackclient");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>