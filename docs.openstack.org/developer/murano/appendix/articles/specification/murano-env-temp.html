<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Environment template API &mdash; Murano</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '3.1.1.dev17',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="Murano" href="../../../index.html" />
    <link rel="up" title="Murano API v1 specification" href="index.html" />
    <link rel="prev" title="Application catalog API" href="murano-repository.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="environment-template-api">
<h1>Environment template API<a class="headerlink" href="#environment-template-api" title="Permalink to this headline">¶</a></h1>
<p>Manage environment template definitions in murano. It is possible to create, update, delete, and deploy into OpenStack by translating
it into an environment. In addition, applications can be added to or deleted from the environment template.</p>
<p><strong>Environment Template Properties</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="16%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>string</td>
<td>Unique ID</td>
</tr>
<tr class="row-odd"><td>name</td>
<td>string</td>
<td>User-friendly name</td>
</tr>
<tr class="row-even"><td>created</td>
<td>datetime</td>
<td>Creation date and time in ISO format</td>
</tr>
<tr class="row-odd"><td>updated</td>
<td>datetime</td>
<td>Modification date and time in ISO format</td>
</tr>
<tr class="row-even"><td>tenant_id</td>
<td>string</td>
<td>OpenStack project</td>
</tr>
<tr class="row-odd"><td>version</td>
<td>int</td>
<td>Current version</td>
</tr>
<tr class="row-even"><td>networking</td>
<td>string</td>
<td>Network settings</td>
</tr>
<tr class="row-odd"><td>description</td>
<td>string</td>
<td>The environment template specification</td>
</tr>
</tbody>
</table>
<p><strong>Common response codes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>Operation completed successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to perform the operation</td>
</tr>
</tbody>
</table>
<p>Methods for Environment Template API</p>
<div class="section" id="list-environments-templates">
<h2>List Environments Templates<a class="headerlink" href="#list-environments-templates" title="Permalink to this headline">¶</a></h2>
<p><em>Request</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="44%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET</td>
<td>/templates</td>
<td>Get a list of existing
environment templates</td>
</tr>
</tbody>
</table>
<p><em>Parameters:</em></p>
<ul class="simple">
<li><cite>is_public</cite> - boolean, indicates whether public environment templates are listed or not.
<em>True</em> public environments templates from all projects are listed.
<em>False</em> private environments templates from current project are listed
<em>empty</em> all project templates plus public templates from all projects are listed</li>
</ul>
<p><em>Response</em></p>
<p>This call returns a list of environment templates. Only the basic properties are
returned.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;templates&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-05-14T13:02:54&quot;</span><span class="p">,</span>
            <span class="s2">&quot;networking&quot;</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-05-14T13:02:46&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tenant_id&quot;</span><span class="p">:</span> <span class="s2">&quot;726ed856965f43cc8e565bc991fa76c3&quot;</span><span class="p">,</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;is_public&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2fa5ab704749444bbeafe7991b412c33&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-05-14T13:02:55&quot;</span><span class="p">,</span>
            <span class="s2">&quot;networking&quot;</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-05-14T13:02:51&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tenant_id&quot;</span><span class="p">:</span> <span class="s2">&quot;123452452345346345634563456345346&quot;</span><span class="p">,</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;is_public&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;744e44812da84e858946f5d817de4f72&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="create-environment-template">
<h2>Create environment template<a class="headerlink" href="#create-environment-template" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="13%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>string
and &#8216;-&#8216;</td>
<td>Environment template name; only alphanumeric characters</td>
</tr>
</tbody>
</table>
<p><em>Request</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="40%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST</td>
<td>/templates</td>
<td>Create a new environment template</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt><em>Content-Type</em></dt>
<dd>application/json</dd>
<dt><em>Example</em></dt>
<dd>{&#8220;name&#8221;: &#8220;env_temp_name&#8221;}</dd>
</dl>
<p><em>Response</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ce373a477f211e187a55404a662f968&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;env_temp_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2013-11-30T03:23:42Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2013-11-30T03:23:44Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tenant_id&quot;</span><span class="p">:</span> <span class="s2">&quot;0849006f7ce94961b3aab4e46d6f229a&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>Operation completed successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to perform the operation</td>
</tr>
<tr class="row-even"><td>409</td>
<td>The environment template already exists</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="get-environment-templates-details">
<h2>Get environment templates details<a class="headerlink" href="#get-environment-templates-details" title="Permalink to this headline">¶</a></h2>
<p><em>Request</em></p>
<p>Return information about environment template itself and about applications, including to this
environment template.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="35%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET</td>
<td>/templates/{env-temp-id}</td>
<td>Obtains the environment template information</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><cite>env-temp-id</cite> - environment template ID, required</li>
</ul>
<p><em>Response</em></p>
<dl class="docutils">
<dt><em>Content-Type</em></dt>
<dd>application/json</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span></span> {
   &quot;updated&quot;: &quot;2015-01-26T09:12:51&quot;,
   &quot;networking&quot;:
   {
   },
   &quot;name&quot;: &quot;template_name&quot;,
   &quot;created&quot;: &quot;2015-01-26T09:12:51&quot;,
   &quot;tenant_id&quot;: &quot;00000000000000000000000000000001&quot;,
   &quot;version&quot;: 0,
   &quot;id&quot;: &quot;aa9033ca7ce245fca10e38e1c8c4bbf7&quot;,
}
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>OK. Environment Template created successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to access this session</td>
</tr>
<tr class="row-even"><td>404</td>
<td>The environment template does not exist</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-environment-template">
<h2>Delete environment template<a class="headerlink" href="#delete-environment-template" title="Permalink to this headline">¶</a></h2>
<p><em>Request</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="44%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE</td>
<td>/templates/&lt;env-temp-id&gt;</td>
<td>Delete the template id</td>
</tr>
</tbody>
</table>
<p><em>Parameters:</em></p>
<ul class="simple">
<li><cite>env-temp_id</cite> - environment template ID, required</li>
</ul>
<p><em>Response</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>OK. Environment Template deleted successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to access this session</td>
</tr>
<tr class="row-even"><td>404</td>
<td>The environment template does not exist</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="adding-application-to-environment-template">
<h2>Adding application to environment template<a class="headerlink" href="#adding-application-to-environment-template" title="Permalink to this headline">¶</a></h2>
<p><em>Request</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="45%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST</td>
<td>/templates/{env-temp-id}/services</td>
<td>Create a new application</td>
</tr>
</tbody>
</table>
<p><em>Parameters:</em></p>
<ul class="simple">
<li><cite>env-temp-id</cite> - The environment-template id, required</li>
<li>payload - the service description</li>
</ul>
<dl class="docutils">
<dt><em>Content-Type</em></dt>
<dd>application/json</dd>
</dl>
<p><em>Example</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;instance&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;assignFloatingIp&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
        <span class="s2">&quot;keyname&quot;</span><span class="p">:</span> <span class="s2">&quot;mykeyname&quot;</span><span class="p">,</span>
        <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;cloud-fedora-v3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;flavor&quot;</span><span class="p">:</span> <span class="s2">&quot;m1.medium&quot;</span><span class="p">,</span>
        <span class="s2">&quot;?&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.resources.LinuxMuranoInstance&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ef984a74-29a4-45c0-b1dc-2ab9f075732e&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;orion&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;8080&quot;</span><span class="p">,</span>
    <span class="s2">&quot;?&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.apps.apache.Tomcat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;54cea43d-5970-4c73-b9ac-fea656f3c722&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>Response</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;instance&quot;</span><span class="p">:</span>
   <span class="p">{</span>
       <span class="s2">&quot;assignFloatingIp&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
       <span class="s2">&quot;keyname&quot;</span><span class="p">:</span> <span class="s2">&quot;mykeyname&quot;</span><span class="p">,</span>
       <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;cloud-fedora-v3&quot;</span><span class="p">,</span>
       <span class="s2">&quot;flavor&quot;</span><span class="p">:</span> <span class="s2">&quot;m1.medium&quot;</span><span class="p">,</span>
       <span class="s2">&quot;?&quot;</span><span class="p">:</span>
       <span class="p">{</span>
           <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.resources.LinuxMuranoInstance&quot;</span><span class="p">,</span>
           <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ef984a74-29a4-45c0-b1dc-2ab9f075732e&quot;</span>
       <span class="p">}</span>
   <span class="p">},</span>
   <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;orion&quot;</span><span class="p">,</span>
   <span class="s2">&quot;?&quot;</span><span class="p">:</span>
   <span class="p">{</span>
       <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.apps.apache.Tomcat&quot;</span><span class="p">,</span>
       <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;54cea43d-5970-4c73-b9ac-fea656f3c722&quot;</span>
   <span class="p">},</span>
   <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;8080&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>OK. Application added successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to access this session</td>
</tr>
<tr class="row-even"><td>404</td>
<td>The environment template does not exist</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-application-from-an-environment-template">
<h2>Delete application from an environment template<a class="headerlink" href="#delete-application-from-an-environment-template" title="Permalink to this headline">¶</a></h2>
<p><em>Request</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="48%" />
<col width="41%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE</td>
<td>/templates/{env-temp-id}/services/{app-id}</td>
<td>Delete application with Specified id</td>
</tr>
</tbody>
</table>
<p><em>Parameters:</em></p>
<ul class="simple">
<li><cite>env-temp-id</cite> - The environment template ID, required</li>
<li><cite>app-id</cite> - The application ID, required</li>
</ul>
<dl class="docutils">
<dt><em>Content-Type</em></dt>
<dd>application/json</dd>
</dl>
<p><em>Response</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-01-26T09:12:51&quot;</span><span class="p">,</span>
   <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[],</span>
   <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;template_name&quot;</span><span class="p">,</span>
   <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-01-26T09:12:51&quot;</span><span class="p">,</span>
   <span class="s2">&quot;tenant_id&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000000000000000000000000001&quot;</span><span class="p">,</span>
   <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;aa9033ca7ce245fca10e38e1c8c4bbf7&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>OK. Application deleted successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to access this session</td>
</tr>
<tr class="row-even"><td>404</td>
<td>The application does not exist</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="get-applications-information-from-an-environment-template">
<h2>Get applications information from an environment template<a class="headerlink" href="#get-applications-information-from-an-environment-template" title="Permalink to this headline">¶</a></h2>
<p><em>Request</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="45%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET</td>
<td>/templates/{env-temp-id}/services</td>
<td>It obtains the service description</td>
</tr>
</tbody>
</table>
<p><em>Parameters:</em></p>
<ul class="simple">
<li><cite>env-temp-id</cite> - The environment template ID, required</li>
</ul>
<dl class="docutils">
<dt><em>Content-Type</em></dt>
<dd>application/json</dd>
</dl>
<p><em>Response</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span>
   <span class="p">{</span>
       <span class="s2">&quot;instance&quot;</span><span class="p">:</span>
       <span class="p">{</span>
           <span class="s2">&quot;assignFloatingIp&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
           <span class="s2">&quot;keyname&quot;</span><span class="p">:</span> <span class="s2">&quot;mykeyname&quot;</span><span class="p">,</span>
           <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;cloud-fedora-v3&quot;</span><span class="p">,</span>
           <span class="s2">&quot;flavor&quot;</span><span class="p">:</span> <span class="s2">&quot;m1.medium&quot;</span><span class="p">,</span>
           <span class="s2">&quot;?&quot;</span><span class="p">:</span>
           <span class="p">{</span>
               <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.resources.LinuxMuranoInstance&quot;</span><span class="p">,</span>
               <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ef984a74-29a4-45c0-b1dc-2ab9f075732e&quot;</span>
           <span class="p">}</span>
       <span class="p">},</span>
       <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tomcat&quot;</span><span class="p">,</span>
       <span class="s2">&quot;?&quot;</span><span class="p">:</span>
       <span class="p">{</span>
           <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.apps.apache.Tomcat&quot;</span><span class="p">,</span>
           <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;54cea43d-5970-4c73-b9ac-fea656f3c722&quot;</span>
       <span class="p">},</span>
       <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;8080&quot;</span>
   <span class="p">},</span>
   <span class="p">{</span>
       <span class="s2">&quot;instance&quot;</span><span class="p">:</span> <span class="s2">&quot;ef984a74-29a4-45c0-b1dc-2ab9f075732e&quot;</span><span class="p">,</span>
       <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;XXX&quot;</span><span class="p">,</span>
       <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;mysql&quot;</span><span class="p">,</span>
       <span class="s2">&quot;?&quot;</span><span class="p">:</span>
       <span class="p">{</span>
           <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.apps.database.MySQL&quot;</span><span class="p">,</span>
           <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;54cea43d-5970-4c73-b9ac-fea656f3c722&quot;</span>
       <span class="p">}</span>
   <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>OK. Application information received successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to access this session</td>
</tr>
<tr class="row-even"><td>404</td>
<td>The environment template does not exist</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-applications-information-from-an-environment-template">
<h2>Update applications information from an environment template<a class="headerlink" href="#update-applications-information-from-an-environment-template" title="Permalink to this headline">¶</a></h2>
<p><em>Request</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="51%" />
<col width="38%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>PUT</td>
<td>/templates/{env-temp-id}/services/{service-id}</td>
<td>It updates the service description</td>
</tr>
</tbody>
</table>
<p><em>Parameters:</em></p>
<ul class="simple">
<li><cite>env-temp-id</cite> - The environment template ID, required</li>
<li><cite>service-id</cite> - The service ID to be updated</li>
<li>payload - the service description</li>
</ul>
<dl class="docutils">
<dt><em>Content-Type</em></dt>
<dd>application/json</dd>
</dl>
<p><em>Example</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;instance&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;assignFloatingIp&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
        <span class="s2">&quot;keyname&quot;</span><span class="p">:</span> <span class="s2">&quot;mykeyname&quot;</span><span class="p">,</span>
        <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;cloud-fedora-v3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;flavor&quot;</span><span class="p">:</span> <span class="s2">&quot;m1.medium&quot;</span><span class="p">,</span>
        <span class="s2">&quot;?&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.resources.LinuxMuranoInstance&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ef984a74-29a4-45c0-b1dc-2ab9f075732e&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;orion&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;8080&quot;</span><span class="p">,</span>
    <span class="s2">&quot;?&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.apps.apache.Tomcat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;54cea43d-5970-4c73-b9ac-fea656f3c722&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>Response</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;instance&quot;</span><span class="p">:</span>
   <span class="p">{</span>
       <span class="s2">&quot;assignFloatingIp&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
       <span class="s2">&quot;keyname&quot;</span><span class="p">:</span> <span class="s2">&quot;mykeyname&quot;</span><span class="p">,</span>
       <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;cloud-fedora-v3&quot;</span><span class="p">,</span>
       <span class="s2">&quot;flavor&quot;</span><span class="p">:</span> <span class="s2">&quot;m1.medium&quot;</span><span class="p">,</span>
       <span class="s2">&quot;?&quot;</span><span class="p">:</span>
       <span class="p">{</span>
           <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.resources.LinuxMuranoInstance&quot;</span><span class="p">,</span>
           <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ef984a74-29a4-45c0-b1dc-2ab9f075732e&quot;</span>
       <span class="p">}</span>
   <span class="p">},</span>
   <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;orion&quot;</span><span class="p">,</span>
   <span class="s2">&quot;?&quot;</span><span class="p">:</span>
   <span class="p">{</span>
       <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.murano.apps.apache.Tomcat&quot;</span><span class="p">,</span>
       <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;54cea43d-5970-4c73-b9ac-fea656f3c722&quot;</span>
   <span class="p">},</span>
   <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;8080&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>OK. Environment Template updated successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to access this session</td>
</tr>
<tr class="row-even"><td>404</td>
<td>The environment template does not exist</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="create-an-environment-from-an-environment-template">
<h2>Create an environment from an environment template<a class="headerlink" href="#create-an-environment-from-an-environment-template" title="Permalink to this headline">¶</a></h2>
<p><em>Request</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="48%" />
<col width="41%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST</td>
<td>/templates/{env-temp-id}/create-environment</td>
<td>Create an environment</td>
</tr>
</tbody>
</table>
<p><em>Parameters:</em></p>
<ul class="simple">
<li><cite>env-temp-id</cite> - The environment template ID, required</li>
</ul>
<p><em>Payload:</em></p>
<ul class="simple">
<li>&#8216;environment name&#8217;: The environment name to be created.</li>
</ul>
<dl class="docutils">
<dt><em>Content-Type</em></dt>
<dd>application/json</dd>
</dl>
<p><em>Example</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;environment_name&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>Response</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;environment_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aa90fadfafca10e38e1c8c4bbf7&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;environment_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-01-26T09:12:51&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tenant_id&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000000000000000000000000001&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;session_id&quot;</span><span class="p">:</span> <span class="s2">&quot;adf4dadfaa9033ca7ce245fca10e38e1c8c4bbf7&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>OK. Environment created from template successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to access this session</td>
</tr>
<tr class="row-even"><td>404</td>
<td>The environment template does not exist</td>
</tr>
<tr class="row-odd"><td>409</td>
<td>The environment already exists</td>
</tr>
</tbody>
</table>
<p><strong>POST /templates/{env-temp-id}/clone</strong></p>
<p><em>Request</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="35%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">URI</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST</td>
<td>/templates/{env-temp-id}/clone</td>
<td>It clones a public template from one project
to another</td>
</tr>
</tbody>
</table>
<p><em>Parameters:</em></p>
<ul class="simple">
<li><cite>env-temp-id</cite> - environment template ID, required</li>
</ul>
<p><em>Example Payload</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;cloned_env_template_name&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>Content-Type</em></dt>
<dd>application/json</dd>
</dl>
<p><em>Response</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-01-26T09:12:51&quot;</span><span class="p">,</span>
   <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;cloned_env_template_name&quot;</span><span class="p">,</span>
   <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-01-26T09:12:51&quot;</span><span class="p">,</span>
   <span class="s2">&quot;tenant_id&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000000000000000000000000001&quot;</span><span class="p">,</span>
   <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s2">&quot;is_public&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
   <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;aa9033ca7ce245fca10e38e1c8c4bbf7&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200</td>
<td>OK. Environment Template cloned successfully</td>
</tr>
<tr class="row-odd"><td>401</td>
<td>User is not authorized to access this session</td>
</tr>
<tr class="row-even"><td>403</td>
<td>User has no access to these resources</td>
</tr>
<tr class="row-odd"><td>404</td>
<td>The environment template does not exist</td>
</tr>
<tr class="row-even"><td>409</td>
<td>Conflict. The environment template name already exists</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Environment template API</a><ul>
<li><a class="reference internal" href="#list-environments-templates">List Environments Templates</a></li>
<li><a class="reference internal" href="#create-environment-template">Create environment template</a></li>
<li><a class="reference internal" href="#get-environment-templates-details">Get environment templates details</a></li>
<li><a class="reference internal" href="#delete-environment-template">Delete environment template</a></li>
<li><a class="reference internal" href="#adding-application-to-environment-template">Adding application to environment template</a></li>
<li><a class="reference internal" href="#delete-application-from-an-environment-template">Delete application from an environment template</a></li>
<li><a class="reference internal" href="#get-applications-information-from-an-environment-template">Get applications information from an environment template</a></li>
<li><a class="reference internal" href="#update-applications-information-from-an-environment-template">Update applications information from an environment template</a></li>
<li><a class="reference internal" href="#create-an-environment-from-an-environment-template">Create an environment from an environment template</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="murano-repository.html"
                                  title="previous chapter">Application catalog API</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/murano
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/appendix/articles/specification/murano-env-temp.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="murano-repository.html" title="Application catalog API"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Murano</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../articles_index.html" >Miscellaneous</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Murano API v1 specification</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright .
      Last updated on &#39;Fri Feb 10 03:18:12 2017, commit fbee404&#39;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Murano");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>