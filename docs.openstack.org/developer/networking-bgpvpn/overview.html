<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>BGP VPN Interconnection Service Overview &mdash; networking-bgpvpn 5.0.1.dev77 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.0.1.dev77',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="networking-bgpvpn 5.0.1.dev77 documentation" href="index.html" />
    <link rel="next" title="BaGPipe driver" href="bagpipe/index.html" />
    <link rel="prev" title="Neutron BGP VPN Interconnection Documentation" href="index.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bgp-vpn-interconnection-service-overview">
<h1>BGP VPN Interconnection Service Overview<a class="headerlink" href="#bgp-vpn-interconnection-service-overview" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>BGP-based IP VPNs networks are widely used in the industry especially for
enterprises. This project aims at supporting inter-connection between L3VPNs
and Neutron resources, i.e. Networks, Routers and Ports.</p>
<p>A typical use-case is the following: a tenant already having a BGP IP VPN (a
set of external sites) setup outside the datacenter, and they want to be able
to trigger the establishment of connectivity between VMs and these VPN sites.</p>
<p>Another similar need is when E-VPN is used to provide an Ethernet interconnect
between multiple sites.</p>
<p>This service plugin exposes an API to interconnect OpenStack Neutron ports,
typically VMs, via the Networks and Routers they are connected to, with
an L3VPN network as defined by <a class="reference internal" href="#rfc4364" id="id1">[RFC4364]</a> (BGP/MPLS IP Virtual Private Networks).
The framework is generic to also support E-VPN <a class="reference internal" href="#rfc7432" id="id2">[RFC7432]</a>, which inherits the
same protocol architecture as BGP/MPLS IP VPNs.</p>
</div>
<div class="section" id="alternatives-and-related-techniques">
<h2>Alternatives and related techniques<a class="headerlink" href="#alternatives-and-related-techniques" title="Permalink to this headline">¶</a></h2>
<p>Other techniques are available to build VPNs, but the goal of this proposal
is to make it possible to create the interconnect we need when the technology
of BGP-based VPNs is already used outside an Openstack cloud.</p>
</div>
<div class="section" id="reminder-on-bgp-vpns-and-route-targets">
<h2>Reminder on BGP VPNs and Route Targets<a class="headerlink" href="#reminder-on-bgp-vpns-and-route-targets" title="Permalink to this headline">¶</a></h2>
<p>BGP-based VPNs allow a network operator to offer a VPN service to a VPN
customer, delivering isolating connectivity between multiple sites of this
customer.</p>
<p>Contrarily to for instance IPSec or SSL-based VPNs, these VPNs are not
typically built over the Internet, are most often not encrypted, and their
creation is not at the hand of the end-user.</p>
<p>Here is a reminder on how the connectivity is defined between sites of a VPN (VRFs).</p>
<p>In BGP-based VPNs, a set of identifiers called Route Targets are associated
with a VPN, and in the typical case identify a VPN ; they can also be used
to build other VPN topologies such as hub&#8217;n&#8217;spoke.</p>
<p>Each VRF (Virtual Routing and Forwarding) in a PE  (Provider Edge router)
imports/exports routes from/to Route Targets. If a VRF imports from a Route
Target, BGP IP VPN routes will be imported in this VRF. If a VRF exports to
a Route Target, the routes in the VRF will be associated to this Route Target
and announced by BGP.</p>
</div>
<div class="section" id="mapping-between-pes-ces-and-neutron-constructs">
<h2>Mapping between PEs/CEs and Neutron constructs<a class="headerlink" href="#mapping-between-pes-ces-and-neutron-constructs" title="Permalink to this headline">¶</a></h2>
<p>As outlined in the overview, how PEs, CEs (Customer Edge router), VRFs
map to Neutron constructs will depend on the backend driver used for this
service plugin.</p>
<p>For instance, with the current bagpipe driver, the PE and VRF functions
are implemented on compute nodes and the VMs are acting as CEs. This PE
function will BGP-peer with edge IP/MPLS routers, BGP Route Reflectors
or other PEs.</p>
<p>Bagpipe BGP which implements this function could also be instantiated
in network nodes, at the l3agent level, with a BGP speaker on each
l3agent; router namespaces could then be considered as CEs.</p>
<p>Other backends might want to consider the router as a CE and drive an
external PE to peer with the service provider PE, based on information
received with this API. It&#8217;s up to the backend to manage the connection
between the CE and the cloud provider PE.</p>
<p>Another typical option is where the driver delegates the work to an SDN
controller which drives a BGP implementation advertising/consuming the
relevant BGP routes and remotely drives the vswitches to setup the
datapath accordingly.</p>
</div>
<div class="section" id="api-and-workflows">
<h2>API and Workflows<a class="headerlink" href="#api-and-workflows" title="Permalink to this headline">¶</a></h2>
<p>BGP VPN are deployed, and managed by the operator, in particular to
manage Route Target identifiers that control the isolation between the different
VPNs. Because of this BGP VPN parameters cannot be chosen by tenants, but
only by the admin. In addition, network operators may prefer to not expose
actual Route Target values to the users.</p>
<p>The operation that is let at the hand of a tenant is the association of a BGPVPN
resource that it owns with his Neutron Networks or Routers.</p>
<p>So there are two workflows, one for the admin, one for a tenant.</p>
<ul class="simple">
<li>Admin/Operator Workflow: Creation of a BGPVPN<ul>
<li>the cloud/network admin creates a BGPVPN for a tenant based on
contract and OSS information about the VPN for this tenant</li>
<li>at this stage, the list of associated Networks and Routers can be empty</li>
</ul>
</li>
<li>Tenant Workflow: Association of a BGPVPN to Networks and/or Routers, on-demand<ul>
<li>the tenant lists the BGPVPNs that it can use</li>
<li>the tenant associates a BGPVPN with one or more Networks or Routers.</li>
</ul>
</li>
</ul>
<p>Sequence diagram summarizing these two workflows:</p>
<blockquote>
<div><div><svg height="2345" viewBox="0 0 1174 2345" width="1174" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="396" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="439" y="300" />
  <rect fill="rgb(0,0,0)" height="372" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="439" y="789" />
  <rect fill="rgb(0,0,0)" height="372" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="439" y="1269" />
  <rect fill="rgb(0,0,0)" height="561" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="439" y="1762" />
  <rect fill="rgb(0,0,0)" height="251" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="607" y="350" />
  <rect fill="rgb(0,0,0)" height="240" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="607" y="841" />
  <rect fill="rgb(0,0,0)" height="240" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="607" y="1321" />
  <rect fill="rgb(0,0,0)" height="435" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="607" y="1812" />
  <rect fill="rgb(0,0,0)" height="2182" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="775" y="141" />
  <rect fill="rgb(0,0,0)" height="50" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="779" y="471" />
  <rect fill="rgb(0,0,0)" height="65" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="779" y="936" />
  <rect fill="rgb(0,0,0)" height="65" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="779" y="1416" />
  <rect fill="rgb(0,0,0)" height="80" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="779" y="1892" />
  <rect fill="rgb(0,0,0)" height="64" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="943" y="141" />
  <rect fill="rgb(0,0,0)" height="91" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="943" y="2106" />
  <polygon fill="rgb(0,0,0)" points="963,191 1153,191 1161,199 1161,219 963,219 963,191" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" />
  <polygon fill="rgb(0,0,0)" points="307,343 419,343 427,351 427,358 307,358 307,343" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" />
  <polygon fill="rgb(0,0,0)" points="795,1878 961,1878 969,1886 969,1906 795,1906 795,1878" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" />
  <polygon fill="rgb(0,0,0)" points="607,2183 755,2183 763,2191 763,2211 607,2211 607,2183" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="43" y="46" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="211" y="46" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="379" y="46" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="547" y="46" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="715" y="46" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="883" y="46" />
  <path d="M 104 80 L 104 2333" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 272 80 L 272 2333" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <path d="M 440 80 L 440 2333" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="moccasin" height="396" stroke="rgb(0,0,0)" width="8" x="436" y="294" />
  <rect fill="moccasin" height="372" stroke="rgb(0,0,0)" width="8" x="436" y="783" />
  <rect fill="moccasin" height="372" stroke="rgb(0,0,0)" width="8" x="436" y="1263" />
  <rect fill="moccasin" height="561" stroke="rgb(0,0,0)" width="8" x="436" y="1756" />
  <path d="M 608 80 L 608 2333" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="moccasin" height="251" stroke="rgb(0,0,0)" width="8" x="604" y="344" />
  <rect fill="moccasin" height="240" stroke="rgb(0,0,0)" width="8" x="604" y="835" />
  <rect fill="moccasin" height="240" stroke="rgb(0,0,0)" width="8" x="604" y="1315" />
  <rect fill="moccasin" height="435" stroke="rgb(0,0,0)" width="8" x="604" y="1806" />
  <path d="M 776 80 L 776 2333" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="moccasin" height="2182" stroke="rgb(0,0,0)" width="8" x="772" y="135" />
  <rect fill="moccasin" height="50" stroke="rgb(0,0,0)" width="8" x="776" y="465" />
  <rect fill="moccasin" height="65" stroke="rgb(0,0,0)" width="8" x="776" y="930" />
  <rect fill="moccasin" height="65" stroke="rgb(0,0,0)" width="8" x="776" y="1410" />
  <rect fill="moccasin" height="80" stroke="rgb(0,0,0)" width="8" x="776" y="1886" />
  <path d="M 944 80 L 944 2333" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="moccasin" height="64" stroke="rgb(0,0,0)" width="8" x="940" y="135" />
  <rect fill="moccasin" height="91" stroke="rgb(0,0,0)" width="8" x="940" y="2100" />
  <rect fill="rgb(211,211,211)" height="40" stroke="rgb(0,0,0)" width="128" x="40" y="40" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="90" x="104" y="66">Openstack Admin</text>
  <rect fill="rgb(173,216,230)" height="40" stroke="rgb(0,0,0)" width="128" x="208" y="40" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="108" x="272" y="66">Openstack Tenant X</text>
  <rect fill="rgb(255,0,0)" height="40" stroke="rgb(0,0,0)" width="128" x="376" y="40" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="108" x="440" y="66">Neutron BGPVPN API</text>
  <rect fill="rgb(255,0,0)" height="40" stroke="rgb(0,0,0)" width="128" x="544" y="40" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="102" x="608" y="59">BGPVPN Driver for</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="66" x="608" y="72">backend Foo</text>
  <rect fill="rgb(255,165,0)" height="40" stroke="rgb(0,0,0)" width="128" x="712" y="40" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="108" x="776" y="66">BGPVPN Backend Foo</text>
  <rect fill="rgb(0,128,0)" height="40" stroke="rgb(0,0,0)" width="128" x="880" y="40" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="54" x="944" y="66">BGP Peers</text>
  <path d="M 784 135 L 936 135" fill="none" stroke="rgb(0,128,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,128,0)" points="928,131 936,135 928,139" stroke="rgb(0,128,0)" />
  <path d="M 784 199 L 936 199" fill="none" stroke="rgb(0,128,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,128,0)" points="792,195 784,199 792,203" stroke="rgb(0,128,0)" />
  <polygon fill="rgb(255,182,193)" points="960,185 1150,185 1158,193 1158,213 960,213 960,185" stroke="rgb(0,0,0)" />
  <path d="M 1150 185 L 1150 193" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 1150 193 L 1158 193" fill="none" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="174" x="1055" y="198">BGP sessions live in parallel</text>
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="144" x="1040" y="211">to BGPVPN service plugin</text>
  <path d="M 112 294 L 432 294" fill="none" stroke="rgb(0,0,255)" />
  <polygon fill="rgb(0,0,255)" points="424,290 432,294 424,298" stroke="rgb(0,0,255)" />
  <path d="M 448 344 L 600 344" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="592,340 600,344 592,348" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(255,182,193)" points="304,337 416,337 424,345 424,352 304,352 304,337" stroke="rgb(0,0,0)" />
  <path d="M 416 337 L 416 345" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 416 345 L 424 345" fill="none" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="96" x="360" y="350">persist resource</text>
  <path d="M 616 465 L 768 465" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="760,461 768,465 760,469" stroke="rgb(0,0,0)" />
  <path d="M 616 515 L 768 515" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="624,511 616,515 624,519" stroke="rgb(0,0,0)" />
  <path d="M 448 595 L 600 595" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="456,591 448,595 456,599" stroke="rgb(0,0,0)" />
  <path d="M 112 690 L 432 690" fill="none" stroke="rgb(0,0,255)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,255)" points="120,686 112,690 120,694" stroke="rgb(0,0,255)" />
  <path d="M 112 783 L 432 783" fill="none" stroke="rgb(0,0,255)" />
  <polygon fill="rgb(0,0,255)" points="424,779 432,783 424,787" stroke="rgb(0,0,255)" />
  <path d="M 448 835 L 600 835" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="592,831 600,835 592,839" stroke="rgb(0,0,0)" />
  <path d="M 616 930 L 768 930" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="760,926 768,930 760,934" stroke="rgb(0,0,0)" />
  <path d="M 616 995 L 768 995" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="624,991 616,995 624,999" stroke="rgb(0,0,0)" />
  <path d="M 448 1075 L 600 1075" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="456,1071 448,1075 456,1079" stroke="rgb(0,0,0)" />
  <path d="M 112 1155 L 432 1155" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="120,1151 112,1155 120,1159" stroke="rgb(0,0,0)" />
  <path d="M 280 1263 L 432 1263" fill="none" stroke="rgb(0,0,255)" />
  <polygon fill="rgb(0,0,255)" points="424,1259 432,1263 424,1267" stroke="rgb(0,0,255)" />
  <path d="M 448 1315 L 600 1315" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="592,1311 600,1315 592,1319" stroke="rgb(0,0,0)" />
  <path d="M 616 1410 L 768 1410" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="760,1406 768,1410 760,1414" stroke="rgb(0,0,0)" />
  <path d="M 616 1475 L 768 1475" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="624,1471 616,1475 624,1479" stroke="rgb(0,0,0)" />
  <path d="M 448 1555 L 600 1555" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="456,1551 448,1555 456,1559" stroke="rgb(0,0,0)" />
  <path d="M 280 1635 L 432 1635" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="288,1631 280,1635 288,1639" stroke="rgb(0,0,0)" />
  <path d="M 280 1756 L 432 1756" fill="none" stroke="rgb(0,0,255)" />
  <polygon fill="rgb(0,0,255)" points="424,1752 432,1756 424,1760" stroke="rgb(0,0,255)" />
  <path d="M 448 1806 L 600 1806" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="592,1802 600,1806 592,1810" stroke="rgb(0,0,0)" />
  <path d="M 616 1886 L 768 1886" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="760,1882 768,1886 760,1890" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(255,182,193)" points="792,1872 958,1872 966,1880 966,1900 792,1900 792,1872" stroke="rgb(0,0,0)" />
  <path d="M 958 1872 L 958 1880" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 958 1880 L 966 1880" fill="none" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="150" x="875" y="1885">now ready to interconnect</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="132" x="866" y="1898">Network Z and BGPVPN Y</text>
  <path d="M 616 1966 L 768 1966" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="624,1962 616,1966 624,1970" stroke="rgb(0,0,0)" />
  <path d="M 784 2100 L 936 2100" fill="none" stroke="rgb(0,128,0)" />
  <polygon fill="rgb(0,128,0)" points="928,2096 936,2100 928,2104" stroke="rgb(0,128,0)" />
  <path d="M 784 2191 L 936 2191" fill="none" stroke="rgb(0,128,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,128,0)" points="792,2187 784,2191 792,2195" stroke="rgb(0,128,0)" />
  <polygon fill="rgb(255,182,193)" points="604,2177 752,2177 760,2185 760,2205 604,2205 604,2177" stroke="rgb(0,0,0)" />
  <path d="M 752 2177 L 752 2185" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 752 2185 L 760 2185" fill="none" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="132" x="678" y="2190">forwarding plane setup</text>
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="90" x="657" y="2203">(e.g. MPLS/GRE)</text>
  <path d="M 448 2241 L 600 2241" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="456,2237 448,2241 456,2245" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="72" x="824" y="133">BGP peerings</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="132" x="182" y="266">POST: create a BGP VPN</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="162" x="197" y="279">resource corresponding to a</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="42" x="137" y="292">BGP VPN</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="144" x="692" y="437">(driver-backend exchange</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="6" x="623" y="450">s</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="683" y="463">varying bw. backends)</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="48" x="408" y="688">BGPVPN Y</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="138" x="185" y="768">UPDATE: set tenant X as</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="102" x="167" y="781">owner of BGPVPN Y</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="18" x="629" y="928">(?)</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="108" x="338" y="1248">GET:Learns that it</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="78" x="323" y="1261">owns BGPVPN Y</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="18" x="629" y="1408">(?)</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="144" x="356" y="1728">UPDATE:Associate BGPVPN </text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="24" x="296" y="1741">Y to</text>
  <text fill="rgb(0,0,255)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="54" x="311" y="1754">network Z</text>
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="845" y="2059">MP-BGP VPNv4 routes</text>
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="144" x="860" y="2072">toward Network Z exporte</text>
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="6" x="791" y="2085">d</text>
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="72" x="824" y="2098">to BGP VPN Y</text>
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="114" x="879" y="2170">MP-BGP VPNv4 routes</text>
  <text fill="rgb(0,128,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="138" x="867" y="2183">from BGP VPN Y prefixes</text>
</svg>
</div>
</div></blockquote>
</div>
<div class="section" id="component-architecture-overview">
<h2>Component architecture overview<a class="headerlink" href="#component-architecture-overview" title="Permalink to this headline">¶</a></h2>
<p>This diagram gives an overview of the architecture:</p>
<blockquote>
<div><div><svg height="460" viewBox="0 0 1216 460" width="1216" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(255,0,0)" height="260" style="filter:url(#filter_blur)" width="336" x="248" y="30" />
  <rect fill="rgb(255,165,0)" height="400" style="filter:url(#filter_blur)" width="336" x="632" y="30" />
  <path d="M 264 40 L 376 40 A8,8 0 0 1 384 48 L 384 132 A8,8 0 0 1 376 140 L 264 140 A8,8 0 0 1 256 132 L 256 48 A8,8 0 0 1 264 40" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="320" y="96">BGPVPN API</text>
  <path d="M 256 188 A64,8 0 0 1 384 188 L 384 272 A64,8 0 0 1 256 272 L 256 188" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <path d="M 384 188 A64,8 0 0 1 256 188" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="12" x="320" y="240">DB</text>
  <path d="M 456 40 L 568 40 A8,8 0 0 1 576 48 L 576 132 A8,8 0 0 1 568 140 L 456 140 A8,8 0 0 1 448 132 L 448 48 A8,8 0 0 1 456 40" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="36" x="512" y="96">driver</text>
  <polygon fill="rgb(255,165,0)" points="640,40 752,40 768,56 768,140 640,140 640,40" stroke="rgb(0,0,0)" stroke-dasharray="0 65535" />
  <path d="M 752 40 L 752 56" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="0 65535" />
  <path d="M 752 56 L 768 56" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="0 65535" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="66" x="704" y="89">can be e.g.</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="120" x="704" y="102">an 'SDN' solution...</text>
  <rect fill="none" height="100" stroke="rgb(0,0,0)" width="128" x="648" y="188" />
  <rect fill="none" height="100" stroke="rgb(0,0,0)" width="128" x="644" y="184" />
  <rect fill="none" height="100" stroke="rgb(0,0,0)" width="128" x="640" y="180" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="18" x="704" y="236">...</text>
  <path d="M 656 328 L 768 328 A8,8 0 0 1 776 336 L 776 420 A8,8 0 0 1 768 428 L 656 428 A8,8 0 0 1 648 420 L 648 336 A8,8 0 0 1 656 328" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <path d="M 652 324 L 764 324 A8,8 0 0 1 772 332 L 772 416 A8,8 0 0 1 764 424 L 652 424 A8,8 0 0 1 644 416 L 644 332 A8,8 0 0 1 652 324" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <path d="M 648 320 L 760 320 A8,8 0 0 1 768 328 L 768 412 A8,8 0 0 1 760 420 L 648 420 A8,8 0 0 1 640 412 L 640 328 A8,8 0 0 1 648 320" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="54" x="704" y="369">vswitches</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="704" y="382">and/or routers</text>
  <path d="M 848 188 L 960 188 A8,8 0 0 1 968 196 L 968 280 A8,8 0 0 1 960 288 L 848 288 A8,8 0 0 1 840 280 L 840 196 A8,8 0 0 1 848 188" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <path d="M 844 184 L 956 184 A8,8 0 0 1 964 192 L 964 276 A8,8 0 0 1 956 284 L 844 284 A8,8 0 0 1 836 276 L 836 192 A8,8 0 0 1 844 184" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <path d="M 840 180 L 952 180 A8,8 0 0 1 960 188 L 960 272 A8,8 0 0 1 952 280 L 840 280 A8,8 0 0 1 832 272 L 832 188 A8,8 0 0 1 840 180" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="90" x="896" y="236">MP-BGP Speakers</text>
  <path d="M 1040 188 L 1152 188 A8,8 0 0 1 1160 196 L 1160 280 A8,8 0 0 1 1152 288 L 1040 288 A8,8 0 0 1 1032 280 L 1032 196 A8,8 0 0 1 1040 188" fill="rgb(0,128,0)" stroke="rgb(0,0,0)" />
  <path d="M 1036 184 L 1148 184 A8,8 0 0 1 1156 192 L 1156 276 A8,8 0 0 1 1148 284 L 1036 284 A8,8 0 0 1 1028 276 L 1028 192 A8,8 0 0 1 1036 184" fill="rgb(0,128,0)" stroke="rgb(0,0,0)" />
  <path d="M 1032 180 L 1144 180 A8,8 0 0 1 1152 188 L 1152 272 A8,8 0 0 1 1144 280 L 1032 280 A8,8 0 0 1 1024 272 L 1024 188 A8,8 0 0 1 1032 180" fill="rgb(0,128,0)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="54" x="1088" y="236">BGP Peers</text>
  <path d="M 1032 320 L 1144 320 A8,8 0 0 1 1152 328 L 1152 412 A8,8 0 0 1 1144 420 L 1032 420 A8,8 0 0 1 1024 412 L 1024 328 A8,8 0 0 1 1032 320" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="72" x="1088" y="376">MPLS routers</text>
  <polygon fill="rgb(255,255,255)" points="134,70 134,80 168,80 168,90 134,90 134,100 163,130 148,130 128,110 108,130 93,130 122,100 122,90 88,90 88,80 122,80 122,70" stroke="rgb(0,0,0)" />
  <ellipse cx="128" cy="60" fill="rgb(255,255,255)" rx="15" ry="15" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="78" x="128" y="143">admin, tenant</text>
  <path d="M 168 90 L 248 90" fill="none" stroke="rgb(0,0,255)" />
  <polygon fill="rgb(0,0,255)" points="255,90 248,86 248,94 255,90" stroke="rgb(0,0,255)" />
  <path d="M 384 90 L 440 90" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="447,90 440,86 440,94 447,90" stroke="rgb(0,0,0)" />
  <path d="M 320 140 L 320 172" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,179 316,172 324,172 320,179" stroke="rgb(0,0,0)" />
  <path d="M 512 140 L 512 160" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 160 L 512 160" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 160 L 320 172" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,179 316,172 324,172 320,179" stroke="rgb(0,0,0)" />
  <path d="M 576 90 L 608 90" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 608 90 L 608 230" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 608 230 L 632 230" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="639,230 632,226 632,234 639,230" stroke="rgb(0,0,0)" />
  <path d="M 784 230 L 824 230" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="777,230 784,226 784,234 777,230" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="831,230 824,226 824,234 831,230" stroke="rgb(0,0,0)" />
  <path d="M 704 288 L 704 312" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="704,319 700,312 708,312 704,319" stroke="rgb(0,0,0)" />
  <path d="M 784 370 L 1016 370" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="777,370 784,366 784,374 777,370" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1023,370 1016,366 1016,374 1023,370" stroke="rgb(0,0,0)" />
  <path d="M 976 230 L 1016 230" fill="none" stroke="rgb(0,128,0)" />
  <polygon fill="rgb(0,128,0)" points="969,230 976,226 976,234 969,230" stroke="rgb(0,128,0)" />
  <polygon fill="rgb(0,128,0)" points="1023,230 1016,226 1016,234 1023,230" stroke="rgb(0,128,0)" />
  <path d="M 1088 288 L 1088 320" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="2" />
  <rect fill="white" height="28" stroke="rgb(0,0,0)" width="46" x="873" y="326" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="24" x="896" y="339">MPLS</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="30" x="896" y="352">or ..</text>
  <rect fill="white" height="15" stroke="rgb(0,0,0)" width="52" x="966" y="193" />
  <text fill="green" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="36" x="992" y="206">MP-BGP</text>
  <rect fill="none" height="260" stroke="rgb(211,211,211)" stroke-dasharray="12" stroke-width="3" width="144" x="1016" y="170" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="416" y="36">BGPVPN service plugin</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="42" x="800" y="36">Backend</text>
</svg>
</div>
</div></blockquote>
<p>This second diagram depicts how the <em>bagpipe</em> reference driver implements its
backend:</p>
<blockquote>
<div><div><svg height="460" viewBox="0 0 1216 460" width="1216" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(255,0,0)" height="260" style="filter:url(#filter_blur)" width="336" x="248" y="30" />
  <rect fill="rgb(255,165,0)" height="400" style="filter:url(#filter_blur)" width="336" x="632" y="30" />
  <path d="M 264 40 L 376 40 A8,8 0 0 1 384 48 L 384 132 A8,8 0 0 1 376 140 L 264 140 A8,8 0 0 1 256 132 L 256 48 A8,8 0 0 1 264 40" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="320" y="96">BGPVPN API</text>
  <path d="M 256 188 A64,8 0 0 1 384 188 L 384 272 A64,8 0 0 1 256 272 L 256 188" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <path d="M 384 188 A64,8 0 0 1 256 188" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="320" y="240">Neutron DB</text>
  <path d="M 456 40 L 568 40 A8,8 0 0 1 576 48 L 576 132 A8,8 0 0 1 568 140 L 456 140 A8,8 0 0 1 448 132 L 448 48 A8,8 0 0 1 456 40" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="84" x="512" y="96">bagpipe driver</text>
  <polygon fill="rgb(255,165,0)" points="640,40 752,40 768,56 768,140 640,140 640,40" stroke="rgb(0,0,0)" stroke-dasharray="0 65535" />
  <path d="M 752 40 L 752 56" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="0 65535" />
  <path d="M 752 56 L 768 56" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="0 65535" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="90" x="704" y="89">on each compute</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="72" x="704" y="102">node ...   :</text>
  <path d="M 648 180 L 760 180 A8,8 0 0 1 768 188 L 768 272 A8,8 0 0 1 760 280 L 648 280 A8,8 0 0 1 640 272 L 640 188 A8,8 0 0 1 648 180" fill="rgb(128,128,128)" stroke="rgb(0,0,0)" />
  <text fill="rgb(255,140,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="102" x="704" y="229">OpenVSwitch Agent</text>
  <text fill="rgb(255,140,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="108" x="704" y="242">+ BGPVPN extension</text>
  <path d="M 648 320 L 760 320 A8,8 0 0 1 768 328 L 768 412 A8,8 0 0 1 760 420 L 648 420 A8,8 0 0 1 640 412 L 640 328 A8,8 0 0 1 648 320" fill="rgb(211,211,211)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="102" x="704" y="376">OVS br-int/br-tun</text>
  <path d="M 840 320 L 952 320 A8,8 0 0 1 960 328 L 960 412 A8,8 0 0 1 952 420 L 840 420 A8,8 0 0 1 832 412 L 832 328 A8,8 0 0 1 840 320" fill="rgb(255,140,0)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="66" x="896" y="376">OVS br-mpls</text>
  <path d="M 840 180 L 952 180 A8,8 0 0 1 960 188 L 960 272 A8,8 0 0 1 952 280 L 840 280 A8,8 0 0 1 832 272 L 832 188 A8,8 0 0 1 840 180" fill="rgb(255,140,0)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="66" x="896" y="236">bagpipe-bgp</text>
  <path d="M 1040 188 L 1152 188 A8,8 0 0 1 1160 196 L 1160 280 A8,8 0 0 1 1152 288 L 1040 288 A8,8 0 0 1 1032 280 L 1032 196 A8,8 0 0 1 1040 188" fill="rgb(0,128,0)" stroke="rgb(0,0,0)" />
  <path d="M 1036 184 L 1148 184 A8,8 0 0 1 1156 192 L 1156 276 A8,8 0 0 1 1148 284 L 1036 284 A8,8 0 0 1 1028 276 L 1028 192 A8,8 0 0 1 1036 184" fill="rgb(0,128,0)" stroke="rgb(0,0,0)" />
  <path d="M 1032 180 L 1144 180 A8,8 0 0 1 1152 188 L 1152 272 A8,8 0 0 1 1144 280 L 1032 280 A8,8 0 0 1 1024 272 L 1024 188 A8,8 0 0 1 1032 180" fill="rgb(0,128,0)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="54" x="1088" y="236">BGP Peers</text>
  <path d="M 1032 320 L 1144 320 A8,8 0 0 1 1152 328 L 1152 412 A8,8 0 0 1 1144 420 L 1032 420 A8,8 0 0 1 1024 412 L 1024 328 A8,8 0 0 1 1032 320" fill="rgb(255,255,255)" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="72" x="1088" y="376">MPLS routers</text>
  <polygon fill="rgb(255,255,255)" points="134,70 134,80 168,80 168,90 134,90 134,100 163,130 148,130 128,110 108,130 93,130 122,100 122,90 88,90 88,80 122,80 122,70" stroke="rgb(0,0,0)" />
  <ellipse cx="128" cy="60" fill="rgb(255,255,255)" rx="15" ry="15" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="78" x="128" y="143">admin, tenant</text>
  <path d="M 168 90 L 248 90" fill="none" stroke="rgb(0,0,255)" />
  <polygon fill="rgb(0,0,255)" points="255,90 248,86 248,94 255,90" stroke="rgb(0,0,255)" />
  <path d="M 384 90 L 440 90" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="447,90 440,86 440,94 447,90" stroke="rgb(0,0,0)" />
  <path d="M 320 140 L 320 172" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,179 316,172 324,172 320,179" stroke="rgb(0,0,0)" />
  <path d="M 584 90 L 608 90" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 608 90 L 608 230" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 608 230 L 632 230" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="577,90 584,86 584,94 577,90" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="639,230 632,226 632,234 639,230" stroke="rgb(0,0,0)" />
  <path d="M 512 140 L 512 160" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 160 L 512 160" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 160 L 320 172" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,179 316,172 324,172 320,179" stroke="rgb(0,0,0)" />
  <path d="M 768 230 L 824 230" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="831,230 824,226 824,234 831,230" stroke="rgb(0,0,0)" />
  <path d="M 704 280 L 704 312" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="704,319 700,312 708,312 704,319" stroke="rgb(0,0,0)" />
  <path d="M 776 370 L 824 370" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="769,370 776,366 776,374 769,370" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="831,370 824,366 824,374 831,370" stroke="rgb(0,0,0)" />
  <path d="M 968 370 L 1016 370" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="961,370 968,366 968,374 961,370" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="1023,370 1016,366 1016,374 1023,370" stroke="rgb(0,0,0)" />
  <path d="M 896 280 L 896 312" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="896,319 892,312 900,312 896,319" stroke="rgb(0,0,0)" />
  <path d="M 968 230 L 1016 230" fill="none" stroke="rgb(0,128,0)" />
  <polygon fill="rgb(0,128,0)" points="961,230 968,226 968,234 961,230" stroke="rgb(0,128,0)" />
  <polygon fill="rgb(0,128,0)" points="1023,230 1016,226 1016,234 1023,230" stroke="rgb(0,128,0)" />
  <path d="M 1088 288 L 1088 320" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="2" />
  <rect fill="white" height="15" stroke="rgb(0,0,0)" width="40" x="588" y="193" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="24" x="608" y="206">RPCs</text>
  <rect fill="white" height="15" stroke="rgb(0,0,0)" width="58" x="771" y="333" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="42" x="800" y="346">packets</text>
  <rect fill="white" height="28" stroke="rgb(0,0,0)" width="46" x="969" y="326" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="24" x="992" y="339">MPLS</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="30" x="992" y="352">or ..</text>
  <rect fill="white" height="15" stroke="rgb(0,0,0)" width="52" x="966" y="193" />
  <text fill="green" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="36" x="992" y="206">MP-BGP</text>
  <rect fill="none" height="260" stroke="rgb(211,211,211)" stroke-dasharray="12" stroke-width="3" width="144" x="1016" y="170" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="416" y="36">BGPVPN service plugin</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="90" x="800" y="36">bagpipe backend</text>
</svg>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="drivers">
<h1>Drivers<a class="headerlink" href="#drivers" title="Permalink to this headline">¶</a></h1>
<p>The BGPVPN service plugin supports the following drivers:</p>
<ul class="simple">
<li><em>bagpipe</em>, the reference driver working jointly with Neutron&#8217;s <em>openvswitch</em> ML2 mechanism driver (see <a class="reference internal" href="bagpipe/index.html"><em>BaGPipe driver</em></a>)</li>
<li><em>opencontrail</em>, for <a class="reference internal" href="#opencontrail" id="id3">[OpenContrail]</a> (see <a class="reference internal" href="opencontrail/index.html"><em>OpenContrail driver</em></a>)</li>
<li><em>opendaylight</em>, for <a class="reference internal" href="#opendaylight" id="id4">[OpenDaylight]</a> (see <a class="reference internal" href="opendaylight/index.html"><em>OpenDaylight driver</em></a>)</li>
<li><em>nuage</em>, for <a class="reference internal" href="#nuage-networks" id="id5">[Nuage-Networks]</a> (see <a class="reference internal" href="nuage/index.html"><em>Nuage Networks driver</em></a>)</li>
</ul>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="bagpipe/index.html">BaGPipe driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="opencontrail/index.html">OpenContrail driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="opendaylight/index.html">OpenDaylight driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="nuage/index.html">Nuage Networks driver</a></li>
</ul>
</div>
</div>
<div class="section" id="references">
<h1>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h1>
<table class="docutils citation" frame="void" id="opencontrail" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[OpenContrail]</a></td><td><a class="reference external" href="http://www.opencontrail.org">http://www.opencontrail.org</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="opendaylight" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[OpenDaylight]</a></td><td><a class="reference external" href="http://www.opendaylight.org">http://www.opendaylight.org</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="nuage-networks" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[Nuage-Networks]</a></td><td><a class="reference external" href="http://www.nuagenetworks.net">http://www.nuagenetworks.net</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="rfc4364" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[RFC4364]</a></td><td>BGP/MPLS IP Virtual Private Networks (IP VPNs) <a class="reference external" href="http://tools.ietf.org/html/rfc4364">http://tools.ietf.org/html/rfc4364</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="rfc7432" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[RFC7432]</a></td><td>BGP MPLS-Based Ethernet VPN (Ethernet VPNs, a.k.a E-VPN) <a class="reference external" href="http://tools.ietf.org/html/rfc7432">http://tools.ietf.org/html/rfc7432</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="draft-ietf-bess-evpn-overlay" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[draft-ietf-bess-evpn-overlay]</td><td>E-VPN for VXLAN/NVGRE/MPLS-GRE <a class="reference external" href="https://tools.ietf.org/html/draft-ietf-bess-evpn-overlay">https://tools.ietf.org/html/draft-ietf-bess-evpn-overlay</a></td></tr>
</tbody>
</table>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">BGP VPN Interconnection Service Overview</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#alternatives-and-related-techniques">Alternatives and related techniques</a></li>
<li><a class="reference internal" href="#reminder-on-bgp-vpns-and-route-targets">Reminder on BGP VPNs and Route Targets</a></li>
<li><a class="reference internal" href="#mapping-between-pes-ces-and-neutron-constructs">Mapping between PEs/CEs and Neutron constructs</a></li>
<li><a class="reference internal" href="#api-and-workflows">API and Workflows</a></li>
<li><a class="reference internal" href="#component-architecture-overview">Component architecture overview</a></li>
</ul>
</li>
<li><a class="reference internal" href="#drivers">Drivers</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="index.html"
                                  title="previous chapter">Neutron BGP VPN Interconnection Documentation</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="bagpipe/index.html"
                                  title="next chapter">BaGPipe driver</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/networking-bgpvpn
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/overview.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="bagpipe/index.html" title="BaGPipe driver"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Neutron BGP VPN Interconnection Documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">networking-bgpvpn 5.0.1.dev77 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2013, OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/networking-bgpvpn");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>