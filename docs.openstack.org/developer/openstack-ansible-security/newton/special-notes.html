<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Deviations &amp; Special Notes</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="_static/css/combined.css" rel="stylesheet">
<link href="_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/videos/summits">Summit Videos</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
    <h2>Deviations &amp; Special Notes</h2>
  </div>
  <div class="docs-actions">
    
    <a href="getting-started.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Getting started"></i></a>
    
    
    <a href="controls.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Security hardening controls in detail"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2017-02-08 13:35</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

              </div>
              <div class="docs-body">

  <div class="section" id="deviations-special-notes">
<h1>Deviations &amp; Special Notes<a class="headerlink" href="#deviations-special-notes" title="Permalink to this headline">¶</a></h1>
<p>The Security Technical Implementation Guide (STIG) provides over 200 controls
to secure a Linux system, but some of these configurations can cause problems
with production environments.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#reviewing-deviations" id="id1">Reviewing deviations</a></li>
<li><a class="reference internal" href="#aide-initialization" id="id2">AIDE initialization</a></li>
<li><a class="reference internal" href="#auditd" id="id3">auditd</a></li>
<li><a class="reference internal" href="#authentication" id="id4">Authentication</a></li>
<li><a class="reference internal" href="#kernel-modules" id="id5">Kernel modules</a></li>
<li><a class="reference internal" href="#linux-security-modules-lsm" id="id6">Linux Security Modules (LSM)</a></li>
<li><a class="reference internal" href="#mail" id="id7">Mail</a></li>
<li><a class="reference internal" href="#removing-and-disabling-services" id="id8">Removing and disabling services</a></li>
<li><a class="reference internal" href="#ssh-server" id="id9">SSH server</a></li>
<li><a class="reference internal" href="#sysctl-settings" id="id10">sysctl settings</a></li>
<li><a class="reference internal" href="#time-synchronization" id="id11">Time synchronization</a></li>
<li><a class="reference internal" href="#umask-adjustments" id="id12">umask adjustments</a></li>
</ul>
</div>
<div class="section" id="reviewing-deviations">
<h2>Reviewing deviations<a class="headerlink" href="#reviewing-deviations" title="Permalink to this headline">¶</a></h2>
<p>The openstack-ansible-security role deviates from some of the STIG&#8217;s
requirements when a security control could cause significant issues with
production systems. The role classifies each control into an implementation
status and provides notes on why a certain control is skipped or altered.</p>
<p>The following provides a brief overview of each implementation status:</p>
<dl class="docutils">
<dt>Exception</dt>
<dd>If a control requires manual intervention outside the host, or if it could
cause significant harm to a host, it will be skipped and listed as an
exception. All controls in this category are not implemented in Ansible.</dd>
<dt>Configuration Required</dt>
<dd>These controls require some type of initial configuration before they can
be applied. Review the notes for each control to determine how to configure
each of them.</dd>
<dt>Implemented</dt>
<dd>These controls are fully implemented and they may have configurations which
can be adjusted. The notes for each control will identify which configuration
options are available.</dd>
<dt>Opt-In</dt>
<dd>The controls in the opt-in list are implemented in Ansible, but are disabled
by default. They are often disabled because they could cause harm to a subset
of systems. Each control has notes that explains the caveats of the control
and how to enable it if needed.</dd>
</dl>
<p>Deployers should review the full list of controls
<a class="reference external" href="auto_controls-by-status.html">sorted by implementation status</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All of the default configurations are found within <tt class="docutils literal"><span class="pre">defaults/main.yml</span></tt>.</p>
</div>
</div>
<div class="section" id="aide-initialization">
<h2>AIDE initialization<a class="headerlink" href="#aide-initialization" title="Permalink to this headline">¶</a></h2>
<p>The STIG sets requirements for integrity monitoring of the system and the role
will install AIDE to meet these requirements.</p>
<p>By default AIDE will examine and monitor all of the files on a host unless
directories are added to its exclusion list. The security role sets directories
to exclude from AIDE monitoring via the <tt class="docutils literal"><span class="pre">aide_exclude_dirs</span></tt> variable. this
list excludes the most common directories that change very often via automated
methods.</p>
<p>Even with the excluded directories, the first AIDE initialization can take a
long time on some systems. During this time, the CPU and disks are <strong>very
busy</strong>.</p>
<p>The security role will skip the AIDE initialization step by default. Deployers
must set the following Ansible variable to initialize the database:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_initialize_aide</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
<div class="section" id="auditd">
<h2>auditd<a class="headerlink" href="#auditd" title="Permalink to this headline">¶</a></h2>
<p>The audit daemon (<tt class="docutils literal"><span class="pre">auditd</span></tt>) is required by the STIG and it provides useful
logging of critical events on a Linux server. The audit daemon monitors
syscalls on a Linux system and logs alerts based on sets of auditing rules.</p>
<dl class="docutils">
<dt>Rules for auditd</dt>
<dd><p class="first">Each set of rules is controlled by Ansible variables that begin with
<tt class="docutils literal"><span class="pre">security_audit_</span></tt>. To omit a set of rules on a host, set the variable to
<tt class="docutils literal"><span class="pre">no</span></tt>. To include a set of rules on a host, set the variable to <tt class="docutils literal"><span class="pre">yes</span></tt>.</p>
<p>For example, setting <tt class="docutils literal"><span class="pre">security_audit_filesystem_mounts</span></tt> to <tt class="docutils literal"><span class="pre">yes</span></tt> will
ensure that the rules for auditing filesystem mounts are included on each
host. Setting <tt class="docutils literal"><span class="pre">security_audit_filesystem_mounts</span></tt> to <tt class="docutils literal"><span class="pre">no</span></tt> will omit that
group of rules on each host.</p>
<p class="last">To review the full list of rules and variables, refer to
<tt class="docutils literal"><span class="pre">templates/osas-auditd.j2</span></tt>.</p>
</dd>
<dt>Handling audit emergencies</dt>
<dd><p class="first">There are several configurations for auditd which are critical for deployers
to review in detail.  The options beneath the <tt class="docutils literal"><span class="pre">##</span> <span class="pre">Auditd</span> <span class="pre">configuration</span></tt>
comment will change how auditd handles log files and what it should do in
case of emergencies.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some of these configuration options can cause serious issues on
production systems, ranging from a reduction in security to servers going
offline unexpectedly.  There is extensive documentation in the developer notes
for each STIG requirement.</p>
</div>
</dd>
</dl>
</div>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>The STIG sets requirements for various authentication-related security
controls, including password complexity, password aging/locking, and
simultaneous logins.  All of these can cause issues on production systems.</p>
<dl class="docutils">
<dt>Handling multiple failed login attempts</dt>
<dd><p class="first">The fail2ban service is installed to meet some requirements around failed
login attempts.  The STIG requires <tt class="docutils literal"><span class="pre">pam_faillock</span></tt>, but that module isn&#8217;t
available in the Linux distributions supported by this role.</p>
<p>To opt-in for the fail2ban service to be installed, set
<tt class="docutils literal"><span class="pre">security_install_fail2ban</span></tt> to <tt class="docutils literal"><span class="pre">yes</span></tt> and set an appropriate time for bans
with <tt class="docutils literal"><span class="pre">security_fail2ban_bantime</span></tt>.  See the notes for
<a class="reference internal" href="auto_controls-all.html#stig-v-38501"><em>V-38501</em></a> for more details.</p>
<p class="last">Note that fail2ban will not take action on failed logins via physical
consoles or consoles exposed to out of band interfaces, such as DRAC, IPMI,
or iLO. This will be fixed in a future release.</p>
</dd>
</dl>
<p>Deployers are urged to review each item in the <tt class="docutils literal"><span class="pre">##</span> <span class="pre">PAM</span> <span class="pre">and</span> <span class="pre">Authentication</span></tt>
section in <tt class="docutils literal"><span class="pre">defaults/main.yml</span></tt> as well as the developer notes for each
requirement. The notes explain the potential pitfalls from each configuration
item and they provide alternatives when a configuration isn&#8217;t directly
available.</p>
</div>
<div class="section" id="kernel-modules">
<h2>Kernel modules<a class="headerlink" href="#kernel-modules" title="Permalink to this headline">¶</a></h2>
<p>Certain kernel modules are restricted by the STIG because they can become a
security threat to a server. The Ansible tasks will disable most of these
variables in accordance with the STIG. These changes are controlled by Ansible
variables matching the pattern <tt class="docutils literal"><span class="pre">security_disable_module_MODULENAME</span></tt>. Refer to
<tt class="docutils literal"><span class="pre">defaults/main.yml</span></tt> for a full list of these variables.</p>
<p>A setting of <tt class="docutils literal"><span class="pre">yes</span></tt> means that the module will be disabled on the next boot
and a setting of <tt class="docutils literal"><span class="pre">no</span></tt> means that the state of the module will not be changed.</p>
<p>All of the defaults are set in accordance with the STIG&#8217;s requitements with
the exception of the <tt class="docutils literal"><span class="pre">usb_storage</span></tt> kernel module.  This module is used
frequently with external hard drives, USB sticks, and with some IPMI
implementations.  Deployers who wish to follow the STIG guidelines will need
to set <tt class="docutils literal"><span class="pre">usb_storage</span></tt> to <tt class="docutils literal"><span class="pre">yes</span></tt> so that the <tt class="docutils literal"><span class="pre">usb_storage</span></tt> module is
disabled on the next boot.</p>
</div>
<div class="section" id="linux-security-modules-lsm">
<h2>Linux Security Modules (LSM)<a class="headerlink" href="#linux-security-modules-lsm" title="Permalink to this headline">¶</a></h2>
<p>The STIG requires that SELinux is in enforcing mode to provide additional
security against attacks. The security role will enable SELinux on CentOS
systems and enable AppArmor on Ubuntu systems.</p>
<p>For more information on how these changes are applied, refer to the
documentation for <a class="reference internal" href="auto_controls-all.html#stig-v-51337"><em>V-51337</em></a>.</p>
</div>
<div class="section" id="mail">
<h2>Mail<a class="headerlink" href="#mail" title="Permalink to this headline">¶</a></h2>
<p>Deployers are strongly urged to configure an address to receive the <tt class="docutils literal"><span class="pre">root</span></tt>
user&#8217;s email on various hosts.  This is done with the
<tt class="docutils literal"><span class="pre">security_root_forward_email</span></tt> variable.</p>
<p>The STIG requires that a valid user receives the email in case of errors or a
security issue.</p>
</div>
<div class="section" id="removing-and-disabling-services">
<h2>Removing and disabling services<a class="headerlink" href="#removing-and-disabling-services" title="Permalink to this headline">¶</a></h2>
<p>The STIG has recommendations for which services shouldn&#8217;t be running and which
packages shouldn&#8217;t be installed.  These removals can be configured to meet
the requirements of the deployer.</p>
<dl class="docutils">
<dt>Disabling services</dt>
<dd><p class="first">By default, the role will disable any services that are recommended to be
disabled by the STIG. These changes are controlled by Ansible variables that
match the <tt class="docutils literal"><span class="pre">security_disable_SERVICENAME</span></tt> pattern. Review these variables in
<tt class="docutils literal"><span class="pre">defaults/main.yml</span></tt> for more details.</p>
<p>A setting of <tt class="docutils literal"><span class="pre">yes</span></tt> for a service will cause the service to be disabled in
accordance to the STIG&#8217;s requirements.</p>
<p class="last">A setting of <tt class="docutils literal"><span class="pre">no</span></tt> causes the role to ignore the service entirely.  If the
service is running, it will remain running.  If the service is stopped,
it will remain stopped.</p>
</dd>
<dt>Removing services</dt>
<dd><p class="first">The STIG requires that some packages are completely removed from the server.
By default, the role will remove the packages in accordance with the STIG&#8217;s
requirements. These changes are controlled by Ansible variables that match
the <tt class="docutils literal"><span class="pre">security_remove_SERVICENAME</span></tt> pattern. Review these variables in
<tt class="docutils literal"><span class="pre">defaults/main.yml</span></tt> for more details.</p>
<p>A setting of <tt class="docutils literal"><span class="pre">yes</span></tt> for a service will cause the package that contains the
service to be removed from the system.  If the service happens to be running
at the time, it will be stopped by <tt class="docutils literal"><span class="pre">apt</span></tt>.</p>
<p class="last">A setting of <tt class="docutils literal"><span class="pre">no</span></tt> for a service will cause the role to ignore the package
that contains the service.  If the package is installed, it will be left
installed.</p>
</dd>
</dl>
</div>
<div class="section" id="ssh-server">
<h2>SSH server<a class="headerlink" href="#ssh-server" title="Permalink to this headline">¶</a></h2>
<p>The STIG has some requirements for ssh server configuration and these
requirements are applied by default by the role.  To opt-out or change these
requirements, see the section under the <tt class="docutils literal"><span class="pre">##</span> <span class="pre">SSH</span> <span class="pre">configuration</span></tt> comment in
<tt class="docutils literal"><span class="pre">defaults/main.yml</span></tt>.</p>
<dl class="docutils">
<dt>Deviation for PermitRootLogin</dt>
<dd><p class="first">There is one deviation from the STIG for the <tt class="docutils literal"><span class="pre">PermitRootLogin</span></tt>
configuration option.  The STIG requires that direct root logins are
disabled, and this is the recommended setting for secure production
environments.</p>
<p class="last">However, this can cause problems in some existing environments and the
default for the role is to set it to <tt class="docutils literal"><span class="pre">yes</span></tt> (direct root logins allowed).</p>
</dd>
</dl>
</div>
<div class="section" id="sysctl-settings">
<h2>sysctl settings<a class="headerlink" href="#sysctl-settings" title="Permalink to this headline">¶</a></h2>
<p>The STIG requires that TCP SYN cookies enabled by default to protect against
certain types of attacks, like SYN floods.  This can cause issues in some
environments with busy load balancers.  Deployers should review the notes for
<a class="reference internal" href="auto_controls-all.html#stig-v-38539"><em>V-38539</em></a> for more details.</p>
<p>Also, the STIG requires IPv6 support to be fully disabled, and this could cause
issues for production systems.  The role will not disable IPv6 by default, but
deployers can adjust this by changing <tt class="docutils literal"><span class="pre">security_disable_ipv6</span></tt> to <tt class="docutils literal"><span class="pre">yes</span></tt>.</p>
<p>Core dumps are also disabled by default in the openstack-ansible-security role.</p>
</div>
<div class="section" id="time-synchronization">
<h2>Time synchronization<a class="headerlink" href="#time-synchronization" title="Permalink to this headline">¶</a></h2>
<p>Reliable time synchronization is a requirement in the STIG and the <tt class="docutils literal"><span class="pre">chrony</span></tt>
package will be installed to handle NTP for systems secured with the
openstack-ansible-security role.</p>
<p>The default settings will work for most environments, but some deployers may
prefer to use NTP servers which are geographically closer to their servers.</p>
<p>The role configures the chrony daemon to listen only on <tt class="docutils literal"><span class="pre">localhost</span></tt>. To allow
chrony to listen on all addresses (the upstream default for chrony),
set the <tt class="docutils literal"><span class="pre">security_ntp_bind_local_interfaces_only</span></tt> variable to <tt class="docutils literal"><span class="pre">False</span></tt>.</p>
<p>The default configuration allows <a class="reference external" href="https://en.wikipedia.org/wiki/Private_network#Private_IPv4_address_spaces">RFC1918</a> addresses to reach the NTP server
running on each host. That could be changed by using the
<tt class="docutils literal"><span class="pre">security_allowed_ntp_subnets</span></tt> parameter.</p>
</div>
<div class="section" id="umask-adjustments">
<h2>umask adjustments<a class="headerlink" href="#umask-adjustments" title="Permalink to this headline">¶</a></h2>
<p>Certain umask adjustments are required by the STIG, but these can cause
problems with production systems.  The requirements are commented out within
<tt class="docutils literal"><span class="pre">defaults/main.yml</span></tt> and can be applied by uncommenting the variables that
start with <tt class="docutils literal"><span class="pre">security_umask_*</span></tt>.  There is extensive documentation available
within the developer notes for each STIG requirement.</p>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="getting-started.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Getting started"></i></a>
          
          
            <a href="controls.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Security hardening controls in detail"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2017-02-08 13:35</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="benefits.html">Security benefits FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Deviations &amp; Special Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#reviewing-deviations">Reviewing deviations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aide-initialization">AIDE initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#auditd">auditd</a></li>
<li class="toctree-l2"><a class="reference internal" href="#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kernel-modules">Kernel modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux-security-modules-lsm">Linux Security Modules (LSM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mail">Mail</a></li>
<li class="toctree-l2"><a class="reference internal" href="#removing-and-disabling-services">Removing and disabling services</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ssh-server">SSH server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sysctl-settings">sysctl settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#time-synchronization">Time synchronization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#umask-adjustments">umask adjustments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="controls.html">Security hardening controls in detail</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer-guide.html">Developer Guide</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="_static/js/jquery-1.11.3.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="_static/js/bootstrap.min.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "special-notes" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/openstack-ansible-security/tree/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: f33e72f8780ec4e8cb0ae9287962d8434d1510b3";
        var bugProject = "openstack-ansible-security";
        var bugTitle = "Documentation bug";
    var fieldTags = "docs";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 14.0.7.dev1 on 2017-02-08 13:35";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>