<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Integration with other OpenStack services</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="_static/css/combined.css" rel="stylesheet">
<link href="_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>Integration with other OpenStack services</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="install-obs.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Install and configure for openSUSE and SUSE Linux Enterprise"></i></a>
    
    
    <a href="configure-cleaning.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Configure the Bare Metal service for cleaning"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2017-02-06 13:15</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">Integration with other OpenStack services</a><ul>
<li><a class="reference internal" href="#configure-the-identity-service-for-the-bare-metal-service">Configure the Identity service for the Bare Metal service</a></li>
<li><a class="reference internal" href="#configure-compute-to-use-the-bare-metal-service">Configure Compute to use the Bare Metal service</a></li>
<li><a class="reference internal" href="#create-compute-flavors-for-use-with-the-bare-metal-service">Create Compute flavors for use with the Bare Metal service</a></li>
<li><a class="reference internal" href="#configure-networking-to-communicate-with-the-bare-metal-server">Configure Networking to communicate with the bare metal server</a></li>
<li><a class="reference internal" href="#create-and-add-images-to-the-image-service">Create and add images to the Image service</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="integration-with-other-openstack-services">
<h1>Integration with other OpenStack services<a class="headerlink" href="#integration-with-other-openstack-services" title="Permalink to this headline">¶</a></h1>
<div class="section" id="configure-the-identity-service-for-the-bare-metal-service">
<h2>Configure the Identity service for the Bare Metal service<a class="headerlink" href="#configure-the-identity-service-for-the-bare-metal-service" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Create the Bare Metal service user (for example, <code class="docutils literal"><span class="pre">ironic</span></code>).
The service uses this to authenticate with the Identity service.
Use the <code class="docutils literal"><span class="pre">service</span></code> tenant and give the user the <code class="docutils literal"><span class="pre">admin</span></code> role:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack user create --password IRONIC_PASSWORD <span class="se">\</span>
    --email ironic@example.com ironic
<span class="gp">$</span> openstack role add --project service --user ironic admin
</pre></div>
</div>
</li>
<li><p class="first">You must register the Bare Metal service with the Identity service so that
other OpenStack services can locate it. To register the service:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack service create --name ironic --description <span class="se">\</span>
    <span class="s2">&quot;Ironic baremetal provisioning service&quot;</span> baremetal
</pre></div>
</div>
</li>
<li><p class="first">Use the <code class="docutils literal"><span class="pre">id</span></code> property that is returned from the Identity service when
registering the service (above), to create the endpoint,
and replace <code class="docutils literal"><span class="pre">IRONIC_NODE</span></code> with your Bare Metal service&#8217;s API node:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack endpoint create --region RegionOne <span class="se">\</span>
    baremetal admin http://<span class="nv">$IRONIC_NODE</span>:6385
<span class="gp">$</span> openstack endpoint create --region RegionOne <span class="se">\</span>
    baremetal public http://<span class="nv">$IRONIC_NODE</span>:6385
<span class="gp">$</span> openstack endpoint create --region RegionOne <span class="se">\</span>
    baremetal internal http://<span class="nv">$IRONIC_NODE</span>:6385
</pre></div>
</div>
<p>If only keystone v2 API is available, use this command instead:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack endpoint create --region RegionOne <span class="se">\</span>
    --publicurl http://<span class="nv">$IRONIC_NODE</span>:6385 <span class="se">\</span>
    --internalurl http://<span class="nv">$IRONIC_NODE</span>:6385 <span class="se">\</span>
    --adminurl http://<span class="nv">$IRONIC_NODE</span>:6385 <span class="se">\</span>
    baremetal
</pre></div>
</div>
</li>
<li><p class="first">You may delegate limited privileges related to the Bare Metal service
to your Users by creating Roles with the OpenStack Identity service.  By
default, the Bare Metal service expects the &#8220;baremetal_admin&#8221; and
&#8220;baremetal_observer&#8221; Roles to exist, in addition to the default &#8220;admin&#8221;
Role. There is no negative consequence if you choose not to create these
Roles. They can be created with the following commands:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack role create baremetal_admin
<span class="gp">$</span> openstack role create baremetal_observer
</pre></div>
</div>
<p>If you choose to customize the names of Roles used with the Bare Metal
service, do so by changing the &#8220;is_member&#8221;, &#8220;is_observer&#8221;, and &#8220;is_admin&#8221;
policy settings in <code class="docutils literal"><span class="pre">/etc/ironic/policy.json</span></code>.</p>
<p>More complete documentation on managing Users and Roles within your
OpenStack deployment are outside the scope of this document, but may be
found <a class="reference external" href="http://docs.openstack.org/admin-guide/identity-concepts.html#user-management">here</a>.</p>
</li>
<li><p class="first">You can further restrict access to the Bare Metal service by creating a
separate &#8220;baremetal&#8221; Project, so that Bare Metal resources (Nodes, Ports,
etc) are only accessible to members of this Project:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack project create baremetal
</pre></div>
</div>
<p>At this point, you may grant read-only access to the Bare Metal service API
without granting any other access by issuing the following commands:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack user create <span class="se">\</span>
    --domain default --project-domain default --project baremetal <span class="se">\</span>
    --password PASSWORD USERNAME
<span class="gp">$</span> openstack role add <span class="se">\</span>
    --user-domain default --project-domain default --project baremetal <span class="se">\</span>
    --user USERNAME baremetal_observer
</pre></div>
</div>
</li>
<li><p class="first">Further documentation is available elsewhere for the <code class="docutils literal"><span class="pre">openstack</span></code>
<a class="reference external" href="http://docs.openstack.org/admin-guide/cli-manage-projects-users-and-roles.html">command-line client</a> and the <a class="reference external" href="http://docs.openstack.org/admin-guide/identity-management.html">Identity</a> service. A <a class="reference external" href="https://github.com/openstack/ironic/blob/master/etc/ironic/policy.json.sample">policy.json.sample</a>
file, which enumerates the service&#8217;s default policies, is provided for
your convenience with the Bare Metal Service.</p>
</li>
</ol>
</div>
<div class="section" id="configure-compute-to-use-the-bare-metal-service">
<h2>Configure Compute to use the Bare Metal service<a class="headerlink" href="#configure-compute-to-use-the-bare-metal-service" title="Permalink to this headline">¶</a></h2>
<p>The Compute service needs to be configured to use the Bare Metal service&#8217;s
driver.  The configuration file for the Compute service is typically located at
<code class="docutils literal"><span class="pre">/etc/nova/nova.conf</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This configuration file must be modified on the Compute service&#8217;s
controller nodes and compute nodes.</p>
</div>
<ol class="arabic">
<li><p class="first">Change these configuration options in the <code class="docutils literal"><span class="pre">default</span></code> section, as follows:</p>
<blockquote>
<div><div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[default]</span>

<span class="c1"># Driver to use for controlling virtualization. Options</span>
<span class="c1"># include: libvirt.LibvirtDriver, xenapi.XenAPIDriver,</span>
<span class="c1"># fake.FakeDriver, baremetal.BareMetalDriver,</span>
<span class="c1"># vmwareapi.VMwareESXDriver, vmwareapi.VMwareVCDriver (string</span>
<span class="c1"># value)</span>
<span class="c1">#compute_driver=&lt;None&gt;</span>
<span class="na">compute_driver</span><span class="o">=</span><span class="s">ironic.IronicDriver</span>

<span class="c1"># Firewall driver (defaults to hypervisor specific iptables</span>
<span class="c1"># driver) (string value)</span>
<span class="c1">#firewall_driver=&lt;None&gt;</span>
<span class="na">firewall_driver</span><span class="o">=</span><span class="s">nova.virt.firewall.NoopFirewallDriver</span>

<span class="c1"># The scheduler host manager class to use (string value)</span>
<span class="c1">#scheduler_host_manager=host_manager</span>
<span class="na">scheduler_host_manager</span><span class="o">=</span><span class="s">ironic_host_manager</span>

<span class="c1"># Virtual ram to physical ram allocation ratio which affects</span>
<span class="c1"># all ram filters. This configuration specifies a global ratio</span>
<span class="c1"># for RamFilter. For AggregateRamFilter, it will fall back to</span>
<span class="c1"># this configuration value if no per-aggregate setting found.</span>
<span class="c1"># (floating point value)</span>
<span class="c1">#ram_allocation_ratio=1.5</span>
<span class="na">ram_allocation_ratio</span><span class="o">=</span><span class="s">1.0</span>

<span class="c1"># Amount of disk in MB to reserve for the host (integer value)</span>
<span class="c1">#reserved_host_disk_mb=0</span>
<span class="na">reserved_host_memory_mb</span><span class="o">=</span><span class="s">0</span>

<span class="c1"># Flag to decide whether to use baremetal_scheduler_default_filters or not.</span>
<span class="c1"># (boolean value)</span>
<span class="c1">#scheduler_use_baremetal_filters=False</span>
<span class="na">scheduler_use_baremetal_filters</span><span class="o">=</span><span class="s">True</span>

<span class="c1"># Determines if the Scheduler tracks changes to instances to help with</span>
<span class="c1"># its filtering decisions (boolean value)</span>
<span class="c1">#scheduler_tracks_instance_changes=True</span>
<span class="na">scheduler_tracks_instance_changes</span><span class="o">=</span><span class="s">False</span>

<span class="c1"># New instances will be scheduled on a host chosen randomly from a subset</span>
<span class="c1"># of the N best hosts, where N is the value set by this option.  Valid</span>
<span class="c1"># values are 1 or greater. Any value less than one will be treated as 1.</span>
<span class="c1"># For ironic, this should be set to a number &gt;= the number of ironic nodes</span>
<span class="c1"># to more evenly distribute instances across the nodes.</span>
<span class="c1">#scheduler_host_subset_size=1</span>
<span class="na">scheduler_host_subset_size</span><span class="o">=</span><span class="s">9999999</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Change these configuration options in the <code class="docutils literal"><span class="pre">ironic</span></code> section.
Replace:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">IRONIC_PASSWORD</span></code> with the password you chose for the <code class="docutils literal"><span class="pre">ironic</span></code>
user in the Identity Service</li>
<li><code class="docutils literal"><span class="pre">IRONIC_NODE</span></code> with the hostname or IP address of the ironic-api node</li>
<li><code class="docutils literal"><span class="pre">IDENTITY_IP</span></code> with the IP of the Identity server</li>
</ul>
<blockquote>
<div><div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[ironic]</span>

<span class="c1"># Ironic keystone admin name</span>
<span class="na">admin_username</span><span class="o">=</span><span class="s">ironic</span>

<span class="c1">#Ironic keystone admin password.</span>
<span class="na">admin_password</span><span class="o">=</span><span class="s">IRONIC_PASSWORD</span>

<span class="c1"># keystone API endpoint</span>
<span class="na">admin_url</span><span class="o">=</span><span class="s">http://IDENTITY_IP:35357/v2.0</span>

<span class="c1"># Ironic keystone tenant name.</span>
<span class="na">admin_tenant_name</span><span class="o">=</span><span class="s">service</span>

<span class="c1"># URL for Ironic API endpoint.</span>
<span class="na">api_endpoint</span><span class="o">=</span><span class="s">http://IRONIC_NODE:6385/v1</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">On the Compute service&#8217;s controller nodes, restart the <code class="docutils literal"><span class="pre">nova-scheduler</span></code>
process:</p>
<blockquote>
<div><div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Fedora/RHEL7/CentOS7:</span>
<span class="go">  sudo systemctl restart openstack-nova-scheduler</span>

<span class="go">Ubuntu:</span>
<span class="go">  sudo service nova-scheduler restart</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">On the Compute service&#8217;s compute nodes, restart the <code class="docutils literal"><span class="pre">nova-compute</span></code>
process:</p>
<blockquote>
<div><div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Fedora/RHEL7/CentOS7:</span>
<span class="go">  sudo systemctl restart openstack-nova-compute</span>

<span class="go">Ubuntu:</span>
<span class="go">  sudo service nova-compute restart</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="create-compute-flavors-for-use-with-the-bare-metal-service">
<span id="flavor-creation"></span><h2>Create Compute flavors for use with the Bare Metal service<a class="headerlink" href="#create-compute-flavors-for-use-with-the-bare-metal-service" title="Permalink to this headline">¶</a></h2>
<p>You&#8217;ll need to create a special bare metal flavor in the Compute service.
The flavor is mapped to the bare metal node through the hardware specifications.</p>
<ol class="arabic">
<li><p class="first">Change these to match your hardware:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">RAM_MB</span><span class="o">=</span><span class="m">1024</span>
<span class="gp">$</span> <span class="nv">CPU</span><span class="o">=</span><span class="m">2</span>
<span class="gp">$</span> <span class="nv">DISK_GB</span><span class="o">=</span><span class="m">100</span>
<span class="gp">$</span> <span class="nv">ARCH</span><span class="o">={</span>i686<span class="p">|</span>x86_64<span class="o">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Create the bare metal flavor by executing the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> nova flavor-create my-baremetal-flavor auto <span class="nv">$RAM_MB</span> <span class="nv">$DISK_GB</span> <span class="nv">$CPU</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can replace <code class="docutils literal"><span class="pre">auto</span></code> with your own flavor id.</p>
</div>
</li>
<li><p class="first">Set the architecture as extra_specs information of the flavor. This
will be used to match against the properties of bare metal nodes:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> nova flavor-key my-baremetal-flavor <span class="nb">set</span> <span class="nv">cpu_arch</span><span class="o">=</span><span class="nv">$ARCH</span>
</pre></div>
</div>
</li>
<li><p class="first">Associate the deploy ramdisk and kernel images with the ironic node:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ironic node-update <span class="nv">$NODE_UUID</span> add <span class="se">\</span>
    driver_info/deploy_kernel<span class="o">=</span><span class="nv">$DEPLOY_VMLINUZ_UUID</span> <span class="se">\</span>
    driver_info/deploy_ramdisk<span class="o">=</span><span class="nv">$DEPLOY_INITRD_UUID</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="configure-networking-to-communicate-with-the-bare-metal-server">
<span id="configure-networking"></span><h2>Configure Networking to communicate with the bare metal server<a class="headerlink" href="#configure-networking-to-communicate-with-the-bare-metal-server" title="Permalink to this headline">¶</a></h2>
<p>You need to configure Networking so that the bare metal server can communicate
with the Networking service for DHCP, PXE boot and other requirements.
This section covers configuring Networking for a single flat network for bare
metal provisioning.</p>
<p>You will also need to provide Bare Metal service with the MAC address(es) of
each node that it is provisioning; Bare Metal service in turn will pass this
information to Networking service for DHCP and PXE boot configuration.
An example of this is shown in the <a class="reference internal" href="enrollment.html#enrollment"><span>Enrollment</span></a> section.</p>
<ol class="arabic">
<li><p class="first">Edit <code class="docutils literal"><span class="pre">/etc/neutron/plugins/ml2/ml2_conf.ini</span></code> and modify these:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[ml2]</span>
<span class="na">type_drivers</span> <span class="o">=</span> <span class="s">flat</span>
<span class="na">tenant_network_types</span> <span class="o">=</span> <span class="s">flat</span>
<span class="na">mechanism_drivers</span> <span class="o">=</span> <span class="s">openvswitch</span>

<span class="k">[ml2_type_flat]</span>
<span class="na">flat_networks</span> <span class="o">=</span> <span class="s">physnet1</span>

<span class="k">[securitygroup]</span>
<span class="na">firewall_driver</span> <span class="o">=</span> <span class="s">neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver</span>
<span class="na">enable_security_group</span> <span class="o">=</span> <span class="s">True</span>

<span class="k">[ovs]</span>
<span class="na">bridge_mappings</span> <span class="o">=</span> <span class="s">physnet1:br-eth2</span>
<span class="c1"># Replace eth2 with the interface on the neutron node which you</span>
<span class="c1"># are using to connect to the bare metal server</span>
</pre></div>
</div>
</li>
<li><p class="first">If neutron-openvswitch-agent runs with <code class="docutils literal"><span class="pre">ovs_neutron_plugin.ini</span></code> as the input
config-file, edit <code class="docutils literal"><span class="pre">ovs_neutron_plugin.ini</span></code> to configure the bridge mappings
by adding the [ovs] section described in the previous step, and restart the
neutron-openvswitch-agent.</p>
</li>
<li><p class="first">Add the integration bridge to Open vSwitch:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ovs-vsctl add-br br-int
</pre></div>
</div>
</li>
<li><p class="first">Create the br-eth2 network bridge to handle communication between the
OpenStack services (and the Bare Metal services) and the bare metal nodes
using eth2.
Replace eth2 with the interface on the network node which you are using to
connect to the Bare Metal service:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ovs-vsctl add-br br-eth2
<span class="gp">$</span> ovs-vsctl add-port br-eth2 eth2
</pre></div>
</div>
</li>
<li><p class="first">Restart the Open vSwitch agent:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> service neutron-plugin-openvswitch-agent restart
</pre></div>
</div>
</li>
<li><p class="first">On restarting the Networking service Open vSwitch agent, the veth pair
between the bridges br-int and br-eth2 is automatically created.</p>
<p>Your Open vSwitch bridges should look something like this after
following the above steps:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ovs-vsctl show

<span class="go">    Bridge br-int</span>
<span class="go">        fail_mode: secure</span>
<span class="go">        Port &quot;int-br-eth2&quot;</span>
<span class="go">            Interface &quot;int-br-eth2&quot;</span>
<span class="go">                type: patch</span>
<span class="go">                options: {peer=&quot;phy-br-eth2&quot;}</span>
<span class="go">        Port br-int</span>
<span class="go">            Interface br-int</span>
<span class="go">                type: internal</span>
<span class="go">    Bridge &quot;br-eth2&quot;</span>
<span class="go">        Port &quot;phy-br-eth2&quot;</span>
<span class="go">            Interface &quot;phy-br-eth2&quot;</span>
<span class="go">                type: patch</span>
<span class="go">                options: {peer=&quot;int-br-eth2&quot;}</span>
<span class="go">        Port &quot;eth2&quot;</span>
<span class="go">            Interface &quot;eth2&quot;</span>
<span class="go">        Port &quot;br-eth2&quot;</span>
<span class="go">            Interface &quot;br-eth2&quot;</span>
<span class="go">                type: internal</span>
<span class="go">    ovs_version: &quot;2.3.0&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Create the flat network on which you are going to launch the
instances:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> neutron net-create --tenant-id <span class="nv">$TENANT_ID</span> sharednet1 --shared <span class="se">\</span>
      --provider:network_type flat --provider:physical_network physnet1
</pre></div>
</div>
</li>
<li><p class="first">Create the subnet on the newly created network:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> neutron subnet-create sharednet1 <span class="nv">$NETWORK_CIDR</span> --name <span class="nv">$SUBNET_NAME</span> <span class="se">\</span>
      --ip-version<span class="o">=</span><span class="m">4</span> --gateway<span class="o">=</span><span class="nv">$GATEWAY_IP</span> --allocation-pool <span class="se">\</span>
      <span class="nv">start</span><span class="o">=</span><span class="nv">$START_IP</span>,end<span class="o">=</span><span class="nv">$END_IP</span> --enable-dhcp
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="create-and-add-images-to-the-image-service">
<span id="image-requirements"></span><h2>Create and add images to the Image service<a class="headerlink" href="#create-and-add-images-to-the-image-service" title="Permalink to this headline">¶</a></h2>
<p>Bare Metal provisioning requires two sets of images: the deploy images
and the user images. The deploy images are used by the Bare Metal service
to prepare the bare metal server for actual OS deployment. Whereas the
user images are installed on the bare metal server to be used by the
end user. Below are the steps to create the required images and add
them to the Image service:</p>
<ol class="arabic">
<li><p class="first">The <a class="reference external" href="http://docs.openstack.org/developer/diskimage-builder/">disk-image-builder</a> can be used to create images required for
deployment and the actual OS which the user is going to run.</p>
<ul>
<li><p class="first">Install diskimage-builder package (use virtualenv, if you don&#8217;t
want to install anything globally):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> pip install diskimage-builder
</pre></div>
</div>
</li>
<li><p class="first">Build the image your users will run (Ubuntu image has been taken as
an example):</p>
<ul>
<li><p class="first">Partition images</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> disk-image-create ubuntu baremetal dhcp-all-interfaces grub2 -o my-image
</pre></div>
</div>
</li>
<li><p class="first">Whole disk images</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> disk-image-create ubuntu vm dhcp-all-interfaces -o my-image
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
<p>The partition image command creates <code class="docutils literal"><span class="pre">my-image.qcow2</span></code>,
<code class="docutils literal"><span class="pre">my-image.vmlinuz</span></code> and <code class="docutils literal"><span class="pre">my-image.initrd</span></code> files. The <code class="docutils literal"><span class="pre">grub2</span></code> element
in the partition image creation command is only needed if local boot will
be used to deploy <code class="docutils literal"><span class="pre">my-image.qcow2</span></code>, otherwise the images
<code class="docutils literal"><span class="pre">my-image.vmlinuz</span></code> and <code class="docutils literal"><span class="pre">my-image.initrd</span></code> will be used for PXE booting
after deploying the bare metal with <code class="docutils literal"><span class="pre">my-image.qcow2</span></code>.</p>
<p>If you want to use Fedora image, replace <code class="docutils literal"><span class="pre">ubuntu</span></code> with <code class="docutils literal"><span class="pre">fedora</span></code> in the
chosen command.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To build the deploy image take a look at the <a class="reference internal" href="deploy-ramdisk.html#deploy-ramdisk"><span>Building or downloading a deploy ramdisk image</span></a>
section.</p>
</div>
</li>
<li><p class="first">Add the user images to the Image service</p>
<p>Load all the images created in the below steps into the Image service,
and note the image UUIDs in the Image service for each one as it is
generated.</p>
<ul>
<li><p class="first">Add the kernel and ramdisk images to the Image service:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> glance image-create --name my-kernel --visibility public <span class="se">\</span>
  --disk-format aki --container-format aki &lt; my-image.vmlinuz
</pre></div>
</div>
<p>Store the image uuid obtained from the above step as <code class="docutils literal"><span class="pre">MY_VMLINUZ_UUID</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> glance image-create --name my-image.initrd --visibility public <span class="se">\</span>
  --disk-format ari --container-format ari &lt; my-image.initrd
</pre></div>
</div>
<p>Store the image UUID obtained from the above step as <code class="docutils literal"><span class="pre">MY_INITRD_UUID</span></code>.</p>
</li>
<li><p class="first">Add the <em>my-image</em> to the Image service which is going to be the OS
that the user is going to run. Also associate the above created
images with this OS image. These two operations can be done by
executing the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> glance image-create --name my-image --visibility public <span class="se">\</span>
  --disk-format qcow2 --container-format bare --property <span class="se">\</span>
  <span class="nv">kernel_id</span><span class="o">=</span><span class="nv">$MY_VMLINUZ_UUID</span> --property <span class="se">\</span>
  <span class="nv">ramdisk_id</span><span class="o">=</span><span class="nv">$MY_INITRD_UUID</span> &lt; my-image.qcow2
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>To deploy a whole disk image, a kernel_id and a ramdisk_id
shouldn&#8217;t be associated with the image. For example,</p>
<div class="last highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> glance image-create --name my-whole-disk-image --visibility public <span class="se">\</span>
  --disk-format qcow2 <span class="se">\</span>
  --container-format bare &lt; my-whole-disk-image.qcow2
</pre></div>
</div>
</div>
</li>
<li><p class="first">Add the deploy images to the Image service</p>
<p>Add the <em>my-deploy-ramdisk.kernel</em> and <em>my-deploy-ramdisk.initramfs</em> images
to the Image service:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> glance image-create --name deploy-vmlinuz --visibility public <span class="se">\</span>
  --disk-format aki --container-format aki &lt; my-deploy-ramdisk.kernel
</pre></div>
</div>
<p>Store the image UUID obtained from the above step as <code class="docutils literal"><span class="pre">DEPLOY_VMLINUZ_UUID</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> glance image-create --name deploy-initrd --visibility public <span class="se">\</span>
  --disk-format ari --container-format ari &lt; my-deploy-ramdisk.initramfs
</pre></div>
</div>
<p>Store the image UUID obtained from the above step as <code class="docutils literal"><span class="pre">DEPLOY_INITRD_UUID</span></code>.</p>
</li>
</ol>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="install-obs.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Install and configure for openSUSE and SUSE Linux Enterprise"></i></a>
          
          
            <a href="configure-cleaning.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Configure the Bare Metal service for cleaning"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2017-02-06 13:15</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Bare Metal service overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install and configure the Bare Metal service</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Integration with other OpenStack services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configure-the-identity-service-for-the-bare-metal-service">Configure the Identity service for the Bare Metal service</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-compute-to-use-the-bare-metal-service">Configure Compute to use the Bare Metal service</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-compute-flavors-for-use-with-the-bare-metal-service">Create Compute flavors for use with the Bare Metal service</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-networking-to-communicate-with-the-bare-metal-server">Configure Networking to communicate with the bare metal server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-and-add-images-to-the-image-service">Create and add images to the Image service</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configure-cleaning.html">Configure the Bare Metal service for cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="configure-tenant-networks.html">Configure tenant networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="enrollment.html">Enrollment</a></li>
<li class="toctree-l1"><a class="reference internal" href="enabling-https.html">Enabling HTTPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="standalone.html">Using Bare Metal service as a standalone service</a></li>
<li class="toctree-l1"><a class="reference internal" href="configdrive.html">Enabling the configuration drive (configdrive)</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy-ramdisk.html">Building or downloading a deploy ramdisk image</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup-drivers.html">Setup the drivers for the Bare Metal service</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced features</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="next-steps.html">Next steps</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="_static/js/jquery-1.12.4.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "configure-integration" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/ironic/tree/install-guide/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 27318e28ceaa372868a7cb5dde53f377a7170e86";
        var bugProject = "ironic";
        var bugTitle = "Integration with other OpenStack services in Installation Guide for Bare Metal Service";
    var fieldTags = "install-guide";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.1 on 2017-02-06 13:15";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>