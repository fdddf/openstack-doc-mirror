<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Install and configure for Red Hat Enterprise Linux and CentOS</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="_static/css/combined.css" rel="stylesheet">
<link href="_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/videos/summits">Summit Videos</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
    <h2>Install and configure for Red Hat Enterprise Linux and CentOS</h2>
  </div>
  <div class="docs-actions">
    
    <a href="install-obs.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Install and configure for openSUSE and SUSE Linux Enterprise"></i></a>
    
    
    <a href="install-ubuntu.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Install and configure for Ubuntu"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2016-11-10 02:07</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">Install and configure for Red Hat Enterprise Linux and CentOS</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#install-and-configure-messaging-web-server">Install and configure Messaging web server</a></li>
<li><a class="reference internal" href="#finalize-installation">Finalize installation</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="install-and-configure-for-red-hat-enterprise-linux-and-centos">
<span id="install-rdo"></span><h1>Install and configure for Red Hat Enterprise Linux and CentOS<a class="headerlink" href="#install-and-configure-for-red-hat-enterprise-linux-and-centos" title="Permalink to this headline">¶</a></h1>
<p>This section describes how to install and configure the Messaging service,
code-named <code class="docutils literal"><span class="pre">zaqar</span></code> for Red Hat Enterprise Linux 7 and CentOS 7.</p>
<p>This section assumes that you already have a working OpenStack environment with
at least Identity service installed.</p>
<p>Here you can find instructions and recommended settings for installing
Messaging service in small configuration: one web server with Messaging service
configured to use replica-set of three <code class="docutils literal"><span class="pre">MongoDB</span></code> database servers. Because
only one web server is used, the Messaging service installed by using these
instructions can&#8217;t be considered as high available, see <a class="reference internal" href="install.html"><em>Install and configure</em></a>.</p>
<p>In this tutorial these server names are used as examples:</p>
<ul class="simple">
<li>Web server with Messaging service: <code class="docutils literal"><span class="pre">WEB0.EXAMPLE-MESSAGES.NET</span></code>.</li>
<li>Database servers: <code class="docutils literal"><span class="pre">MYDB0.EXAMPLE-MESSAGES.NET</span></code>,
<code class="docutils literal"><span class="pre">MYDB1.EXAMPLE-MESSAGES.NET</span></code>, <code class="docutils literal"><span class="pre">MYDB2.EXAMPLE-MESSAGES.NET</span></code>.</li>
<li>Identity service server: <code class="docutils literal"><span class="pre">IDENTITY.EXAMPLE-MESSAGES.NET</span></code>.</li>
</ul>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Before you install Messaging service, you must meet the following system
requirements:</p>
<ul class="simple">
<li>Installed Identity service for user and project management.</li>
<li>Python 2.7.</li>
</ul>
<p>Before you install and configure Messaging, you must create a <code class="docutils literal"><span class="pre">MongoDB</span></code>
replica-set of three database servers. Also you need to create service
credentials and API endpoints in Identity.</p>
<ol class="arabic">
<li><p class="first">Install and configure <code class="docutils literal"><span class="pre">MongoDB</span></code> replica-set on database servers:</p>
<ol class="arabic">
<li><p class="first">Install <code class="docutils literal"><span class="pre">MongoDB</span></code> on the database servers:</p>
<p>On each database server follow the official <a class="reference external" href="https://docs.mongodb.org/manual/tutorial/install-mongodb-on-red-hat/">MongoDB installation
instructions</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Messaging service works with <code class="docutils literal"><span class="pre">MongoDB</span></code> versions &gt;= 2.4</p>
</div>
</li>
<li><p class="first">Configure <code class="docutils literal"><span class="pre">MongoDB</span></code> on the database servers:</p>
<p>On each database server edit configuration file: <code class="docutils literal"><span class="pre">/etc/mongod.conf</span></code> and
modify as needed:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span># MongoDB sample configuration for Messaging service.
# (For MongoDB version &gt;= 2.6)
# Edit according to your needs.
systemLog:
  destination: file
  logAppend: true
  path: /var/log/mongodb/mongod.log

storage:
  dbPath: /var/lib/mongo
  journal:
    enabled: false

processManagement:
  fork: true  # fork and run in background
  pidFilePath: /var/run/mongodb/mongod.pid  # location of pidfile

net:
  port: 27017
  # bindIp: 127.0.0.1  # Listen to local interface only, comment to listen on all interfaces.

operationProfiling:
   slowOpThresholdMs: 200
   mode: slowOp

replication:
   oplogSizeMB: 2048
   replSetName: catalog
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In case of older <code class="docutils literal"><span class="pre">MongoDB</span></code> versions (2.4 and 2.5) the configuration
file should be written in different format. For information about
format for different versions see the official <a class="reference external" href="https://docs.mongodb.org/v3.0/reference/configuration-options/">MongoDB configuration
reference</a>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Additional steps are required to secure <code class="docutils literal"><span class="pre">MongoDB</span></code> installation. You
should modify this configuration for your security requirements. See
the official <a class="reference external" href="https://docs.mongodb.org/manual/security/">MongoDB security reference</a>.</p>
</div>
</li>
<li><p class="first">Start <code class="docutils literal"><span class="pre">MongoDB</span></code> on the database servers:</p>
<p>Start <code class="docutils literal"><span class="pre">MongoDB</span></code> service on all database servers:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> systemctl start mongod
</pre></div>
</div>
<p>Make <code class="docutils literal"><span class="pre">MongoDB</span></code> service start automatically after reboot:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> systemctl <span class="nb">enable</span> mongod
</pre></div>
</div>
</li>
<li><p class="first">Configure <code class="docutils literal"><span class="pre">MongoDB</span></code> Replica Set on the database servers:</p>
<p>Once you&#8217;ve installed <code class="docutils literal"><span class="pre">MongoDB</span></code> on three servers and assuming that the
primary <code class="docutils literal"><span class="pre">MongoDB</span></code> server hostname is <code class="docutils literal"><span class="pre">MYDB0.EXAMPLE-MESSAGES.NET</span></code>, go
to <code class="docutils literal"><span class="pre">MYDB0</span></code> and run these commands:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> mongo <span class="nb">local</span> --eval <span class="s2">&quot;printjson(rs.initiate())&quot;</span>
<span class="gp">#</span> mongo <span class="nb">local</span> --eval <span class="s2">&quot;printjson(rs.add(&#39;MYDB1.EXAMPLE-MESSAGES.NET&#39;))&quot;</span>
<span class="gp">#</span> mongo <span class="nb">local</span> --eval <span class="s2">&quot;printjson(rs.add(&#39;MYDB2.EXAMPLE-MESSAGES.NET&#39;))&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The database servers must have access to each other and also be
accessible from the Messaging service web server. Configure firewalls
on all database servers to accept incoming connections to port
<code class="docutils literal"><span class="pre">27017</span></code> from the needed source.</p>
</div>
<p>To check if the replica-set is established see the output of this
command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> mongo <span class="nb">local</span> --eval <span class="s2">&quot;printjson(rs.status())&quot;</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p class="first">Source the <code class="docutils literal"><span class="pre">admin</span></code> credentials to gain access to admin-only CLI commands:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> . admin-openrc
</pre></div>
</div>
</li>
<li><p class="first">To create the service credentials, complete these steps:</p>
<ol class="arabic">
<li><p class="first">Create the <code class="docutils literal"><span class="pre">zaqar</span></code> user:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack user create --domain default --password-prompt zaqar
<span class="go">User Password:</span>
<span class="go">Repeat User Password:</span>
<span class="go">+-----------+----------------------------------+</span>
<span class="go">| Field     | Value                            |</span>
<span class="go">+-----------+----------------------------------+</span>
<span class="go">| domain_id | default                          |</span>
<span class="go">| enabled   | True                             |</span>
<span class="go">| id        | 7b0ffc83097148dab6ecbef6ddcc46bf |</span>
<span class="go">| name      | zaqar                            |</span>
<span class="go">+-----------+----------------------------------+</span>
</pre></div>
</div>
</li>
<li><p class="first">Add the <code class="docutils literal"><span class="pre">admin</span></code> role to the <code class="docutils literal"><span class="pre">zaqar</span></code> user:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack role add --project service --user zaqar admin
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This command provides no output.</p>
</div>
</li>
<li><p class="first">Create the <code class="docutils literal"><span class="pre">zaqar</span></code> service entity:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack service create --name zaqar --description <span class="s2">&quot;Messaging&quot;</span> messaging
<span class="go">+-------------+----------------------------------+</span>
<span class="go">| Field       | Value                            |</span>
<span class="go">+-------------+----------------------------------+</span>
<span class="go">| description | Messaging                        |</span>
<span class="go">| enabled     | True                             |</span>
<span class="go">| id          | b39c22818be5425ba2315dd4b10cd57c |</span>
<span class="go">| name        | zaqar                            |</span>
<span class="go">| type        | messaging                        |</span>
<span class="go">+-------------+----------------------------------+</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p class="first">Create the Messaging service API endpoints:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> openstack endpoint create --region RegionOne messaging public http://WEB0.EXAMPLE-MESSAGES.NET:8888
<span class="go">+--------------+---------------------------------------+</span>
<span class="go">| Field        | Value                                 |</span>
<span class="go">+--------------+---------------------------------------+</span>
<span class="go">| enabled      | True                                  |</span>
<span class="go">| id           | aabca78860e74c4db0bcb36167bfe106      |</span>
<span class="go">| interface    | public                                |</span>
<span class="go">| region       | RegionOne                             |</span>
<span class="go">| region_id    | RegionOne                             |</span>
<span class="go">| service_id   | b39c22818be5425ba2315dd4b10cd57c      |</span>
<span class="go">| service_name | zaqar                                 |</span>
<span class="go">| service_type | messaging                             |</span>
<span class="go">| url          | http://WEB0.EXAMPLE-MESSAGES.NET:8888 |</span>
<span class="go">+--------------+---------------------------------------+</span>

<span class="gp">$</span> openstack endpoint create --region RegionOne messaging internal http://WEB0.EXAMPLE-MESSAGES.NET:8888
<span class="go">+--------------+---------------------------------------+</span>
<span class="go">| Field        | Value                                 |</span>
<span class="go">+--------------+---------------------------------------+</span>
<span class="go">| enabled      | True                                  |</span>
<span class="go">| id           | 07f9524613de4fd3905e13a87f81fd3f      |</span>
<span class="go">| interface    | internal                              |</span>
<span class="go">| region       | RegionOne                             |</span>
<span class="go">| region_id    | RegionOne                             |</span>
<span class="go">| service_id   | b39c22818be5425ba2315dd4b10cd57c      |</span>
<span class="go">| service_name | zaqar                                 |</span>
<span class="go">| service_type | messaging                             |</span>
<span class="go">| url          | http://WEB0.EXAMPLE-MESSAGES.NET:8888 |</span>
<span class="go">+--------------+---------------------------------------+</span>

<span class="gp">$</span> openstack endpoint create --region RegionOne messaging admin http://WEB0.EXAMPLE-MESSAGES.NET:8888
<span class="go">+--------------+---------------------------------------+</span>
<span class="go">| Field        | Value                                 |</span>
<span class="go">+--------------+---------------------------------------+</span>
<span class="go">| enabled      | True                                  |</span>
<span class="go">| id           | 686f7b19428f4b5aa1425667dfe4f49d      |</span>
<span class="go">| interface    | admin                                 |</span>
<span class="go">| region       | RegionOne                             |</span>
<span class="go">| region_id    | RegionOne                             |</span>
<span class="go">| service_id   | b39c22818be5425ba2315dd4b10cd57c      |</span>
<span class="go">| service_name | zaqar                                 |</span>
<span class="go">| service_type | messaging                             |</span>
<span class="go">| url          | http://WEB0.EXAMPLE-MESSAGES.NET:8888 |</span>
<span class="go">+--------------+---------------------------------------+</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="install-and-configure-messaging-web-server">
<h2>Install and configure Messaging web server<a class="headerlink" href="#install-and-configure-messaging-web-server" title="Permalink to this headline">¶</a></h2>
<p>Install and configure <code class="docutils literal"><span class="pre">memcached</span></code>, <code class="docutils literal"><span class="pre">uWSGI</span></code> and Messaging on the web server
<code class="docutils literal"><span class="pre">WEB0.EXAMPLE-MESSAGES.NET</span></code>.</p>
<ol class="arabic">
<li><p class="first">Install <code class="docutils literal"><span class="pre">memcached</span></code> on web server <code class="docutils literal"><span class="pre">WEB0.EXAMPLE-MESSAGES.NET</span></code> in order
to cache Identity service tokens and catalog mappings:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> yum install memcached
</pre></div>
</div>
<p>Start <code class="docutils literal"><span class="pre">memcached</span></code> service:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> systemctl start memcached
</pre></div>
</div>
<p>Make <code class="docutils literal"><span class="pre">memcached</span></code> service start automatically after reboot:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> systemctl <span class="nb">enable</span> memcached
</pre></div>
</div>
</li>
<li><p class="first">Install Messaging service and <code class="docutils literal"><span class="pre">uWSGI</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> yum -y install python-pip
<span class="gp">#</span> git clone https://git.openstack.org/openstack/zaqar.git
<span class="gp">#</span> <span class="nb">cd</span> zaqar
<span class="gp">#</span> pip install . -r ./requirements.txt --upgrade --log /tmp/zaqar-pip.log
<span class="gp">#</span> pip install --upgrade pymongo gevent uwsgi
</pre></div>
</div>
</li>
<li><p class="first">Copy the Zaqar RBAC policy sample file to the directory <code class="docutils literal"><span class="pre">etc/zaqar/</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> mkdir
<span class="gp">#</span> cp etc/policy.json.sample /etc/zaqar/policy.json
</pre></div>
</div>
</li>
<li><p class="first">Create log file:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> touch /var/log/zaqar-server.log
<span class="gp">#</span> chown ZAQARUSER:ZAQARUSER /var/log/zaqar-server.log
<span class="gp">#</span> chmod <span class="m">600</span> /var/log/zaqar-server.log
</pre></div>
</div>
<p>Replace <code class="docutils literal"><span class="pre">ZAQARUSER</span></code> with the name of the user in system under which the
Messaging service will run.</p>
</li>
<li><p class="first">Create <code class="docutils literal"><span class="pre">/srv/zaqar</span></code> folder to store <code class="docutils literal"><span class="pre">uWSGI</span></code> configuration files.</p>
</li>
<li><p class="first">Create <code class="docutils literal"><span class="pre">/srv/zaqar/zaqar_uwsgi.py</span></code> with the following content:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">keystonemiddleware</span> <span class="kn">import</span> <span class="n">auth_token</span>
<span class="kn">from</span> <span class="nn">zaqar.transport.wsgi</span> <span class="kn">import</span> <span class="n">app</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">auth_token</span><span class="o">.</span><span class="n">AuthProtocol</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="p">{})</span>
</pre></div>
</div>
</li>
<li><p class="first">Increase backlog listen limit from default (128):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> <span class="nb">echo</span> <span class="s2">&quot;net.core.somaxconn=2048&quot;</span> <span class="p">|</span> sudo tee --append /etc/sysctl.conf
</pre></div>
</div>
</li>
<li><p class="first">Create <code class="docutils literal"><span class="pre">/srv/zaqar/uwsgi.ini</span></code> file with the following content and modify
as needed:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[uwsgi]</span>
<span class="na">https</span> <span class="o">=</span> <span class="s">WEB0.EXAMPLE-MESSAGES.NET:8888,PATH_TO_SERVER_CRT,PATH_TO_SERVER_PRIVATE_KEY</span>
<span class="na">pidfile</span> <span class="o">=</span> <span class="s">/var/run/zaqar.pid</span>
<span class="na">gevent</span> <span class="o">=</span> <span class="s">2000</span>
<span class="na">gevent-monkey-patch</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">listen</span> <span class="o">=</span> <span class="s">1024</span>
<span class="na">enable-threads</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">module</span> <span class="o">=</span> <span class="s">zaqar_uwsgi:app</span>
<span class="na">workers</span> <span class="o">=</span> <span class="s">4</span>
<span class="na">harakiri</span> <span class="o">=</span> <span class="s">60</span>
<span class="na">add-header</span> <span class="o">=</span> <span class="s">Connection: close</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal"><span class="pre">PATH_TO_SERVER_CRT</span></code> with path to the server&#8217;s certificate
(<code class="docutils literal"><span class="pre">*.crt</span></code>) and <code class="docutils literal"><span class="pre">PATH_TO_SERVER_PRIVATE_KEY</span></code> with path to the server&#8217;s
private key (<code class="docutils literal"><span class="pre">*.key</span></code>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">uWSGI</span></code> configuration options above can be modified for different
security and performance requirements including load balancing. See the
official <a class="reference external" href="http://uwsgi-docs.readthedocs.io/en/latest/">uWSGI configuration reference</a>.</p>
</div>
</li>
<li><p class="first">Create Messaging service&#8217;s configuration file <code class="docutils literal"><span class="pre">/etc/zaqar.conf</span></code> with the
following content:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[DEFAULT]</span>
<span class="c1"># Show debugging output in logs (sets DEBUG log level output)</span>
<span class="c1">#debug = False</span>

<span class="c1"># Pooling and admin mode configs</span>
<span class="na">pooling</span>      <span class="o">=</span> <span class="s">True</span>
<span class="na">admin_mode</span>    <span class="o">=</span> <span class="s">True</span>

<span class="c1"># Log to file</span>
<span class="na">log_file</span> <span class="o">=</span> <span class="s">/var/log/zaqar-server.log</span>

<span class="c1"># This is taken care of in our custom app.py, so disable here</span>
<span class="c1">;auth_strategy = keystone</span>

<span class="c1"># Modify to make it work with your Identity service.</span>
<span class="k">[keystone_authtoken]</span>
<span class="na">project_domain_name</span> <span class="o">=</span> <span class="s">Default</span>
<span class="na">user_domain_name</span> <span class="o">=</span> <span class="s">Default</span>
<span class="na">project_domain_id</span> <span class="o">=</span> <span class="s">default</span>
<span class="na">project_name</span> <span class="o">=</span> <span class="s">service</span>
<span class="na">user_domain_id</span> <span class="o">=</span> <span class="s">default</span>
<span class="c1"># File path to a PEM encoded Certificate Authority to use when verifying</span>
<span class="c1"># HTTPs connections. Defaults to system CAs if commented.</span>
<span class="na">cafile</span> <span class="o">=</span> <span class="s">PATH_TO_CA_FILE</span>
<span class="c1"># Messaging service user name in Identity service.</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">ZAQARIDENTITYUSER</span>
<span class="c1"># Messaging service password in Identity service.</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">ZAQARIDENTITYPASSWORD</span>
<span class="c1"># Complete public Identity API endpoint (HTTPS protocol is more preferable</span>
<span class="c1"># than HTTP).</span>
<span class="na">auth_uri</span> <span class="o">=</span> <span class="s">HTTPS://IDENTITY.EXAMPLE-MESSAGES.NET:5000</span>
<span class="c1"># Complete admin Identity API endpoint (HTTPS protocol is more preferable</span>
<span class="c1"># than HTTP).</span>
<span class="na">auth_url</span> <span class="o">=</span> <span class="s">HTTPS://IDENTITY.EXAMPLE-MESSAGES.NET:35357</span>
<span class="c1"># Token cache time in seconds.</span>
<span class="na">token_cache_time</span> <span class="o">=</span> <span class="s">TOKEN_CACHE_TIME</span>
<span class="na">memcached_servers</span> <span class="o">=</span> <span class="s">127.0.0.1:11211</span>

<span class="k">[cache]</span>
<span class="c1"># Dogpile.cache backend module. It is recommended that Memcache with</span>
<span class="c1"># pooling (oslo_cache.memcache_pool) or Redis (dogpile.cache.redis) be</span>
<span class="c1"># used in production deployments. Small workloads (single process)</span>
<span class="c1"># like devstack can use the dogpile.cache.memory backend. (string</span>
<span class="c1"># value)</span>
<span class="na">backend</span> <span class="o">=</span> <span class="s">dogpile.cache.memory</span>
<span class="na">memcache_servers</span> <span class="o">=</span> <span class="s">127.0.0.1:11211</span>

<span class="k">[drivers]</span>
<span class="na">transport</span> <span class="o">=</span> <span class="s">wsgi</span>
<span class="na">message_store</span> <span class="o">=</span> <span class="s">mongodb</span>
<span class="na">management_store</span> <span class="o">=</span> <span class="s">mongodb</span>

<span class="k">[drivers:management_store:mongodb]</span>
<span class="c1"># Mongodb Connection URI. If ssl connection enabled, then ssl_keyfile,</span>
<span class="c1"># ssl_certfile, ssl_cert_reqs, ssl_ca_certs options need to be set</span>
<span class="c1"># accordingly.</span>
<span class="na">uri</span> <span class="o">=</span> <span class="s">mongodb://MYDB0.EXAMPLE-MESSAGES.NET,MYDB1.EXAMPLE-MESSAGES.NET,MYDB2.EXAMPLE-MESSAGES.NET:27017/?replicaSet=catalog&amp;w=2&amp;readPreference=secondaryPreferred</span>

<span class="c1"># Name for the database on mongodb server.</span>
<span class="na">database</span> <span class="o">=</span> <span class="s">zaqarmanagementstore</span>

<span class="c1"># Number of databases across which to partition message data, in order</span>
<span class="c1"># to reduce writer lock %. DO NOT change this setting after initial</span>
<span class="c1"># deployment. It MUST remain static. Also, you should not need a large</span>
<span class="c1"># number of partitions to improve performance, esp. if deploying</span>
<span class="c1"># MongoDB on SSD storage. (integer value)</span>
<span class="na">partitions</span> <span class="o">=</span> <span class="s">8</span>

<span class="c1"># Uncomment any options below if needed.</span>

<span class="c1"># Maximum number of times to retry a failed operation. Currently</span>
<span class="c1"># only used for retrying a message post.</span>
<span class="c1">;max_attempts = 1000</span>

<span class="c1"># Maximum sleep interval between retries (actual sleep time</span>
<span class="c1"># increases linearly according to number of attempts performed).</span>
<span class="c1">;max_retry_sleep = 0.1</span>

<span class="c1"># Maximum jitter interval, to be added to the sleep interval, in</span>
<span class="c1"># order to decrease probability that parallel requests will retry</span>
<span class="c1"># at the same instant.</span>
<span class="c1">;max_retry_jitter = 0.005</span>

<span class="c1"># Frequency of message garbage collections, in seconds</span>
<span class="c1">;gc_interval = 5 * 60</span>

<span class="c1"># Threshold of number of expired messages to reach in a given</span>
<span class="c1"># queue, before performing the GC. Useful for reducing frequent</span>
<span class="c1"># locks on the DB for non-busy queues, or for worker queues</span>
<span class="c1"># which process jobs quickly enough to keep the number of in-</span>
<span class="c1"># flight messages low.</span>
<span class="c1">#</span>
<span class="c1"># Note: The higher this number, the larger the memory-mapped DB</span>
<span class="c1"># files will be.</span>
<span class="c1">;gc_threshold = 1000</span>

<span class="k">[drivers:message_store:mongodb]</span>
<span class="c1"># This section has same set of available options as</span>
<span class="c1"># &quot;[drivers:management_store:mongodb]&quot; section.</span>
<span class="c1">#</span>
<span class="c1"># If pooling is enabled, all pools inherit values from options in these</span>
<span class="c1"># settings unless overridden in pool creation request. Also &quot;uri&quot; option</span>
<span class="c1"># value isn&#39;t used in case of pooling.</span>
<span class="c1">#</span>
<span class="c1"># If ssl connection enabled, then ssl_keyfile, ssl_certfile, ssl_cert_reqs,</span>
<span class="c1"># ssl_ca_certs options need to be set accordingly.</span>

<span class="c1"># Name for the database on MondoDB server.</span>
<span class="na">database</span> <span class="o">=</span> <span class="s">zaqarmessagestore</span>

<span class="k">[transport]</span>
<span class="na">max_queues_per_page</span> <span class="o">=</span> <span class="s">1000</span>
<span class="na">max_queue_metadata</span> <span class="o">=</span> <span class="s">262144</span>
<span class="na">max_mesages_per_page</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max_messages_post_size</span> <span class="o">=</span> <span class="s">262144</span>
<span class="na">max_message_ttl</span> <span class="o">=</span> <span class="s">1209600</span>
<span class="na">max_claim_ttl</span> <span class="o">=</span> <span class="s">43200</span>
<span class="na">max_claim_grace</span> <span class="o">=</span> <span class="s">43200</span>

<span class="k">[signed_url]</span>
<span class="c1"># Secret key used to encrypt pre-signed URLs. (string value)</span>
<span class="na">secret_key</span> <span class="o">=</span> <span class="s">SOMELONGSECRETKEY</span>
</pre></div>
</div>
<p>Edit any options as needed, especially the options with capitalized values.</p>
</li>
<li><p class="first">Create a service file for Messaging service
<code class="docutils literal"><span class="pre">/etc/systemd/system/zaqaruwsgi.service</span></code>:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">uWSGI Zaqar</span>
<span class="na">After</span><span class="o">=</span><span class="s">syslog.target</span>

<span class="k">[Service]</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/bin/uwsgi --ini /srv/zaqar/uwsgi.ini</span>
<span class="c1"># Requires systemd version 211 or newer</span>
<span class="na">RuntimeDirectory</span><span class="o">=</span><span class="s">uwsgi</span>
<span class="na">Restart</span><span class="o">=</span><span class="s">always</span>
<span class="na">KillSignal</span><span class="o">=</span><span class="s">SIGQUIT</span>
<span class="na">Type</span><span class="o">=</span><span class="s">notify</span>
<span class="na">StandardError</span><span class="o">=</span><span class="s">syslog</span>
<span class="na">NotifyAccess</span><span class="o">=</span><span class="s">all</span>
<span class="na">User</span><span class="o">=</span><span class="s">ZAQARUSER</span>
<span class="na">Group</span><span class="o">=</span><span class="s">ZAQARUSER</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal"><span class="pre">ZAQARUSER</span></code> with the name of the user in system under which the
Messaging service will run.</p>
</li>
</ol>
</div>
<div class="section" id="finalize-installation">
<h2>Finalize installation<a class="headerlink" href="#finalize-installation" title="Permalink to this headline">¶</a></h2>
<p>Now after you have configured the web server and the database servers to have a
functional Messaging service, you need to start the service, make the service
automatically start with the system and define the created <code class="docutils literal"><span class="pre">MongoDB</span></code>
replica-set as Messaging&#8217;s pool.</p>
<ol class="arabic">
<li><p class="first">Start Messaging service on the web server:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> systemctl start zaqar.uwsgi.service
</pre></div>
</div>
</li>
<li><p class="first">Make Messaging service start automatically after reboot on the web server:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> systemctl <span class="nb">enable</span> zaqar.uwsgi.service
</pre></div>
</div>
</li>
<li><p class="first">Configure pool:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> curl -i -X PUT https://WEB0.EXAMPLE-MESSAGES.NET:8888/v2/pools/POOL1 <span class="se">\</span>
<span class="go">           -d &#39;{&quot;weight&quot;: 100, &quot;uri&quot;: &quot;mongodb://MYDB0.EXAMPLE-MESSAGES.NET,MYDB1.EXAMPLE-MESSAGES.NET,MYDB2.EXAMPLE-MESSAGES.NET:27017/?replicaSet=catalog&amp;w=2&amp;readPreference=secondaryPreferred&quot;, &quot;options&quot;: {&quot;partitions&quot;: 8}}&#39; \</span>
<span class="go">           -H &quot;Client-ID: CLIENT_ID&quot; \</span>
<span class="go">           -H &quot;X-Auth-Token: TOKEN&quot; \</span>
<span class="go">           -H &quot;Content-type: application/json&quot; \</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal"><span class="pre">POOL1</span></code> variable with the desired name of a pool.</p>
<p>Replace <code class="docutils literal"><span class="pre">CLIENT_ID</span></code> variable with the universally unique identifier (UUID)
which can be generated by, for example, <code class="docutils literal"><span class="pre">uuidgen</span></code> utility.</p>
<p>Replace <code class="docutils literal"><span class="pre">TOKEN</span></code> variable with the authentication token retrieved from
Identity service. If you choose not to enable Keystone authentication you
won&#8217;t have to pass a token.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">options</span></code> key in curl request above overrides any options
(specified in configuration file or default) in
<code class="docutils literal"><span class="pre">[drivers:message_store:mongodb]</span></code> Messaging service configuration
file&#8217;s section.</p>
</div>
</li>
</ol>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">In larger deployments, there should be many load balanced web servers. Also
the management store databases and the message store databases (pools)
should be on different <code class="docutils literal"><span class="pre">MongoDB</span></code> replica-sets.</p>
</div>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="install-obs.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Install and configure for openSUSE and SUSE Linux Enterprise"></i></a>
          
          
            <a href="install-ubuntu.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Install and configure for Ubuntu"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2016-11-10 02:07</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Messaging service overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="install.html">Install and configure</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install-obs.html">Install and configure for openSUSE and SUSE Linux Enterprise</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Install and configure for Red Hat Enterprise Linux and CentOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-ubuntu.html">Install and configure for Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#possible-minimum-scalable-ha-setup">Possible Minimum Scalable HA Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="verify.html">Verify operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="next-steps.html">Next steps</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="_static/js/jquery-1.11.3.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="_static/js/bootstrap.min.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "install-rdo" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/zaqar/tree/install-guide/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 9d4497dbd9278739611d143d17224cc2355cfab9";
        var bugProject = "openstack-manuals";
        var bugTitle = "Install and configure for Red Hat Enterprise Linux and CentOS in Installation Guide for Messaging Service";
    var fieldTags = "install-guide";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.1 on 2016-11-10 02:07";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>