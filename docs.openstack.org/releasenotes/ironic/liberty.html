<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Liberty Series Release Notes &mdash; Ironic Release Notes 7.0.1.dev1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '7.0.1.dev1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ironic Release Notes 7.0.1.dev1 documentation" href="index.html" />
    <link rel="next" title="Current Series Release Notes" href="unreleased.html" />
    <link rel="prev" title="Mitaka Series Release Notes" href="mitaka.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="liberty-series-release-notes">
<h1>Liberty Series Release Notes<a class="headerlink" href="#liberty-series-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>4.2.5<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="security-issues">
<h3>Security Issues<a class="headerlink" href="#security-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>A critical security vulnerability (CVE-2016-4985) was fixed in this release. Previously, a client with network access to the ironic-api service was able to bypass Keystone authentication and retrieve all information about any Node registered with Ironic, if they knew (or were able to guess) the MAC address of a network card belonging to that Node, by sending a crafted POST request to the /v1/drivers/$DRIVER_NAME/vendor_passthru resource. Ironic&#8217;s policy.json configuration is now respected when responding to this request such that, if passwords should be masked for other requests, they are also masked for this request.</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h2>4.2.4<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>This forces iRMC vmedia boot from remotely connected (redirected) CD/DVD instead of default CD/DVD. See <a class="reference external" href="https://bugs.launchpad.net/ironic/+bug/1561852">https://bugs.launchpad.net/ironic/+bug/1561852</a> for details.</li>
</ul>
</div>
</div>
<div class="section" id="id3">
<h2>4.2.3<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="upgrade-notes">
<h3>Upgrade Notes<a class="headerlink" href="#upgrade-notes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Updated python-scciclient required version number for iRMC driver to 0.3.0 which fixed the bug &#8216;#1518999&#8217; and &#8216;#1519000&#8217;.</li>
</ul>
</div>
<div class="section" id="id4">
<h3>Bug Fixes<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Make boot.ipxe fallback to its previous behavior on <em>really</em> old iPXE ROMs where &#8216;inc&#8217; command is not available at all, see <a class="reference external" href="https://launchpad.net/bugs/1507738">https://launchpad.net/bugs/1507738</a>.</li>
<li>Disables default execution of clean step &#8216;reset_ilo&#8217; during automated cleaning. Resetting of iLO is not required during every invocation of automated cleaning. If required, operator can enable the same.</li>
<li>Add missing &#8220;lookup&#8221; method to the pxe_drac driver vendor interface enabling it to be deployed using the IPA ramdisk.</li>
<li>Fixes an issue with the provided iPXE template where whole disk images could not be booted. See <a class="reference external" href="https://bugs.launchpad.net/ironic/+bug/1524403">https://bugs.launchpad.net/ironic/+bug/1524403</a>.</li>
<li>Fixes issue where automated cleaning fails for iLO drivers. Automated cleaning fails for iLO driver if iLO is in System POST state. iLO does not allow setting of boot device when it is in System POST state.</li>
<li>Updated python-scciclient required version number for iRMC driver to 0.3.0 which fixed the bug &#8216;#1518999&#8217; and &#8216;#1519000&#8217;.</li>
</ul>
</div>
</div>
<div class="section" id="id5">
<h2>4.2.2<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>A major bug was fixed where clean steps do not run.</p>
<div class="section" id="critical-issues">
<h3>Critical Issues<a class="headerlink" href="#critical-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>This fixes a bug where Ironic skipped all clean steps, which may leave the previous tenant&#8217;s data on disk available to new users.</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Security Issues<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>This fixes a bug where Ironic skipped all clean steps, which may leave the previous tenant&#8217;s data on disk available to new users.</li>
</ul>
</div>
<div class="section" id="other-notes">
<h3>Other Notes<a class="headerlink" href="#other-notes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Start using reno to manage release notes.</li>
</ul>
</div>
</div>
<div class="section" id="v4-2-1">
<span id="id7"></span><h2>4.2.1<a class="headerlink" href="#v4-2-1" title="Permalink to this headline">¶</a></h2>
<p>This release is a patch release on top of 4.2.0, as part of the stable
Liberty series. Full details are available on Launchpad:
<a class="reference external" href="https://launchpad.net/ironic/liberty/4.2.1">https://launchpad.net/ironic/liberty/4.2.1</a>.</p>
<ul class="simple">
<li>Import Japanese translations - our first major translation addition!</li>
<li>Fix a couple of locale issues with deployments, when running on a system
using the Japanese locale</li>
</ul>
</div>
<div class="section" id="v4-2-0">
<span id="id8"></span><h2>4.2.0<a class="headerlink" href="#v4-2-0" title="Permalink to this headline">¶</a></h2>
<p>This release is proposed as the stable Liberty release for Ironic, and brings
with it some bug fixes and small features. Full release details are available
on Launchpad: <a class="reference external" href="https://launchpad.net/ironic/liberty/4.2.0">https://launchpad.net/ironic/liberty/4.2.0</a>.</p>
<ul>
<li><p class="first">Deprecated the bash ramdisk</p>
<p>The older bash ramdisk built by diskimage-builder is now deprecated and
support will be removed at the beginning of the &#8220;N&#8221; development cycle. Users
should migrate to a ramdisk running ironic-python-agent, which now also
supports the pxe_* drivers that the bash ramdisk was responsible for.
For more info on building an ironic-python-agent ramdisk, see:
<a class="reference external" href="http://docs.openstack.org/developer/ironic/deploy/install-guide.html#building-or-downloading-a-deploy-ramdisk-image">http://docs.openstack.org/developer/ironic/deploy/install-guide.html#building-or-downloading-a-deploy-ramdisk-image</a></p>
</li>
<li><p class="first">Raised API version to 1.14</p>
<ul class="simple">
<li>1.12 allows setting RAID properties for a node; however support for
putting this configuration on a node is not yet implemented for in-tree
drivers; this will be added in a future release.</li>
<li>1.13 adds a new &#8216;abort&#8217; verb to the provision state API. This may be used
to abort cleaning for nodes in the CLEANWAIT state.</li>
<li>1.14 makes the following endpoints discoverable in the API:<ul>
<li>/v1/nodes/&lt;UUID or logical name&gt;/states</li>
<li>/v1/drivers/&lt;driver name&gt;/properties</li>
</ul>
</li>
</ul>
</li>
<li><p class="first">Implemented a new Boot interface for drivers</p>
<p>This change enhances the driver interface for driver authors, and should not
affect users of Ironic, by splitting control of booting a server from the
DeployInterface. The BootInterface is responsible for booting an image on a
server, while the DeployInterface is responsible for deploying a tenant image
to a server.</p>
<p>This has been implemented in most in-tree drivers, and is a
backwards-compatible change for out-of-tree drivers. The following in-tree
drivers will be updated in a forth-coming release:</p>
<ul class="simple">
<li>agent_ilo</li>
<li>agent_irmc</li>
<li>iscsi_ilo</li>
<li>iscsi_irmc</li>
</ul>
</li>
<li><p class="first">Implemented a new RAID interface for drivers</p>
<p>This change enhances the driver interface for driver authors. Drivers may
begin implementing this interface to support RAID configuration for nodes.
This is not yet implemented for any in-tree drivers.</p>
</li>
<li><p class="first">Image size is now checked before deployment with agent drivers</p>
<p>The agent must download the tenant image in full before writing it to disk.
As such, the server being deployed must have enough RAM for running the
agent and storing the image. This is now checked before Ironic tells the
agent to deploy an image. An optional config [agent]memory_consumed_by_agent
is provided. When Ironic does this check, this config option may be set to
factor in the amount of RAM to reserve for running the agent.</p>
</li>
<li><p class="first">Added Cisco IMC driver</p>
<p>This driver supports managing Cisco UCS C-series servers through the
CIMC API, rather than IPMI. Documentation is available at:
<a class="reference external" href="http://docs.openstack.org/developer/ironic/drivers/cimc.html">http://docs.openstack.org/developer/ironic/drivers/cimc.html</a></p>
</li>
<li><p class="first">iLO virtual media drivers can work without Swift</p>
<p>iLO virtual media drivers (iscsi_ilo and agent_ilo) can work standalone
without Swift, by configuring an HTTP(S) server for hosting the
deploy/boot images. A web server needs to be running on every conductor
node and needs to be configured in ironic.conf.</p>
<p>iLO driver documentation is available at:
<a class="reference external" href="http://docs.openstack.org/developer/ironic/drivers/ilo.html">http://docs.openstack.org/developer/ironic/drivers/ilo.html</a></p>
</li>
</ul>
<div class="section" id="known-issues">
<h3>Known issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Out of tree drivers may be broken by this release. The AgentDeploy and
ISCSIDeploy (formerly known as PXEDeploy) classes now depend on drivers to
utilize an instance of a BootInterface. For drivers that exist out of tree,
that use these deploy classes, an error will be thrown during
deployment. There is a simple fix. For drivers that expect these deploy
classes to handle PXE booting, one can add the following code to the driver&#8217;s
<cite>__init__</cite> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ironic.drivers.modules</span> <span class="kn">import</span> <span class="n">pxe</span>

<span class="k">class</span> <span class="nc">YourDriver</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># ...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boot</span> <span class="o">=</span> <span class="n">pxe</span><span class="o">.</span><span class="n">PXEBoot</span><span class="p">()</span>
</pre></div>
</div>
<p>A driver that handles booting itself (for example, a driver that implements
booting from virtual media) should use the following to make calls to the boot
interface a no-op:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>from ironic.drivers.modules import fake

class YourDriver(...)
    def __init__(self):
        # ...
        self.boot = fake.FakeBoot()
</pre></div>
</div>
<p>Additionally, as mentioned before, <cite>ironic.drivers.modules.pxe.PXEDeploy</cite>
has moved to <cite>ironic.drivers.modules.iscsi_deploy.ISCSIDeploy</cite>, which will
break drivers that use this class.</p>
<p>The Ironic team apologizes profusely for this inconvenience.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v4-1-0">
<span id="id9"></span><h2>4.1.0<a class="headerlink" href="#v4-1-0" title="Permalink to this headline">¶</a></h2>
<p>This brings some bug fixes and small features on top of Ironic 4.0.0.
Major changes are listed below, and full release details are available
on Launchpad: <a class="reference external" href="https://launchpad.net/ironic/liberty/4.1.0">https://launchpad.net/ironic/liberty/4.1.0</a>.</p>
<ul>
<li><p class="first">Added CORS support</p>
<p>The Ironic API now has support for CORS requests, that may be used by,
for example, web browser-based clients. This is configured in the [cors]
section of ironic.conf.</p>
</li>
<li><p class="first">Removed deprecated &#8216;admin_api&#8217; policy rule</p>
</li>
<li><p class="first">Deprecated the &#8216;parallel&#8217; option to periodic task decorator</p>
</li>
</ul>
</div>
<div class="section" id="first-semver-release">
<span id="v4-0-0"></span><h2>4.0.0   First semver release<a class="headerlink" href="#first-semver-release" title="Permalink to this headline">¶</a></h2>
<p>This is the first semver-versioned release of Ironic, created during the
OpenStack &#8220;Liberty&#8221; development cycle.  It marks a pivot in our
versioning schema from date-based versioning; the previous released
version was 2015.1. Full release details are available on Launchpad:
<a class="reference external" href="https://launchpad.net/ironic/liberty/4.0.0">https://launchpad.net/ironic/liberty/4.0.0</a>.</p>
<ul class="simple">
<li>Raised API version to 1.11</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>v1.7 exposes a new &#8216;clean_step&#8217; property on the Node resource.</li>
<li>v1.8 and v1.9 improve query and filter support</li>
<li>v1.10 fixes Node logical names to support all <a class="reference external" href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a> unreserved
characters</li>
<li>v1.11 changes the default state of newly created Nodes from AVAILABLE to
ENROLL</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first">Support for the new ENROLL workflow during Node creation</p>
<p>Previously, all Nodes were created in the &#8220;available&#8221; provision state - before
management credentials were validated, hardware was burned in, etc. This could
lead to workloads being scheduled to Nodes that were not yet ready for it.</p>
<p>Beginning with API v1.11, newly created Nodes begin in the ENROLL state,
and must be &#8220;managed&#8221; and &#8220;provided&#8221; before they are made available for
provisioning. API clients must be updated to handle the new workflow when they
begin sending the X-OpenStack-Ironic-API-Version header with a value &gt;= 1.11.</p>
</li>
<li><p class="first">Migrations from Nova &#8220;baremetal&#8221; have been removed</p>
<p>After a deprecation period, the scripts and support for migrating from
the old Nova &#8220;baremetal&#8221; driver to the new Nova &#8220;ironic&#8221; driver have
been removed from Ironic&#8217;s tree.</p>
</li>
<li><p class="first">Removal of deprecated vendor driver methods</p>
<p>A new &#64;passthru decorator was introduced to the driver API in a previous
release. In this release, support for vendor_passthru and
driver_vendor_passthru methods has been removed. All in-tree drivers have
been updated. Any out of tree drivers which did not update to the
&#64;passthru decorator during the previous release will need to do so to be
compatible with this release.</p>
</li>
<li><p class="first">Introduce new BootInterface to the Driver API</p>
<p>Drivers may optionally add a new BootInterface. This is merely a
refactoring of the Driver API to support future improvements.</p>
</li>
<li><p class="first">Several hardware drivers have been added or enhanced</p>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Add OCS Driver</li>
<li>Add UCS Driver</li>
<li>Add Wake-On-Lan Power Driver</li>
<li>ipmitool driver supports IPMI v1.5</li>
<li>Add support to SNMP driver for &#8220;APC MasterSwitchPlus&#8221; series PDU&#8217;s</li>
<li>pxe_ilo driver now supports UEFI Secure Boot (previous releases of the
iLO driver only supported this for agent_ilo and iscsi_ilo)</li>
<li>Add Virtual Media support to iRMC Driver</li>
<li>Add BIOS config to DRAC Driver</li>
<li>PXE drivers now support GRUB2</li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Liberty Series Release Notes</a><ul>
<li><a class="reference internal" href="#id1">4.2.5</a><ul>
<li><a class="reference internal" href="#security-issues">Security Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">4.2.4</a><ul>
<li><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">4.2.3</a><ul>
<li><a class="reference internal" href="#upgrade-notes">Upgrade Notes</a></li>
<li><a class="reference internal" href="#id4">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">4.2.2</a><ul>
<li><a class="reference internal" href="#critical-issues">Critical Issues</a></li>
<li><a class="reference internal" href="#id6">Security Issues</a></li>
<li><a class="reference internal" href="#other-notes">Other Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v4-2-1">4.2.1</a></li>
<li><a class="reference internal" href="#v4-2-0">4.2.0</a><ul>
<li><a class="reference internal" href="#known-issues">Known issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v4-1-0">4.1.0</a></li>
<li><a class="reference internal" href="#first-semver-release">4.0.0   First semver release</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="mitaka.html"
                                  title="previous chapter">Mitaka Series Release Notes</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="unreleased.html"
                                  title="next chapter">Current Series Release Notes</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="http://git.openstack.org/cgit/openstack/ironic
"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/liberty.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="unreleased.html" title="Current Series Release Notes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mitaka.html" title="Mitaka Series Release Notes"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Ironic Release Notes 7.0.1.dev1 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Ironic Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Ironic Release Notes");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>