<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mitaka Series Release Notes &mdash; OpenStack-Ansible 15.0.0.0rc2.dev16 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '15.0.0.0rc2.dev16',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="OpenStack-Ansible 15.0.0.0rc2.dev16 documentation" href="index.html" />
    <link rel="next" title="Newton Series Release Notes" href="newton.html" />
    <link rel="prev" title="Liberty Series Release Notes" href="liberty.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mitaka-series-release-notes">
<h1>Mitaka Series Release Notes<a class="headerlink" href="#mitaka-series-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>13.3.4<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">AIDE is configured to skip the entire <code class="docutils literal"><span class="pre">/var</span></code> directory when it does the
database initialization and when it performs checks. This reduces disk
I/O and allows these jobs to complete faster.</p>
<p>This also allows the initialization to become a blocking process and
Ansible will wait for the initialization to complete prior to running the
next task.</p>
</li>
<li><p class="first">Although the STIG requires martian packets to be logged, the logging is
now disabled by default. The logs can quickly fill up a syslog server or
make a physical console unusable.</p>
<p>Deployers that need this logging enabled will need to set the following
Ansible variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_sysctl_enable_martian_logging</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="upgrade-notes">
<h3>Upgrade Notes<a class="headerlink" href="#upgrade-notes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">All of the discretionary access control (DAC) auditing is now disabled by
default. This reduces the amount of logs generated during deployments and
minor upgrades.  The following variables are now set to <code class="docutils literal"><span class="pre">no</span></code>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_chmod</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_chown</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_lchown</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fchmod</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fchmodat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fchown</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fchownat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fremovexattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_lremovexattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fsetxattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_lsetxattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_setxattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal"><span class="pre">/run</span></code> directory is excluded from AIDE checks since the files and
directories there are only temporary and often change when services
start and stop.</p>
</li>
<li><p class="first">AIDE initialization is now always run on subsequent playbook runs when
<code class="docutils literal"><span class="pre">initialize_aide</span></code> is set to <code class="docutils literal"><span class="pre">yes</span></code>. The initialization will
be skipped if AIDE isn&#8217;t installed or if the AIDE database already exists.</p>
<p>See <a class="reference external" href="https://launchpad.net/bugs/1616281">bug 1616281</a> for more details.</p>
</li>
<li><p class="first">The auditd rules for auditing V-38568 (filesystem mounts) were incorrectly labeled in the auditd logs with the key of <code class="docutils literal"><span class="pre">export-V-38568</span></code>. They are now correctly logged with the key <code class="docutils literal"><span class="pre">filesystem_mount-V-38568</span></code>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h2>13.1.4<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>New Features<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The audit rules added by the security role now have key fields that make it easier to link the audit log entry to the audit rule that caused it to appear.</li>
</ul>
</div>
<div class="section" id="id4">
<h3>Bug Fixes<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The role previously did not restart the audit daemon after generating a new rules file. The <a class="reference external" href="https://launchpad.net/bugs/1590916">bug</a> has been fixed and the audit daemon will be restarted after any audit rule changes.</li>
<li>When the security role was run in Ansible&#8217;s check mode and a tag was
provided, the <code class="docutils literal"><span class="pre">check_mode</span></code> variable was not being set. Any tasks which
depend on that variable would fail. This <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1590086">bug is fixed</a>
and the <code class="docutils literal"><span class="pre">check_mode</span></code> variable is now set properly on every playbook run.</li>
</ul>
</div>
</div>
<div class="section" id="id5">
<h2>13.1.3<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id6">
<h3>Bug Fixes<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The security role previously set the permissions on all audit log files in
<code class="docutils literal"><span class="pre">/var/log/audit</span></code> to <code class="docutils literal"><span class="pre">0400</span></code>, but this prevents the audit daemon from
writing to the active log file. This will prevent <code class="docutils literal"><span class="pre">auditd</span></code> from
starting or restarting cleanly.</p>
<p>The task now removes any permissions that are not allowed by the STIG. Any
log files that meet or exceed the STIG requirements will not be modified.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id7">
<h2>13.1.2<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id8">
<h3>Bug Fixes<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The dictionary-based variables in <code class="docutils literal"><span class="pre">defaults/main.yml</span></code> are now individual variables. The dictionary-based variables could not be changed as the documentation instructed. Instead it was required to override the entire dictionary. Deployers must use the new variable names to enable or disable the security configuration changes applied by the security role. For more information, see <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1577944">Launchpad Bug 1577944</a>.</li>
<li>The security role now handles <code class="docutils literal"><span class="pre">ssh_config</span></code> files that contain <code class="docutils literal"><span class="pre">Match</span></code> stanzas. A marker is added to the configuration file and any new configuration items will be added below that marker. In addition, the configuration file is validated for each change to the ssh configuration file.</li>
</ul>
</div>
</div>
<div class="section" id="id9">
<h2>13.1.1<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id10">
<h3>Bug Fixes<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Failed access logging is now disabled by default and can be enabled by changing <code class="docutils literal"><span class="pre">security_audit_failed_access</span></code> to <code class="docutils literal"><span class="pre">yes</span></code>. The rsyslog daemon checks for the existence of log files regularly and this audit rule was triggered very frequently, which led to very large audit logs.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Mitaka Series Release Notes</a><ul>
<li><a class="reference internal" href="#id1">13.3.4</a><ul>
<li><a class="reference internal" href="#new-features">New Features</a></li>
<li><a class="reference internal" href="#upgrade-notes">Upgrade Notes</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">13.1.4</a><ul>
<li><a class="reference internal" href="#id3">New Features</a></li>
<li><a class="reference internal" href="#id4">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">13.1.3</a><ul>
<li><a class="reference internal" href="#id6">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">13.1.2</a><ul>
<li><a class="reference internal" href="#id8">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9">13.1.1</a><ul>
<li><a class="reference internal" href="#id10">Bug Fixes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="liberty.html"
                                  title="previous chapter">Liberty Series Release Notes</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="newton.html"
                                  title="next chapter">Newton Series Release Notes</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="https://git.openstack.org/cgit/openstack/openstack-ansible-security"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/mitaka.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="newton.html" title="Newton Series Release Notes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="liberty.html" title="Liberty Series Release Notes"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenStack-Ansible 15.0.0.0rc2.dev16 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2014-2016, OpenStack-Ansible Contributors.
      Last updated on 2017-02-14 12:23.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/OpenStack-Ansible");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>