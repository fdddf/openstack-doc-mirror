<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Newton Series Release Notes &mdash; OpenStack-Ansible 15.0.0.0rc2.dev41 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '15.0.0.0rc2.dev41',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="OpenStack-Ansible 15.0.0.0rc2.dev41 documentation" href="index.html" />
    <link rel="next" title="Current Series Release Notes" href="unreleased.html" />
    <link rel="prev" title="Mitaka Series Release Notes" href="mitaka.html" /> 
  </head>
  <body role="document">
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="newton-series-release-notes">
<h1>Newton Series Release Notes<a class="headerlink" href="#newton-series-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>14.0.7-11<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The security-hardening playbook hosts target can now be filtered using the <code class="docutils literal"><span class="pre">security_host_group</span></code> var.</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h2>14.0.7<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>New Features<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>It is now possible to customise the location of the configuration file source for the All-In-One (AIO) bootstrap process using the <code class="docutils literal"><span class="pre">bootstrap_host_aio_config_path</span></code> variable.</li>
<li>It is now possible to customise the location of the scripts used in the All-In-One (AIO) boostrap process using the <code class="docutils literal"><span class="pre">bootstrap_host_aio_script_path</span></code> variable.</li>
<li>It is now possible to customise the name of the <code class="docutils literal"><span class="pre">user_variables.yml</span></code> file created by the All-In-One (AIO) bootstrap process using the <code class="docutils literal"><span class="pre">bootstrap_host_user_variables_filename</span></code> variable.</li>
<li>It is now possible to customise the name of the <code class="docutils literal"><span class="pre">user_secrets.yml</span></code> file created by the All-In-One (AIO) bootstrap process using the <code class="docutils literal"><span class="pre">bootstrap_host_user_secrets_filename</span></code> variable.</li>
<li>The filename of the apt source for the ubuntu cloud archive can now be defined with the variable <code class="docutils literal"><span class="pre">uca_apt_source_list_filename</span></code>.</li>
<li>The filename of the apt source for the ubuntu cloud archive used in ceph client can now be defined by giving a filename in the uca part of the dict <code class="docutils literal"><span class="pre">ceph_apt_repos</span></code>.</li>
<li>The filename of the apt source for the ubuntu cloud archive can now be defined with the variable <code class="docutils literal"><span class="pre">uca_apt_source_list_filename</span></code>.</li>
<li>The filename of the apt/yum source can now be defined with the variable <code class="docutils literal"><span class="pre">mariadb_repo_filename</span></code>.</li>
<li>The filename of the apt source can now be defined with the variable <code class="docutils literal"><span class="pre">filename</span></code> inside the dicts <code class="docutils literal"><span class="pre">galera_repo</span></code> and <code class="docutils literal"><span class="pre">galera_percona_xtrabackup_repo</span></code>.</li>
<li>The filename of the apt source for the haproxy ppa can now be defined with the <code class="docutils literal"><span class="pre">filename</span></code> section of the dict <code class="docutils literal"><span class="pre">haproxy_repo</span></code>.</li>
<li>The filename of the apt source for the ubuntu cloud archive can now be defined with the variable <code class="docutils literal"><span class="pre">uca_apt_source_list_filename</span></code>.</li>
<li>The <code class="docutils literal"><span class="pre">rabbitmq_server</span></code> role now supports disabling listeners that do not use TLS. Deployers can override the <code class="docutils literal"><span class="pre">rabbitmq_disable_non_tls_listeners</span></code> variable, setting a value of <code class="docutils literal"><span class="pre">True</span></code> if they wish to enable this feature.</li>
<li>Additional volume-types can be created by defining a list named <code class="docutils literal"><span class="pre">extra_volume_types</span></code> in the desired backend of the variable(s) <code class="docutils literal"><span class="pre">cinder_backends</span></code></li>
<li>You can specify the <code class="docutils literal"><span class="pre">galera_package_arch</span></code> variable to force a specific architecture when installing percona and qpress packages. This will be automatically calculated based on the architecture of the <code class="docutils literal"><span class="pre">galera_server</span></code> host. Acceptable values are <code class="docutils literal"><span class="pre">x86_64</span></code> for <code class="docutils literal"><span class="pre">Ubuntu-14.04`,</span> <span class="pre">``Ubuntu-16.04</span></code> and <code class="docutils literal"><span class="pre">RHEL</span> <span class="pre">7</span></code>, and <code class="docutils literal"><span class="pre">ppc64le</span></code> for <code class="docutils literal"><span class="pre">Ubuntu-16.04</span></code>.</li>
<li>Deployers can now define the varible <code class="docutils literal"><span class="pre">cinder_qos_specs</span></code> to create qos specs and assign those specs to desired cinder volume types.</li>
<li>RabbitMQ Server can now be installed from different
methods: a deb file (default), from standard
repository package and from external repository.
Current behavior is unchanged. Please define
<code class="docutils literal"><span class="pre">rabbitmq_install_method:</span> <span class="pre">distro</span></code> to use packages
provided by your distribution or
<code class="docutils literal"><span class="pre">rabbitmq_install_method:</span> <span class="pre">external_repo</span></code> to use
packages stored in an external repo. In the case
<code class="docutils literal"><span class="pre">external_repo</span></code> is used, the process will install
RabbitMQ from the packages hosted by packagecloud.io,
as recommended by RabbitMQ.</li>
</ul>
</div>
<div class="section" id="known-issues">
<h3>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The bootstrap-ansible script may fail with an incompatible requirement when installing OpenStack-Ansible 14.0.6 and before. See <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1658948">https://bugs.launchpad.net/openstack-ansible/+bug/1658948</a> for more details.</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The percona repository stayed in placed even after a change of the variable <code class="docutils literal"><span class="pre">use_percona_upstream</span></code>. From now on, the percona repository will not be present unless the deployer decides to <code class="docutils literal"><span class="pre">use_percona_upstream</span></code>. This also fixes a bug of the presence of this apt repository after an upgdrade from Mitaka.</li>
</ul>
</div>
</div>
<div class="section" id="id4">
<h2>14.0.6<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>New Features<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Deployers can set <code class="docutils literal"><span class="pre">heat_cinder_backups_enabled</span></code> to enable or disable
the cinder backups feature in heat. If heat has cinder backups enabled,
but cinder&#8217;s backup service is disabled, newly built stacks will be
undeletable.</p>
<p>The <code class="docutils literal"><span class="pre">heat_cinder_backups_enabled</span></code> variable is set to <code class="docutils literal"><span class="pre">false</span></code> by
default.</p>
</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Bug Fixes<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Properly distrubute client keys to nova hypervisors when extra ceph clusters are being deployed.</li>
<li>Properly remove temporary files used to transfer ceph client keys from the deploy host and hypervisors.</li>
</ul>
</div>
</div>
<div class="section" id="id7">
<h2>14.0.5<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id8">
<h3>New Features<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The installation of <code class="docutils literal"><span class="pre">chrony</span></code> is still enabled by default, but it is now
controlled by the <code class="docutils literal"><span class="pre">security_enable_chrony</span></code> variable.</li>
<li>If the cinder backup service is enabled with
<code class="docutils literal"><span class="pre">cinder_service_backup_program_enabled:</span> <span class="pre">True</span></code>, then heat will be
configured to use the cinder backup service. The
<code class="docutils literal"><span class="pre">heat_cinder_backups_enabled</span></code> variable will automatically be set to
<code class="docutils literal"><span class="pre">True</span></code>.</li>
<li>The copy of the <code class="docutils literal"><span class="pre">/etc/openstack-release</span></code> file is now optional. To disable the copy of the file, set <code class="docutils literal"><span class="pre">openstack_distrib_file</span></code> to <code class="docutils literal"><span class="pre">no</span></code>.</li>
<li>The location of the <code class="docutils literal"><span class="pre">/etc/openstack-release</span></code> file placement can now be changed. Set the variable <code class="docutils literal"><span class="pre">openstack_distrib_file_path</span></code> to place it in a different path.</li>
<li>Swift <code class="docutils literal"><span class="pre">versioned_writes</span></code> middleware is added to the pipeline by default. Additionally the <code class="docutils literal"><span class="pre">allow_versioned_writes</span></code> settings in the middleware configuration is set to <code class="docutils literal"><span class="pre">True</span></code>. This follows the Swift defaults, and enables the use of the <code class="docutils literal"><span class="pre">X-History-Location</span></code> metadata Header.</li>
</ul>
</div>
<div class="section" id="upgrade-notes">
<h3>Upgrade Notes<a class="headerlink" href="#upgrade-notes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The variables used to produce the <code class="docutils literal"><span class="pre">/etc/openstack-release</span></code> file
have been changed in order to improve consistency in the name
spacing according to their purpose.</p>
<p><code class="docutils literal"><span class="pre">openstack_code_name</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">openstack_distrib_code_name</span></code>
<code class="docutils literal"><span class="pre">openstack_release</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">openstack_distrib_release</span></code></p>
<p>Note that the value for <code class="docutils literal"><span class="pre">openstack_distrib_release</span></code> will
be taken from the variable <code class="docutils literal"><span class="pre">openstack_release</span></code> if it is set.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">proxy_env_url</span></code> is now used by the apt-cacher-ng jinja2 template to set up an HTTP/HTTPS proxy if needed.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">gnocchi_required_pip_packages</span></code> was incorrectly named and has been renamed to <code class="docutils literal"><span class="pre">gnocchi_requires_pip_packages</span></code> to match the standard across all roles.</p>
</li>
</ul>
</div>
<div class="section" id="id9">
<h3>Bug Fixes<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal"><span class="pre">container_cidr</span></code> key has been restored back to
<code class="docutils literal"><span class="pre">openstack_inventory.json</span></code>.</p>
<p>The fix to remove deleted global override keys mistakenly deleted the
<code class="docutils literal"><span class="pre">container_cidr</span></code> key. This was used by downstream consumers,
and cannot be reconstructed with other information inside the inventory
file. Regression tests were also added.</p>
</li>
<li><p class="first">The apt-cacher-ng daemon does not use the proxy server specified in environment variables. The proxy server specified in the <code class="docutils literal"><span class="pre">proxy_env_url</span></code> variable is now set inside the apt-cacher-ng configuration file.</p>
</li>
<li><p class="first">Setup for the PowerVM driver was not properly configuring the system to support RMC configuration for client instances. This fix introduces an interface template for PowerVM that properly supports mixed IPV4/IPV6 deploys and adds documentation for PowerVM RMC. For more information see bug 1643988.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id10">
<h2>14.0.3<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id11">
<h3>Upgrade Notes<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The variables <code class="docutils literal"><span class="pre">tempest_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">tempest_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">swift_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">swift_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">neutron_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">neutron_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">sahara_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">sahara_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">nova_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">nova_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">nova_lxd_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">nova_lxd_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
</ul>
</div>
<div class="section" id="id12">
<h3>Bug Fixes<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>SSLv3 is now disabled in the haproxy daemon configuration by default.</li>
<li>Setting the haproxy_bind list on a service is now used as an override to the other VIPs defined in the environment. Previously it was being treated as an append to the other VIPs so there was no path to override the VIP binds for a service. For example, haproxy_bind could be used to bind a service to the internal VIP only.</li>
</ul>
</div>
</div>
<div class="section" id="id13">
<h2>14.0.2<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id14">
<h3>New Features<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Deployers can now define the override <code class="docutils literal"><span class="pre">cinder_rpc_executor_thread_pool_size</span></code> which defaults to 64</li>
<li>Deployers can now define the override <code class="docutils literal"><span class="pre">cinder_rpc_response_timeout</span></code> which defaults to 60</li>
<li>Container boot ordering has been implemented on container types where it would be beneficial. This change ensures that stateful systems running within a container are started ahead of non-stateful systems. While this change has no impact on a running deployment it will assist with faster recovery should any node hosting container go down or simply need to be restarted.</li>
<li>A new task has been added to the &#8220;os-lxc-container-setup.yml&#8221; common-tasks file. This new task will allow for additional configurations to be added without having to restart the container. This change is helpful in cases where non-impacting config needs to be added or updated to a running containers.</li>
<li>IPv6 support has been added for the LXC bridge network. This can be configured using <code class="docutils literal"><span class="pre">lxc_net6_address</span></code>, <code class="docutils literal"><span class="pre">lxc_net6_netmask</span></code>, and <code class="docutils literal"><span class="pre">lxc_net6_nat</span></code>.</li>
</ul>
</div>
<div class="section" id="id15">
<h3>Upgrade Notes<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The variables <code class="docutils literal"><span class="pre">horizon_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">horizon_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">ironic_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">ironic_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">heat_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">heat_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">magnum_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">magnum_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">cinder_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">cinder_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">gnocchi_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">gnocchi_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">glance_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">glance_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">keystone_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">keystone_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">aodh_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">aodh_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">rally_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">rally_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
<li>The variables <code class="docutils literal"><span class="pre">ceilometer_requirements_git_repo</span></code> and <code class="docutils literal"><span class="pre">ceilometer_requirements_git_install_branch</span></code> have been removed in favour of using the URL/path to the upper-constraints file using the variable <code class="docutils literal"><span class="pre">pip_install_upper_constraints</span></code> instead.</li>
</ul>
</div>
<div class="section" id="id16">
<h3>Bug Fixes<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>When a task fails while executing a playbook, the default behaviour for Ansible is to fail for that host without executing any notifiers. This can result in configuration changes being executed, but services not being restarted. OpenStack-Ansible now sets <code class="docutils literal"><span class="pre">ANSIBLE_FORCE_HANDLERS</span></code> to <code class="docutils literal"><span class="pre">True</span></code> by default to ensure that all notified handlers attempt to execute before stopping the playbook execution.</li>
<li>The URL of NovaLink uses &#8216;ftp&#8217; protocol to provision apt key. It causes apt_key module to fail to retrieve NovaLink gpg public key file. Therefore, change the protocol of URL to &#8216;http&#8217;. For more information, see bug 1637348.</li>
</ul>
</div>
</div>
<div class="section" id="id17">
<h2>14.0.0<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id18">
<h3>New Features<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">LXC containers will now have a proper RFC1034/5 hostname set during post build tasks. A localhost entry for 127.0.1.1 will be created by converting all of the &#8220;_&#8221; in the <code class="docutils literal"><span class="pre">inventory_hostname</span></code> to &#8220;-&#8221;. Containers will be created with a default domain of <em>openstack.local</em>. This domain name can be customized to meet your deployment needs by setting the option <code class="docutils literal"><span class="pre">lxc_container_domain</span></code>.</p>
</li>
<li><p class="first">The option <code class="docutils literal"><span class="pre">openstack_domain</span></code> has been added to the <strong>openstack_hosts</strong> role. This option is used to setup proper hostname entries for all hosts within a given OpenStack deployment.</p>
</li>
<li><p class="first">The <strong>openstack_hosts</strong> role will setup an RFC1034/5 hostname and create an alias for all hosts in inventory.</p>
</li>
<li><p class="first">Added new parameter <code class="docutils literal"><span class="pre">`cirros_img_disk_format</span></code> to support disk formats other than qcow2.</p>
</li>
<li><p class="first">Ceilometer can now use Gnocchi for storage. By default
this is disabled. To enable the service, set
<code class="docutils literal"><span class="pre">ceilometer_gnocchi_enabled:</span> <span class="pre">yes</span></code>. See the Gnocchi
role documentation for more details.</p>
</li>
<li><p class="first">The os_horizon role now has support for the horizon ironic-ui dashboard. The dashboard may be enabled by setting <code class="docutils literal"><span class="pre">horizon_enable_ironic_ui</span></code> to <code class="docutils literal"><span class="pre">True</span></code> in <code class="docutils literal"><span class="pre">/etc/openstack_deploy/user_variables.yml</span></code>.</p>
</li>
<li><p class="first">Adds support for the horizon ironic-ui dashboard. The dashboard will be automatically enabled if any ironic hosts are defined.</p>
</li>
<li><p class="first">The os_horizon role now has support for the horizon magnum-ui dashboard. The dashboard may be enabled by setting <code class="docutils literal"><span class="pre">horizon_enable_magnum_ui</span></code> to <code class="docutils literal"><span class="pre">True</span></code> in <code class="docutils literal"><span class="pre">/etc/openstack_deploy/user_variables.yml</span></code>.</p>
</li>
<li><p class="first">Adds support for the horizon magnum-ui dashboard. The dashboard will be automatically enabled if any magnum hosts are defined.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">horizon_keystone_admin_roles</span></code> variable is added to support the <code class="docutils literal"><span class="pre">OPENSTACK_KEYSTONE_ADMIN_ROLES</span></code> list in the horizon_local_settings.py file.</p>
</li>
<li><p class="first">A new variable has been added to allow a deployer to control the restart of containers via the handler. This new option is <code class="docutils literal"><span class="pre">lxc_container_allow_restarts</span></code> and has a default of <code class="docutils literal"><span class="pre">yes</span></code>. If a deployer wishes to disable the auto-restart functionality they can set this value to <code class="docutils literal"><span class="pre">no</span></code> and automatic container restarts that are not absolutely required will be disabled.</p>
</li>
<li><p class="first">Experimental support has been added to allow the deployment of the OpenStack Magnum service when hosts are present in the host group <code class="docutils literal"><span class="pre">magnum-infra_hosts</span></code>.</p>
</li>
<li><p class="first">Deployers can now blacklist certain Nova extensions
by providing a list of such extensions in
<code class="docutils literal"><span class="pre">horizon_nova_extensions_blacklist</span></code> variable, for example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">horizon_nova_extensions_blacklist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;SimpleTenantUsage&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">The os_nova role can now deploy the nova-lxd hypervisor. This can be achieved by setting <code class="docutils literal"><span class="pre">nova_virt_type</span></code> to <code class="docutils literal"><span class="pre">lxd</span></code> on a per-host basis in <code class="docutils literal"><span class="pre">openstack_user_config.yml</span></code> or on a global basis in <code class="docutils literal"><span class="pre">user_variables.yml</span></code>.</p>
</li>
<li><p class="first">The os_nova role can now deploy the a custom /etc/libvirt/qemu.conf file by defining <code class="docutils literal"><span class="pre">qemu_conf_dict</span></code>.</p>
</li>
<li><p class="first">The role now enables auditing during early boot to comply with the
requirements in V-38438. By default, the GRUB configuration variables in
<code class="docutils literal"><span class="pre">/etc/default/grub.d/</span></code> will be updated and the active <code class="docutils literal"><span class="pre">grub.cfg</span></code> will
be updated.</p>
<p>Deployers can opt-out of the change entirely by setting a variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_enable_audit_during_boot</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
</pre></div>
</div>
<p>Deployers may opt-in for the change without automatically updating the
active <code class="docutils literal"><span class="pre">grub.cfg</span></code> file by setting the following Ansible variables:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_enable_audit_during_boot</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
<span class="l l-Scalar l-Scalar-Plain">security_enable_grub_update</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
</pre></div>
</div>
</li>
<li><p class="first">A task was added to disable secure ICMP redirects per the requirements in
V-38526. This change can cause problems in some environments, so it is
disabled by default. Deployers can enable the task (which disables secure
ICMP redirects) by setting <code class="docutils literal"><span class="pre">security_disable_icmpv4_redirects_secure</span></code> to
<code class="docutils literal"><span class="pre">yes</span></code>.</p>
</li>
<li><p class="first">A new task was added to disable ICMPv6 redirects per the requirements in
V-38548. However, since this change can cause problems in running OpenStack
environments, it is disabled by default. Deployers who wish to enable this
task (and disable ICMPv6 redirects) should set
<code class="docutils literal"><span class="pre">security_disable_icmpv6_redirects</span></code> to <code class="docutils literal"><span class="pre">yes</span></code>.</p>
</li>
<li><p class="first">AIDE is configured to skip the entire <code class="docutils literal"><span class="pre">/var</span></code> directory when it does the
database initialization and when it performs checks. This reduces disk
I/O and allows these jobs to complete faster.</p>
<p>This also allows the initialization to become a blocking process and
Ansible will wait for the initialization to complete prior to running the
next task.</p>
</li>
<li><p class="first">In order to reduce the time taken for fact gathering, the default subset gathered has been reduced to a smaller set than the Ansible default. This may be changed by the deployer by setting the <code class="docutils literal"><span class="pre">ANSIBLE_GATHER_SUBSET</span></code> variable in the bash environment prior to executing any ansible commands.</p>
</li>
<li><p class="first">A new option has been added to <code class="docutils literal"><span class="pre">bootstrap-ansible.sh</span></code> to set the role fetch mode. The environment variable <code class="docutils literal"><span class="pre">ANSIBLE_ROLE_FETCH_MODE</span></code> sets how role dependencies are resolved.</p>
</li>
<li><p class="first">The auditd rules template included a rule that audited changes to the
AppArmor policies, but the SELinux policy changes were not being audited.
Any changes to SELinux policies in <code class="docutils literal"><span class="pre">/etc/selinux</span></code> are now being logged
by auditd.</p>
</li>
<li><p class="first">The container cache preparation process now allows <code class="docutils literal"><span class="pre">copy-on-write</span></code> to be set as the <code class="docutils literal"><span class="pre">lxc_container_backing_method</span></code> when the <code class="docutils literal"><span class="pre">lxc_container_backing_store</span></code> is set to <code class="docutils literal"><span class="pre">lvm</span></code>. When this is set a base container will be created using a name of the form <cite>&lt;linux-distribution&gt;</cite>-<cite>distribution-release&gt;</cite>-<cite>&lt;host-cpu-architecture&gt;</cite>. The container will be stopped as it is not used for anything except to be a backing store for all other containers which will be based on a snapshot of the base container.</p>
</li>
<li><p class="first">When using copy-on-write backing stores for containers, the base container name may be set using the variable <code class="docutils literal"><span class="pre">lxc_container_base_name</span></code> which defaults to <cite>&lt;linux-distribution&gt;</cite>-<cite>distribution-release&gt;</cite>-<cite>&lt;host-cpu-architecture&gt;</cite>.</p>
</li>
<li><p class="first">The container cache preparation process now allows <code class="docutils literal"><span class="pre">overlayfs</span></code> to be set as the <code class="docutils literal"><span class="pre">lxc_container_backing_store</span></code>. When this is set a base container will be created using a name of the form <cite>&lt;linux-distribution&gt;</cite>-<cite>distribution-release&gt;</cite>-<cite>&lt;host-cpu-architecture&gt;</cite>. The container will be stopped as it is not used for anything except to be a backing store for all other containers which will be based on a snapshot of the base container. The <code class="docutils literal"><span class="pre">overlayfs</span></code> backing store is not recommended to be used for production unless the host kernel version is 3.18 or higher.</p>
</li>
<li><p class="first">Containers will now bind mount all logs to the physical host machine in the &#8220;/openstack/log/{{ inventory_hostname }}&#8221; location. This change will ensure containers using a block backed file system (lvm, zfs, bfrfs) do not run into issues with full file systems due to logging.</p>
</li>
<li><p class="first">Added new variable <code class="docutils literal"><span class="pre">tempest_img_name</span></code>.</p>
</li>
<li><p class="first">Added new variable <code class="docutils literal"><span class="pre">tempest_img_url</span></code>. This variable replaces <code class="docutils literal"><span class="pre">cirros_tgz_url</span></code> and <code class="docutils literal"><span class="pre">cirros_img_url</span></code>.</p>
</li>
<li><p class="first">Added new variable <code class="docutils literal"><span class="pre">tempest_image_file</span></code>. This variable replaces the hard-coded value for the <code class="docutils literal"><span class="pre">img_file</span></code> setting in tempest.conf.j2.  This will allow users to specify images other than cirros.</p>
</li>
<li><p class="first">Added new variable <code class="docutils literal"><span class="pre">tempest_img_disk_format</span></code>. This variable replaces <code class="docutils literal"><span class="pre">cirros_img_disk_format</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">rsyslog_server</span></code> role now has support for CentOS 7.</p>
</li>
<li><p class="first">Support had been added to install the ceph_client packages and
dependencies from Ceph.com, Ubuntu Cloud Archive (UCA), or the
operating system&#8217;s default repository.</p>
<p>The <code class="docutils literal"><span class="pre">ceph_pkg_source</span></code> variable controls the install source for the
Ceph packages. Valid values include:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ceph</span></code>: This option installs Ceph from a ceph.com repo. Additional
variables to adjust items such as Ceph release and regional download
mirror can be found in the variables files.</li>
<li><code class="docutils literal"><span class="pre">uca</span></code>: This option installs Ceph from the Ubuntu Cloud Archive. Additional
variables to adjust items such as the OpenStack/Ceph release can be
found in the variables files.</li>
<li><code class="docutils literal"><span class="pre">distro</span></code>: This options installs Ceph from the operating system&#8217;s default
repository and unlike the other options does not attempt to manage
package keys or add additional package repositories.</li>
</ul>
</li>
<li><p class="first">The pip_install role can now configure pip to be locked down to the repository built by OpenStack-Ansible. To enable the lockdown configuration, deployers may set <code class="docutils literal"><span class="pre">pip_lock_to_internal_repo</span></code> to <code class="docutils literal"><span class="pre">true</span></code> in <code class="docutils literal"><span class="pre">/etc/openstack_deploy/user_variables.yml</span></code>.</p>
</li>
<li><p class="first">The <cite>dynamic_inventory.py</cite> file now takes a new argument, <code class="docutils literal"><span class="pre">--check</span></code>, which will run the inventory build without writing any files to the file system. This is useful for checking to make sure your configuration does not contain known errors prior to running Ansible commands.</p>
</li>
<li><p class="first">The ability to support MultiStrOps has been added to the
config_template action plugin. This change updates the parser to use
the <code class="docutils literal"><span class="pre">set()</span></code> type to determine if values within a given key are to be
rendered as <code class="docutils literal"><span class="pre">MultiStrOps</span></code>. If an override is used in an INI config
file the set type is defined using the standard yaml construct of &#8221;?&#8221;
as the item marker.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span># Example Override Entries
Section:
  typical_list_things:
    - 1
    - 2
  multistrops_things:
    ? a
    ? b
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Example Rendered Config:</span>
<span class="p">[</span><span class="n">Section</span><span class="p">]</span>
<span class="n">typical_list_things</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span>
<span class="n">multistrops_things</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">multistrops_things</span> <span class="o">=</span> <span class="n">b</span>
</pre></div>
</div>
</li>
<li><p class="first">Although the STIG requires martian packets to be logged, the logging is
now disabled by default. The logs can quickly fill up a syslog server or
make a physical console unusable.</p>
<p>Deployers that need this logging enabled will need to set the following
Ansible variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_sysctl_enable_martian_logging</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
</pre></div>
</div>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">rabbitmq_server</span></code> now supports a configurable inventory host group. Deployers can override the <code class="docutils literal"><span class="pre">rabbitmq_host_group</span></code> variable if they wish to use the role to create additional RabbitMQ clusters on a custom host group.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc-container-create</span></code> role now consumes the variable <code class="docutils literal"><span class="pre">lxc_container_bind_mounts</span></code> which should contain a list of bind mounts to apply to a newly created container. The appropriate host and container directory will be created and the configuration applied to the container config. This feature is designed to be used in group_vars to ensure that containers are fully prepared at the time they are created, thus cutting down the number of times containers are restarted during deployments and upgrades.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc-container-create</span></code> role now consumes the variable <code class="docutils literal"><span class="pre">lxc_container_config_list</span></code> which should contain a list of the entries which should be added to the LXC container config file when the container is created. This feature is designed to be used in group_vars to ensure that containers are fully prepared at the time they are created, thus cutting down the number of times containers are restarted during deployments and upgrades.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc-container-create</span></code> role now consumes the variable <code class="docutils literal"><span class="pre">lxc_container_commands</span></code> which should contain any shell commands that should be executed in a newly created container. This feature is designed to be used in group_vars to ensure that containers are fully prepared at the time they are created, thus cutting down the number of times containers are restarted during deployments and upgrades.</p>
</li>
<li><p class="first">The container creation process now allows <code class="docutils literal"><span class="pre">copy-on-write</span></code> to be set as the <code class="docutils literal"><span class="pre">lxc_container_backing_method</span></code> when the <code class="docutils literal"><span class="pre">lxc_container_backing_store</span></code> is set to <code class="docutils literal"><span class="pre">lvm</span></code>. When this is set it will use a snapshot of the base container to build the containers.</p>
</li>
<li><p class="first">The container creation process now allows <code class="docutils literal"><span class="pre">overlayfs</span></code> to be set as the <code class="docutils literal"><span class="pre">lxc_container_backing_store</span></code>. When this is set it will use a snapshot of the base container to build the containers. The <code class="docutils literal"><span class="pre">overlayfs</span></code> backing store is not recommended to be used for production unless the host kernel version is 3.18 or higher.</p>
</li>
<li><p class="first">LXC containers will now generate a fixed mac address on all network interfaces when the option <cite>lxc_container_fixed_mac</cite> is set to <strong>true</strong>. This feature was implemented to resolve issues with dynamic mac addresses in containers generally experienced at scale with network intensive services.</p>
</li>
<li><p class="first">All of the database and database user creates have been removed from the roles into the playbooks. This allows the roles to be tested independently of the deployed database and also allows the roles to be used independently of infrastructure choices made by the integrated OSA project.</p>
</li>
<li><p class="first">Host security hardening is now applied by default using the <code class="docutils literal"><span class="pre">openstack-ansible-security</span></code> role. Developers can opt out by setting the <code class="docutils literal"><span class="pre">apply_security_hardening</span></code> Ansible variable to <code class="docutils literal"><span class="pre">false</span></code>. For more information about the role and the changes it makes, refer to the <a class="reference external" href="http://docs.openstack.org/developer/openstack-ansible-security/">openstack-ansible-security documentation</a>.</p>
</li>
<li><p class="first">If there are swift hosts in the environment, then the value for <code class="docutils literal"><span class="pre">cinder_service_backup_program_enabled</span></code> will automatically be set to <code class="docutils literal"><span class="pre">True</span></code>. This negates the need to set this variable in <code class="docutils literal"><span class="pre">user_variables.yml</span></code>, but the value may still be overridden at the deployer discretion.</p>
</li>
<li><p class="first">If there are swift hosts in the environment, then the value for <code class="docutils literal"><span class="pre">glance_default_store</span></code> will automatically be set to <code class="docutils literal"><span class="pre">swift</span></code>. This negates the need to set this variable in <code class="docutils literal"><span class="pre">user_variables.yml</span></code>, but the value may still be overridden at the deployer discretion.</p>
</li>
<li><p class="first">The os_nova role can now detect a PowerNV environment and set the virtualization type to &#8216;kvm&#8217;.</p>
</li>
<li><p class="first">The security role now has tasks that will disable the graphical interface
on a server using upstart (Ubuntu 14.04) or systemd (Ubuntu 16.04 and
CentOS 7). These changes take effect after a reboot.</p>
<p>Deployers that need a graphical interface will need to set the following
Ansible variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_disable_x_windows</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
</pre></div>
</div>
</li>
<li><p class="first">Yaml files used for ceilometer configuration will now allow a deployer to override a given list. If an override is provided that matches an already defined list in one of the ceilometer default yaml files the entire list will be replaced by the provided override. Previously, a nested lists of lists within the default ceilometer configration files would extend should a deployer provide an override matching an existing pipeline. The extension of the defaults had a high probability to cause undesirable outcomes and was very unpredictable.</p>
</li>
<li><p class="first">An Ansible was added to disable the <code class="docutils literal"><span class="pre">rdisc</span></code> service on CentOS systems if
the service is installed on the system.</p>
<p>Deployers can opt-out of this change by setting <code class="docutils literal"><span class="pre">security_disable_rdisc</span></code>
to <code class="docutils literal"><span class="pre">no</span></code>.</p>
</li>
<li><p class="first">Whether ceilometer should be enabled by default for each service is now dynamically determined based on whether there are any ceilometer hosts/containers deployed. This behaviour can still be overridden by toggling <code class="docutils literal"><span class="pre">&lt;service&gt;_ceilometer_enabled</span></code> in <code class="docutils literal"><span class="pre">/etc/openstack_deploy/user_variables.yml</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">os_neutron</span></code> role now determines the default configuration for openvswitch-agent <code class="docutils literal"><span class="pre">tunnel_types</span></code> and the presence or absence of <code class="docutils literal"><span class="pre">local_ip</span></code> configuration based on the value of <code class="docutils literal"><span class="pre">neutron_ml2_drivers_type</span></code>. Deployers may directly control this configuration by overriding the <code class="docutils literal"><span class="pre">neutron_tunnel_types</span></code> variable .</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">os_neutron</span></code> role now configures neutron ml2 to load the <code class="docutils literal"><span class="pre">l2_population</span></code> mechanism driver by default based on the value of <code class="docutils literal"><span class="pre">neutron_l2_population</span></code>. Deployers may directly control the neutron ml2 mechanism drivers list by overriding the <code class="docutils literal"><span class="pre">mechanisms</span></code> variable in the <code class="docutils literal"><span class="pre">neutron_plugins</span></code> dictionary.</p>
</li>
<li><p class="first">LBaaSv2 is now enabled by default in all-in-one (AIO) deployments.</p>
</li>
<li><p class="first">The Linux Security Module (LSM) that is appropriate for the Linux
distribution in use will be automatically enabled by the security role by
default. Deployers can opt out of this change by setting the following
Ansible variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_enable_linux_security_module</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
<p>The documentation for STIG V-51337 has more information about how each
LSM is enabled along with special notes for SELinux.</p>
</li>
<li><p class="first">An export flag has been added to the <code class="docutils literal"><span class="pre">inventory-manage.py</span></code> script. This flag allows exporting of host and network information from an OpenStack-Ansible inventory for import into another system, or an alternate view of the existing data. See the developer docs for more details.</p>
</li>
<li><p class="first">Variable <code class="docutils literal"><span class="pre">ceph_extra_confs</span></code> has been expanded to support retrieving additional ceph.conf and keyrings from multiple ceph clusters automatically.</p>
</li>
<li><p class="first">Additional libvirt ceph client secrets can be defined to support attaching volumes from different ceph clusters.</p>
</li>
<li><p class="first">New variable <code class="docutils literal"><span class="pre">ceph_extra_confs</span></code> may be defined to support deployment of extra Ceph config files.  This is useful for cinder deployments that utilize multiple Ceph clusters as cinder backends.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">py_pkgs</span></code> lookup plugin now has strict ordering for requirement files discovered. These files are used to add additional requirements to the python packages discovered. The order is defined by the constant, <code class="docutils literal"><span class="pre">REQUIREMENTS_FILE_TYPES</span></code> which contains the following entries, &#8216;test-requirements.txt&#8217;, &#8216;dev-requirements.txt&#8217;, &#8216;requirements.txt&#8217;, &#8216;global-requirements.txt&#8217;, &#8216;global-requirement-pins.txt&#8217;. The items in this list are arranged from least to most priority.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">openstack-ansible-galera_server</span></code> role will now prevent deployers from changing the <code class="docutils literal"><span class="pre">galera_cluster_name</span></code> variable on clusters that already have a value set in a running galera cluster. You can set the new <code class="docutils literal"><span class="pre">galera_force_change_cluster_name</span></code> variable to <code class="docutils literal"><span class="pre">True</span></code> to force the <code class="docutils literal"><span class="pre">galera_cluster_name</span></code> variable to be changed. We recommend setting this by running the galera-install.yml playbook with <code class="docutils literal"><span class="pre">-e</span> <span class="pre">galera_force_change_cluster_name=True</span></code>, to avoid changing the <code class="docutils literal"><span class="pre">galera_cluster_name</span></code> variable unintentionally. Use with caution, changing the <code class="docutils literal"><span class="pre">galera_cluster_name</span></code> value can cause your cluster to fail, as the nodes won&#8217;t join if restarted sequentially.</p>
</li>
<li><p class="first">The repo build process is now able to make use of a pre-staged git cache. If the <code class="docutils literal"><span class="pre">/var/www/repo/openstackgit</span></code> folder on the repo server is found to contain existing git clones then they will be updated if they do not already contain the required SHA for the build.</p>
</li>
<li><p class="first">The repo build process is now able to synchronize a git cache from the deployment node to the repo server. The git cache path on the deployment node is set using the variable <code class="docutils literal"><span class="pre">repo_build_git_cache</span></code>. If the deployment node hosts the repo container, then the folder will be symlinked into the bind mount for the repo container. If the deployment node does not host the repo container, then the contents of the folder will be synchronised into the repo container.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">os_glance</span></code> role now supports Ubuntu 16.04 and SystemD.</p>
</li>
<li><p class="first">Gnocchi is available for deploy as a metrics storage service. At this time it does not integrate with Aodh or Ceilometer. To deploy Aodh or Ceilometer to use Gnocchi as a storage / query API, each must be configured appropriately with the use of overrides as described in the configuration guides for each of these services.</p>
</li>
<li><p class="first">CentOS 7 and Ubuntu 16.04 support have been added to the <code class="docutils literal"><span class="pre">haproxy</span></code> role.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">haproxy</span></code> role installs <em>hatop</em> from source to ensure that the same operator tooling is available across all supported distributions. The download URL for the source can be set using the variable <code class="docutils literal"><span class="pre">haproxy_hatop_download_url</span></code>.</p>
</li>
<li><p class="first">Added a boolean var <cite>haproxy_service_enabled</cite> to the <cite>haproxy_service_configs</cite> dict to support toggling haproxy endpoints on/off.</p>
</li>
<li><p class="first">Added a new <code class="docutils literal"><span class="pre">haproxy_extra_services</span></code> var which will allow extra haproxy endpoint additions.</p>
</li>
<li><p class="first">The repo server will now be used as a package manager cache.</p>
</li>
<li><p class="first">The HAProxy role provided by OpenStack-Ansible now terminates SSL using a self-signed certificate by default. While this can be disabled the inclusion of SSL services on all public endpoints as a default will help make deployments more secure without any additional user interaction. More information on SSL and certificate generation can be <a class="reference external" href="http://docs.openstack.org/developer/openstack-ansible/install-guide/configure-haproxy.html#securing-haproxy-communication-with-ssl-certificates">found here</a>.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">rabbitmq_server</span></code> role now supports configuring HiPE compilation of the RabbitMQ server Erlang code. This configuration option may improve server performance for some workloads and hardware. Deployers can override the <code class="docutils literal"><span class="pre">rabbitmq_hipe_compile</span></code> variable, setting a value of <code class="docutils literal"><span class="pre">True</span></code> if they wish to enable this feature.</p>
</li>
<li><p class="first">Horizon now has the ability to set arbitrary configuration options using global option <code class="docutils literal"><span class="pre">horizon_config_overrides</span></code> in YAML format. The overrides follow the same pattern found within the other OpenStack service overrides. <a class="reference external" href="http://docs.openstack.org/developer/openstack-ansible/install-guide/configure-openstack.html#overriding-openstack-configuration-defaults">General documentation on overrides can be found here</a>.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">os_horizon</span></code> role now supports configuration of custom themes. Deployers can use the new <code class="docutils literal"><span class="pre">horizon_custom_themes</span></code> and <code class="docutils literal"><span class="pre">horizon_default_theme</span></code> variables to configure the dashboard with custom themes and default to a specific theme respectively.</p>
</li>
<li><p class="first">CentOS 7 support has been added to the <code class="docutils literal"><span class="pre">galera_server</span></code> role.</p>
</li>
<li><p class="first">Implemented support for Ubuntu 16.04 Xenial.  percona-xtrabackup packages will be installed from distro repositories, instead of upstream percona repositories due to lack of available packages upstream at the time of implementing this feature.</p>
</li>
<li><p class="first">A task was added that restricts ICMPv4 redirects to meet the requirements
of V-38524 in the STIG. This configuration is disabled by default since
it could cause issues with LXC in some environments.</p>
<p>Deployers can enable this configuration by setting an Ansible variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_disable_icmpv4_redirects</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
</pre></div>
</div>
</li>
<li><p class="first">The audit rules added by the security role now have key fields that make it easier to link the audit log entry to the audit rule that caused it to appear.</p>
</li>
<li><p class="first">pip can be installed via the deployment host using the new variable <code class="docutils literal"><span class="pre">pip_offline_install</span></code>. This can be useful in environments where the containers lack internet connectivity. Please refer to the <a class="reference external" href="http://docs.openstack.org/developer/openstack-ansible/install-guide/app-no-internet-connectivity.html#install-pip-through-deployment-host">limited connectivity installation guide</a> for more information.</p>
</li>
<li><p class="first">The env.d directory included with OpenStack-Ansible is now used as the first source for the environment skeleton, and <code class="docutils literal"><span class="pre">/etc/openstack_deploy/env.d</span></code> will be used only to override values. Deployers without customizations will no longer need to copy the env.d directory to /etc/openstack_deploy.
As a result, the env.d copy operation has been removed from the node bootstrap role.</p>
</li>
<li><p class="first">A new debug flag has been added to <code class="docutils literal"><span class="pre">dynamic_inventory.py</span></code>. This should make it easier to understand what&#8217;s happening with the inventory script, and provide a way to gather output for more detailed bug reports. See the developer docs for more details.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">ironic</span></code> role now supports Ubuntu 16.04 and SystemD.</p>
</li>
<li><p class="first">Experimental support has been added to allow the deployment of the OpenStack Bare Metal Service (Ironic). Details for how to set it up are available in the <a class="reference external" href="http://docs.openstack.org/developer/openstack-ansible/install-guide/configure-ironic.html">OpenStack-Ansible Install Guide for Ironic</a>.</p>
</li>
<li><p class="first">To ensure the deployment system remains clean the Ansible execution environment is contained within a virtual environment. The virtual environment is created at &#8220;/opt/ansible-runtime&#8221; and the &#8220;ansible.*&#8221; CLI commands are linked within /usr/local/bin to ensure there is no interruption in the deployer workflow.</p>
</li>
<li><p class="first">There is a new default configuration for keepalived, supporting more than 2 nodes.</p>
</li>
<li><p class="first">In order to make use of the latest stable keepalived version, the variable <code class="docutils literal"><span class="pre">keepalived_use_latest_stable</span></code> must be set to <code class="docutils literal"><span class="pre">True</span></code></p>
</li>
<li><p class="first">The ability to support login user domain and login project domain has been added to the
keystone module.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span># Example usage
- keystone:
    command: ensure_user
    endpoint: &quot;{{ keystone_admin_endpoint }}&quot;
    login_user: admin
    login_password: admin
    login_project_name: admin
    login_user_domain_name: custom
    login_project_domain_name: custom
    user_name: demo
    password: demo
    project_name: demo
    domain_name: custom
</pre></div>
</div>
</li>
<li><p class="first">The new LBaaS v2 dashboard is available in Horizon. Deployers can enable
the panel by setting the following Ansible variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">horizon_enable_neutron_lbaas</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</li>
<li><p class="first">The LBaaSv2 service provider configuration can now be adjusted with the <code class="docutils literal"><span class="pre">neutron_lbaasv2_service_provider</span></code> variable. This allows a deployer to choose to deploy LBaaSv2 with Octavia in a future version.</p>
</li>
<li><p class="first">The config_template action plugin now has a new option to toggle list extension for JSON or YAML formats. The new option is <code class="docutils literal"><span class="pre">list_extend</span></code> and is a boolean. The default is True which maintains the existing API.</p>
</li>
<li><p class="first">The lxc_hosts role can now make use of a primary and secondary gpg keyserver for gpg validation of the downloaded cache. Setting the servers to use can be done using the <code class="docutils literal"><span class="pre">lxc_image_cache_primary_keyserver</span></code> and <code class="docutils literal"><span class="pre">lxc_image_cache_secondary_keyserver</span></code> variables.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc_container_create</span></code> role will now build a container based on the distro of the host OS.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc_container_create</span></code> role now supports Ubuntu 14.04, 16.04, and RHEL/CentOS 7</p>
</li>
<li><p class="first">The LXC container creation process now has a configurable delay for the task which waits for the container to start. The variable <code class="docutils literal"><span class="pre">lxc_container_ssh_delay</span></code> can be set to change the default delay of five seconds.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc_host</span></code> cache prep has been updated to use the LXC download template. This removes the last remaining dependency the project has on the <a class="reference external" href="http://rpc-repo.rackspace.com/container_images/rpc-trusty-container.tgz">rpc-trusty-container.tgz image</a>.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc_host</span></code> role will build lxc cache using the download template built from <a class="reference external" href="https://images.linuxcontainers.org">images found here</a>. These images are upstream builds from the greater LXC/D community.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc_host</span></code> role introduces support for CentOS 7 and Ubuntu 16.04 container types.</p>
</li>
<li><p class="first">The inventory script will now dynamically populate the <code class="docutils literal"><span class="pre">lxc_hosts</span></code> group dynamically based on which machines have container affinities defined.
This group is not allowed in user-defined configuration.</p>
</li>
<li><p class="first">Neutron HA router capabilities in Horizon will be enabled automatically if the neutron plugin type is ML2 and environment has &gt;=2 L3 agent nodes.</p>
</li>
<li><p class="first">Horizon now has a boolean variable named <code class="docutils literal"><span class="pre">horizon_enable_ha_router</span></code> to enable Neutron HA router management.</p>
</li>
<li><p class="first">Horizon&#8217;s IPv6 support is now enabled by default. This allows users to
manage subnets with IPv6 addresses within the Horizon interface. Deployers
can disable IPv6 support in Horizon by setting the following variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">horizon_enable_ipv6</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
<p>Please note: Horizon will still display IPv6 addresses in various panels
with IPv6 support disabled. However, it will not allow any direct
management of IPv6 configuration.</p>
</li>
<li><p class="first">memcached now logs with multiple levels of verbosity, depending on
the user variables. Setting <code class="docutils literal"><span class="pre">debug:</span> <span class="pre">True</span></code> enables maximum verbosity while
setting <code class="docutils literal"><span class="pre">verbose:</span> <span class="pre">True</span></code> logs with an intermediate level.</p>
</li>
<li><p class="first">The openstack-ansible-memcached_server role includes a new override, <code class="docutils literal"><span class="pre">memcached_connections</span></code> which is automatically calculated from the number of memcached connection limit plus additional 1k to configure the OS nofile limit. Without proper nofile limit configuration, memcached will crash in order to support higher parallel connection TCP/Memcache counts.</p>
</li>
<li><p class="first">The repo build process is now able to support building and synchronizing artifacts for multiple CPU architectures. Build artifacts are now tagged with the appropriate CPU architecture by default, and synchronization of build artifacts from secondary, architecture-specific repo servers back to the primary repo server is supported.</p>
</li>
<li><p class="first">The repo install process is now able to support building and synchronizing artifacts for multiple CPU architectures. To support multiple architectures, one or more repo servers must be created for each CPU architecture in the deployment. When multiple CPU architectures are detected among the repo servers, the repo-discovery process will automatically assign a repo master to perform the build process for each architecture.</p>
</li>
<li><p class="first">CentOS 7 support has been added to the <code class="docutils literal"><span class="pre">galera_client</span></code> role.</p>
</li>
<li><p class="first">Whether the Neutron DHCP Agent, Metadata Agent or LinuxBridge Agent should be enabled is now dynamically determined based on the <code class="docutils literal"><span class="pre">neutron_plugin_type</span></code> and the <code class="docutils literal"><span class="pre">neutron_ml2_mechanism_drivers</span></code> that are set. This aims to simplify the configuration of Neutron services and eliminate the need for deployers to override the entire <code class="docutils literal"><span class="pre">neutron_services</span></code> dict variable to disable these services.</p>
</li>
<li><p class="first">Neutron BGP dynamic routing plugin can now optionally be deployed and configured. Please see <a class="reference external" href="http://docs.openstack.org/networking-guide/config-bgp-dynamic-routing.html">OpenStack Networking Guide: BGP dynamic routing</a> for details about what the service is and what it provides.</p>
</li>
<li><p class="first">The Project Calico Neutron networking plugin is now integrated into the deployment. For setup instructions please see <code class="docutils literal"><span class="pre">os_neutron</span></code> role documentation.</p>
</li>
<li><p class="first">A conditional has been added to the <code class="docutils literal"><span class="pre">_local_ip</span></code> settings used in the <code class="docutils literal"><span class="pre">neutron_local_ip</span></code> which removes the hard requirement for an overlay network to be set within a deployment. If no overlay network is set within the deployment the <code class="docutils literal"><span class="pre">local_ip</span></code> will be set to the value of &#8220;ansible_ssh_host&#8221;.</p>
</li>
<li><p class="first">Neutron Firewall as a Service (FWaaS) can now optionally be deployed and configured. Please see the <a class="reference external" href="http://docs.openstack.org/admin-guide-cloud/networking_introduction.html#firewall-as-a-service-fwaas-overview">FWaaS Configuration Reference</a> for details about the what the service is and what it provides. See the <a class="reference external" href="http://docs.openstack.org/developer/openstack-ansible/install-guide/configure-fwaas.html">FWaaS Install Guide</a> for implementation details.</p>
</li>
<li><p class="first">Deployers can now configure tempest public and private networks by setting the following variables, &#8216;tempest_private_net_provider_type&#8217; to either vxlan or vlan and &#8216;tempest_public_net_provider_type&#8217; to flat or vlan. Depending on what the deployer sets these variables to, they may also need to update other variables accordingly, this mainly involves &#8216;tempest_public_net_physical_type&#8217; and &#8216;tempest_public_net_seg_id&#8217;. Please refer to <a class="reference external" href="http://docs.openstack.org/mitaka/networking-guide/intro-basic-networking.html">http://docs.openstack.org/mitaka/networking-guide/intro-basic-networking.html</a> for more neutron networking information.</p>
</li>
<li><p class="first">The Project Calico Neutron networking plugin is now integrated into the <code class="docutils literal"><span class="pre">os_neutron</span></code> role. This can be activated using the instructions located in the role documentation.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">os_neutron</span></code> role will now default to the OVS firewall driver when
<code class="docutils literal"><span class="pre">neutron_plugin_type</span></code> is <code class="docutils literal"><span class="pre">ml2.ovs</span></code> and the host is running Ubuntu
16.04 on PowerVM. To override this default behavior, deployers should
define <code class="docutils literal"><span class="pre">neutron_ml2_conf_ini_overrides</span></code> and
&#8216;neutron_openvswitch_agent_ini_overrides&#8217; in &#8216;user_variables.yml&#8217;. Example
below</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>neutron_ml2_conf_ini_overrides:
  securitygroup:
    firewall_driver: neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver
neutron_openvswitch_agent_ini_overrides:
  securitygroup:
    firewall_driver: iptables_hybrid
</pre></div>
</div>
</li>
<li><p class="first">Neutron VPN as a Service (VPNaaS) can now optionally be deployed and configured. Please see the <a class="reference external" href="http://docs.openstack.org/mitaka/networking-guide/">OpenStack Networking Guide</a> for details about the what the service is and what it provides. See the <a class="reference external" href="http://docs.openstack.org/developer/openstack-ansible/install-guide/configure-network-services.html#virtual-private-network-service-optional">VPNaaS Install Guide</a> for implementation details.</p>
</li>
<li><p class="first">Support for Neutron distributed virtual routing has been added to the
<code class="docutils literal"><span class="pre">os_neutron</span></code> role. This includes the implementation of Networking
Guide&#8217;s suggested agent configuration. This feature may be activated
by setting <code class="docutils literal"><span class="pre">neutron_plugin_type:</span> <span class="pre">ml2.ovs.dvr</span></code> in <code class="docutils literal"><span class="pre">/etc/openstack_deploy/user_variables.yml</span></code>.</p>
</li>
<li><p class="first">The horizon next generation instance management panels have been enabled by default. This changes horizon to use the upstream defaults instead of the legacy panels. <a class="reference external" href="http://docs.openstack.org/developer/horizon/topics/settings.html#launch-instance-ng-enabled">Documentation can be found here</a>.</p>
</li>
<li><p class="first">The nova SSH public key distribution has been made a lot faster especially when deploying against very large clusters. To support larger clusters the role has moved away from the &#8220;authorized_key&#8221; module and is now generating a script to insert keys that may be missing from the authorized keys file. The script is saved on all nova compute nodes and can be found at <code class="docutils literal"><span class="pre">/usr/local/bin/openstack-nova-key.sh</span></code>. If ever there is a need to reinsert keys or fix issues on a given compute node the script can be executed at any time without directly running the ansible playbooks or roles.</p>
</li>
<li><p class="first">The os_nova role can now detect and support basic deployment of a PowerVM environment. This sets the virtualization type to &#8216;powervm&#8217; and installs/updates the PowerVM NovaLink package and nova-powervm driver.</p>
</li>
<li><p class="first">Nova UCA repository support is implemented by default. This will allow the users to benefit from the updated packages for KVM.
The <code class="docutils literal"><span class="pre">nova_uca_enable</span></code> variable controls the install source for the KVM packages. By default this value is set to <code class="docutils literal"><span class="pre">True</span></code> to make use of UCA repository. User can set to <code class="docutils literal"><span class="pre">False</span></code> to disable.</p>
</li>
<li><p class="first">A new configuration parameter <code class="docutils literal"><span class="pre">security_ntp_bind_local_interfaces</span></code> was added to the security role to restrict the network interface to which chronyd will listen for NTP requests.</p>
</li>
<li><p class="first">The LXC container creation and modification process now supports online network additions. This ensures a container remains online when additional networks are added to a system.</p>
</li>
<li><p class="first">Open vSwitch driver support has been implemented. This includes the implementation of the
appropriate Neutron configuration and package installation. This feature may be activated
by setting <code class="docutils literal"><span class="pre">neutron_plugin_type:</span> <span class="pre">ml2.ovs</span></code> in <code class="docutils literal"><span class="pre">/etc/openstack_deploy/user_variables.yml</span></code>.</p>
</li>
<li><p class="first">An opportunistic Ansible execution strategy has been implemented. This allows the Ansible linear strategy to skip tasks with conditionals faster by never queuing the task when the conditional is evaluated to be false.</p>
</li>
<li><p class="first">The Ansible SSH plugin has been modified to support running commands within containers without having to directly ssh into them. The change will detect presence of a container. If a container is found the physical host will be used as the SSH target and commands will be run directly. This will improve system reliability and speed while also opening up the possibility for SSH to be disabled from within the container itself.</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">horizon_apache_custom_log_format</span></code> tunable to the os-horizon role for changing CustomLog format. Default is &#8220;combined&#8221;.</p>
</li>
<li><p class="first">Added keystone_apache_custom_log_format tunable for changing CustomLog format. Default is &#8220;combined&#8221;.</p>
</li>
<li><p class="first">Apache MPM tunable support has been added to the os-keystone
role in order to allow MPM thread tuning.
Default values reflect the current Ubuntu default settings:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">keystone_httpd_mpm_backend</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
<span class="l l-Scalar l-Scalar-Plain">keystone_httpd_mpm_start_servers</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="l l-Scalar l-Scalar-Plain">keystone_httpd_mpm_min_spare_threads</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">25</span>
<span class="l l-Scalar l-Scalar-Plain">keystone_httpd_mpm_max_spare_threads</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">75</span>
<span class="l l-Scalar l-Scalar-Plain">keystone_httpd_mpm_thread_limit</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">64</span>
<span class="l l-Scalar l-Scalar-Plain">keystone_httpd_mpm_thread_child</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">25</span>
<span class="l l-Scalar l-Scalar-Plain">keystone_httpd_mpm_max_requests</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">150</span>
<span class="l l-Scalar l-Scalar-Plain">keystone_httpd_mpm_max_conn_child</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
</li>
<li><p class="first">Introduced option to deploy Keystone under Uwsgi. A new variable <code class="docutils literal"><span class="pre">keystone_mod_wsgi_enabled</span></code> is introduced to toggle this behavior. The default is <code class="docutils literal"><span class="pre">true</span></code> which continues to deploy with mod_wsgi for Apache. The ports used by Uwsgi for socket and http connection for both public and admin Keystone services are configurable (see also the <code class="docutils literal"><span class="pre">keystone_uwsgi_ports</span></code> dictionary variable). Other Uwsgi configuration can be overridden by using the <code class="docutils literal"><span class="pre">keystone_uwsgi_ini_overrides</span></code> variable as documented under &#8220;Overriding OpenStack configuration defaults&#8221; in the OpenStack-Ansible Install Guide. Federation features should be considered _experimental_ with this configuration at this time.</p>
</li>
<li><p class="first">Introduced option to deploy Keystone behind Nginx. A new variable <code class="docutils literal"><span class="pre">keystone_apache_enabled</span></code> is introduced to toggle this behavior.  The default is <code class="docutils literal"><span class="pre">true</span></code> which continues to deploy with Apache. Additional configuration can be delivered to Nginx through the use of the <code class="docutils literal"><span class="pre">keystone_nginx_extra_conf</span></code> list variable. Federation features are not supported with this configuration at this time. Use of this option requires <code class="docutils literal"><span class="pre">keystone_mod_wsgi_enabled</span></code> to be set to <code class="docutils literal"><span class="pre">false</span></code> which will deploy Keystone under Uwsgi.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">os_cinder</span></code> role now supports Ubuntu 16.04.</p>
</li>
<li><p class="first">CentOS7/RHEL support has been added to the os_cinder role.</p>
</li>
<li><p class="first">CentOS7/RHEL support has been added to the os_glance role.</p>
</li>
<li><p class="first">CentOS7/RHEL support has been added to the os_keystone role.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">os_magnum</span></code> role now supports deployment on Ubuntu 16.04 using systemd.</p>
</li>
<li><p class="first">The galera_client role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">galera_client_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The ceph_client role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">ceph_client_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_ironic role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">ironic_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_nova role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">nova_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The memcached_server role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">memcached_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_heat role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">heat_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The rsyslog_server role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">rsyslog_server_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The pip_install role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">pip_install_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The repo_build role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">repo_build_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_rally role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">rally_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_glance role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">glance_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The security role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">security_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">A new global option to control all package install states has been implemented. The default action for all distribution package installations is to ensure that the latest package is installed. This may be changed to only verify if the package is present by setting <code class="docutils literal"><span class="pre">package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_keystone role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">keystone_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_cinder role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">cinder_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_gnocchi role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">gnocchi_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_magnum role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">magnum_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The rsyslog_client role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">rsyslog_client_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_sahara role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">sahara_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The repo_server role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">repo_server_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The haproxy_server role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">haproxy_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_aodh role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">aodh_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The openstack_hosts role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">openstack_hosts_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The galera_server role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">galera_server_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The rabbitmq_server role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">rabbitmq_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The lxc_hosts role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">lxc_hosts_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_ceilometer role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">ceilometer_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_swift role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">swift_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_neutron role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">neutron_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_horizon role now supports the ability to configure whether apt/yum tasks install the latest available package, or just ensure that the package is present. The default action is to ensure that the latest package is present. The action taken may be changed to only ensure that the package is present by setting <code class="docutils literal"><span class="pre">horizon_package_state</span></code> to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The PATH environment variable that is configured on the remote system can now be set using the <code class="docutils literal"><span class="pre">openstack_host_environment_path</span></code> list variable.</p>
</li>
<li><p class="first">The repo build process now has the ability to store the pip sources within the build archive. This ability is useful when deploying environments that are &#8220;multi-architecture&#8221;, &#8220;multi-distro&#8221;, or &#8220;multi-interpreter&#8221; where specific pre-build wheels may not be enough to support all of the deployment. To enable the ability to store the python source code within a given release, set the new option <code class="docutils literal"><span class="pre">repo_build_store_pip_sources</span></code> to <code class="docutils literal"><span class="pre">true</span></code>.</p>
</li>
<li><p class="first">The repo server now has a Package Cache service for distribution packages. To leverage the cache, deployers will need to configure the package manager on all hosts to use the cache as a proxy. If a deployer would prefer to disable this service, the variable <code class="docutils literal"><span class="pre">repo_pkg_cache_enabled</span></code> should be set to <code class="docutils literal"><span class="pre">false</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">rabbitmq_server</span></code> role now supports deployer override of the RabbitMQ policies applied to the cluster. Deployers can override the <code class="docutils literal"><span class="pre">rabbitmq_policies</span></code> variable, providing a list of desired policies.</p>
</li>
<li><p class="first">The RabbitMQ Management UI is now available through HAProxy on port 15672. The default userid is <code class="docutils literal"><span class="pre">monitoring</span></code>. This user can be modified by changing the parameter <code class="docutils literal"><span class="pre">rabbitmq_monitoring_userid</span></code> in the file <code class="docutils literal"><span class="pre">user_variables.yml</span></code>. Please note that ACLs have been added to this HAProxy service by default, such that it may only be accessed by common internal clients.  Reference <code class="docutils literal"><span class="pre">playbooks/vars/configs/haproxy_config.yml</span></code></p>
</li>
<li><p class="first">Added playbook for deploying Rally in the utility containers</p>
</li>
<li><p class="first">Our general config options are now stored in an &#8220;/usr/local/bin/openstack-ansible.rc&#8221; file and will be sourced when the &#8220;openstack-ansible&#8221; wrapper is invoked. The RC file will read in BASH environment variables and should any Ansible option be set that overlaps with our defaults the provided value will be used.</p>
</li>
<li><p class="first">The LBaaSv2 device driver is now set by the Ansible variable <code class="docutils literal"><span class="pre">neutron_lbaasv2_device_driver</span></code>. The default is set to use the <code class="docutils literal"><span class="pre">HaproxyNSDriver</span></code>, which allows for agent-based load balancers.</p>
</li>
<li><p class="first">The GPG key checks for package verification in V-38476 are now working for
Red Hat Enterprise Linux 7 in addition to CentOS 7. The checks only look
for GPG keys from Red Hat and any other GPG keys, such as ones imported
from the EPEL repository, are skipped.</p>
</li>
<li><p class="first">CentOS7 support has been added to the <code class="docutils literal"><span class="pre">rsyslog_client</span></code> role.</p>
</li>
<li><p class="first">The options of application logrotate configuration files are now configurable. <code class="docutils literal"><span class="pre">rsyslog_client_log_rotate_options</span></code> can be used to provide a list of directives, and <code class="docutils literal"><span class="pre">rsyslog_client_log_rotate_scripts</span></code> can be used to provide a list of postrotate, prerotate, firstaction, or lastaction scripts.</p>
</li>
<li><p class="first">Experimental support has been added to allow the deployment of the Sahara data-processing service. To deploy sahara hosts should be present in the host group <code class="docutils literal"><span class="pre">sahara-infra_hosts</span></code>.</p>
</li>
<li><p class="first">The Sahara dashboard is available in Horizon. Deployers can enable
the panel by setting the following Ansible variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">horizon_enable_sahara_ui</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Tasks were added to search for any device files without a proper SELinux
label on CentOS systems. If any of these device labels are found, the
playbook execution will stop with an error message.</p>
</li>
<li><p class="first">The repo build process now selectively clones git repositories based on whether each OpenStack service group has any hosts in it. If there are no hosts in the group, the git repo for the service will not be cloned. This behaviour can be optionally changed to force all git repositories to be cloned by setting <code class="docutils literal"><span class="pre">repo_build_git_selective</span></code> to <code class="docutils literal"><span class="pre">no</span></code>.</p>
</li>
<li><p class="first">The repo build process now selectively builds venvs based on whether each OpenStack service group has any hosts in it. If there are no hosts in the group, the venv will not be built. This behaviour can be optionally changed to force all venvs to be built by setting <code class="docutils literal"><span class="pre">repo_build_venv_selective</span></code> to <code class="docutils literal"><span class="pre">yes</span></code>.</p>
</li>
<li><p class="first">The repo build process now selectively builds python packages based on whether each OpenStack service group has any hosts in it. If there are no hosts in the group, the list of python packages for the service will not be built. This behaviour can be optionally changed to force all python packages to be built by setting <code class="docutils literal"><span class="pre">repo_build_wheel_selective</span></code> to <code class="docutils literal"><span class="pre">no</span></code>.</p>
</li>
<li><p class="first">A new variable is supported in the <code class="docutils literal"><span class="pre">neutron_services</span></code> dictionary called <code class="docutils literal"><span class="pre">service_conf_path</span></code>. This variable enables services to deploy their config templates to paths outside of /etc/neutron by specifying a directory using the new variable.</p>
</li>
<li><p class="first">The openstack-ansible-security role supports the application of the Red Hat Enterprise Linux 6 STIG configurations to systems running CentOS 7 and Ubuntu 16.04 LTS.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">fallocate_reserve`</span> <span class="pre">option</span> <span class="pre">can</span> <span class="pre">now</span> <span class="pre">be</span> <span class="pre">set</span> <span class="pre">(in</span> <span class="pre">bytes</span> <span class="pre">or</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">percentage)</span> <span class="pre">for</span> <span class="pre">swift</span> <span class="pre">by</span> <span class="pre">using</span> <span class="pre">the</span> <span class="pre">``swift_fallocate_reserve</span></code> variable in <code class="docutils literal"><span class="pre">/etc/openstack_deploy/user_variables.yml</span></code>. This value is the amount of space to reserve on a disk to prevent a situation where swift is unable to remove objects due to a lack of available disk space to work with. The default value is 1% of the total disk size.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">openstack-ansible-os_swift</span></code> role will now prevent deployers from changing the <code class="docutils literal"><span class="pre">swift_hash_path_prefix</span></code> and <code class="docutils literal"><span class="pre">swift_hash_path_suffix</span></code> variables on clusters that already have a value set in <code class="docutils literal"><span class="pre">/etc/swift/swift.conf</span></code>. You can set the new <code class="docutils literal"><span class="pre">swift_force_change_hashes</span></code> variable to <code class="docutils literal"><span class="pre">True</span></code> to force the <code class="docutils literal"><span class="pre">swift_hash_path_</span></code> variables to be changed. We recommend setting this by running the os-swift.yml playbook with <code class="docutils literal"><span class="pre">-e</span> <span class="pre">swift_force_change_hashes=True</span></code>, to avoid changing the <code class="docutils literal"><span class="pre">swift_hash_path_</span></code> variables unintentionally. Use with caution, changing the <code class="docutils literal"><span class="pre">swift_hash_path_</span></code> values causes end-user impact.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">os_swift</span></code> role has 3 new variables that will allow a deployer to change the hard, soft and fs.file-max limits. the hard and soft limits are being added to the limits.conf file for the swift system user. The fs.file-max settings are added to storage hosts via kernel tuning. The new options are <code class="docutils literal"><span class="pre">swift_hard_open_file_limits</span></code> with a default of 10240 <code class="docutils literal"><span class="pre">swift_soft_open_file_limits</span></code> with a default of 4096 <code class="docutils literal"><span class="pre">swift_max_file_limits</span></code> with a default of 24 times the value of <code class="docutils literal"><span class="pre">swift_hard_open_file_limits</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">pretend_min_part_hours_passed</span></code> option can now be passed to swift-ring-builder prior to performing a rebalance. This is set by the <code class="docutils literal"><span class="pre">swift_pretend_min_part_hours_passed</span></code> boolean variable. The default for this variable is False. We recommend setting this by running the os-swift.yml playbook with <code class="docutils literal"><span class="pre">-e</span> <span class="pre">swift_pretend_min_part_hours_passed=True</span></code>, to avoid resetting <code class="docutils literal"><span class="pre">min_part_hours</span></code> unintentionally on every run. Setting <code class="docutils literal"><span class="pre">swift_pretend_min_part_hours_passed</span></code> to True will reset the clock on the last time a rebalance happened, thus circumventing the min_part_hours check. This should only be used with extreme caution. If you run this command and deploy rebalanced rings before a replication pass completes, you may introduce unavailability in your cluster. This has an end-user imapct.</p>
</li>
<li><p class="first">While default python interpreter for swift is cpython, pypy is now an option. This change adds the ability to greatly improve swift performance without the core code modifications. These changes have been implemented using the documentation provided by Intel and Swiftstack. Notes about the performance increase can be seen <a class="reference external" href="https://software.intel.com/en-us/blogs/2016/05/06/doubling-the-performance-of-openstack-swift-with-no-code-changes">here</a>.</p>
</li>
<li><p class="first">Change the port for devices in the ring by adjusting the port value for services, hosts, or devices. This will not involve a rebalance of the ring.</p>
</li>
<li><p class="first">Changing the port for a device, or group of devices, carries a brief period of downtime to the swift storage services for those devices. The devices will be unavailable during period between when the storage service restarts after the port update, and the ring updates to match the new port.</p>
</li>
<li><p class="first">Enable rsync module per object server drive by setting the <code class="docutils literal"><span class="pre">swift_rsync_module_per_drive</span></code> setting to <code class="docutils literal"><span class="pre">True</span></code>. Set this to configure rsync and swift to utilise individual configuration per drive. This is required when disabling rsyncs to individual disks. For example, in a disk full scenario.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">os_swift</span></code> role will now include the swift &#8220;staticweb&#8221; middleware by default.</p>
</li>
<li><p class="first">The os_swift role now allows the permissions for the log files created by the swift account, container and object servers to be set. The variable is <code class="docutils literal"><span class="pre">swift_syslog_log_perms</span></code> and is set to <code class="docutils literal"><span class="pre">0644</span></code> by default.</p>
</li>
<li><p class="first">Support added to allow deploying on ppc64le architecture using the Ubuntu distributions.</p>
</li>
<li><p class="first">Support had been added to allow the functional tests to pass when deploying on ppc64le architecture using the Ubuntu distributions.</p>
</li>
<li><p class="first">Support for the deployment of Unbound caching DNS resolvers has been added as an optional replacement for /etc/hosts management across all hosts in the environment. To enable the Unbound DNS containers, add <code class="docutils literal"><span class="pre">unbound_hosts</span></code> entries to the environment.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">repo_build</span></code> role now provides the ability to override the upper-constraints applied which are sourced from OpenStack and from the global-requirements-pins.txt file. The variable <code class="docutils literal"><span class="pre">repo_build_upper_constraints_overrides</span></code> can be populated with a list of upper constraints. This list will take the highest precedence in the constraints process, with the exception of the pins set in the git source SHAs.</p>
</li>
</ul>
</div>
<div class="section" id="id19">
<h3>Known Issues<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Deployments on ppc64le are limited to Ubuntu 16.04 for the Newton release of OpenStack-Ansible.</li>
<li>The variables <code class="docutils literal"><span class="pre">haproxy_keepalived_(internal|external)_cidr</span></code> now has a default set to <code class="docutils literal"><span class="pre">169.254.(2|1).1/24</span></code>. This is to prevent Ansible undefined variable warnings. Deployers must set values for these variables for a working haproxy with keepalived environment when using more than one haproxy node.</li>
<li>In the latest stable version of keepalived there is a problem with the priority calculation when a deployer has more than five keepalived nodes. The problem causes the whole keepalived cluster to fail to work. To work around this issue it is recommended that deployers limit the number of keepalived nodes to no more than five or that the priority for each node is set as part of the configuration (cf. <code class="docutils literal"><span class="pre">haproxy_keepalived_vars_file</span></code> variable).</li>
<li>Paramiko version 2.0 Python requires the Python cryptography library. New system packages must be installed for this library. For OpenStack-Ansible versions &lt;12.0.12, &lt;11.2.15, &lt;13.0.2 the system packages must be installed on the <strong>deployment host</strong> manually by executing <code class="docutils literal"><span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">-y</span> <span class="pre">build-essential</span> <span class="pre">libssl-dev</span> <span class="pre">libffi-dev</span></code>.</li>
</ul>
</div>
<div class="section" id="id20">
<h3>Upgrade Notes<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">LXC containers will now have a proper RFC1034/5 hostname set during post build tasks. A localhost entry for 127.0.1.1 will be created by converting all of the &#8220;_&#8221; in the <code class="docutils literal"><span class="pre">inventory_hostname</span></code> to &#8220;-&#8221;. Containers will be created with a default domain of <em>openstack.local</em>. This domain name can be customized to meet your deployment needs by setting the option <code class="docutils literal"><span class="pre">lxc_container_domain</span></code>.</p>
</li>
<li><p class="first">A new global variable has been created named <code class="docutils literal"><span class="pre">openstack_domain</span></code>. This variable has a default value of &#8220;openstack.local&#8221;.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">ca-certificates</span></code> package has been included in the LXC container build process in order to prevent issues related to trying to connect to public websites which make use of newer certificates than exist in the base CA certificate store.</p>
</li>
<li><p class="first">In order to reduce the time taken for fact gathering, the default subset gathered has been reduced to a smaller set than the Ansible default. This may be changed by the deployer by setting the <code class="docutils literal"><span class="pre">ANSIBLE_GATHER_SUBSET</span></code> variable in the bash environment prior to executing any ansible commands.</p>
</li>
<li><p class="first">The environment variable <code class="docutils literal"><span class="pre">FORKS</span></code> is no longer used. The standard Ansible environment variable <code class="docutils literal"><span class="pre">ANSIBLE_FORKS</span></code> should be used instead.</p>
</li>
<li><p class="first">The Galera client role now has a dependency on the apt package pinning role.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">security_audit_apparmor_changes</span></code> is now renamed to
<code class="docutils literal"><span class="pre">security_audit_mac_changes</span></code> and is enabled by default. Setting
<code class="docutils literal"><span class="pre">security_audit_mac_changes</span></code> to <code class="docutils literal"><span class="pre">no</span></code> will disable syscall auditing for
any changes to AppArmor policies (in Ubuntu) or SELinux policies (in
CentOS).</p>
</li>
<li><p class="first">When upgrading deployers will need to ensure they have a backup of all logging from within the container prior to running the playbooks. If the logging node is present within the deployment all logs should already be sync&#8217;d with the logging server and no action is required. As a pre-step it&#8217;s recommended that deployers clean up logging directories from within containers prior to running the playbooks. After the playbooks have run the bind mount will be in effect at &#8220;/var/log&#8221; which will mount over all previous log files and directories.</p>
</li>
<li><p class="first">Due to a new bind mount at &#8220;/var/log&#8221; all containers will be restarted. This is a required restart. It is recommended that deployers run the container restarts in serial to not impact production workloads.</p>
</li>
<li><p class="first">The default value of <code class="docutils literal"><span class="pre">service_credentials/os_endpoint_type</span></code> within ceilometer&#8217;s configuration file has been changed to <strong>internalURL</strong>. This may be overridden through the use of the <code class="docutils literal"><span class="pre">ceilometer_ceilometer_conf_overrides</span></code> variable.</p>
</li>
<li><p class="first">The default database collation has changed from <cite>utf8_unicode_ci</cite> to <cite>utf8_general_ci</cite>. Existing databases and tables will need to be converted.</p>
</li>
<li><p class="first">The LXC container cache preparation process now copies package
repository configuration from the host instead of implementing
its own configuration. The following variables are therefore
unnecessary and have been removed:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">lxc_container_template_main_apt_repo</span></code></li>
<li><code class="docutils literal"><span class="pre">lxc_container_template_security_apt_repo</span></code></li>
<li><code class="docutils literal"><span class="pre">lxc_container_template_apt_components</span></code></li>
</ul>
</li>
<li><p class="first">The LXC container cache preparation process now copies DNS resolution configuration from the host instead of implementing its own configuration. The <code class="docutils literal"><span class="pre">lxc_cache_resolvers</span></code> variable is therefore unnecessary and has been removed.</p>
</li>
<li><p class="first">The MariaDB wait_timeout setting is decreased to 1h to match the SQL Alchemy pool recycle timeout, in order to prevent unnecessary database session buildups.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">repo_server_packages</span></code> that defines the list of packages required to install a repo server has been replaced by <code class="docutils literal"><span class="pre">repo_server_distro_packages</span></code>.</p>
</li>
<li><p class="first">If there are swift hosts in the environment, then the value for <code class="docutils literal"><span class="pre">cinder_service_backup_program_enabled</span></code> will automatically be set to <code class="docutils literal"><span class="pre">True</span></code>. This negates the need to set this variable in <code class="docutils literal"><span class="pre">user_variables.yml</span></code>, but the value may still be overridden at the deployer discretion.</p>
</li>
<li><p class="first">If there are swift hosts in the environment, then the value for <code class="docutils literal"><span class="pre">glance_default_store</span></code> will automatically be set to <code class="docutils literal"><span class="pre">swift</span></code>. This negates the need to set this variable in <code class="docutils literal"><span class="pre">user_variables.yml</span></code>, but the value may still be overridden at the deployer discretion.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">security_sysctl_enable_tcp_syncookies</span></code> has replaced
<code class="docutils literal"><span class="pre">security_sysctl_tcp_syncookies</span></code> and it is now a boolean instead of an
integer.  It is still enabled by default, but deployers can disable TCP
syncookies by setting the following Ansible variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_sysctl_enable_tcp_syncookies</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
</pre></div>
</div>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">glance_apt_packages</span></code> variable has been renamed to <code class="docutils literal"><span class="pre">glance_distro_packages</span></code> so that it applies to multiple operating systems.</p>
</li>
<li><p class="first">Within the <code class="docutils literal"><span class="pre">haproxy</span></code> role <em>hatop</em> has been changed from a package installation to a source-based installation. This has been done to ensure that the same operator tooling is available across all supported distributions. The download URL for the source can be set using the variable <code class="docutils literal"><span class="pre">haproxy_hatop_download_url</span></code>.</p>
</li>
<li><p class="first">Haproxy has a new backend to support using the repo server nodes as a git server. The new backend is called &#8220;repo_git&#8221; and uses port &#8220;9418&#8221;. Default ACLs have been created to lock down the port&#8217;s availability to only internal networks originating from an RFC1918 address.</p>
</li>
<li><p class="first">Haproxy has a new backend to support using the repo server nodes as a package manager cache. The new backend is called &#8220;repo_cache&#8221; and uses port &#8220;3142&#8221; and a single active node. All other nodes within the pool are backups and will be promoted if the active node goes down. Default ACLs have been created to lock down the port&#8217;s availability to only internal networks originating from an RFC1918 address.</p>
</li>
<li><p class="first">SSL termination is assumed enabled for all public endpoints by default. If this is not needed it can be disabled by setting the <code class="docutils literal"><span class="pre">openstack_external_ssl</span></code> option to <strong>false</strong> and the <code class="docutils literal"><span class="pre">openstack_service_publicuri_proto</span></code> to <strong>http</strong>.</p>
</li>
<li><p class="first">If HAProxy is used as the loadbalancer for a deployment it will generate a self-signed certificate by default. If HAProxy is NOT used, an SSL certificate should be installed on the external loadbalancer. The installation of an SSL certificate on an external load balancer is not covered by the deployment tooling.</p>
</li>
<li><p class="first">In previous releases connections to Horizon originally terminated SSL at the Horizon container. While that is still an option, SSL is now assumed to be terminated at the load balancer. If you wish to terminate SSL at the horizon node change the <code class="docutils literal"><span class="pre">horizon_external_ssl</span></code> option to <strong>false</strong>.</p>
</li>
<li><p class="first">Public endpoints will need to be updated using the Keystone admin API to support secure endpoints. The Keystone ansible module will not recreate the endpoints automatically. Documentation on the <a class="reference external" href="http://docs.openstack.org/developer/keystone/configuration.html#service-catalog">Keystone service catalog can be found here</a>.</p>
</li>
<li><p class="first">Upgrades will not replace entries in the /etc/openstack_deploy/env.d directory, though new versions of OpenStack-Ansible will now use the shipped env.d as a base, which may alter existing deployments.</p>
</li>
<li><p class="first">The variable used to store the mysql password used by the ironic service
account has been changed.  The following variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ironic_galera_password</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">secrete</span>
</pre></div>
</div>
<p>has been changed to:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ironic_container_mysql_password</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">secrete</span>
</pre></div>
</div>
</li>
<li><p class="first">There is a new default configuration for keepalived. When running the haproxy playbook, the configuration change will cause a keepalived restart unless the deployer has used a custom configuration file. The restart will cause the virtual IP addresses managed by keepalived to be briefly unconfigured, then reconfigured.</p>
</li>
<li><p class="first">A new version of keepalived will be installed on the haproxy nodes if the variable <code class="docutils literal"><span class="pre">keepalived_use_latest_stable</span></code> is set to <code class="docutils literal"><span class="pre">True</span></code> and more than one haproxy node is configured. The update of the package will cause keepalived to restart and therefore will cause the virtual IP addresses managed by keepalived to be briefly unconfigured, then reconfigured.</p>
</li>
<li><p class="first">Adding a new nova.conf entry, live_migration_uri. This entry will default to a <code class="docutils literal"><span class="pre">qemu-ssh://</span></code> uri, which uses the ssh keys that have already been distributed between all of the compute hosts.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc_container_create</span></code> role no longer uses the distro specific lxc container create template.</p>
</li>
<li><p class="first">The following variable changes have been made in the  <code class="docutils literal"><span class="pre">lxc_host</span></code> role:</p>
<ul class="simple">
<li><strong>lxc_container_template</strong>: Removed because the template option is now
contained within the operating system specific variable file loaded at
runtime.</li>
<li><strong>lxc_container_template_options</strong>: This option was renamed to
<em>lxc_container_download_template_options</em>. The deprecation filter was not
used because the values provided from this option have been
fundamentally changed and old overrides will cause problems.</li>
<li><strong>lxc_container_release</strong>: Removed because image is now tied with the host
operating system.</li>
<li><strong>lxc_container_user_name</strong>: Removed because the default users are no longer
created when the cached image is created.</li>
<li><strong>lxc_container_user_password</strong>: Removed because the default users are no
longer created when the cached image is created.</li>
<li><strong>lxc_container_template_main_apt_repo</strong>: Removed because this option is now
being set within the cache creation process and is no longer needed here.</li>
<li><strong>lxc_container_template_security_apt_repo</strong>: Removed because this option is
now being set within the cache creation process and is no longer needed here.</li>
</ul>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">lxc_host</span></code> role no longer uses the distro specific lxc container create template.</p>
</li>
<li><p class="first">The following variable changes have been made in the  <code class="docutils literal"><span class="pre">lxc_host</span></code> role:</p>
<ul class="simple">
<li><strong>lxc_container_user_password</strong>: Removed because the default lxc
container user is no longer created by the lxc container template.</li>
<li><strong>lxc_container_template_options</strong>: This option was renamed to
<em>lxc_cache_download_template_options</em>. The deprecation filter was not
used because the values provided from this option have been
fundamentally changed and potentially old overrides will cause
problems.</li>
<li><strong>lxc_container_base_delete</strong>: Removed because the cache will be
refreshed upon role execution.</li>
<li><strong>lxc_cache_validate_certs</strong>: Removed because the Ansible <code class="docutils literal"><span class="pre">get_url</span></code>
module is no longer used.</li>
<li><strong>lxc_container_caches</strong>: Removed because the container create process
will build a cached image based on the host OS.</li>
</ul>
</li>
<li><p class="first">LXC package installation and cache preparation will now occur by default only on hosts which will actually implement containers.</p>
</li>
<li><p class="first">The dynamic_inventory script previously set the provider network attributes <code class="docutils literal"><span class="pre">is_container_address</span></code> and <code class="docutils literal"><span class="pre">is_ssh_address</span></code> to True for the management network regardless of whether a deployer had them configured this way or not. Now, these attributes must be configured by deployers and the dynamic_inventory script will fail if they are missing or not True.</p>
</li>
<li><p class="first">During upgrades, container and service restarts for the mariadb/galera cluster were being triggered multiple times and causing the cluster to become unstable and often unrecoverable. This situation has been improved immensely, and we now have tight control such that restarts of the galera containers only need to happen once, and are done so in a controlled, predictable and repeatable way.</p>
</li>
<li><p class="first">The memcached log is removed from /var/log/memcached.log and is now stored in the /var/log/memcached folder.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">galera_client_apt_packages</span></code> has been replaced by <code class="docutils literal"><span class="pre">galera_client_distro_packages</span></code>.</p>
</li>
<li><p class="first">Whether the Neutron DHCP Agent, Metadata Agent or LinuxBridge Agent should be enabled is now dynamically determined based on the <code class="docutils literal"><span class="pre">neutron_plugin_type</span></code> and the <code class="docutils literal"><span class="pre">neutron_ml2_mechanism_drivers</span></code> that are set. This aims to simplify the configuration of Neutron services and eliminate the need for deployers to override the entire <code class="docutils literal"><span class="pre">neutron_services</span></code> dict variable to disable these services.</p>
</li>
<li><p class="first">Database migration tasks have been added for the dynamic routing neutron plugin.</p>
</li>
<li><p class="first">As described in the <a class="reference external" href="http://docs.openstack.org/releasenotes/neutron/mitaka.html">Mitaka release notes</a> Neutron now correctly calculates for and advertises the MTU to instances. The default DHCP configuration to advertise an MTU to instances has therefore been removed from the variable <code class="docutils literal"><span class="pre">neutron_dhcp_config</span></code>.</p>
</li>
<li><p class="first">Database migration tasks have been added for the FWaaS neutron plugin.</p>
</li>
<li><p class="first">As described in the <a class="reference external" href="http://docs.openstack.org/releasenotes/neutron/mitaka.html">Mitaka release notes</a> Neutron now correctly calculates for and advertises the MTU to instances. As such the <code class="docutils literal"><span class="pre">neutron_network_device_mtu</span></code> variable has been removed and the hard-coded values in the templates for <code class="docutils literal"><span class="pre">advertise_mtu</span></code>, <code class="docutils literal"><span class="pre">path_mtu</span></code>, and <code class="docutils literal"><span class="pre">segment_mtu</span></code> have been removed to allow upstream defaults to operate as intended.</p>
</li>
<li><p class="first">The new host group <code class="docutils literal"><span class="pre">neutron_openvswitch_agent</span></code> has been added to the <code class="docutils literal"><span class="pre">env.d/neutron.yml</span></code> and <code class="docutils literal"><span class="pre">env.d/nova.yml</span></code> environment configuration files in order to support the implementation of Open vSwitch. Deployers must ensure that their environment configuration files are updated to include the above group name. Please see the example implementations in <a class="reference external" href="https://github.com/openstack/openstack-ansible/blob/stable/newton/etc/openstack_deploy/env.d/neutron.yml">env.d/neutron.yml</a> and <a class="reference external" href="https://github.com/openstack/openstack-ansible/blob/stable/newton/etc/openstack_deploy/env.d/nova.yml">env.d/nova.yml</a>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">neutron_agent_mode</span></code> has been removed from the <code class="docutils literal"><span class="pre">os_neutron</span></code> role. The appropriate value for <code class="docutils literal"><span class="pre">l3_agent.ini</span></code> is now determined based on the <code class="docutils literal"><span class="pre">neutron_plugin_type</span></code> and host group membership.</p>
</li>
<li><p class="first">The default horizon instance launch panels have been changed to the
next generation panels. To enable legacy functionality set the following
options accordingly:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">horizon_launch_instance_legacy</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="l l-Scalar l-Scalar-Plain">horizon_launch_instance_ng</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</li>
<li><p class="first">A new nova admin endpoint will be registered with the suffix <code class="docutils literal"><span class="pre">/v2.1/%(tenant_id)s</span></code>. The nova admin endpoint with the suffix <code class="docutils literal"><span class="pre">/v2/%(tenant_id)s</span></code> may be manually removed.</p>
</li>
<li><p class="first">Cleanup tasks are added to remove the nova console git directories <code class="docutils literal"><span class="pre">/usr/share/novnc</span></code> and <code class="docutils literal"><span class="pre">/usr/share/spice-html5</span></code>, prior to cloning these inside the nova vnc and spice console playbooks. This is necessary to guarantee that local modifications do not break git clone operations, especially during upgrades.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">neutron_linuxbridge</span></code> has been removed as it is no longer used.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">neutron_driver_interface</span></code> has been removed. The appropriate value for <code class="docutils literal"><span class="pre">neutron.conf</span></code> is now determined based on the <code class="docutils literal"><span class="pre">neutron_plugin_type</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">neutron_driver_firewall</span></code> has been removed. The appropriate value for <code class="docutils literal"><span class="pre">neutron.conf</span></code> is now determined based on the <code class="docutils literal"><span class="pre">neutron_plugin_type</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">neutron_ml2_mechanism_drivers</span></code> has been removed. The appropriate value for ml2_conf.ini is now determined based on the <code class="docutils literal"><span class="pre">neutron_plugin_type</span></code>.</p>
</li>
<li><p class="first">Installation of glance and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">glance_venv_bin</span></code>, <code class="docutils literal"><span class="pre">glance_venv_enabled</span></code>, <code class="docutils literal"><span class="pre">glance_venv_etc_dir</span></code>, and <code class="docutils literal"><span class="pre">glance_non_venv_etc_dir</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of glance and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">gnocchi_venv_bin</span></code>, <code class="docutils literal"><span class="pre">gnocchi_venv_enabled</span></code>, <code class="docutils literal"><span class="pre">gnocchi_venv_etc_dir</span></code>, and <code class="docutils literal"><span class="pre">gnocchi_non_venv_etc_dir</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of heat and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">heat_venv_bin</span></code> and <code class="docutils literal"><span class="pre">heat_venv_enabled</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of horizon and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">horizon_venv_bin</span></code>, <code class="docutils literal"><span class="pre">horizon_venv_enabled</span></code>, <code class="docutils literal"><span class="pre">horizon_venv_lib_dir</span></code>, and <code class="docutils literal"><span class="pre">horizon_non_venv_lib_dir</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of ironic and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">ironic_venv_bin</span></code> and <code class="docutils literal"><span class="pre">ironic_venv_enabled</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of keystone and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">keystone_venv_enabled</span></code> variable has been removed.</p>
</li>
<li><p class="first">The Neutron L3 Agent configuration for the handle_internal_only_routers variable is removed in order to use the Neutron upstream default setting. The current default for handle_internal_only_routers is True, which does allow Neutron L3 router without external networks attached (as discussed per <a class="reference external" href="https://bugs.launchpad.net/neutron/+bug/1572390">https://bugs.launchpad.net/neutron/+bug/1572390</a>).</p>
</li>
<li><p class="first">Installation of aodh and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">aodh_venv_enabled</span></code> and <code class="docutils literal"><span class="pre">aodh_venv_bin</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of ceilometer and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">ceilometer_venv_enabled</span></code> and <code class="docutils literal"><span class="pre">ceilometer_venv_bin</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of cinder and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">cinder_venv_enabled</span></code> and <code class="docutils literal"><span class="pre">cinder_venv_bin</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of magnum and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">magnum_venv_bin</span></code>, <code class="docutils literal"><span class="pre">magnum_venv_enabled</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of neutron and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">neutron_venv_enabled</span></code>, <code class="docutils literal"><span class="pre">neutron_venv_bin</span></code>, <code class="docutils literal"><span class="pre">neutron_non_venv_lib_dir</span></code> and <code class="docutils literal"><span class="pre">neutron_venv_lib_dir</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of nova and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">nova_venv_enabled</span></code>, <code class="docutils literal"><span class="pre">nova_venv_bin</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of rally and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">rally_venv_bin</span></code>, <code class="docutils literal"><span class="pre">rally_venv_enabled</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of sahara and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">sahara_venv_bin</span></code>, <code class="docutils literal"><span class="pre">sahara_venv_enabled</span></code>, <code class="docutils literal"><span class="pre">sahara_venv_etc_dir</span></code>, and <code class="docutils literal"><span class="pre">sahara_non_venv_etc_dir</span></code> variables have been removed.</p>
</li>
<li><p class="first">Installation of swift and its dependent pip packages will now only occur within a Python virtual environment. The <code class="docutils literal"><span class="pre">swift_venv_enabled</span></code>, <code class="docutils literal"><span class="pre">swift_venv_bin</span></code> variables have been removed.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">keystone_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">keystone_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">keystone_idp_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">keystone_idp_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">keystone_sp_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">keystone_sp_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">keystone_developer_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">keystone_developer_mode_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">glance_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">glance_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">horizon_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">horizon_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">aodh_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">aodh_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">cinder_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">cinder_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">cinder_volume_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">cinder_volume_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">cinder_lvm_volume_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">cinder_lvm_volume_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">ironic_api_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">ironic_api_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">ironic_conductor_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">ironic_conductor_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">ironic_conductor_standalone_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">ironic_conductor_standalone_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">galera_pre_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">galera_server_required_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">galera_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">galera_server_mariadb_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">haproxy_pre_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">haproxy_required_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">haproxy_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">haproxy_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">memcached_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">memcached_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">neutron_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">neutron_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">neutron_lbaas_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">neutron_lbaas_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">neutron_vpnaas_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">neutron_vpnaas_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">neutron_apt_remove_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">neutron_remove_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">heat_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">heat_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">ceilometer_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">ceilometer_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">ceilometer_developer_mode_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">ceilometer_developer_mode_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">swift_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">swift_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">lxc_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">lxc_hosts_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">openstack_host_apt_packages</span></code> has been renamed to <code class="docutils literal"><span class="pre">openstack_host_distro_packages</span></code>.</p>
</li>
<li><p class="first">The galera_client role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">galera_client_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The ceph_client role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">ceph_client_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_ironic role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">ironic_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_nova role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">nova_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The memcached_server role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">memcached_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_heat role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">heat_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The rsyslog_server role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">rsyslog_server_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The pip_install role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">pip_install_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The repo_build role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">repo_build_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_rally role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">rally_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_glance role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">glance_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The security role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">security_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">All roles always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_keystone role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">keystone_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_cinder role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">cinder_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_gnocchi role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">gnocchi_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_magnum role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">magnum_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The rsyslog_client role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">rsyslog_client_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_sahara role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">sahara_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The repo_server role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">repo_server_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The haproxy_server role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">haproxy_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_aodh role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">aodh_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The openstack_hosts role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">openstack_hosts_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The galera_server role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">galera_server_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The rabbitmq_server role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">rabbitmq_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The lxc_hosts role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">lxc_hosts_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_ceilometer role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">ceilometer_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_swift role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">swift_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_neutron role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">neutron_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The os_horizon role always checks whether the latest package is installed when executed. If a deployer wishes to change the check to only validate the presence of the package, the option <code class="docutils literal"><span class="pre">horizon_package_state</span></code> should be set to <code class="docutils literal"><span class="pre">present</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">rsyslog_client_packages</span></code> has been replaced by <code class="docutils literal"><span class="pre">rsyslog_client_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">rsyslog_server_packages</span></code> has been replaced by <code class="docutils literal"><span class="pre">rsyslog_server_distro_packages</span></code>.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">rabbitmq_monitoring_password</span></code> has been added to <code class="docutils literal"><span class="pre">user_secrets.yml</span></code>. If this variable does not exist, the RabbitMQ monitoring user will not be created.</p>
</li>
<li><p class="first">All of the discretionary access control (DAC) auditing is now disabled by
default. This reduces the amount of logs generated during deployments and
minor upgrades.  The following variables are now set to <code class="docutils literal"><span class="pre">no</span></code>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_chmod</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_chown</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_lchown</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fchmod</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fchmodat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fchown</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fchownat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fremovexattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_lremovexattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_fsetxattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_lsetxattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">security_audit_DAC_setxattr</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
</pre></div>
</div>
</li>
<li><p class="first">The container property <code class="docutils literal"><span class="pre">container_release</span></code> has been removed as this is automatically set to the same version as the host in the container creation process.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">lxc_container_release</span></code> has been removed from the <code class="docutils literal"><span class="pre">lxc-container-create.yml</span></code> playbook as it is no longer consumed by the container creation process.</p>
</li>
<li><p class="first">LBaaSv1 has been removed from the <code class="docutils literal"><span class="pre">neutron-lbaas</span></code> project in the Newton release and it has been removed from OpenStack-Ansible as well.</p>
</li>
<li><p class="first">The LVM configuration tasks and <code class="docutils literal"><span class="pre">lvm.conf</span></code> template have been removed
from the <code class="docutils literal"><span class="pre">openstack_hosts</span></code> role since they are no longer needed. All of
the LVM configuration is properly handled in the <code class="docutils literal"><span class="pre">os_cinder</span></code> role.</p>
</li>
<li><p class="first">In the <code class="docutils literal"><span class="pre">rsyslog_client</span></code> role, the variable <code class="docutils literal"><span class="pre">rsyslog_client_repos</span></code> has been removed as it is no longer used.</p>
</li>
<li><p class="first">Percona Xtrabackup has been removed from the Galera client role.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">infra_hosts</span></code> and <code class="docutils literal"><span class="pre">infra_containers</span></code> inventory groups have been removed. No containers or services were assigned to these groups exclusively, and the usage of the groups has been supplanted by the <code class="docutils literal"><span class="pre">shared-infra_*</span></code> and <code class="docutils literal"><span class="pre">os-infra_*</span></code> groups for some time. Deployers who were using the groups should adjust any custom configuration in the <code class="docutils literal"><span class="pre">env.d</span></code> directory to assign containers and/or services to other groups.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">verbose</span></code> has been removed. Deployers should rely on the <code class="docutils literal"><span class="pre">debug</span></code> var to enable higher levels of memcached logging.</p>
</li>
<li><p class="first">The variable <code class="docutils literal"><span class="pre">verbose</span></code> has been removed. Deployers should rely on the <code class="docutils literal"><span class="pre">debug</span></code> var to enable higher levels of logging.</p>
</li>
<li><p class="first">The aodh-api init service is removed since aodh-api is deployed as an apache mod_wsgi service.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">ceilometer-api</span></code> init service is removed since <code class="docutils literal"><span class="pre">ceilometer-api</span></code> is deployed as an apache <code class="docutils literal"><span class="pre">mod_wsgi</span></code> service.</p>
</li>
<li><p class="first">The database create and user creates have been removed from the <code class="docutils literal"><span class="pre">os_heat</span></code> role. These tasks have been relocated to the playbooks.</p>
</li>
<li><p class="first">The database create and user creates have been removed from the <code class="docutils literal"><span class="pre">os_nova</span></code> role. These tasks have been relocated to the playbooks.</p>
</li>
<li><p class="first">The database create and user creates have been removed from the <code class="docutils literal"><span class="pre">os_glance</span></code> role. These tasks have been relocated to the playbooks.</p>
</li>
<li><p class="first">The database and user creates have been removed from the <code class="docutils literal"><span class="pre">os_horizon</span></code> role. These tasks have been relocated to the playbooks.</p>
</li>
<li><p class="first">The database create and user creates have been removed from the <code class="docutils literal"><span class="pre">os_cinder</span></code> role. These tasks have been relocated to the playbooks.</p>
</li>
<li><p class="first">The database create and user creates have been removed from the <code class="docutils literal"><span class="pre">os_neutron</span></code> role. These tasks have been relocated to the playbooks.</p>
</li>
<li><p class="first">The Neutron HA tool written by AT&amp;T is no longer enabled by default. This tool was providing HA capabilities for networks and routers that were not using the native Neutron L3HA. Because native Neutron L3HA is stable, compatible with the Linux Bridge Agent, and is a better means of enabling HA within a deployment this tool is no longer being setup by default. If legacy L3HA is needed within a deployment the deployer can set <cite>neutron_legacy_ha_tool_enabled</cite> to <strong>true</strong> to enable the legacy tooling.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">repo_build_apt_packages</span></code> variable has been renamed. <code class="docutils literal"><span class="pre">repo_build_distro_packages</span></code> should be used instead to override packages required to build Python wheels and venvs.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">repo_build</span></code> role now makes use of Ubuntu Cloud Archive by default. This can be disabled by setting <code class="docutils literal"><span class="pre">repo_build_uca_enable</span></code> to <code class="docutils literal"><span class="pre">False</span></code>.</p>
</li>
<li><p class="first">New overrides are provided to allow for better customization around logfile retention and rate limiting for UDP/TCP sockets. <code class="docutils literal"><span class="pre">rsyslog_server_logrotation_window</span></code> defaults to 14 days <code class="docutils literal"><span class="pre">rsyslog_server_ratelimit_interval</span></code> defaults to 0 seconds <code class="docutils literal"><span class="pre">rsyslog_server_ratelimit_burst</span></code> defaults to 10000</p>
</li>
<li><p class="first">The rsyslog.conf is now using v7+ style configuration settings</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">swift_fallocate_reserve</span></code> default value has changed from 10737418240 (10GB) to 1% in order to match the OpenStack swift default setting.</p>
</li>
<li><p class="first">A new option <cite>swift_pypy_enabled</cite> has been added to enable or disable the pypy interpreter for swift. The default is &#8220;false&#8221;.</p>
</li>
<li><p class="first">A new option <cite>swift_pypy_archive</cite> has been added to allow a pre-built pypy archive to be downloaded and moved into place to support swift running under pypy. This option is a dictionary and contains the URL and SHA256 as keys.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">swift_max_rsync_connections</span></code> default value has changed from 2 to 4 in order to match the OpenStack swift documented value.</p>
</li>
<li><p class="first">When upgrading a Swift deployment from Mitaka to Newton it should be noted that the enabled middleware list has changed. In Newton the &#8220;staticweb&#8221; middleware will be loaded by default. While the change adds a feature it is non-disruptive in upgrades.</p>
</li>
<li><p class="first">All variables in the security role are now prepended with <code class="docutils literal"><span class="pre">security_</span></code> to
avoid collisions with variables in other roles. All deployers who have
used the security role in previous releases will need to prepend all
security role variables with <code class="docutils literal"><span class="pre">security_</span></code>.</p>
<p>For example, a deployer could have disabled direct root ssh logins with the
following variable:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ssh_permit_root_login</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
</pre></div>
</div>
<p>That variable would become:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">security_ssh_permit_root_login</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
</pre></div>
</div>
</li>
<li><p class="first">Ceilometer no longer manages alarm storage when Aodh is enabled. It now redirects alarm-related requests to the Aodh API. This is now auto-enabled when Aodh is deployed.</p>
</li>
<li><p class="first">Overrides for ceilometer <code class="docutils literal"><span class="pre">aodh_connection_string</span></code> will no longer work. Specifying an Aodh connection string in Ceilometer was deprecated within Ceilometer in a prior release so this option has been removed.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">neutron_plugin_base</span></code> variable has been modifed to use the friendly names. Deployers should change any customisations to this variable to ensure that the customisation makes use of the short names instead of the full class path.</p>
</li>
<li><p class="first">Database migration tasks have been added for the LBaaS neutron plugin.</p>
</li>
<li><p class="first">Hosts running LXC on Ubuntu 14.04 will now need to enable the &#8220;trusty-backports&#8221; repository. The backports repo on Ubuntu 14.04 is now required to ensure LXC is updated to the latest stable version.</p>
</li>
<li><p class="first">The Aodh data migration script should be run to migrate alarm data from MongoDB storage to Galera due to the pending removal of MongoDB support.</p>
</li>
<li><p class="first">Neutron now makes use of Ubuntu Cloud Archive by default. This can be disabled by setting <code class="docutils literal"><span class="pre">neutron_uca_enable</span></code> to <code class="docutils literal"><span class="pre">False</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">utility-all.yml</span></code> playbook will no longer distribute the deployment host&#8217;s root user&#8217;s private ssh key to all utility containers. Deployers who desire this behavior should set the <code class="docutils literal"><span class="pre">utility_ssh_private_key</span></code> variable.</p>
</li>
<li><p class="first">The following variables have been renamed in order to make the variable
names neutral for multiple operating systems.</p>
<blockquote>
<div><ul class="simple">
<li>nova_apt_packages -&gt; nova_distro_packages</li>
<li>nova_spice_apt_packages -&gt; nova_spice_distro_packages</li>
<li>nova_novnc_apt_packages -&gt; nova_novnc_distro_packages</li>
<li>nova_compute_kvm_apt_packages -&gt; nova_compute_kvm_distro_packages</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="deprecation-notes">
<h3>Deprecation Notes<a class="headerlink" href="#deprecation-notes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Removed <code class="docutils literal"><span class="pre">cirros_tgz_url</span></code> and in most places replaced with <code class="docutils literal"><span class="pre">tempest_img_url</span></code>.</li>
<li>Removed <code class="docutils literal"><span class="pre">cirros_img_url</span></code> and in most places replaced with <code class="docutils literal"><span class="pre">tempest_img_url</span></code>.</li>
<li>Removed deprecated variable <code class="docutils literal"><span class="pre">tempest_compute_image_alt_ssh_user</span></code></li>
<li>Removed deprecated variable <code class="docutils literal"><span class="pre">tempest_compute_image_ssh_password</span></code></li>
<li>Removed deprecated variable <code class="docutils literal"><span class="pre">tempest_compute_image_alt_ssh_password</span></code></li>
<li>Renamed <code class="docutils literal"><span class="pre">cirros_img_disk_format</span></code> to <code class="docutils literal"><span class="pre">tempest_img_disk_format</span></code></li>
<li>Downloading and unarchiving a .tar.gz has been removed.  The related tempest options <code class="docutils literal"><span class="pre">ami_img_file</span></code>, <code class="docutils literal"><span class="pre">aki_img_file</span></code>, and <code class="docutils literal"><span class="pre">ari_img_file</span></code> have been removed from tempest.conf.j2.</li>
<li>The <code class="docutils literal"><span class="pre">[boto]</span></code> section of tempest.conf.j2 has been removed.  These tests have been completely removed from tempest for some time.</li>
<li>The <code class="docutils literal"><span class="pre">openstack_host_apt_packages</span></code> variable has been deprecated. <code class="docutils literal"><span class="pre">openstack_host_packages</span></code> should be used instead to override packages required to install on all OpenStack hosts.</li>
<li>The <code class="docutils literal"><span class="pre">rabbitmq_apt_packages</span></code> variable has been deprecated. <code class="docutils literal"><span class="pre">rabbitmq_dependencies</span></code> should be used instead to override additional packages to install alongside rabbitmq-server.</li>
<li>Moved <code class="docutils literal"><span class="pre">haproxy_service_configs</span></code> var to <code class="docutils literal"><span class="pre">haproxy_default_service_configs</span></code> so that <code class="docutils literal"><span class="pre">haproxy_service_configs</span></code> can be modified and added to without overriding the entire default service dict.</li>
<li>galera_package_url changed to percona_package_url for clarity</li>
<li>galera_package_sha256 changed to percona_package_sha256 for clarity</li>
<li>galera_package_path changed to percona_package_path for clarity</li>
<li>galera_package_download_validate_certs changed to percona_package_download_validate_certs for clarity</li>
<li>The <code class="docutils literal"><span class="pre">main</span></code> function in <code class="docutils literal"><span class="pre">dynamic_inventory.py</span></code> now takes named arguments instead of dictionary. This is to support future code changes that will move construction logic into separate files.</li>
<li>Installation of Ansible on the root system, outside of a virtual environment, will no longer be supported.</li>
<li>The variables <code class="docutils literal"><span class="pre">`galera_client_package_*`</span></code> and <code class="docutils literal"><span class="pre">`galera_client_apt_percona_xtrabackup_*`</span></code> have been removed from the role as Xtrabackup is no longer deployed.</li>
<li>The Neutron HA tool written by AT&amp;T has been deprecated and will be removed in the Ocata release.</li>
<li>The old class path names used within the <code class="docutils literal"><span class="pre">neutron_plugin_base</span></code> have been deprecated in favor of the friendly names. Support for the use of the class path plugins will be removed in the OpenStack Newton cycle.</li>
</ul>
</div>
<div class="section" id="security-issues">
<h3>Security Issues<a class="headerlink" href="#security-issues" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">A sudoers entry has been added to the repo_servers in order to allow the nginx user to stop and start nginx via the init script. This is implemented in order to ensure that the repo sync process can shut off nginx while synchronising data from the master to the slaves.</p>
</li>
<li><p class="first">A self-signed certificate will now be generated by default when HAproxy is used as a load balancer. This certificate is used to terminate the public endpoint for Horizon and all OpenStack API services.</p>
</li>
<li><p class="first">Horizon disables password autocompletion in the browser by default, but deployers can now enable autocompletion by setting <code class="docutils literal"><span class="pre">horizon_enable_password_autocomplete</span></code> to <code class="docutils literal"><span class="pre">True</span></code>.</p>
</li>
<li><p class="first">When enabled, Neutron Firewall as a Service (FWaaS) provides projects the option to implement perimeter security (filtering at the router), adding to filtering at the instance interfaces which is provided by &#8216;Security Groups&#8217;.</p>
</li>
<li><p class="first">The admin_token_auth middleware presents a potential
security risk and will be removed in a future release
of keystone. Its use can be removed by setting the
<code class="docutils literal"><span class="pre">keystone_keystone_paste_ini_overrides</span></code> variable.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>keystone_keystone_paste_ini_overrides:
  pipeline:public_api:
    pipeline: cors sizelimit osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension public_service
  pipeline:admin_api:
    pipeline: cors sizelimit osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension s3_extension admin_service
  pipeline:api_v3:
    pipeline: cors sizelimit osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension_v3 s3_extension service_v3
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id22">
<h3>Bug Fixes<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">This role assumes that there is a network named &#8220;public|private&#8221; and a subnet named &#8220;public|private-subnet&#8221;. These names are made configurable by the addition of two sets of variables; <code class="docutils literal"><span class="pre">tempest_public_net_name</span></code> and <code class="docutils literal"><span class="pre">tempest_public_subnet_name</span></code> for public networks and <code class="docutils literal"><span class="pre">tempest_private_net_name</span></code> and <code class="docutils literal"><span class="pre">tempest_private_subnet_name</span></code> for private networks This addresses <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1588818">bug 1588818</a></p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">/run</span></code> directory is excluded from AIDE checks since the files and
directories there are only temporary and often change when services
start and stop.</p>
</li>
<li><p class="first">AIDE initialization is now always run on subsequent playbook runs when
<code class="docutils literal"><span class="pre">security_initialize_aide</span></code> is set to <code class="docutils literal"><span class="pre">yes</span></code>. The initialization will
be skipped if AIDE isn&#8217;t installed or if the AIDE database already exists.</p>
<p>See <a class="reference external" href="https://launchpad.net/bugs/1616281">bug 1616281</a> for more details.</p>
</li>
<li><p class="first">Add architecture-specific locations for percona-xtrabackup and qpress, with alternate locations provided for ppc64el due to package inavailability from the current provider.</p>
</li>
<li><p class="first">The role previously did not restart the audit daemon after generating a new rules file. The <a class="reference external" href="https://launchpad.net/bugs/1590916">bug</a> has been fixed and the audit daemon will be restarted after any audit rule changes.</p>
</li>
<li><p class="first">Logging within the container has been bind mounted to the hosts this reslves issue <cite>1588051 &lt;https://bugs.launchpad.net/openstack-ansible/+bug/1588051&gt;_</cite></p>
</li>
<li><p class="first">Removed various deprecated / no longer supported features from tempest.conf.j2.  Some variables have been moved to their new sections in the config.</p>
</li>
<li><p class="first">The standard collectstatic and compression process in the os_horizon role now happens after horizon customizations are installed, so that all static resources will be collected and compressed.</p>
</li>
<li><p class="first">LXC containers will now have the ability to use a fixed mac address on all network interfaces when the option <cite>lxc_container_fixed_mac</cite> is set <strong>true</strong>. This change will assist in resolving a long standing issue where network intensive services, such as neutron and rabbitmq, can enter a confused state for long periods of time and require rolling restarts or internal system resets to recover.</p>
</li>
<li><p class="first">The dictionary-based variables in <code class="docutils literal"><span class="pre">defaults/main.yml</span></code> are now individual variables. The dictionary-based variables could not be changed as the documentation instructed. Instead it was required to override the entire dictionary. Deployers must use the new variable names to enable or disable the security configuration changes applied by the security role. For more information, see <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1577944">Launchpad Bug 1577944</a>.</p>
</li>
<li><p class="first">Failed access logging is now disabled by default and can be enabled by changing <code class="docutils literal"><span class="pre">security_audit_failed_access</span></code> to <code class="docutils literal"><span class="pre">yes</span></code>. The rsyslog daemon checks for the existence of log files regularly and this audit rule was triggered very frequently, which led to very large audit logs.</p>
</li>
<li><p class="first">An Ansible task was added to disable the <code class="docutils literal"><span class="pre">netconsole</span></code> service on CentOS
systems if the service is installed on the system.</p>
<p>Deployers can opt-out of this change by setting
<code class="docutils literal"><span class="pre">security_disable_netconsole</span></code> to <code class="docutils literal"><span class="pre">no</span></code>.</p>
</li>
<li><p class="first">In order to ensure that the appropriate data is delivered to requesters from the repo servers, the slave repo_server web servers are taken offline during the synchronisation process. This ensures that the right data is always delivered to the requesters through the load balancer.</p>
</li>
<li><p class="first">The pip_install_options variable is now honored during repo building.  This variable allows deployers to specify trusted CA certificates by setting the variable to &#8220;&#8211;cert /etc/ssl/certs/ca-certificates.crt&#8221;</p>
</li>
<li><p class="first">The security role previously set the permissions on all audit log files in
<code class="docutils literal"><span class="pre">/var/log/audit</span></code> to <code class="docutils literal"><span class="pre">0400</span></code>, but this prevents the audit daemon from
writing to the active log file. This will prevent <code class="docutils literal"><span class="pre">auditd</span></code> from
starting or restarting cleanly.</p>
<p>The task now removes any permissions that are not allowed by the STIG. Any
log files that meet or exceed the STIG requirements will not be modified.</p>
</li>
<li><p class="first">When the security role was run in Ansible&#8217;s check mode and a tag was
provided, the <code class="docutils literal"><span class="pre">check_mode</span></code> variable was not being set. Any tasks which
depend on that variable would fail. This <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1590086">bug is fixed</a>
and the <code class="docutils literal"><span class="pre">check_mode</span></code> variable is now set properly on every playbook run.</p>
</li>
<li><p class="first">The security role now handles <code class="docutils literal"><span class="pre">ssh_config</span></code> files that contain <code class="docutils literal"><span class="pre">Match</span></code> stanzas. A marker is added to the configuration file and any new configuration items will be added below that marker. In addition, the configuration file is validated for each change to the ssh configuration file.</p>
</li>
<li><p class="first">Horizon deployments were broken due to an incorrect hostname setting being placed in the apache ServerName configuration. This caused Horizon startup failure any time debug was disabled.</p>
</li>
<li><p class="first">Changed the way we name host containers groups in dynamic_inventory.py for a hostname from hostname_containers to hostname-host_containers to prevent failing in the case where containers groups have the same name as host containers when choosing hostnames inspired from containers group names. This change fixes the following bugs <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1512883">https://bugs.launchpad.net/openstack-ansible/+bug/1512883</a> and <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1528953">https://bugs.launchpad.net/openstack-ansible/+bug/1528953</a>.</p>
</li>
<li><p class="first">The ability to support login user domain and login project domain has been added to the
keystone module. This resolves <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1574000">https://bugs.launchpad.net/openstack-ansible/+bug/1574000</a></p>
<div class="highlight-python"><div class="highlight"><pre><span></span># Example usage
- keystone:
    command: ensure_user
    endpoint: &quot;{{ keystone_admin_endpoint }}&quot;
    login_user: admin
    login_password: admin
    login_project_name: admin
    login_user_domain_name: custom
    login_project_domain_name: custom
    user_name: demo
    password: demo
    project_name: demo
    domain_name: custom
</pre></div>
</div>
</li>
<li><p class="first">LXC package installation and cache preparation will now occur by default only on hosts which will actually implement containers.</p>
</li>
<li><p class="first">When upgrading it is possible for an old <code class="docutils literal"><span class="pre">neutron-ns-metadata-proxy</span></code> process to remain running in memory. If this happens the old version of the process can cause unexpected issues in a production environment. To fix this a task has been added to the os_neutron role that will execute a process lookup and kill any <code class="docutils literal"><span class="pre">neutron-ns-metadata-proxy</span></code> processes that are not running the current release tag. Once the old processes are removed the metadata agent running will respawn everything needed within 60 seconds.</p>
</li>
<li><p class="first">Assigning multiple IP addresses to the same host name will now result in an inventory error before running any playbooks.</p>
</li>
<li><p class="first">The nova admin endpoint is now correctly registered as <code class="docutils literal"><span class="pre">/v2.1/%(tenant_id)s</span></code> instead of <code class="docutils literal"><span class="pre">/v2/%(tenant_id)s</span></code>.</p>
</li>
<li><p class="first">The auditd rules for auditing V-38568 (filesystem mounts) were incorrectly labeled in the auditd logs with the key of <code class="docutils literal"><span class="pre">export-V-38568</span></code>. They are now correctly logged with the key <code class="docutils literal"><span class="pre">filesystem_mount-V-38568</span></code>.</p>
</li>
<li><p class="first">Deleting variable entries from the <code class="docutils literal"><span class="pre">global_overrides</span></code> dictionary in <code class="docutils literal"><span class="pre">openstack_user_config.yml</span></code> now properly removes those variables from the <code class="docutils literal"><span class="pre">openstack_inventory.json</span></code> file. See Bug</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">pip_packages_tmp</span></code> variable has been renamed <code class="docutils literal"><span class="pre">pip_tmp_packages</span></code> to avoid unintended processing by the py_pkgs lookup plugin.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">repo_build</span></code> role now correctly applies OpenStack requirements upper-constraints when building Python wheels. This resolves <a class="reference external" href="https://bugs.launchpad.net/openstack-ansible/+bug/1605846">https://bugs.launchpad.net/openstack-ansible/+bug/1605846</a></p>
</li>
<li><p class="first">The check to validate whether an appropriate ssh public key is available to copy into the container cache has been corrected to check the deployment host, not the LXC host.</p>
</li>
<li><p class="first">Static route information for provider networks now <em>must</em> include the <cite>cidr</cite> and <cite>gateway</cite> information. If either key is missing, an error will be raised and the dynamic_inventory.py script will halt before any Ansible action is taken. Previously, if either key was missing, the inventory script would continue silently without adding the static route information to the networks.
Note that this check does not validate the CIDR or gateway values, just just that the values are present.</p>
</li>
<li><p class="first">The repo_build play now correctly evaluates environment variables configured in /etc/environment.  This enables deployments in an environment with http proxies.</p>
</li>
<li><p class="first">Previously, the <code class="docutils literal"><span class="pre">ansible_managed</span></code> var was being used to insert a header into the <code class="docutils literal"><span class="pre">swift.conf</span></code> that contained date/time information. This meant that swift.conf across different nodes did not have the same MD5SUM, causing <code class="docutils literal"><span class="pre">swift-recon</span> <span class="pre">--md5</span></code> to break. We now insert a piece of static text instead to resolve this issue.</p>
</li>
<li><p class="first">The XFS filesystem is excluded from the daily mlocate crond job in order to conserve disk IO for large IOPS bursts due to updatedb/mlocate file indexing.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">/var/lib/libvirt/qemu/save</span></code> directory is now a symlink to <code class="docutils literal"><span class="pre">{{</span> <span class="pre">nova_system_home_folder</span> <span class="pre">}}/save</span></code> to resolve an issue where the default location used by the libvirt managed save command can result with the root partitions on compute nodes becoming full when <code class="docutils literal"><span class="pre">nova</span> <span class="pre">image-create</span></code> is run on large instances.</p>
</li>
<li><p class="first">Aodh has deprecated support for NoSQL storage (MongoDB and Cassandra) in Mitaka with removal scheduled for the O* release. This causes warnings in the logs. The default of using MongoDB storage for Aodh is replaced with the use of Galera. Continued use of MongoDB will require the use of vars to specify a correct <code class="docutils literal"><span class="pre">aodh_connection_string</span></code> and add pymongo to the <code class="docutils literal"><span class="pre">aodh_pip_packages</span></code> list.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">--compact</span></code> flag has been removed from xtrabackup options. This had been shown to cause crashes in some SST situations</p>
</li>
</ul>
</div>
<div class="section" id="other-notes">
<h3>Other Notes<a class="headerlink" href="#other-notes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">nova_libvirt_live_migration_flag</span></code> is now phased out.
Please create a nova configuration override with
<code class="docutils literal"><span class="pre">live_migration_tunnelled:</span> <span class="pre">True</span></code> if you want to force the flag
<code class="docutils literal"><span class="pre">VIR_MIGRATE_TUNNELLED</span></code> to libvirt. Nova &#8220;chooses a sensible
default&#8221; otherwise.</li>
<li><code class="docutils literal"><span class="pre">nova_compute_manager</span></code> is now phased out.</li>
<li>The in tree &#8220;ansible.cfg&#8221; file in the playbooks directory has been removed. This file was making compatibility difficult for deployers who need to change these values. Additionally this files very existance forced Ansible to ignore any other config file in either a users home directory or in the default &#8220;/etc/ansible&#8221; directory.</li>
<li>Mariadb version upgrade gate checks removed.</li>
<li>The <code class="docutils literal"><span class="pre">run-playbooks.sh</span></code> script has been refactored to run all playbooks using our core tool set and run order. The refactor work updates the old special case script to a tool that simply runs the integrated playbooks as they&#8217;ve been designed.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Newton Series Release Notes</a><ul>
<li><a class="reference internal" href="#id1">14.0.7-11</a><ul>
<li><a class="reference internal" href="#new-features">New Features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">14.0.7</a><ul>
<li><a class="reference internal" href="#id3">New Features</a></li>
<li><a class="reference internal" href="#known-issues">Known Issues</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id4">14.0.6</a><ul>
<li><a class="reference internal" href="#id5">New Features</a></li>
<li><a class="reference internal" href="#id6">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">14.0.5</a><ul>
<li><a class="reference internal" href="#id8">New Features</a></li>
<li><a class="reference internal" href="#upgrade-notes">Upgrade Notes</a></li>
<li><a class="reference internal" href="#id9">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10">14.0.3</a><ul>
<li><a class="reference internal" href="#id11">Upgrade Notes</a></li>
<li><a class="reference internal" href="#id12">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id13">14.0.2</a><ul>
<li><a class="reference internal" href="#id14">New Features</a></li>
<li><a class="reference internal" href="#id15">Upgrade Notes</a></li>
<li><a class="reference internal" href="#id16">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id17">14.0.0</a><ul>
<li><a class="reference internal" href="#id18">New Features</a></li>
<li><a class="reference internal" href="#id19">Known Issues</a></li>
<li><a class="reference internal" href="#id20">Upgrade Notes</a></li>
<li><a class="reference internal" href="#deprecation-notes">Deprecation Notes</a></li>
<li><a class="reference internal" href="#security-issues">Security Issues</a></li>
<li><a class="reference internal" href="#id22">Bug Fixes</a></li>
<li><a class="reference internal" href="#other-notes">Other Notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="mitaka.html"
                                  title="previous chapter">Mitaka Series Release Notes</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="unreleased.html"
                                  title="next chapter">Current Series Release Notes</a></p>
            <h3>Project Source</h3>
            <ul class="this-page-menu">
              <li><a href="https://git.openstack.org/cgit/openstack/openstack-ansible"
                     rel="nofollow">Project Source</a></li>
            </ul>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/newton.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="unreleased.html" title="Current Series Release Notes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mitaka.html" title="Mitaka Series Release Notes"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenStack-Ansible 15.0.0.0rc2.dev41 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2014-2016, OpenStack-Ansible Contributors.
      Last updated on 2017-02-14 12:41.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/OpenStack-Ansible");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>