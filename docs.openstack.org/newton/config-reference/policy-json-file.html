<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: The policy.json file</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="_static/css/combined.css" rel="stylesheet">
<link href="_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="_static/sphinxmark.css" type="text/css" />
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>The policy.json file</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="tables/conf-changes/ceilometer.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: New, updated, and deprecated options in Newton for Telemetry"></i></a>
    
    
    <a href="firewalls-default-ports.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Firewalls and default ports"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2017-02-13 10:07</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">The policy.json file</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#older-syntax">Older syntax</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="the-policy-json-file">
<h1>The policy.json file<a class="headerlink" href="#the-policy-json-file" title="Permalink to this headline">¶</a></h1>
<p>Each OpenStack service, Identity, Compute, Networking and so on, has its
own role-based access policies. They determine which user can access
which objects in which way, and are defined in the service&#8217;s
<code class="docutils literal"><span class="pre">policy.json</span></code> file.</p>
<p>Whenever an API call to an OpenStack service is made, the service&#8217;s
policy engine uses the appropriate policy definitions to determine if
the call can be accepted. Any changes to <code class="docutils literal"><span class="pre">policy.json</span></code> are effective
immediately, which allows new policies to be implemented while the
service is running.</p>
<p>A <code class="docutils literal"><span class="pre">policy.json</span></code> file is a text file in JSON (Javascript Object
Notation) format. Each policy is defined by a one-line statement in the
form <code class="docutils literal"><span class="pre">&quot;&lt;target&gt;&quot;</span> <span class="pre">:</span> <span class="pre">&quot;&lt;rule&gt;&quot;</span></code>.</p>
<p>The policy target, also named &#8220;action&#8221;, represents an API call like
&#8220;start an instance&#8221; or &#8220;attach a volume&#8221;.</p>
<p>Action names are usually qualified. Example: OpenStack Compute features
API calls to list instances, volumes and networks. In
<code class="docutils literal"><span class="pre">/etc/nova/policy.json</span></code>, these APIs are represented by
<code class="docutils literal"><span class="pre">compute:get_all</span></code>, <code class="docutils literal"><span class="pre">volume:get_all</span></code> and <code class="docutils literal"><span class="pre">network:get_all</span></code>,
respectively.</p>
<p>The mapping between API calls and actions is not generally documented.</p>
<p>The policy rule determines under which circumstances the API call is
permitted. Usually this involves the user who makes the call (hereafter
named the &#8220;API user&#8221;) and often the object on which the API call
operates. A typical rule checks if the API user is the object&#8217;s owner.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><strong>Modifying the policy</strong></p>
<p class="last">While recipes for editing <code class="docutils literal"><span class="pre">policy.json</span></code> files are found on blogs,
modifying the policy can have unexpected side effects and is not
encouraged.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>A simple rule might look like this:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;compute:get_all&quot; : &quot;&quot;
</pre></div>
</div>
<p>The target is <code class="docutils literal"><span class="pre">&quot;compute:get_all&quot;</span></code>, the &#8220;list all instances&#8221; API of the
Compute service. The rule is an empty string meaning &#8220;always&#8221;. This
policy allows anybody to list instances.</p>
<p>You can also decline permission to use an API:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;compute:shelve&quot;: &quot;!&quot;
</pre></div>
</div>
<p>The exclamation mark stands for &#8220;never&#8221; or &#8220;nobody&#8221;, which effectively
disables the Compute API &#8220;shelve an instance&#8221;.</p>
<p>Many APIs can only be called by admin users. This can be expressed by
the rule <code class="docutils literal"><span class="pre">&quot;role:admin&quot;</span></code>. The following policy ensures that only
administrators can create new users in the Identity database:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;identity:create_user&quot; : &quot;role:admin&quot;
</pre></div>
</div>
<p>You can limit APIs to any role. For example, the Orchestration service
defines a role named <code class="docutils literal"><span class="pre">heat_stack_user</span></code>. Whoever has this role isn&#8217;t
allowed to create stacks:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;stacks:create&quot;: &quot;not role:heat_stack_user&quot;
</pre></div>
</div>
<p>This rule makes use of the boolean operator <code class="docutils literal"><span class="pre">not</span></code>. More complex rules
can be built using operators <code class="docutils literal"><span class="pre">and</span></code>, <code class="docutils literal"><span class="pre">or</span></code> and parentheses.</p>
<p>You can define aliases for rules:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;deny_stack_user&quot;: &quot;not role:heat_stack_user&quot;
</pre></div>
</div>
<p>The policy engine understands that <code class="docutils literal"><span class="pre">&quot;deny_stack_user&quot;</span></code> is not an API
and consequently interprets it as an alias. The stack creation policy
above can then be written as:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;stacks:create&quot;: &quot;rule:deny_stack_user&quot;
</pre></div>
</div>
<p>This is taken verbatim from <code class="docutils literal"><span class="pre">/etc/heat/policy.json</span></code>.</p>
<p>Rules can compare API attributes to object attributes. For example:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;os_compute_api:servers:start&quot; : &quot;project_id:%(project_id)s&quot;
</pre></div>
</div>
<p>states that only the owner of an instance can start it up. The
<code class="docutils literal"><span class="pre">project_id</span></code> string before the colon is an API attribute, namely the project
ID of the API user. It is compared with the project ID of the object (in
this case, an instance); more precisely, it is compared with the
<code class="docutils literal"><span class="pre">project_id</span></code> field of that object in the database. If the two values are
equal, permission is granted.</p>
<p>An admin user always has permission to call APIs. This is how
<code class="docutils literal"><span class="pre">/etc/keystone/policy.json</span></code> makes this policy explicit:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;admin_required&quot;: &quot;role:admin or is_admin:1&quot;,
&quot;owner&quot; : &quot;user_id:%(user_id)s&quot;,
&quot;admin_or_owner&quot;: &quot;rule:admin_required or rule:owner&quot;,
&quot;identity:change_password&quot;: &quot;rule:admin_or_owner&quot;
</pre></div>
</div>
<p>The first line defines an alias for &#8220;user is an admin user&#8221;. The
<code class="docutils literal"><span class="pre">is_admin</span></code> flag is only used when setting up the Identity service for
the first time. It indicates that the user has admin privileges granted
by the service token (<code class="docutils literal"><span class="pre">--os-token</span></code> parameter of the <code class="docutils literal"><span class="pre">keystone</span></code>
command line client).</p>
<p>The second line creates an alias for &#8220;user owns the object&#8221; by comparing
the API&#8217;s user ID with the object&#8217;s user ID.</p>
<p>Line 3 defines a third alias <code class="docutils literal"><span class="pre">admin_or_owner</span></code>, combining the two first
aliases with the Boolean operator <code class="docutils literal"><span class="pre">or</span></code>.</p>
<p>Line 4 sets up the policy that a password can only be modified by its
owner or an admin user.</p>
<p>As a final example, let&#8217;s examine a more complex rule:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;identity:ec2_delete_credential&quot;: &quot;rule:admin_required or
             (rule:owner and user_id:%(target.credential.user_id)s)&quot;
</pre></div>
</div>
<p>This rule determines who can use the Identity API &#8220;delete EC2
credential&#8221;. Here, boolean operators and parentheses combine three
simpler rules. <code class="docutils literal"><span class="pre">admin_required</span></code> and <code class="docutils literal"><span class="pre">owner</span></code> are the same aliases as
in the previous example. <code class="docutils literal"><span class="pre">user_id:%(target.credential.user_id)s</span></code>
compares the API user with the user ID of the credential object
associated with the target.</p>
</div>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal"><span class="pre">policy.json</span></code> file consists of policies and aliases of the form
<code class="docutils literal"><span class="pre">target:rule</span></code> or <code class="docutils literal"><span class="pre">alias:definition</span></code>, separated by commas and
enclosed in curly braces:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span> {
       &quot;alias 1&quot; : &quot;definition 1&quot;,
       &quot;alias 2&quot; : &quot;definition 2&quot;,
       ...
       &quot;target 1&quot; : &quot;rule 1&quot;,
       &quot;target 2&quot; : &quot;rule 2&quot;,
       ....
}
</pre></div>
</div>
<p>Targets are APIs and are written <code class="docutils literal"><span class="pre">&quot;service:API&quot;</span></code> or simply <code class="docutils literal"><span class="pre">&quot;API&quot;</span></code>.
For example, <code class="docutils literal"><span class="pre">&quot;compute:create&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;add_image&quot;</span></code>.</p>
<p>Rules determine whether the API call is allowed.</p>
<p>Rules can be:</p>
<ul class="simple">
<li>always true. The action is always permitted. This can be written as
<code class="docutils literal"><span class="pre">&quot;&quot;</span></code> (empty string), <code class="docutils literal"><span class="pre">[]</span></code>, or <code class="docutils literal"><span class="pre">&quot;&#64;&quot;</span></code>.</li>
<li>always false. The action is never permitted. Written as <code class="docutils literal"><span class="pre">&quot;!&quot;</span></code>.</li>
<li>a special check</li>
<li>a comparison of two values</li>
<li>boolean expressions based on simpler rules</li>
</ul>
<p>Special checks are</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">&lt;role&gt;:&lt;role</span> <span class="pre">name&gt;</span></code>, a test whether the API credentials contain
this role.</li>
<li><code class="docutils literal"><span class="pre">&lt;rule&gt;:&lt;rule</span> <span class="pre">name&gt;</span></code>, the definition of an alias.</li>
<li><code class="docutils literal"><span class="pre">http:&lt;target</span> <span class="pre">URL&gt;</span></code>, which delegates the check to a remote server.
The API is authorized when the server returns True.</li>
</ul>
<p>Developers can define additional special checks.</p>
<p>Two values are compared in the following way:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="s2">&quot;value1 : value2&quot;</span>
</pre></div>
</div>
<p>Possible values are</p>
<ul class="simple">
<li>constants: Strings, numbers, <code class="docutils literal"><span class="pre">true</span></code>, <code class="docutils literal"><span class="pre">false</span></code></li>
<li>API attributes</li>
<li>target object attributes</li>
<li>the flag <code class="docutils literal"><span class="pre">is_admin</span></code></li>
</ul>
<p>API attributes can be <code class="docutils literal"><span class="pre">project_id</span></code>, <code class="docutils literal"><span class="pre">user_id</span></code> or <code class="docutils literal"><span class="pre">domain_id</span></code>.</p>
<p>Target object attributes are fields from the object description in the
database. For example in the case of the <code class="docutils literal"><span class="pre">&quot;compute:start&quot;</span></code> API, the
object is the instance to be started. The policy for starting instances
could use the <code class="docutils literal"><span class="pre">%(project_id)s</span></code> attribute, that is the project that
owns the instance. The trailing s indicates this is a string.</p>
<p><code class="docutils literal"><span class="pre">is_admin</span></code> indicates that administrative privileges are granted via
the admin token mechanism (the <code class="docutils literal"><span class="pre">--os-token</span></code> option of the <code class="docutils literal"><span class="pre">keystone</span></code>
command). The admin token allows initialisation of the identity database
before the admin role exists.</p>
<p>The alias construct exists for convenience. An alias is short name for a
complex or hard to understand rule. It is defined in the same way as a
policy:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>alias name : alias definition
</pre></div>
</div>
<p>Once an alias is defined, use the <code class="docutils literal"><span class="pre">rule</span></code> keyword to use it in a policy
rule.</p>
</div>
<div class="section" id="older-syntax">
<h2>Older syntax<a class="headerlink" href="#older-syntax" title="Permalink to this headline">¶</a></h2>
<p>You may encounter older <code class="docutils literal"><span class="pre">policy.json</span></code> files that feature a different
syntax, where JavaScript arrays are used instead of boolean operators.
For example, the EC2 credentials rule above would have been written as
follows:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;identity:ec2_delete_credential&quot;: [ [ &quot;rule:admin_required ],
             [ &quot;rule:owner&quot;, &quot;user_id:%(target.credential.user_id)s)&quot; ] ]
</pre></div>
</div>
<p>The rule is an array of arrays. The innermost arrays are or&#8217;ed together,
whereas elements inside the innermost arrays are and&#8217;ed.</p>
<p>While the old syntax is still supported, we recommend using the newer,
more intuitive syntax.</p>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="tables/conf-changes/ceilometer.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: New, updated, and deprecated options in Newton for Telemetry"></i></a>
          
          
            <a href="firewalls-default-ports.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Firewalls and default ports"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2017-02-13 10:07</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="config-overview.html">OpenStack configuration overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-configurations.html">Common configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="application-catalog.html">Application Catalog service</a></li>
<li class="toctree-l1"><a class="reference internal" href="bare-metal.html">Bare Metal service</a></li>
<li class="toctree-l1"><a class="reference internal" href="block-storage.html">Block Storage service</a></li>
<li class="toctree-l1"><a class="reference internal" href="clustering.html">Clustering service</a></li>
<li class="toctree-l1"><a class="reference internal" href="compute.html">Compute service</a></li>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-processing.html">Data Processing service</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database service</a></li>
<li class="toctree-l1"><a class="reference internal" href="identity.html">Identity service</a></li>
<li class="toctree-l1"><a class="reference internal" href="image.html">Image service</a></li>
<li class="toctree-l1"><a class="reference internal" href="message.html">Message service</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">Networking service</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-storage.html">Object Storage service</a></li>
<li class="toctree-l1"><a class="reference internal" href="orchestration.html">Orchestration service</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared-file-systems.html">Shared File Systems service</a></li>
<li class="toctree-l1"><a class="reference internal" href="telemetry.html">Telemetry service</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">The policy.json file</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="#older-syntax">Older syntax</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="firewalls-default-ports.html">Firewalls and default ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/app-support.html">Community support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="common/glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="_static/js/jquery-1.12.4.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "policy-json-file" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/openstack-manuals/tree/doc/config-reference/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: b3a1e143b5d8ea07b55f4c568671883518336a85";
        var bugProject = "openstack-manuals";
        var bugTitle = "The policy.json file in Configuration Reference";
    var fieldTags = "config-reference";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.9 on 2017-02-13 10:07";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>