<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: XenServer (and other XAPI based Xen variants)</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">
<link href="../_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="../_static/sphinxmark.css" type="text/css" />
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>XenServer (and other XAPI based Xen variants)</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="hypervisor-qemu.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: QEMU"></i></a>
    
    
    <a href="hypervisor-xen-libvirt.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Xen via libvirt"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2017-02-14 13:49</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="../index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">XenServer (and other XAPI based Xen variants)</a><ul>
<li><a class="reference internal" href="#terminology">Terminology</a><ul>
<li><a class="reference internal" href="#xen">Xen</a></li>
<li><a class="reference internal" href="#xapi">XAPI</a></li>
<li><a class="reference internal" href="#xenapi">XenAPI</a></li>
<li><a class="reference internal" href="#xenserver">XenServer</a></li>
<li><a class="reference internal" href="#xcp">XCP</a></li>
<li><a class="reference internal" href="#privileged-and-unprivileged-domains">Privileged and unprivileged domains</a></li>
<li><a class="reference internal" href="#paravirtualized-versus-hardware-virtualized-domains">Paravirtualized versus hardware virtualized domains</a></li>
</ul>
</li>
<li><a class="reference internal" href="#xenapi-deployment-architecture">XenAPI deployment architecture</a></li>
<li><a class="reference internal" href="#further-reading">Further reading</a></li>
<li><a class="reference internal" href="#install-xenserver">Install XenServer</a></li>
<li><a class="reference internal" href="#post-installation-steps">Post-installation steps</a><ul>
<li><a class="reference internal" href="#install-xapi-plug-ins">Install XAPI plug-ins</a></li>
<li><a class="reference internal" href="#prepare-for-ami-type-images">Prepare for AMI type images</a></li>
<li><a class="reference internal" href="#modify-dom0-for-resize-migration-support">Modify dom0 for resize/migration support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#xenapi-configuration-reference">XenAPI configuration reference</a><ul>
<li><a class="reference internal" href="#agent">Agent</a></li>
<li><a class="reference internal" href="#vnc-proxy-address">VNC proxy address</a></li>
<li><a class="reference internal" href="#storage">Storage</a></li>
<li><a class="reference internal" href="#image-upload-in-tgz-compressed-format">Image upload in <code class="docutils literal"><span class="pre">tgz</span></code> compressed format</a></li>
<li><a class="reference internal" href="#id2">XenAPI configuration reference</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="xenserver-and-other-xapi-based-xen-variants">
<span id="compute-xen-api"></span><h1>XenServer (and other XAPI based Xen variants)<a class="headerlink" href="#xenserver-and-other-xapi-based-xen-variants" title="Permalink to this headline">¶</a></h1>
<p>This section describes XAPI managed hypervisors,
and how to use them with OpenStack.</p>
<div class="section" id="terminology">
<h2>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xen">
<h3>Xen<a class="headerlink" href="#xen" title="Permalink to this headline">¶</a></h3>
<p>A hypervisor that provides the fundamental isolation between
virtual machines. Xen is open source (GPLv2) and is managed by
<a class="reference external" href="http://www.xenproject.org">XenProject.org</a>, a cross-industry
organization and a Linux Foundation Collaborative project.</p>
<p>Xen is a component of many different products and projects.
The hypervisor itself is very similar across all these projects,
but the way that it is managed can be different, which can cause
confusion if you&#8217;re not clear which toolstack you are using.
Make sure you know what
<a class="reference external" href="http://wiki.xen.org/wiki/Choice_of_Toolstacks">toolstack</a>
you want before you get started. If you want to use Xen with libvirt
in OpenStack Compute refer to <a class="reference internal" href="hypervisor-xen-libvirt.html"><em>Xen via libvirt</em></a>.</p>
</div>
<div class="section" id="xapi">
<h3>XAPI<a class="headerlink" href="#xapi" title="Permalink to this headline">¶</a></h3>
<p>XAPI is one of the toolstacks that could control a Xen based hypervisor.
XAPI&#8217;s role is similar to libvirt&#8217;s in the KVM world.
The API provided by XAPI is called XenAPI.
To learn more about the provided interface, look at
<a class="reference external" href="http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/sdk.html#object_model_overview">XenAPI Object Model Overview</a> for definitions
of XAPI specific terms such as SR, VDI, VIF and PIF.</p>
<p>OpenStack has a compute driver which talks to XAPI,
therefore all XAPI managed servers could be used with OpenStack.</p>
</div>
<div class="section" id="xenapi">
<h3>XenAPI<a class="headerlink" href="#xenapi" title="Permalink to this headline">¶</a></h3>
<p>XenAPI is the API provided by XAPI.
This name is also used by the python library that is a client for XAPI.
A set of packages to use XenAPI on existing distributions can be
built using the <a class="reference external" href="https://github.com/xenserver/buildroot">xenserver/buildroot</a> project.</p>
</div>
<div class="section" id="xenserver">
<h3>XenServer<a class="headerlink" href="#xenserver" title="Permalink to this headline">¶</a></h3>
<p>An Open Source virtualization platform that delivers all features
needed for any server and datacenter implementation including the
Xen hypervisor and XAPI for the management. For more information
and product downloads, visit <a class="reference external" href="http://xenserver.org/">xenserver.org</a>.</p>
</div>
<div class="section" id="xcp">
<h3>XCP<a class="headerlink" href="#xcp" title="Permalink to this headline">¶</a></h3>
<p>XCP is not supported anymore. XCP project recommends all XCP users
to upgrade to the latest version of XenServer by visiting
<a class="reference external" href="http://xenserver.org/">xenserver.org</a>.</p>
</div>
<div class="section" id="privileged-and-unprivileged-domains">
<h3>Privileged and unprivileged domains<a class="headerlink" href="#privileged-and-unprivileged-domains" title="Permalink to this headline">¶</a></h3>
<p>A Xen host runs a number of virtual machines, VMs, or domains
(the terms are synonymous on Xen). One of these is in charge of
running the rest of the system, and is known as domain 0, or
dom0. It is the first domain to boot after Xen, and owns the
storage and networking hardware, the device drivers, and the
primary control software. Any other VM is unprivileged, and is
known as a domU or guest.  All customer VMs are unprivileged,
but you should note that on XenServer (and other XenAPI using
hypervisors), the OpenStack Compute service (<code class="docutils literal"><span class="pre">nova-compute</span></code>)
also runs in a domU. This gives a level of security isolation
between the privileged system software and the OpenStack software
(much of which is customer-facing).
This architecture is described in more detail later.</p>
</div>
<div class="section" id="paravirtualized-versus-hardware-virtualized-domains">
<h3>Paravirtualized versus hardware virtualized domains<a class="headerlink" href="#paravirtualized-versus-hardware-virtualized-domains" title="Permalink to this headline">¶</a></h3>
<p>A Xen virtual machine can be paravirtualized (PV) or hardware
virtualized (HVM). This refers to the interaction between Xen,
domain 0, and the guest VM&#8217;s kernel.  PV guests are aware of
the fact that they are virtualized and will co-operate with Xen
and domain 0; this gives them better performance
characteristics. HVM guests are not aware of their environment,
and the hardware has to pretend that they are running on an
unvirtualized machine. HVM guests do not need to modify the
guest operating system, which is essential when running Windows.</p>
<p>In OpenStack, customer VMs may run in either PV or HVM mode.
However, the OpenStack domU (that&#8217;s the one running
<code class="docutils literal"><span class="pre">nova-compute</span></code>) must be running in PV mode.</p>
</div>
</div>
<div class="section" id="xenapi-deployment-architecture">
<h2>XenAPI deployment architecture<a class="headerlink" href="#xenapi-deployment-architecture" title="Permalink to this headline">¶</a></h2>
<p>A basic OpenStack deployment on a XAPI-managed server, assuming
that the network provider is nova-network, looks like this:</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/xenserver_architecture.png"><img alt="../_images/xenserver_architecture.png" src="../_images/xenserver_architecture.png" style="width: 100%;" /></a>
</div>
<p>Key things to note:</p>
<ul class="simple">
<li>The hypervisor: Xen</li>
<li>Domain 0: runs XAPI and some small pieces from OpenStack,
the XAPI plug-ins.</li>
<li>OpenStack VM: The <code class="docutils literal"><span class="pre">Compute</span></code> service runs in a paravirtualized
virtual machine, on the host under management.
Each host runs a local instance of <code class="docutils literal"><span class="pre">Compute</span></code>.
It is also running an instance of nova-network.</li>
<li>OpenStack Compute uses the XenAPI Python library to talk to XAPI, and
it uses the Management Network to reach from the OpenStack VM to Domain 0.</li>
</ul>
<p>Some notes on the networking:</p>
<ul class="simple">
<li>The above diagram assumes FlatDHCP networking.</li>
<li>There are three main OpenStack networks:<ul>
<li>Management network: RabbitMQ, MySQL, inter-host communication, and
compute-XAPI communication. Please note that the VM images are downloaded
by the XenAPI plug-ins, so make sure that the OpenStack Image service
is accessible through this network. It usually means binding those
services to the management interface.</li>
<li>Tenant network: controlled by nova-network, this is used for tenant
traffic.</li>
<li>Public network: floating IPs, public API endpoints.</li>
</ul>
</li>
<li>The networks shown here must be connected to the corresponding physical
networks within the data center. In the simplest case, three individual
physical network cards could be used. It is also possible to use VLANs
to separate these networks. Please note, that the selected configuration
must be in line with the networking model selected for the cloud.
(In case of VLAN networking, the physical channels have to be able
to forward the tagged traffic.)</li>
<li>If you are using Networking service, enable Linux bridge in <code class="docutils literal"><span class="pre">Dom0</span></code> which
is used for Compute service. <code class="docutils literal"><span class="pre">nova-compute</span></code> will create Linux bridges
for security group and <code class="docutils literal"><span class="pre">neutron-openvswitch-agent</span></code> in Compute node will
apply security group rules on these Linux bridges. To implement this,
you need to remove <code class="docutils literal"><span class="pre">/etc/modprobe.d/blacklist-bridge*</span></code> in <code class="docutils literal"><span class="pre">Dom0</span></code>.</li>
</ul>
</div>
<div class="section" id="further-reading">
<h2>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<p>Here are some of the resources available to learn more about Xen:</p>
<ul class="simple">
<li><a class="reference external" href="http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/">Citrix XenServer official documentation</a></li>
<li><a class="reference external" href="http://www.xenproject.org/users/cloud.html">What is Xen? by XenProject.org</a></li>
<li><a class="reference external" href="http://www.xenproject.org/developers/teams/hypervisor.html">Xen Hypervisor project</a></li>
<li><a class="reference external" href="http://www.xenproject.org/developers/teams/xapi.html">Xapi project</a></li>
<li><a class="reference external" href="http://wiki.openstack.org/XenServer">Further XenServer and OpenStack information</a></li>
</ul>
</div>
<div class="section" id="install-xenserver">
<h2>Install XenServer<a class="headerlink" href="#install-xenserver" title="Permalink to this headline">¶</a></h2>
<p>Before you can run OpenStack with XenServer, you must install the
hypervisor on <a class="reference external" href="http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/installation.html#sys_requirements">an appropriate server</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Xen is a type 1 hypervisor: When your server starts, Xen is the first
software that runs. Consequently, you must install XenServer before you
install the operating system where you want to run OpenStack code. You then
install <code class="docutils literal"><span class="pre">nova-compute</span></code> into a dedicated virtual machine on the host.</p>
</div>
<p>Use the following link to download XenServer&#8217;s installation media:</p>
<ul class="simple">
<li><a class="reference external" href="http://xenserver.org/open-source-virtualization-download.html">http://xenserver.org/open-source-virtualization-download.html</a></li>
</ul>
<p>When you install many servers, you might find it easier to perform
<a class="reference external" href="http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/installation.html#pxe_boot_install">PXE boot installations</a>.
You can also package any post-installation changes that you want to
make to your XenServer by following the instructions of
<a class="reference external" href="http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/supplemental_pack_ddk.html">creating your own XenServer supplemental pack</a>.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>Make sure you use the EXT type of storage repository (SR).
Features that require access to VHD files (such as copy on write,
snapshot and migration) do not work when you use the LVM SR.
Storage repository (SR) is a XAPI-specific term relating to the physical
storage where virtual disks are stored.</p>
<p class="last">On the XenServer installation screen, choose the
<span class="guilabel">XenDesktop Optimized</span> option. If you use an answer file, make
sure you use <code class="docutils literal"><span class="pre">srtype=&quot;ext&quot;</span></code> in the <code class="docutils literal"><span class="pre">installation</span></code> tag of the answer file.</p>
</div>
</div>
<div class="section" id="post-installation-steps">
<h2>Post-installation steps<a class="headerlink" href="#post-installation-steps" title="Permalink to this headline">¶</a></h2>
<p>The following steps need to be completed after the hypervisor&#8217;s installation:</p>
<ol class="arabic simple">
<li>For resize and migrate functionality, enable password-less
SSH authentication and set up the <code class="docutils literal"><span class="pre">/images</span></code> directory on dom0.</li>
<li>Install the XAPI plug-ins.</li>
<li>To support AMI type images, you must set up <code class="docutils literal"><span class="pre">/boot/guest</span></code>
symlink/directory in dom0.</li>
<li>Create a paravirtualized virtual machine that can run <code class="docutils literal"><span class="pre">nova-compute</span></code>.</li>
<li>Install and configure <code class="docutils literal"><span class="pre">nova-compute</span></code> in the above virtual machine.</li>
</ol>
<div class="section" id="install-xapi-plug-ins">
<h3>Install XAPI plug-ins<a class="headerlink" href="#install-xapi-plug-ins" title="Permalink to this headline">¶</a></h3>
<p>When you use a XAPI managed hypervisor, you can install a Python script
(or any executable) on the host side, and execute that through XenAPI.
These scripts are called plug-ins. The OpenStack related XAPI plug-ins
live in OpenStack Compute&#8217;s code repository. These plug-ins have to be
copied to dom0&#8217;s filesystem, to the appropriate directory, where XAPI
can find them. It is important to ensure that the version of the plug-ins
are in line with the OpenStack Compute installation you are using.</p>
<p>The plugins should typically be copied from the Nova installation
running in the Compute&#8217;s DomU, but if you want to download the latest
version the following procedure can be used.</p>
<p><strong>Manually installing the plug-ins</strong></p>
<ol class="arabic">
<li><p class="first">Create temporary files/directories:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">NOVA_TARBALL</span><span class="o">=</span><span class="k">$(</span>mktemp<span class="k">)</span>
<span class="gp">$</span> <span class="nv">NOVA_SOURCES</span><span class="o">=</span><span class="k">$(</span>mktemp -d<span class="k">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Get the source from the openstack.org archives. The example assumes
the master branch is used, and the XenServer host is accessible as
xenserver. Match those parameters to your setup.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">NOVA_URL</span><span class="o">=</span>https://tarballs.openstack.org/nova/nova-master.tar.gz
<span class="gp">$</span> wget -qO <span class="s2">&quot;</span><span class="nv">$NOVA_TARBALL</span><span class="s2">&quot;</span> <span class="s2">&quot;</span><span class="nv">$NOVA_URL</span><span class="s2">&quot;</span>
<span class="gp">$</span> tar xvf <span class="s2">&quot;</span><span class="nv">$NOVA_TARBALL</span><span class="s2">&quot;</span> -d <span class="s2">&quot;</span><span class="nv">$NOVA_SOURCES</span><span class="s2">&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Copy the plug-ins to the hypervisor:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">PLUGINPATH</span><span class="o">=</span><span class="k">$(</span>find <span class="nv">$NOVA_SOURCES</span> -path <span class="s1">&#39;*/xapi.d/plugins&#39;</span> -type d -print<span class="k">)</span>
<span class="gp">$</span> tar -czf - -C <span class="s2">&quot;</span><span class="nv">$PLUGINPATH</span><span class="s2">&quot;</span> ./ <span class="p">|</span>
<span class="gp">&gt;</span> ssh root@xenserver tar -xozf - -C /etc/xapi.d/plugins
</pre></div>
</div>
</li>
<li><p class="first">Remove temporary files/directories:&lt;/para&gt;</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> rm <span class="s2">&quot;</span><span class="nv">$NOVA_ZIPBALL</span><span class="s2">&quot;</span>
<span class="gp">$</span> rm -rf <span class="s2">&quot;</span><span class="nv">$NOVA_SOURCES</span><span class="s2">&quot;</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="prepare-for-ami-type-images">
<h3>Prepare for AMI type images<a class="headerlink" href="#prepare-for-ami-type-images" title="Permalink to this headline">¶</a></h3>
<p>To support AMI type images in your OpenStack installation,
you must create the <code class="docutils literal"><span class="pre">/boot/guest</span></code> directory on dom0.
One of the OpenStack XAPI plugins will extract the kernel and
ramdisk from AKI and ARI images and put them to that directory.</p>
<p>OpenStack maintains the contents of this directory and its size
should not increase during normal operation. However, in case of power
failures or accidental shutdowns, some files might be left over.
To prevent these files from filling up dom0&#8217;s filesystem, set up this
directory as a symlink that points to a subdirectory of the local SR.</p>
<p>Run these commands in dom0 to achieve this setup:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> <span class="nv">LOCAL_SR</span><span class="o">=</span><span class="k">$(</span>xe sr-list name-label<span class="o">=</span><span class="s2">&quot;Local storage&quot;</span> --minimal<span class="k">)</span>
<span class="gp">#</span> <span class="nv">LOCALPATH</span><span class="o">=</span><span class="s2">&quot;/var/run/sr-mount/</span><span class="nv">$LOCAL_SR</span><span class="s2">/os-guest-kernels&quot;</span>
<span class="gp">#</span> mkdir -p <span class="s2">&quot;</span><span class="nv">$LOCALPATH</span><span class="s2">&quot;</span>
<span class="gp">#</span> ln -s <span class="s2">&quot;</span><span class="nv">$LOCALPATH</span><span class="s2">&quot;</span> /boot/guest
</pre></div>
</div>
</div>
<div class="section" id="modify-dom0-for-resize-migration-support">
<h3>Modify dom0 for resize/migration support<a class="headerlink" href="#modify-dom0-for-resize-migration-support" title="Permalink to this headline">¶</a></h3>
<p>To resize servers with XenServer you must:</p>
<ul>
<li><p class="first">Establish a root trust between all hypervisor nodes of your deployment:</p>
<p>To do so, generate an ssh key-pair with the <strong class="command">ssh-keygen</strong>
command. Ensure that each of your dom0&#8217;s <code class="docutils literal"><span class="pre">authorized_keys</span></code> file
(located in <code class="docutils literal"><span class="pre">/root/.ssh/authorized_keys</span></code>) contains the public key
fingerprint (located in <code class="docutils literal"><span class="pre">/root/.ssh/id_rsa.pub</span></code>).</p>
</li>
<li><p class="first">Provide a <code class="docutils literal"><span class="pre">/images</span></code> mount point to the dom0 for your hypervisor:</p>
<p>dom0 space is at a premium so creating a directory in dom0 is potentially
dangerous and likely to fail especially when you resize large servers.
The least you can do is to symlink <code class="docutils literal"><span class="pre">/images</span></code> to your local storage SR.
The following instructions work for an English-based installation
of XenServer and in the case of ext3-based SR (with which the resize
functionality is known to work correctly).</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> <span class="nv">LOCAL_SR</span><span class="o">=</span><span class="k">$(</span>xe sr-list name-label<span class="o">=</span><span class="s2">&quot;Local storage&quot;</span> --minimal<span class="k">)</span>
<span class="gp">#</span> <span class="nv">IMG_DIR</span><span class="o">=</span><span class="s2">&quot;/var/run/sr-mount/</span><span class="nv">$LOCAL_SR</span><span class="s2">/images&quot;</span>
<span class="gp">#</span> mkdir -p <span class="s2">&quot;</span><span class="nv">$IMG_DIR</span><span class="s2">&quot;</span>
<span class="gp">#</span> ln -s <span class="s2">&quot;</span><span class="nv">$IMG_DIR</span><span class="s2">&quot;</span> /images
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="xenapi-configuration-reference">
<h2>XenAPI configuration reference<a class="headerlink" href="#xenapi-configuration-reference" title="Permalink to this headline">¶</a></h2>
<p>The following section discusses some commonly changed options when
using the XenAPI driver. The table below provides a complete reference
of all configuration options available for configuring XAPI with OpenStack.</p>
<p>The recommended way to use XAPI with OpenStack is through the XenAPI driver.
To enable the XenAPI driver, add the following configuration options to
<code class="docutils literal"><span class="pre">/etc/nova/nova.conf</span></code> and restart <code class="docutils literal"><span class="pre">OpenStack</span> <span class="pre">Compute</span></code>:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">compute_driver</span> <span class="o">=</span> <span class="s">xenapi.XenAPIDriver</span>
<span class="k">[xenserver]</span>
<span class="na">connection_url</span> <span class="o">=</span> <span class="s">http://your_xenapi_management_ip_address</span>
<span class="na">connection_username</span> <span class="o">=</span> <span class="s">root</span>
<span class="na">connection_password</span> <span class="o">=</span> <span class="s">your_password</span>
</pre></div>
</div>
<p>These connection details are used by OpenStack Compute service to
contact your hypervisor and are the same details you use to connect
XenCenter, the XenServer management console, to your XenServer node.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">connection_url</span></code> is generally the management network IP
address of the XenServer.</p>
</div>
<div class="section" id="agent">
<h3>Agent<a class="headerlink" href="#agent" title="Permalink to this headline">¶</a></h3>
<p>The agent is a piece of software that runs on the instances, and
communicates with OpenStack. In case of the XenAPI driver, the
agent communicates with OpenStack through XenStore (see
<a class="reference external" href="http://wiki.xenproject.org/wiki/XenStore">the Xen Project Wiki</a>
for more information on XenStore).</p>
<p>If you don&#8217;t have the guest agent on your VMs, it takes a long time
for OpenStack Compute to detect that the VM has successfully started.
Generally a large timeout is required for Windows instances, but you may
want to adjust: <code class="docutils literal"><span class="pre">agent_version_timeout</span></code> within the <code class="docutils literal"><span class="pre">[xenserver]</span></code> section.</p>
</div>
<div class="section" id="vnc-proxy-address">
<h3>VNC proxy address<a class="headerlink" href="#vnc-proxy-address" title="Permalink to this headline">¶</a></h3>
<p>Assuming you are talking to XAPI through a management network, and
XenServer is on the address: 10.10.1.34 specify the same address
for the vnc proxy address: <code class="docutils literal"><span class="pre">vncserver_proxyclient_address=10.10.1.34</span></code></p>
</div>
<div class="section" id="storage">
<h3>Storage<a class="headerlink" href="#storage" title="Permalink to this headline">¶</a></h3>
<p>You can specify which Storage Repository to use with nova by editing the
following flag. To use the local-storage setup by the default installer:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">sr_matching_filter</span> <span class="o">=</span> <span class="s">&quot;other-config:i18n-key=local-storage&quot;</span>
</pre></div>
</div>
<p>Another alternative is to use the &#8220;default&#8221; storage
(for example if you have attached NFS or any other shared storage):</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">sr_matching_filter</span> <span class="o">=</span> <span class="s">&quot;default-sr:true&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="image-upload-in-tgz-compressed-format">
<h3>Image upload in <code class="docutils literal"><span class="pre">tgz</span></code> compressed format<a class="headerlink" href="#image-upload-in-tgz-compressed-format" title="Permalink to this headline">¶</a></h3>
<p>To start uploading <code class="docutils literal"><span class="pre">tgz</span></code> compressed raw disk images to the Image service,
configure <code class="docutils literal"><span class="pre">xenapi_image_upload_handler</span></code> by replacing <code class="docutils literal"><span class="pre">GlanceStore</span></code>
with <code class="docutils literal"><span class="pre">VdiThroughDevStore</span></code>.</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">xenapi_image_upload_handler</span><span class="o">=</span><span class="s">nova.virt.xenapi.image.vdi_through_dev.VdiThroughDevStore</span>
</pre></div>
</div>
<p>As opposed to:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">xenapi_image_upload_handler</span><span class="o">=</span><span class="s">nova.virt.xenapi.image.glance.GlanceStore</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>XenAPI configuration reference<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>To customize the XenAPI driver, use the configuration option settings
documented in <a class="reference internal" href="config-options.html#nova-xen"><span>Description of Xen configuration options</span></a>.</p>
</div>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="hypervisor-qemu.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: QEMU"></i></a>
          
          
            <a href="hypervisor-xen-libvirt.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Xen via libvirt"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2017-02-14 13:49</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../config-overview.html">OpenStack configuration overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common-configurations.html">Common configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../application-catalog.html">Application Catalog service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bare-metal.html">Bare Metal service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block-storage.html">Block Storage service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clustering.html">Clustering service</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../compute.html">Compute service</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="config-options.html">The full set of available options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tables/conf-changes/nova.html">New, updated, and deprecated options in Newton for Compute</a></li>
<li class="toctree-l2"><a class="reference internal" href="nova-conf.html">Overview of nova.conf</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">Compute API configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="resize.html">Configure resize</a></li>
<li class="toctree-l2"><a class="reference internal" href="database-connections.html">Database configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="fibre-channel.html">Fibre Channel support in Compute</a></li>
<li class="toctree-l2"><a class="reference internal" href="iscsi-offload.html">iSCSI interface and offload support in Compute</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="hypervisors.html">Hypervisors</a></li>
<li class="toctree-l2"><a class="reference internal" href="schedulers.html">Compute schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="cells.html">Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="conductor.html">Conductor</a></li>
<li class="toctree-l2"><a class="reference internal" href="logs.html">Compute log files</a></li>
<li class="toctree-l2"><a class="reference internal" href="nova-conf-samples.html">Example nova.conf configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="samples/index.html">Compute service sample configuration files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-processing.html">Data Processing service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database.html">Database service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../identity.html">Identity service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../image.html">Image service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../message.html">Message service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking.html">Networking service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage.html">Object Storage service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orchestration.html">Orchestration service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shared-file-systems.html">Shared File Systems service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../telemetry.html">Telemetry service</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../policy-json-file.html">The policy.json file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../firewalls-default-ports.html">Firewalls and default ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/app-support.html">Community support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../common/glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-1.12.4.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "compute/hypervisor-xen-api" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/openstack-manuals/tree/doc/config-reference/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: b8fd8c76e4ec1d07c2970cbd5770a38196b5b343";
        var bugProject = "openstack-manuals";
        var bugTitle = "XenServer (and other XAPI based Xen variants) in Configuration Reference";
    var fieldTags = "config-reference";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.9 on 2017-02-14 13:49";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>