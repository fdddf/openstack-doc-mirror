<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: SR-IOV</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="_static/css/combined.css" rel="stylesheet">
<link href="_static/css/styles.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="_static/sphinxmark.css" type="text/css" />
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>
<nav class="navbar navbar-default inner" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
        <div id="gcse">
          <script type="text/javascript">
(function() {
  var cx = '000108871792296872333:noj9nikm74i';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
          </script>
          <gcse:search gname="standard"></gcse:search>
        </div>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
          <div id="gcse-mobile">
            <gcse:search gname="mobile"></gcse:search>
          </div>
        </li>
        <li>
          <a href="http://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="http://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="http://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>SR-IOV</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="config-sfc.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Service function chaining"></i></a>
    
    
    <a href="config-subnet-pools.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Subnet pools"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2017-02-14 13:48</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">SR-IOV</a><ul>
<li><a class="reference internal" href="#the-basics">The basics</a><ul>
<li><a class="reference internal" href="#sr-iov-agent">SR-IOV agent</a></li>
<li><a class="reference internal" href="#supported-ethernet-controllers">Supported Ethernet controllers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-sr-iov-interfaces">Using SR-IOV interfaces</a><ul>
<li><a class="reference internal" href="#create-virtual-functions-compute">Create Virtual Functions (Compute)</a></li>
<li><a class="reference internal" href="#whitelist-pci-devices-nova-compute-compute">Whitelist PCI devices nova-compute (Compute)</a></li>
<li><a class="reference internal" href="#configure-neutron-server-controller">Configure neutron-server (Controller)</a></li>
<li><a class="reference internal" href="#configure-nova-scheduler-controller">Configure nova-scheduler (Controller)</a></li>
<li><a class="reference internal" href="#enable-neutron-sriov-agent-compute">Enable neutron sriov-agent (Compute)</a><ul>
<li><a class="reference internal" href="#optional-fdb-l2-agent-extension">(Optional) FDB L2 agent extension</a></li>
</ul>
</li>
<li><a class="reference internal" href="#launching-instances-with-sr-iov-ports">Launching instances with SR-IOV ports</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sr-iov-with-infiniband">SR-IOV with InfiniBand</a></li>
<li><a class="reference internal" href="#known-limitations">Known limitations</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="sr-iov">
<span id="config-sriov"></span><h1>SR-IOV<a class="headerlink" href="#sr-iov" title="Permalink to this headline">¶</a></h1>
<p>The purpose of this page is to describe how to enable SR-IOV functionality
available in OpenStack (using OpenStack Networking) as of the Juno release. It
is intended to server as a guide for how to configure OpenStack Networking and
OpenStack Compute to create SR-IOV ports.</p>
<div class="section" id="the-basics">
<h2>The basics<a class="headerlink" href="#the-basics" title="Permalink to this headline">¶</a></h2>
<p>PCI-SIG Single Root I/O Virtualization and Sharing (SR-IOV) functionality is
available in OpenStack since the Juno release. The SR-IOV specification
defines a standardized mechanism to virtualize PCIe devices. This mechanism
can virtualize a single PCIe Ethernet controller to appear as multiple PCIe
devices. Each device can be directly assigned to an instance, bypassing the
hypervisor and virtual switch layer. As a result, users are able to achieve
low latency and near-line wire speed.</p>
<p>The following terms are used throughout this document:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Term</th>
<th class="head">Definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>PF</td>
<td>Physical Function. The physical Ethernet controller that supports
SR-IOV.</td>
</tr>
<tr class="row-odd"><td>VF</td>
<td>Virtual Function. The virtual PCIe device created from a physical
Ethernet controller.</td>
</tr>
</tbody>
</table>
<div class="section" id="sr-iov-agent">
<h3>SR-IOV agent<a class="headerlink" href="#sr-iov-agent" title="Permalink to this headline">¶</a></h3>
<p>The SR-IOV agent allows you to set the admin state of ports, configure port
security (enable and disable spoof checking), and configure QoS rate limiting.
You must include the SR-IOV agent on each compute node using SR-IOV ports.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The SR-IOV agent was optional before Mitaka, and was not enabled by default
before Liberty.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The ability to control port security and QoS rate limit settings was added
in Liberty.</p>
</div>
</div>
<div class="section" id="supported-ethernet-controllers">
<h3>Supported Ethernet controllers<a class="headerlink" href="#supported-ethernet-controllers" title="Permalink to this headline">¶</a></h3>
<p>The following manufacturers are known to work:</p>
<ul class="simple">
<li>Intel</li>
<li>Mellanox</li>
<li>QLogic</li>
</ul>
<p>For information on <strong>Mellanox SR-IOV Ethernet ConnectX-3/ConnectX-3 Pro cards</strong>, see
<a class="reference external" href="https://community.mellanox.com/docs/DOC-1484">Mellanox: How To Configure SR-IOV VFs</a>.</p>
<p>For information on <strong>QLogic SR-IOV Ethernet cards</strong>, see
<a class="reference external" href="http://www.qlogic.com/solutions/Documents/UsersGuide_OpenStack_SR-IOV.pdf">User&#8217;s Guide OpenStack Deployment with SR-IOV Configuration</a>.</p>
</div>
</div>
<div class="section" id="using-sr-iov-interfaces">
<h2>Using SR-IOV interfaces<a class="headerlink" href="#using-sr-iov-interfaces" title="Permalink to this headline">¶</a></h2>
<p>In order to enable SR-IOV, the following steps are required:</p>
<ol class="arabic simple">
<li>Create Virtual Functions (Compute)</li>
<li>Whitelist PCI devices in nova-compute (Compute)</li>
<li>Configure neutron-server (Controller)</li>
<li>Configure nova-scheduler (Controller)</li>
<li>Enable neutron sriov-agent (Compute)</li>
</ol>
<p>We recommend using VLAN provider networks for segregation. This way you can
combine instances without SR-IOV ports and instances with SR-IOV ports on a
single network.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Throughout this guide, <code class="docutils literal"><span class="pre">eth3</span></code> is used as the PF and <code class="docutils literal"><span class="pre">physnet2</span></code> is used
as the provider network configured as a VLAN range. These ports may vary in
different environments.</p>
</div>
<div class="section" id="create-virtual-functions-compute">
<h3>Create Virtual Functions (Compute)<a class="headerlink" href="#create-virtual-functions-compute" title="Permalink to this headline">¶</a></h3>
<p>Create the VFs for the network interface that will be used for SR-IOV. We use
<code class="docutils literal"><span class="pre">eth3</span></code> as PF, which is also used as the interface for the VLAN provider
network and has access to the private networks of all machines.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The steps detail how to create VFs using Mellanox ConnectX-4 and newer/Intel
SR-IOV Ethernet cards on an Intel system. Steps may differ for different
hardware configurations.</p>
</div>
<ol class="arabic">
<li><p class="first">Ensure SR-IOV and VT-d are enabled in BIOS.</p>
</li>
<li><p class="first">Enable IOMMU in Linux by adding <code class="docutils literal"><span class="pre">intel_iommu=on</span></code> to the kernel parameters,
for example, using GRUB.</p>
</li>
<li><p class="first">On each compute node, create the VFs via the PCI SYS interface:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> <span class="nb">echo</span> <span class="s1">&#39;8&#39;</span> &gt; /sys/class/net/eth3/device/sriov_numvfs
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On some PCI devices, observe that when changing the amount of VFs you
receive the error <code class="docutils literal"><span class="pre">Device</span> <span class="pre">or</span> <span class="pre">resource</span> <span class="pre">busy</span></code>. In this case, you must
first set <code class="docutils literal"><span class="pre">sriov_numvfs</span></code> to <code class="docutils literal"><span class="pre">0</span></code>, then set it to your new value.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Alternatively, you can create VFs by passing the <code class="docutils literal"><span class="pre">max_vfs</span></code> to the
kernel module of your network interface. However, the <code class="docutils literal"><span class="pre">max_vfs</span></code>
parameter has been deprecated, so the PCI SYS interface is the preferred
method.</p>
</div>
<p>You can determine the maximum number of VFs a PF can support:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> cat /sys/class/net/eth3/device/sriov_totalvfs
<span class="go">63</span>
</pre></div>
</div>
</li>
<li><p class="first">Verify that the VFs have been created and are in <code class="docutils literal"><span class="pre">up</span></code> state:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> lspci <span class="p">|</span> grep Ethernet
<span class="go">82:00.0 Ethernet controller: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection (rev 01)</span>
<span class="go">82:00.1 Ethernet controller: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection (rev 01)</span>
<span class="go">82:10.0 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01)</span>
<span class="go">82:10.2 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01)</span>
<span class="go">82:10.4 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01)</span>
<span class="go">82:10.6 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01)</span>
<span class="go">82:11.0 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01)</span>
<span class="go">82:11.2 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01)</span>
<span class="go">82:11.4 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01)</span>
<span class="go">82:11.6 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01)</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> ip link show eth3
<span class="go">8: eth3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP mode DEFAULT qlen 1000</span>
<span class="go">   link/ether a0:36:9f:8f:3f:b8 brd ff:ff:ff:ff:ff:ff</span>
<span class="go">   vf 0 MAC 00:00:00:00:00:00, spoof checking on, link-state auto</span>
<span class="go">   vf 1 MAC 00:00:00:00:00:00, spoof checking on, link-state auto</span>
<span class="go">   vf 2 MAC 00:00:00:00:00:00, spoof checking on, link-state auto</span>
<span class="go">   vf 3 MAC 00:00:00:00:00:00, spoof checking on, link-state auto</span>
<span class="go">   vf 4 MAC 00:00:00:00:00:00, spoof checking on, link-state auto</span>
<span class="go">   vf 5 MAC 00:00:00:00:00:00, spoof checking on, link-state auto</span>
<span class="go">   vf 6 MAC 00:00:00:00:00:00, spoof checking on, link-state auto</span>
<span class="go">   vf 7 MAC 00:00:00:00:00:00, spoof checking on, link-state auto</span>
</pre></div>
</div>
<p>If the interfaces are down, set them to <code class="docutils literal"><span class="pre">up</span></code> before launching a guest,
otherwise the instance will fail to spawn:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> ip link <span class="nb">set</span> eth3 up
</pre></div>
</div>
</li>
<li><p class="first">Persist created VFs on reboot:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> <span class="nb">echo</span> <span class="s2">&quot;echo &#39;7&#39; &gt; /sys/class/net/eth3/device/sriov_numvfs&quot;</span> &gt;&gt; /etc/rc.local
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The suggested way of making PCI SYS settings persistent is through
the <code class="docutils literal"><span class="pre">sysfsutils</span></code> tool. However, this is not available by default on
many major distributions.</p>
</div>
</li>
</ol>
</div>
<div class="section" id="whitelist-pci-devices-nova-compute-compute">
<h3>Whitelist PCI devices nova-compute (Compute)<a class="headerlink" href="#whitelist-pci-devices-nova-compute-compute" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Configure which PCI devices the <code class="docutils literal"><span class="pre">nova-compute</span></code> service may use. Edit
the <code class="docutils literal"><span class="pre">nova.conf</span></code> file:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[default]</span>
<span class="na">pci_passthrough_whitelist</span> <span class="o">=</span> <span class="s">{ &quot;devname&quot;: &quot;eth3&quot;, &quot;physical_network&quot;: &quot;physnet2&quot;}</span>
</pre></div>
</div>
<p>This tells the Compute service that all VFs belonging to <code class="docutils literal"><span class="pre">eth3</span></code> are
allowed to be passed through to instances and belong to the provider network
<code class="docutils literal"><span class="pre">physnet2</span></code>.</p>
<p>Alternatively the <code class="docutils literal"><span class="pre">pci_passthrough_whitelist</span></code> parameter also supports
whitelisting by:</p>
<ul>
<li><p class="first">PCI address: The address uses the same syntax as in <code class="docutils literal"><span class="pre">lspci</span></code> and an
asterisk (*) can be used to match anything.</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">pci_passthrough_whitelist</span> <span class="o">=</span> <span class="s">{ &quot;address&quot;: &quot;[[[[&lt;domain&gt;]:]&lt;bus&gt;]:][&lt;slot&gt;][.[&lt;function&gt;]]&quot;, &quot;physical_network&quot;: &quot;physnet2&quot; }</span>
</pre></div>
</div>
<p>For example, to match any domain, bus 0a, slot 00, and all functions:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">pci_passthrough_whitelist</span> <span class="o">=</span> <span class="s">{ &quot;address&quot;: &quot;*:0a:00.*&quot;, &quot;physical_network&quot;: &quot;physnet2&quot; }</span>
</pre></div>
</div>
</li>
<li><p class="first">PCI <code class="docutils literal"><span class="pre">vendor_id</span></code> and <code class="docutils literal"><span class="pre">product_id</span></code> as displayed by the Linux utility
<code class="docutils literal"><span class="pre">lspci</span></code>.</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">pci_passthrough_whitelist</span> <span class="o">=</span> <span class="s">{ &quot;vendor_id&quot;: &quot;&lt;id&gt;&quot;, &quot;product_id&quot;: &quot;&lt;id&gt;&quot;, &quot;physical_network&quot;: &quot;physnet2&quot; }</span>
</pre></div>
</div>
</li>
</ul>
<p>If the device defined by the PCI address or <code class="docutils literal"><span class="pre">devname</span></code> corresponds to an
SR-IOV PF, all VFs under the PF will match the entry. Multiple
<code class="docutils literal"><span class="pre">pci_passthrough_whitelist</span></code> entries per host are supported.</p>
</li>
<li><p class="first">Restart the <code class="docutils literal"><span class="pre">nova-compute</span></code> service for the changes to go into effect.</p>
</li>
</ol>
</div>
<div class="section" id="configure-neutron-server-controller">
<span id="configure-sriov-neutron-server"></span><h3>Configure neutron-server (Controller)<a class="headerlink" href="#configure-neutron-server-controller" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Add <code class="docutils literal"><span class="pre">sriovnicswitch</span></code> as mechanism driver. Edit the <code class="docutils literal"><span class="pre">ml2_conf.ini</span></code> file
on each controller:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">mechanism_drivers</span> <span class="o">=</span> <span class="s">openvswitch,sriovnicswitch</span>
</pre></div>
</div>
</li>
<li><p class="first">Add the <code class="docutils literal"><span class="pre">ml2_conf_sriov.ini</span></code> file as parameter to the <code class="docutils literal"><span class="pre">neutron-server</span></code>
service. Edit the appropriate initialization script to configure the
<code class="docutils literal"><span class="pre">neutron-server</span></code> service to load the SR-IOV configuration file:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">--config-file /etc/neutron/neutron.conf</span>
<span class="na">--config-file /etc/neutron/plugin.ini</span>
<span class="na">--config-file /etc/neutron/plugins/ml2/ml2_conf_sriov.ini</span>
</pre></div>
</div>
</li>
<li><p class="first">Restart the <code class="docutils literal"><span class="pre">neutron-server</span></code> service.</p>
</li>
</ol>
</div>
<div class="section" id="configure-nova-scheduler-controller">
<h3>Configure nova-scheduler (Controller)<a class="headerlink" href="#configure-nova-scheduler-controller" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">On every controller node running the <code class="docutils literal"><span class="pre">nova-scheduler</span></code> service, add
<code class="docutils literal"><span class="pre">PciPassthroughFilter</span></code> to <code class="docutils literal"><span class="pre">scheduler_default_filters</span></code> to enable
<code class="docutils literal"><span class="pre">PciPassthroughFilter</span></code> by default.
Also ensure <code class="docutils literal"><span class="pre">scheduler_available_filters</span></code> parameter under the
<code class="docutils literal"><span class="pre">[DEFAULT]</span></code> section in <code class="docutils literal"><span class="pre">nova.conf</span></code> is set to <code class="docutils literal"><span class="pre">all_filters</span></code>
to enable all filters provided by the Compute service.</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[DEFAULT]</span>
<span class="na">scheduler_default_filters</span> <span class="o">=</span> <span class="s">RetryFilter, AvailabilityZoneFilter, RamFilter, ComputeFilter, ComputeCapabilitiesFilter, ImagePropertiesFilter, ServerGroupAntiAffinityFilter, ServerGroupAffinityFilter, PciPassthroughFilter</span>
<span class="na">scheduler_available_filters</span> <span class="o">=</span> <span class="s">nova.scheduler.filters.all_filters</span>
</pre></div>
</div>
</li>
<li><p class="first">Restart the <code class="docutils literal"><span class="pre">nova-scheduler</span></code> service.</p>
</li>
</ol>
</div>
<div class="section" id="enable-neutron-sriov-agent-compute">
<h3>Enable neutron sriov-agent (Compute)<a class="headerlink" href="#enable-neutron-sriov-agent-compute" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Install the SR-IOV agent.</p>
</li>
<li><p class="first">Edit the <code class="docutils literal"><span class="pre">sriov_agent.ini</span></code> file on each compute node. For example:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[securitygroup]</span>
<span class="na">firewall_driver</span> <span class="o">=</span> <span class="s">neutron.agent.firewall.NoopFirewallDriver</span>

<span class="k">[sriov_nic]</span>
<span class="na">physical_device_mappings</span> <span class="o">=</span> <span class="s">physnet2:eth3</span>
<span class="na">exclude_devices</span> <span class="o">=</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">physical_device_mappings</span></code> parameter is not limited to be a 1-1
mapping between physical networks and NICs. This enables you to map the
same physical network to more than one NIC. For example, if <code class="docutils literal"><span class="pre">physnet2</span></code>
is connected to <code class="docutils literal"><span class="pre">eth3</span></code> and <code class="docutils literal"><span class="pre">eth4</span></code>, then
<code class="docutils literal"><span class="pre">physnet2:eth3,physnet2:eth4</span></code> is a valid option.</p>
</div>
<p>The <code class="docutils literal"><span class="pre">exclude_devices</span></code> parameter is empty, therefore, all the VFs
associated with eth3 may be configured by the agent. To exclude specific
VFs, add them to the <code class="docutils literal"><span class="pre">exclude_devices</span></code> parameter as follows:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">exclude_devices</span> <span class="o">=</span> <span class="s">eth1:0000:07:00.2;0000:07:00.3,eth2:0000:05:00.1;0000:05:00.2</span>
</pre></div>
</div>
</li>
<li><p class="first">Ensure the neutron sriov-agent runs successfully:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> neutron-sriov-nic-agent <span class="se">\</span>
  --config-file /etc/neutron/neutron.conf <span class="se">\</span>
  --config-file /etc/neutron/plugins/ml2/sriov_agent.ini
</pre></div>
</div>
</li>
<li><p class="first">Enable the neutron sriov-agent service.</p>
<p>If installing from source, you must configure a daemon file for the init
system manually.</p>
</li>
</ol>
<div class="section" id="optional-fdb-l2-agent-extension">
<h4>(Optional) FDB L2 agent extension<a class="headerlink" href="#optional-fdb-l2-agent-extension" title="Permalink to this headline">¶</a></h4>
<p>Forwarding DataBase (FDB) population is an L2 agent extension to OVS agent or
Linux bridge. Its objective is to update the FDB table for existing instance
using normal port. This enables communication between SR-IOV instances and
normal instances. The use cases of the FDB population extension are:</p>
<ul class="simple">
<li>Direct port and normal port instances reside on the same compute node.</li>
<li>Direct port instance that uses floating IP address and network node
are located on the same host.</li>
</ul>
<p>For additional information describing the problem, refer to:
<a class="reference external" href="http://events.linuxfoundation.org/sites/events/files/slides/LinuxConJapan2014_makita_0.pdf">Virtual switching technologies and Linux bridge.</a></p>
<ol class="arabic">
<li><p class="first">Edit the <code class="docutils literal"><span class="pre">ovs_agent.ini</span></code> or <code class="docutils literal"><span class="pre">linuxbridge_agent.ini</span></code> file on each compute
node. For example:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">[agent]</span>
<span class="go">extensions = fdb</span>
</pre></div>
</div>
</li>
<li><p class="first">Add the FDB section and the <code class="docutils literal"><span class="pre">shared_physical_device_mappings</span></code> parameter.
This parameter maps each physical port to its physical network name. Each
physical network can be mapped to several ports:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">[FDB]</span>
<span class="go">shared_physical_device_mappings = physnet1:p1p1, physnet1:p1p2</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="launching-instances-with-sr-iov-ports">
<h3>Launching instances with SR-IOV ports<a class="headerlink" href="#launching-instances-with-sr-iov-ports" title="Permalink to this headline">¶</a></h3>
<p>Once configuration is complete, you can launch instances with SR-IOV ports.</p>
<ol class="arabic">
<li><p class="first">Get the <code class="docutils literal"><span class="pre">id</span></code> of the network where you want the SR-IOV port to be created:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">net_id</span><span class="o">=</span><span class="sb">`</span>neutron net-show net04 <span class="p">|</span> grep <span class="s2">&quot;\ id\ &quot;</span> <span class="p">|</span> awk <span class="s1">&#39;{ print $4 }&#39;</span><span class="sb">`</span>
</pre></div>
</div>
</li>
<li><p class="first">Create the SR-IOV port. <code class="docutils literal"><span class="pre">vnic_type=direct</span></code> is used here, but other options
include <code class="docutils literal"><span class="pre">normal</span></code>, <code class="docutils literal"><span class="pre">direct-physical</span></code>, and <code class="docutils literal"><span class="pre">macvtap</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">port_id</span><span class="o">=</span><span class="sb">`</span>neutron port-create <span class="nv">$net_id</span> --name sriov_port --binding:vnic_type direct <span class="p">|</span> grep <span class="s2">&quot;\ id\ &quot;</span> <span class="p">|</span> awk <span class="s1">&#39;{ print $4 }&#39;</span><span class="sb">`</span>
</pre></div>
</div>
</li>
<li><p class="first">Create the instance. Specify the SR-IOV port created in step two for the
NIC:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> nova boot --flavor m1.large --image ubuntu_14.04 --nic port-id<span class="o">=</span><span class="nv">$port_id</span> test-sriov
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There are two ways to attach VFs to an instance. You can create an SR-IOV
port or use the <code class="docutils literal"><span class="pre">pci_alias</span></code> in the Compute service. For more
information about using <code class="docutils literal"><span class="pre">pci_alias</span></code>, refer to <a class="reference external" href="http://docs.openstack.org/admin-guide/compute-pci-passthrough.html#configure-nova-api-controller">nova-api configuration</a>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="sr-iov-with-infiniband">
<h2>SR-IOV with InfiniBand<a class="headerlink" href="#sr-iov-with-infiniband" title="Permalink to this headline">¶</a></h2>
<p>The support for SR-IOV with InfiniBand allows a Virtual PCI device (VF) to
be directly mapped to the guest, allowing higher performance and advanced
features such as RDMA (remote direct memory access). To use this feature,
you must:</p>
<ol class="arabic">
<li><p class="first">Use InfiniBand enabled network adapters.</p>
</li>
<li><p class="first">Run InfiniBand subnet managers to enable InfiniBand fabric.</p>
<p>All InfiniBand networks must have a subnet manager running for the network
to function. This is true even when doing a simple network of two
machines with no switch and the cards are plugged in back-to-back. A
subnet manager is required for the link on the cards to come up.
It is possible to have more than one subnet manager. In this case, one
of them will act as the master, and any other will act as a slave that
will take over when the master subnet manager fails.</p>
</li>
<li><p class="first">Install the <code class="docutils literal"><span class="pre">ebrctl</span></code> utility on the compute nodes.</p>
<p>Check that <code class="docutils literal"><span class="pre">ebrctl</span></code> is listed somewhere in <code class="docutils literal"><span class="pre">/etc/nova/rootwrap.d/*</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> grep <span class="s1">&#39;ebrctl&#39;</span> /etc/nova/rootwrap.d/*
</pre></div>
</div>
<p>If <code class="docutils literal"><span class="pre">ebrctl</span></code> does not appear in any of the rootwrap files, add this to the
<code class="docutils literal"><span class="pre">/etc/nova/rootwrap.d/compute.filters</span></code> file in the <code class="docutils literal"><span class="pre">[Filters]</span></code> section.</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[Filters]</span>
<span class="na">ebrctl: CommandFilter, ebrctl, root</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="known-limitations">
<h2>Known limitations<a class="headerlink" href="#known-limitations" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">When using Quality of Service (QoS), <code class="docutils literal"><span class="pre">max_burst_kbps</span></code> (burst over
<code class="docutils literal"><span class="pre">max_kbps</span></code>) is not supported. In addition, <code class="docutils literal"><span class="pre">max_kbps</span></code> is rounded to
Mbps.</p>
</li>
<li><p class="first">Security groups are not supported when using SR-IOV, thus, the firewall
driver must be disabled. This can be done in the <code class="docutils literal"><span class="pre">neutron.conf</span></code> file.</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[securitygroup]</span>
<span class="na">firewall_driver</span> <span class="o">=</span> <span class="s">neutron.agent.firewall.NoopFirewallDriver</span>
</pre></div>
</div>
</li>
<li><p class="first">SR-IOV is not integrated into the OpenStack Dashboard (horizon). Users must
use the CLI or API to configure SR-IOV interfaces.</p>
</li>
<li><p class="first">Live migration is not supported for instances with SR-IOV ports.</p>
</li>
</ul>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="config-sfc.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Service function chaining"></i></a>
          
          
            <a href="config-subnet-pools.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Subnet pools"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2017-02-14 13:48</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="search-icon show">
    <i class="fa fa-search"></i> Search
  </div>
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="index.html" class="docs-sidebar-section-title"><h4>Contents</h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="common/conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="config.html">Configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="config-ml2.html">ML2 plug-in</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-address-scopes.html">Address scopes</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-auto-allocation.html">Automatic allocation of network topologies</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-az.html">Availability zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-bgp-dynamic-routing.html">BGP dynamic routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-dhcp-ha.html">High-availability for DHCP</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-dns-int.html">DNS integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-dns-res.html">Name resolution for instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-dvr-ha-snat.html">Distributed Virtual Routing with VRRP</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-ipam.html">IPAM configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-ipv6.html">IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-lbaas.html">Load Balancer as a Service (LBaaS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-macvtap.html">Macvtap mechanism driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-mtu.html">MTU considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-ovs-dpdk.html">Open vSwitch with DPDK datapath</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-ovsfwdriver.html">Native Open vSwitch firewall driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-qos.html">Quality of Service (QoS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-rbac.html">Role-Based Access Control (RBAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-routed-networks.html">Routed provider networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-sfc.html">Service function chaining</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">SR-IOV</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-subnet-pools.html">Subnet pools</a></li>
<li class="toctree-l2"><a class="reference internal" href="config-service-subnets.html">Service subnets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Deployment examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="ops.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="migration.html">Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="common/app-support.html">Community support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="common/glossary.html">Glossary</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="_static/js/jquery-1.12.4.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "config-sriov" + ".rst";
        gitURL = "Source: http://git.openstack.org/cgit/openstack/openstack-manuals/tree/doc/networking-guide/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: b8fd8c76e4ec1d07c2970cbd5770a38196b5b343";
        var bugProject = "openstack-manuals";
        var bugTitle = "SR-IOV in Networking Guide";
    var fieldTags = "networking-guide";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.9 on 2017-02-14 13:48";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

<!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
(function() {
var cx = '000108871792296872333:noj9nikm74i';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//www.google.com/cse/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
</script>

  </body>
</html>